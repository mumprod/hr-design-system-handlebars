{{~#if _newWebForm ~}}
    {{#>components/forms/components/backgroundBox  }} 
        <h3 class="mb-6 text-2xl font-headingSerif sm:mb-12 text-text dark:text-text-dark">
            {{this.title}}
        </h3>
        <div id="formWrapper">
            <form
                x-ref="form{{nextRandom}}"
                ax-load
                x-data="contactForm('form{{getRandom}}','{{this.jsonUrl}}','{{this.errorMessages}}','{{this.isMultipart}}','{{this.trackingInformations}}')"
                x-init="formInit()"
                x-ignore

                @submit.prevent="submitData"
                id="form{{getRandom}}"     
                class="relative flex flex-col justify-center overflow-hidden group" 
                action="{{this.url}}" 
                method="post" 
                enctype="{{if this.isMultipart 'multipart/form-data' 'application/x-www-form-urlencoded'}}" 
                accept-charset="utf-8"
                
            >
                <div x-show="!wasPosted"             
                    x-transition:enter="transition ease-out duration-300 delay-300"
                    x-transition:enter-start="opacity-0 transform scale-90"
                    x-transition:enter-end="opacity-100 transform scale-100"
                    x-transition:leave="transition ease-in duration-75 delay-0"
                    x-transition:leave-start="opacity-100 transform scale-100"
                    x-transition:leave-end="opacity-0 transform scale-90"
                >
                    {{> components/forms/components/fields _formId=(joinStrings 'form' (getRandom)) }} 

                    {{> components/forms/components/controls }}
                </div>
                <div id="successMessage" x-show="wasPostedWithSuccess"  
                    x-transition:enter="transition ease-out duration-300 delay-75"
                    x-transition:enter-start="opacity-0 transform scale-90"
                    x-transition:enter-end="opacity-100 transform scale-100"
                    x-cloak
                    >
                    {{> components/forms/components/message _success=true }}
                </div>

                <div id="errorMessage"  x-show="wasPostedWithError" 
                    x-transition:enter="transition ease-out duration-300 delay-75"
                    x-transition:enter-start="opacity-0 transform scale-90"
                    x-transition:enter-end="opacity-100 transform scale-100"
                    x-cloak>
                    {{> components/forms/components/message _success=false }}
                </div>

            </form>

            
        </div>   
    {{/components/forms/components/backgroundBox }}
{{~else~}}
    {{> content/webform/components/webform _addClass="print:hidden copytext__clearBox marginTrailer--m"}}
{{~/if~}}