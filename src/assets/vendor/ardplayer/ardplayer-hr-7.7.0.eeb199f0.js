!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ardplayer=t():e.ardplayer=t()}(globalThis,(()=>(()=>{var e,t,i,r,n={211:module=>{"use strict";module.exports=function(e,t){var i="function"==typeof Iterator&&Iterator.prototype[e];if(i)try{i.call({next:null},t).next()}catch(e){return!0}}},538:(module,e,t)=>{"use strict";var i=t(63110);module.exports=function(e,t){return i[e]||(i[e]=t||{})}},593:(module,e,t)=>{"use strict";var i=t(43345),r=t(9918);module.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},648:(module,e,t)=>{"use strict";var i=t(28895),r=Function.prototype.call;module.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},726:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=n.keys,o=n.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:o(arguments[1]);return s(a(e),t)}})},869:(module,e,t)=>{"use strict";var i=t(17649),r=t(38348),n=t(63110),a=i(Function.toString);r(n.inspectSource)||(n.inspectSource=function(e){return a(e)}),module.exports=n.inspectSource},946:(module,e,t)=>{"use strict";var i,r,n,a,s=t(43501),o=t(82510),l=t(28867),d=s.structuredClone,c=s.ArrayBuffer,u=s.MessageChannel,h=!1;if(l)h=function(e){d(e,{transfer:[e]})};else if(c)try{u||(i=o("worker_threads"))&&(u=i.MessageChannel),u&&(r=new u,n=new c(2),a=function(e){r.port1.postMessage(null,[e])},2===n.byteLength&&(a(n),0===n.byteLength&&(h=a)))}catch(e){}module.exports=h},1049:(e,t,i)=>{"use strict";var r=i(39501),n=i(43501),a=i(18850),s=i(77162),o=i(82014),l=i(21729),d=i(44489),c=i(89208),u=i(21683),h=i(47094),p=i(29450),f=i(33050),v=i(54258),m=i(8694),y=n.SuppressedError,g=f("toStringTag"),b=Error,E=!!y&&3!==y.length,w=!!y&&v((function(){return 4===new y(1,2,3,{cause:4}).cause})),S=E||w,C=function(e,t,i){var r,n=a(A,this);return o?r=!S||n&&s(this)!==A?o(new b,n?s(this):A):new y:(r=n?this:d(A),c(r,g,"Error")),void 0!==i&&c(r,"message",p(i)),h(r,C,r.stack,1),c(r,"error",e),c(r,"suppressed",t),r};o?o(C,b):l(C,b,{name:!0});var A=C.prototype=S?y.prototype:d(b.prototype,{constructor:u(1,C),message:u(1,""),name:u(1,"SuppressedError")});S&&!m&&(A.constructor=C),r({global:!0,constructor:!0,arity:3,forced:S},{SuppressedError:C})},1377:(e,t,i)=>{"use strict";i(40875)},1526:(module,e,t)=>{"use strict";var i=t(648),r=t(63785),n=function(e,t){return[t,e]};module.exports=function(){return i(r,this,n)}},1740:(e,t,i)=>{"use strict";i(20897)},1837:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=n.toKey,o=n.set;r({target:"Reflect",stat:!0},{defineMetadata:function(e,t,i){var r=arguments.length<4?void 0:s(arguments[3]);o(e,t,a(i),r)}})},1927:(module,e,t)=>{"use strict";var i=t(80451),r=t(44231),n=Math.abs;module.exports=function(e,t,a,s){var o=+e,l=n(o),d=i(o);if(l<s)return d*r(l/s/t)*s*t;var c=(1+t/2220446049250313e-31)*l,u=c-(c-l);return u>a||u!=u?d*(1/0):d*u}},2292:(e,t,i)=>{"use strict";i.d(t,{F:()=>g});var r=i(33694),n=i(94581),a=i(45984),s=i(25734),o=i(94406);function l(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",n="",a=Array.isArray(t),s=0;s<e.length;s++)(i=l(e[s]))&&(a&&t[s]&&(i=d(i)),r=r+n+i,n=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var r in e)r&&e[r]&&c.call(e,r)&&(t=t+i+r,i=" ");return t}(e):e||""}function d(e){var t=""+e,i=u.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var c=Object.prototype.hasOwnProperty,u=/["&<>]/;const h=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,o){i+='<div class="ardplayer-errorframe"><div class="ardplayer-errorframe-content">',e.isBlank(n)||(i=i+"<i"+function(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=d(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("class",l(["ardplayer-error-icon ardplayer-icon ardplayer-icon-"+n],[!0]),!1,!0)+"></i>"),e.isBlank(o)||(i=i+"<h1>"+(null==(t=o)?"":t)+"</h1>"),i=i+'<span class="ardplayer-error-message">'+(null==(t=s)?"":t)+"</span>",e.isBlank(a)||(i=i+'<span class="ardplayer-error-message">'+(null==(t=a)?"":t)+"</span>"),r&&!e.isBlank(r.title)&&(i=i+'<button class="error-interactive" tabindex="0" data-initiator-name="errorframe-cta">'+d(null==(t=r.title)?"":t)+"</button>"),i+="</div></div>"}.call(this,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"cta"in r?r.cta:"undefined"!=typeof cta?cta:void 0,"icon"in r?r.icon:"undefined"!=typeof icon?icon:void 0,"infoText"in r?r.infoText:"undefined"!=typeof infoText?infoText:void 0,"message"in r?r.message:"undefined"!=typeof message?message:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),i};var p=i(94480),f=i(29183),v=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},m=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},y=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let g=(()=>{let e,t,i=[o.JW],l=[];var d=t=class{get console(){var e,t;return null!==(t=null===(e=this.player)||void 0===e?void 0:e.console)&&void 0!==t?t:Object.assign(Object.assign({},window.console),{init:()=>{}})}get criticalError(){return this.isFinalErrorState}constructor(e){this.player=null,this.networkReconnectHandler=null,this.networkDisconnectErrorTimestamp=-1,this.lastState=null,this.isFinalErrorState=!1,this.player=e}throwStreamError(...e){var t;const i=(0,f.YQ)(),n=0===e.length?null:`\n${e.join("\n\n")}\n`;if(null!==this.player){let e="unknown stream",s="unknown mime",o="unknown plugin";const l=this.player.lastExecutionContext,d=l?`${String(l.type)}:${String(l.initiator)}`:"unknown";try{if(this.player.currentStream&&!1!==this.player.currentMedia){const i=this.player.currentStream.media[this.player.currentMedia];e=i.url,s=i.mimeType,o=null!==(t=this.player.currentPluginName)&&void 0!==t?t:o}}catch(e){this.console.info(e)}this.console.error("STREAM ERROR:\n",s,o,e,"\n",`last interaction: ${d}\n`,null!=n?n:"no message",`\n\nStack:\n${i}`),this.player.pixelController.triggerCustomPixel(r.k.STREAM_ERROR,!1,{message:(null!=n?n:"")+("unkown"!==d?"\ninteraction: "+d:"")+"\n\nStack:\n"+i,stream:e,mime:s,plugin:o}),this.console.log(`[Error] {M:${this.player.currentMedia}} stream error`),this.player.model.playstate===a.R.PLAYSTATE_PLAYING&&(this.player.model.autoplay=!0),this.player.streamError()}else this.console.error("STREAM ERROR: ",n,i),this.throwError("ERROR_PLAYBACK",!0,(null!=n?n:"")+"\n\nStack:\n"+i)}throwError(e,t,i=null,r=null){var n,a,o,l,c,u,h,p,f,v,m,y,g,b;const E=null===(n=this.player)||void 0===n?void 0:n.lastExecutionContext,w=E?`${String(E.type)}:${String(E.initiator)}`:null,S=null==i?w:null==w?i:`last interaction:${w}\ninfo: ${i}`;if(this.lastState={playing:2===(null===(a=this.player)||void 0===a?void 0:a.model.playstate),position:null!==(l=null===(o=this.player)||void 0===o?void 0:o.model.time)&&void 0!==l?l:0},null!==(p=null===(h=null===(u=null===(c=this.player)||void 0===c?void 0:c.model)||void 0===u?void 0:u.mediaCollection)||void 0===h?void 0:h.isGeoBlocked)&&void 0!==p&&p&&(e.startsWith("MC_")||e.startsWith("PC_")||e.startsWith("ERROR_PLAYBACK_MATURITY")||(e="ERROR_PLAYBACK_GEOBLOCK")),0===(null===(f=this.player)||void 0===f?void 0:f.model.networkState)&&e.startsWith("ERROR_PLAYBACK")&&(e="ERROR_NETWORK",(null===(v=this.player)||void 0===v?void 0:v.loop)&&navigator.connection&&!this.networkReconnectHandler)){this.networkDisconnectErrorTimestamp=performance.now();const e=()=>{var t,i,r,n,a;if((null!==(i=null===(t=navigator.connection)||void 0===t?void 0:t.downlink)&&void 0!==i?i:0)>0&&"none"!==(null===(r=navigator.connection)||void 0===r?void 0:r.type)&&(null===(n=navigator.connection)||void 0===n||n.removeEventListener("change",e),this.networkReconnectHandler=null,this.console.info("network reconnected, stop observing, notify if applicable"),null!==this.lastState&&performance.now()-this.networkDisconnectErrorTimestamp<=9e4)){const e=this.lastState;null===(a=this.player)||void 0===a||a.withExecutionContext({type:"lifecycle",initiator:"networkReconnect"},(()=>{var t;null===(t=this.player)||void 0===t||t.loop.dispatchEvent("Player.RELOAD_CONFIG",e)}))}};navigator.connection.addEventListener("change",e),this.networkReconnectHandler=e,this.console.info("observing network connection to re-try after re-established")}const C=Object.assign({message:"",title:null,infoText:null,icon:null,footerLink:d.ERROR_FOOTER_LINK,cta:r},(null!==(y=null===(m=this.player)||void 0===m?void 0:m.StringConfig)&&void 0!==y?y:s.r).Errors[e]);C.message=C.message.replace(/\${([^|]*)\|([^}]*)}/g,(null===(g=this.player)||void 0===g?void 0:g.isAudio)?"$2":"$1"),null!==(b=C.icon)&&void 0!==b||(C.icon="error"),this.emitErrorEvent(C,t,S)}emitErrorEvent(e,t,i=null,r=0,a=!1){var s,o,l,d,c;if(a||void 0===(null===(s=this.player)||void 0===s?void 0:s.viewCtrl)||(null===(o=this.player)||void 0===o||o.loop.dispatchEvent(n.a.EVENT_ERROR,{isCritical:t,message:e.message,info:i}),a=!0),t){if(this.isFinalErrorState)return;if(null===(l=this.player)||void 0===l?void 0:l.viewCtrl)this.isFinalErrorState=!0,this.player.finalErrorShutdown(),this.showErrorUI(e);else if(r<10&&this.player)this.player.safeTimeout((()=>{this.emitErrorEvent(e,t,i,r+1,a)}));else{if(this.console.error(`Unable to handle critical error gracefully after ${r} tries!\nmessage: ${e.message}\n${i}`),!a)try{null===(d=this.player)||void 0===d||d.loop.dispatchEvent(n.a.EVENT_ERROR,{isCritical:t,message:e.message,info:i})}catch(e){}this.isFinalErrorState=!0,null===(c=this.player)||void 0===c||c.finalErrorShutdown(),this.showErrorUI(e)}}}showErrorUI(e){var t,i,r,n;const a=null===(t=this.player)||void 0===t?void 0:t.getTarget();if(a){try{null===(i=this.player)||void 0===i||i.checkState()}catch(e){return void this.console.warn("aborting async",e)}a.querySelectorAll(".ardplayer-errorframe").forEach((e=>{e.remove()}));const t=new p.U(h,this.player).renderTemplateAsElement(Object.assign(e,{playerID:null!==(n=null===(r=this.player)||void 0===r?void 0:r.getId())&&void 0!==n?n:""}));if(null!==e.cta){const i=e.cta.emitsEvent,r=Object.assign({},this.lastState,e.cta.eventPayload);(0,f.Af)(null==t?void 0:t.querySelector("button"),(()=>{var e;null===(e=this.player)||void 0===e||e.dispatchEvent(i,r)}),this.player)}t?a.append(t):this.console.error("failed to render error screen",e),a.classList.add("ardplayer","ardplayer-show-errorframe")}else this.console.error("could not display friendly error message",e)}dispose(){var e;this.networkReconnectHandler&&(null===(e=navigator.connection)||void 0===e||e.removeEventListener("change",this.networkReconnectHandler),this.networkReconnectHandler=null)}};return y(t,"ErrorController"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;v(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,l),d=t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})})(),t.ERROR_FOOTER_LINK="",m(t,l),d=t})()},2484:(e,t,i)=>{"use strict";var r=i(39501),n=i(43501),a=i(97138).set,s=i(30931),o=n.setImmediate?s(a,!1):a;r({global:!0,bind:!0,enumerable:!0,forced:n.setImmediate!==o},{setImmediate:o})},2605:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(71321),s=i(43345),o=i(81658),l=i(77474),d=i(18132),c=i(37362)("every",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:c},{every:function(e){o(this);try{s(e)}catch(e){d(this,"throw",e)}if(c)return n(c,this,e);var t=l(this),i=0;return!a(t,(function(t,r){if(!e(t,i++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3120:(module,e,t)=>{"use strict";var i=t(17649),r=t(43345),n=t(9918),a=t(72909),s=t(53868),o=t(9325),l=t(4302),d=o.Map,c=o.has,u=o.set,h=i([].push);module.exports=function(e){var t,i,o,p=s(this),f=a(p),v=[],m=new d,y=n(e)?function(e){return e}:r(e);for(t=0;t<f;t++)o=y(i=p[t]),c(m,o)||u(m,o,i);return l(m,(function(e){h(v,e)})),v}},3304:(e,t,i)=>{"use strict";i(83452)("metadataKey")},3549:(module,e,t)=>{"use strict";var i=t(54258);module.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3633:(module,e,t)=>{"use strict";var i=t(79315),r=t(55130);module.exports=Object.keys||function(e){return i(e,r)}},3677:(e,t,i)=>{"use strict";i(92024)},3740:(module,e,t)=>{"use strict";var i=t(80863),r=t(65314),n=t(36767),a=t(33050)("species"),s=Array;module.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===s||i(t.prototype))||n(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},3975:(e,t,i)=>{"use strict";i(69882)},4185:(module,e,t)=>{"use strict";var i=t(648),r=t(81658),n=t(44489),a=t(593),s=t(10896),o=t(74606),l=t(18132),d=t(47844),c=t(95001),u=t(45952),h=d("Promise"),p="AsyncFromSyncIterator",f=o.set,v=o.getterFor(p),m=function(e,t,i,r,n){var a=e.done;h.resolve(e.value).then((function(e){t(u(e,a))}),(function(e){if(!a&&n)try{l(r,"throw",e)}catch(t){e=t}i(e)}))},y=function(e){e.type=p,f(this,e)};y.prototype=s(n(c),{next:function(){var e=v(this);return new h((function(t,n){var a=r(i(e.next,e.iterator));m(a,t,n,e.iterator,!0)}))},return:function(){var e=v(this).iterator;return new h((function(t,n){var s=a(e,"return");if(void 0===s)return t(u(void 0,!0));var o=r(i(s,e));m(o,t,n,e)}))}}),module.exports=y},4302:(module,e,t)=>{"use strict";var i=t(17649),r=t(44136),n=t(9325),a=n.Map,s=n.proto,o=i(s.forEach),l=i(s.entries),d=l(new a).next;module.exports=function(e,t,i){return i?r({iterator:l(e),next:d},(function(e){return t(e[1],e[0])})):o(e,t)}},4596:(module,e,t)=>{"use strict";var i=t(17649),r=WeakMap.prototype;module.exports={WeakMap,set:i(r.set),get:i(r.get),has:i(r.has),remove:i(r.delete)}},4671:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,forced:!0},{scale:i(84218)})},4834:(e,t,i)=>{"use strict";var r=i(3549),n=i(45493),a=i(23189),s=ArrayBuffer.prototype;r&&!("detached"in s)&&n(s,"detached",{configurable:!0,get:function(){return a(this)}})},4938:module=>{"use strict";module.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},5405:(e,t,i)=>{"use strict";var r=i(3549),n=i(27970),a=i(53868),s=i(72909),o=i(45493);r&&(o(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=a(this),t=s(e);return 0===t?0:t-1}}),n("lastIndex"))},5434:(e,t,i)=>{"use strict";var r=i(39501),n=i(15818);r({target:"Set",proto:!0,real:!0,forced:!i(49735)("isDisjointFrom",(function(e){return!e}))},{isDisjointFrom:n})},5798:(module,e,t)=>{"use strict";var i=t(648),r=t(38348),n=t(81658),a=t(77474),s=t(99506),o=t(593),l=t(33050),d=t(4185),c=l("asyncIterator");module.exports=function(e){var t,l=n(e),u=!0,h=o(l,c);return r(h)||(h=s(l),u=!1),void 0!==h?t=i(h,l):(t=l,u=!0),n(t),a(u?t:new d(a(t)))}},6156:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,forced:!0},{imulh:function(e,t){var i=65535,r=+e,n=+t,a=r&i,s=n&i,o=r>>16,l=n>>16,d=(o*s>>>0)+(a*s>>>16);return o*l+(d>>16)+((a*l>>>0)+(d&i)>>16)}})},6192:(e,t,i)=>{"use strict";var r=i(43501),n=i(83452),a=i(41970).f,s=i(86776).f,o=r.Symbol;if(n("asyncDispose"),o){var l=s(o,"asyncDispose");l.enumerable&&l.configurable&&l.writable&&a(o,"asyncDispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}},6439:(module,e,t)=>{"use strict";var i=t(39026).IteratorPrototype,r=t(44489),n=t(21683),a=t(39674),s=t(17132),o=function(){return this};module.exports=function(e,t,l,d){var c=t+" Iterator";return e.prototype=r(i,{next:n(+!d,l)}),a(e,c,!1,!0),s[c]=o,e}},6925:(module,e,t)=>{"use strict";var i=t(43501);module.exports=function(e,t){var r=i[e],n=r&&r.prototype;return n&&n[t]}},7190:(module,e,t)=>{"use strict";var i=t(4596).has;module.exports=function(e){return i(e),e}},7239:(e,t,i)=>{"use strict";var r,n;function a(e){return"object"==typeof e&&"function"==typeof e.to}function s(e){e.parentElement.removeChild(e)}function o(e){return null!=e}function l(e){e.preventDefault()}function d(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function c(e,t,i){i>0&&(f(e,t),setTimeout((function(){v(e,t)}),i))}function u(e){return Math.max(Math.min(e,100),0)}function h(e){return Array.isArray(e)?e:[e]}function p(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function f(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function v(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function m(e){var t=void 0!==window.pageXOffset,i="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:i?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:i?e.documentElement.scrollTop:e.body.scrollTop}}function y(e,t){return 100/(t-e)}function g(e,t,i){return 100*t/(e[i+1]-e[i])}function b(e,t){for(var i=1;e>=t[i];)i+=1;return i}function E(e,t,i){if(i>=e.slice(-1)[0])return 100;var r=b(i,e),n=e[r-1],a=e[r],s=t[r-1],o=t[r];return s+function(e,t){return g(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([n,a],i)/y(s,o)}function w(e,t,i,r){if(100===r)return r;var n=b(r,e),a=e[n-1],s=e[n];return i?r-a>(s-a)/2?s:a:t[n-1]?e[n-1]+function(e,t){return Math.round(e/t)*t}(r-e[n-1],t[n-1]):r}i.r(t),i.d(t,{PipsMode:()=>r,PipsType:()=>n,create:()=>Z,cssClasses:()=>A,default:()=>X}),function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"}(r||(r={})),function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"}(n||(n={}));var S=function(){function e(e,t,i){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t;var n=[];for(Object.keys(e).forEach((function(t){n.push([h(e[t]),t])})),n.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<n.length;r++)this.handleEntryPoint(n[r][1],n[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return e.prototype.getDistance=function(e){for(var t=[],i=0;i<this.xNumSteps.length-1;i++)t[i]=g(this.xVal,e,i);return t},e.prototype.getAbsoluteDistance=function(e,t,i){var r,n=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[n+1];)n++;else e===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||e!==this.xPct[n+1]||n++,null===t&&(t=[]);var a=1,s=t[n],o=0,l=0,d=0,c=0;for(r=i?(e-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-e)/(this.xPct[n+1]-this.xPct[n]);s>0;)o=this.xPct[n+1+c]-this.xPct[n+c],t[n+c]*a+100-100*r>100?(l=o*r,a=(s-100*r)/t[n+c],r=1):(l=t[n+c]*o/100*a,a=0),i?(d-=l,this.xPct.length+c>=1&&c--):(d+=l,this.xPct.length-c>=1&&c++),s=t[n+c]*a;return e+d},e.prototype.toStepping=function(e){return e=E(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,i){if(i>=100)return e.slice(-1)[0];var r=b(i,t),n=e[r-1],a=e[r],s=t[r-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([n,a],(i-s)*y(s,t[r]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return e=w(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,i){var r=b(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/i},e.prototype.getNearbySteps=function(e){var t=b(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(p);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var i;if(!d(i="min"===e?0:"max"===e?100:parseFloat(e))||!d(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(t[0]);var r=Number(t[1]);i?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=g([this.xVal[e],this.xVal[e+1]],t,0)/y(this.xPct[e],this.xPct[e+1]);var i=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),n=this.xVal[e]+this.xNumSteps[e]*r;this.xHighestCompleteStep[e]=n}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),C={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},A={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},T={tooltips:".__tooltips",aria:".__aria"};function I(e,t){if(!d(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function k(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function L(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function P(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function x(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new S(t,e.snap||!1,e.singleStep)}function _(e,t){if(t=h(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function O(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function M(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function D(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function R(e,t){var i,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(i=1;i<e.handles;i++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function N(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function U(e,t){if(!d(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function V(e,t){if(!d(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function j(e,t){var i;if(!d(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!d(t[0])&&!d(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],i=0;i<e.spectrum.xNumSteps.length-1;i++)if(e.padding[0][i]<0||e.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],n=e.spectrum.xVal[0];if(r/(e.spectrum.xVal[e.spectrum.xVal.length-1]-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function B(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function F(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,n=t.indexOf("fixed")>=0,a=t.indexOf("snap")>=0,s=t.indexOf("hover")>=0,o=t.indexOf("unconstrained")>=0,l=t.indexOf("invert-connects")>=0,d=t.indexOf("drag-all")>=0,c=t.indexOf("smooth-steps")>=0;if(n){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");U(e,e.start[1]-e.start[0])}if(l&&2!==e.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:i||a,drag:r,dragAll:d,smoothSteps:c,fixed:n,snap:a,hover:s,unconstrained:o,invertConnects:l}}function H(e,t){if(!1!==t)if(!0===t||a(t)){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(t)}else{if((t=h(t)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!=typeof e&&!a(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function W(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function z(e,t){if(!a(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function G(e,t){if(!function(e){return a(e)&&"function"==typeof e.from}(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function $(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function Y(e,t){e.documentElement=t}function K(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function q(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(i){e.cssClasses[i]=e.cssPrefix+t[i]}))):e.cssClasses=t}function J(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:C,format:C},i={step:{r:!1,t:I},keyboardPageMultiplier:{r:!1,t:k},keyboardMultiplier:{r:!1,t:L},keyboardDefaultStep:{r:!1,t:P},start:{r:!0,t:_},connect:{r:!0,t:R},direction:{r:!0,t:B},snap:{r:!1,t:O},animate:{r:!1,t:M},animationDuration:{r:!1,t:D},range:{r:!0,t:x},orientation:{r:!1,t:N},margin:{r:!1,t:U},limit:{r:!1,t:V},padding:{r:!1,t:j},behaviour:{r:!0,t:F},ariaFormat:{r:!1,t:z},format:{r:!1,t:G},tooltips:{r:!1,t:H},keyboardSupport:{r:!0,t:$},documentElement:{r:!1,t:Y},cssPrefix:{r:!0,t:K},cssClasses:{r:!0,t:q},handleAttributes:{r:!1,t:W}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:A,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach((function(n){if(o(e[n])||void 0!==r[n])i[n].t(t,o(e[n])?e[n]:r[n]);else if(i[n].r)throw new Error("noUiSlider: '"+n+"' is required.")})),t.pips=e.pips;var n=document.createElement("div"),a=void 0!==n.style.msTransform,s=void 0!==n.style.transform;t.transformRule=s?"transform":a?"msTransform":"webkitTransform";return t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function Q(e,t,i){var a,d,p,y,g,b,E,w=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},S=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),C=e,A=t.spectrum,I=[],k=[],L=[],P=0,x={},_=!1,O=e.ownerDocument,M=t.documentElement||O.documentElement,D=O.body,N="rtl"===O.dir||1===t.ort?0:100;function U(e,t){var i=O.createElement("div");return t&&f(i,t),e.appendChild(i),i}function V(e,i){var r=U(e,t.cssClasses.origin),n=U(r,t.cssClasses.handle);if(U(n,t.cssClasses.touchArea),n.setAttribute("data-handle",String(i)),t.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(e){return function(e,i){if(F()||H(i))return!1;var r=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],s=["Home","End"];t.dir&&!t.ort?r.reverse():t.ort&&!t.dir&&(n.reverse(),a.reverse());var o,l=e.key.replace("Arrow",""),d=l===a[0],c=l===a[1],u=l===n[0]||l===r[0]||d,h=l===n[1]||l===r[1]||c,p=l===s[0],f=l===s[1];if(!(u||h||p||f))return!0;if(e.preventDefault(),h||u){var v=u?0:1,m=we(i)[v];if(null===m)return!1;!1===m&&(m=A.getDefaultStep(k[i],u,t.keyboardDefaultStep)),m*=c||d?t.keyboardPageMultiplier:t.keyboardMultiplier,m=Math.max(m,1e-7),m*=u?-1:1,o=I[i]+m}else o=f?t.spectrum.xVal[t.spectrum.xVal.length-1]:t.spectrum.xVal[0];return me(i,A.toStepping(o),!0,!0),de("slide",i),de("update",i),de("change",i),de("set",i),!1}(e,i)}))),void 0!==t.handleAttributes){var a=t.handleAttributes[i];Object.keys(a).forEach((function(e){n.setAttribute(e,a[e])}))}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),0===i?f(n,t.cssClasses.handleLower):i===t.handles-1&&f(n,t.cssClasses.handleUpper),r.handle=n,r}function j(e,i){return!!i&&U(e,t.cssClasses.connect)}function B(e,i){return!(!t.tooltips||!t.tooltips[i])&&U(e.firstChild,t.cssClasses.tooltip)}function F(){return C.hasAttribute("disabled")}function H(e){return p[e].hasAttribute("disabled")}function W(){b&&(le("update"+T.tooltips),b.forEach((function(e){e&&s(e)})),b=null)}function z(){W(),b=p.map(B),oe("update"+T.tooltips,(function(e,i,r){if(b&&t.tooltips&&!1!==b[i]){var n=e[i];!0!==t.tooltips[i]&&(n=t.tooltips[i].to(r[i])),b[i].innerHTML=n}}))}function G(e,t){return e.map((function(e){return A.fromStepping(t?A.getStep(e):e)}))}function $(e){var t,i=function(e){if(e.mode===r.Range||e.mode===r.Steps)return A.xVal;if(e.mode===r.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var t=e.values-1,i=100/t,n=[];t--;)n[t]=t*i;return n.push(100),G(n,e.stepped)}return e.mode===r.Positions?G(e.values,e.stepped):e.mode===r.Values?e.stepped?e.values.map((function(e){return A.fromStepping(A.getStep(A.toStepping(e)))})):e.values:[]}(e),a={},s=A.xVal[0],o=A.xVal[A.xVal.length-1],l=!1,d=!1,c=0;return t=i.slice().sort((function(e,t){return e-t})),(i=t.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==s&&(i.unshift(s),l=!0),i[i.length-1]!==o&&(i.push(o),d=!0),i.forEach((function(t,s){var o,u,h,p,f,v,m,y,g,b,E=t,w=i[s+1],S=e.mode===r.Steps;for(S&&(o=A.xNumSteps[s]),o||(o=w-E),void 0===w&&(w=E),o=Math.max(o,1e-7),u=E;u<=w;u=Number((u+o).toFixed(7))){for(y=(f=(p=A.toStepping(u))-c)/(e.density||1),b=f/(g=Math.round(y)),h=1;h<=g;h+=1)a[(v=c+h*b).toFixed(5)]=[A.fromStepping(v),0];m=i.indexOf(u)>-1?n.LargeValue:S?n.SmallValue:n.NoValue,!s&&l&&u!==w&&(m=0),u===w&&d||(a[p.toFixed(5)]=[u,m]),c=p}})),a}function Y(e,i,r){var a,s,o=O.createElement("div"),l=((a={})[n.None]="",a[n.NoValue]=t.cssClasses.valueNormal,a[n.LargeValue]=t.cssClasses.valueLarge,a[n.SmallValue]=t.cssClasses.valueSub,a),d=((s={})[n.None]="",s[n.NoValue]=t.cssClasses.markerNormal,s[n.LargeValue]=t.cssClasses.markerLarge,s[n.SmallValue]=t.cssClasses.markerSub,s),c=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],u=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];function h(e,i){var r=i===t.cssClasses.value,n=r?l:d;return i+" "+(r?c:u)[t.ort]+" "+n[e]}return f(o,t.cssClasses.pips),f(o,0===t.ort?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical),Object.keys(e).forEach((function(a){!function(e,a,s){if((s=i?i(a,s):s)!==n.None){var l=U(o,!1);l.className=h(s,t.cssClasses.marker),l.style[t.style]=e+"%",s>n.NoValue&&((l=U(o,!1)).className=h(s,t.cssClasses.value),l.setAttribute("data-value",String(a)),l.style[t.style]=e+"%",l.innerHTML=String(r.to(a)))}}(a,e[a][0],e[a][1])})),o}function K(){g&&(s(g),g=null)}function q(e){K();var t=$(e),i=e.filter,r=e.format||{to:function(e){return String(Math.round(e))}};return g=C.appendChild(Y(t,i,r))}function Q(){var e=a.getBoundingClientRect(),i="offset"+["Width","Height"][t.ort];return 0===t.ort?e.width||a[i]:e.height||a[i]}function Z(e,i,r,n){var a=function(a){var s,o,l=function(e,t,i){var r=0===e.type.indexOf("touch"),n=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),s=0,o=0;0===e.type.indexOf("MSPointer")&&(a=!0);if("mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var l=function(t){var r=t.target;return r===i||i.contains(r)||e.composed&&e.composedPath().shift()===i};if("touchstart"===e.type){var d=Array.prototype.filter.call(e.touches,l);if(d.length>1)return!1;s=d[0].pageX,o=d[0].pageY}else{var c=Array.prototype.find.call(e.changedTouches,l);if(!c)return!1;s=c.pageX,o=c.pageY}}t=t||m(O),(n||a)&&(s=e.clientX+t.x,o=e.clientY+t.y);return e.pageOffset=t,e.points=[s,o],e.cursor=n||a,e}(a,n.pageOffset,n.target||i);return!!l&&(!(F()&&!n.doNotReject)&&(s=C,o=t.cssClasses.tap,!((s.classList?s.classList.contains(o):new RegExp("\\b"+o+"\\b").test(s.className))&&!n.doNotReject)&&(!(e===w.start&&void 0!==l.buttons&&l.buttons>1)&&((!n.hover||!l.buttons)&&(S||l.preventDefault(),l.calcPoint=l.points[t.ort],void r(l,n))))))},s=[];return e.split(" ").forEach((function(e){i.addEventListener(e,a,!!S&&{passive:!0}),s.push([e,a])})),s}function X(e){var i,r,n,s,o,l,d=100*(e-(i=a,r=t.ort,n=i.getBoundingClientRect(),s=i.ownerDocument,o=s.documentElement,l=m(s),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),r?n.top+l.y-o.clientTop:n.left+l.x-o.clientLeft))/Q();return d=u(d),t.dir?100-d:d}function ee(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ie(e,t)}function te(e,i){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==i.buttonsProperty)return ie(e,i);var r=(t.dir?-1:1)*(e.calcPoint-i.startCalcPoint);he(r>0,100*r/i.baseSize,i.locations,i.handleNumbers,i.connect)}function ie(e,i){i.handle&&(v(i.handle,t.cssClasses.active),P-=1),i.listeners.forEach((function(e){M.removeEventListener(e[0],e[1])})),0===P&&(v(C,t.cssClasses.drag),ve(),e.cursor&&(D.style.cursor="",D.removeEventListener("selectstart",l))),t.events.smoothSteps&&(i.handleNumbers.forEach((function(e){me(e,k[e],!0,!0,!1,!1)})),i.handleNumbers.forEach((function(e){de("update",e)}))),i.handleNumbers.forEach((function(e){de("change",e),de("set",e),de("end",e)}))}function re(e,i){if(!i.handleNumbers.some(H)){var r;if(1===i.handleNumbers.length)r=p[i.handleNumbers[0]].children[0],P+=1,f(r,t.cssClasses.active);e.stopPropagation();var n=[],a=Z(w.move,M,te,{target:e.target,handle:r,connect:i.connect,listeners:n,startCalcPoint:e.calcPoint,baseSize:Q(),pageOffset:e.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:e.buttons,locations:k.slice()}),s=Z(w.end,M,ie,{target:e.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:i.handleNumbers}),o=Z("mouseout",M,ee,{target:e.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:i.handleNumbers});n.push.apply(n,a.concat(s,o)),e.cursor&&(D.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&f(C,t.cssClasses.drag),D.addEventListener("selectstart",l,!1)),i.handleNumbers.forEach((function(e){de("start",e)}))}}function ne(e){e.stopPropagation();var i=X(e.calcPoint),r=function(e){var t=100,i=!1;return p.forEach((function(r,n){if(!H(n)){var a=k[n],s=Math.abs(a-e);(s<t||s<=t&&e>a||100===s&&100===t)&&(i=n,t=s)}})),i}(i);!1!==r&&(t.events.snap||c(C,t.cssClasses.tap,t.animationDuration),me(r,i,!0,!0),ve(),de("slide",r,!0),de("update",r,!0),t.events.snap?re(e,{handleNumbers:[r]}):(de("change",r,!0),de("set",r,!0)))}function ae(e){var t=X(e.calcPoint),i=A.getStep(t),r=A.fromStepping(i);Object.keys(x).forEach((function(e){"hover"===e.split(".")[0]&&x[e].forEach((function(e){e.call(Ce,r)}))}))}function se(e){e.fixed||p.forEach((function(e,t){Z(w.start,e.children[0],re,{handleNumbers:[t]})})),e.tap&&Z(w.start,a,ne,{}),e.hover&&Z(w.move,a,ae,{hover:!0}),e.drag&&y.forEach((function(i,r){if(!1!==i&&0!==r&&r!==y.length-1){var n=p[r-1],a=p[r],s=[i],o=[n,a],l=[r-1,r];f(i,t.cssClasses.draggable),e.fixed&&(s.push(n.children[0]),s.push(a.children[0])),e.dragAll&&(o=p,l=L),s.forEach((function(e){Z(w.start,e,re,{handles:o,handleNumbers:l,connect:i})}))}}))}function oe(e,t){x[e]=x[e]||[],x[e].push(t),"update"===e.split(".")[0]&&p.forEach((function(e,t){de("update",t)}))}function le(e){var t=e&&e.split(".")[0],i=t?e.substring(t.length):e;Object.keys(x).forEach((function(e){var r=e.split(".")[0],n=e.substring(r.length);t&&t!==r||i&&i!==n||function(e){return e===T.aria||e===T.tooltips}(n)&&i!==n||delete x[e]}))}function de(e,i,r){Object.keys(x).forEach((function(n){var a=n.split(".")[0];e===a&&x[n].forEach((function(e){e.call(Ce,I.map(t.format.to),i,I.slice(),r||!1,k.slice(),Ce)}))}))}function ce(e,i,r,n,a,s,o){var l;return p.length>1&&!t.events.unconstrained&&(n&&i>0&&(l=A.getAbsoluteDistance(e[i-1],t.margin,!1),r=Math.max(r,l)),a&&i<p.length-1&&(l=A.getAbsoluteDistance(e[i+1],t.margin,!0),r=Math.min(r,l))),p.length>1&&t.limit&&(n&&i>0&&(l=A.getAbsoluteDistance(e[i-1],t.limit,!1),r=Math.min(r,l)),a&&i<p.length-1&&(l=A.getAbsoluteDistance(e[i+1],t.limit,!0),r=Math.max(r,l))),t.padding&&(0===i&&(l=A.getAbsoluteDistance(0,t.padding[0],!1),r=Math.max(r,l)),i===p.length-1&&(l=A.getAbsoluteDistance(100,t.padding[1],!0),r=Math.min(r,l))),o||(r=A.getStep(r)),!((r=u(r))===e[i]&&!s)&&r}function ue(e,i){var r=t.ort;return(r?i:e)+", "+(r?e:i)}function he(e,i,r,n,a){var s=r.slice(),o=n[0],l=t.events.smoothSteps,d=[!e,e],c=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach((function(e,t){var r=ce(s,e,s[e]+i,d[t],c[t],!1,l);!1===r?i=0:(i=r-s[e],s[e]=r)})):d=c=[!0];var u=!1;n.forEach((function(e,t){u=me(e,r[e]+i,d[t],c[t],!1,l)||u})),u&&(n.forEach((function(e){de("update",e),de("slide",e)})),null!=a&&de("drag",o))}function pe(e,i){return t.dir?100-e-i:e}function fe(e,i){k[e]=i,I[e]=A.fromStepping(i);var r="translate("+ue(pe(i,0)-N+"%","0")+")";if(p[e].style[t.transformRule]=r,t.events.invertConnects&&k.length>1){var n=k.every((function(e,t,i){return 0===t||e>=i[t-1]}));if(_!==!n)return _=!_,R(t,t.connect.map((function(e){return!e}))),void Se()}ye(e),ye(e+1),_&&(ye(e-1),ye(e+2))}function ve(){L.forEach((function(e){var t=k[e]>50?-1:1,i=3+(p.length+t*e);p[e].style.zIndex=String(i)}))}function me(e,t,i,r,n,a){return n||(t=ce(k,e,t,i,r,!1,a)),!1!==t&&(fe(e,t),!0)}function ye(e){if(y[e]){var i=k.slice();_&&i.sort((function(e,t){return e-t}));var r=0,n=100;0!==e&&(r=i[e-1]),e!==y.length-1&&(n=i[e]);var a=n-r,s="translate("+ue(pe(r,a)+"%","0")+")",o="scale("+ue(a/100,"1")+")";y[e].style[t.transformRule]=s+" "+o}}function ge(e,i){return null===e||!1===e||void 0===e?k[i]:("number"==typeof e&&(e=String(e)),!1!==(e=t.format.from(e))&&(e=A.toStepping(e)),!1===e||isNaN(e)?k[i]:e)}function be(e,i,r){var n=h(e),a=void 0===k[0];i=void 0===i||i,t.animate&&!a&&c(C,t.cssClasses.tap,t.animationDuration),L.forEach((function(e){me(e,ge(n[e],e),!0,!1,r)}));var s=1===L.length?0:1;if(a&&A.hasNoSize()&&(r=!0,k[0]=0,L.length>1)){var o=100/(L.length-1);L.forEach((function(e){k[e]=e*o}))}for(;s<L.length;++s)L.forEach((function(e){me(e,k[e],!0,!0,r)}));ve(),L.forEach((function(e){de("update",e),null!==n[e]&&i&&de("set",e)}))}function Ee(e){if(void 0===e&&(e=!1),e)return 1===I.length?I[0]:I.slice(0);var i=I.map(t.format.to);return 1===i.length?i[0]:i}function we(e){var i=k[e],r=A.getNearbySteps(i),n=I[e],a=r.thisStep.step,s=null;if(t.snap)return[n-r.stepBefore.startValue||null,r.stepAfter.startValue-n||null];!1!==a&&n+a>r.stepAfter.startValue&&(a=r.stepAfter.startValue-n),s=n>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&n-r.stepBefore.highestStep,100===i?a=null:0===i&&(s=null);var o=A.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(o))),null!==s&&!1!==s&&(s=Number(s.toFixed(o))),[s,a]}function Se(){for(;d.firstChild;)d.removeChild(d.firstChild);for(var e=0;e<=t.handles;e++)y[e]=j(d,t.connect[e]),ye(e);se({drag:t.events.drag,fixed:!0})}f(E=C,t.cssClasses.target),0===t.dir?f(E,t.cssClasses.ltr):f(E,t.cssClasses.rtl),0===t.ort?f(E,t.cssClasses.horizontal):f(E,t.cssClasses.vertical),f(E,"rtl"===getComputedStyle(E).direction?t.cssClasses.textDirectionRtl:t.cssClasses.textDirectionLtr),a=U(E,t.cssClasses.base),function(e,i){d=U(i,t.cssClasses.connects),p=[],(y=[]).push(j(d,e[0]));for(var r=0;r<t.handles;r++)p.push(V(i,r)),L[r]=r,y.push(j(d,e[r+1]))}(t.connect,a),se(t.events),be(t.start),t.pips&&q(t.pips),t.tooltips&&z(),le("update"+T.aria),oe("update"+T.aria,(function(e,i,r,n,a){L.forEach((function(e){var i=p[e],n=ce(k,e,0,!0,!0,!0),s=ce(k,e,100,!0,!0,!0),o=a[e],l=String(t.ariaFormat.to(r[e]));n=A.fromStepping(n).toFixed(1),s=A.fromStepping(s).toFixed(1),o=A.fromStepping(o).toFixed(1),i.children[0].setAttribute("aria-valuemin",n),i.children[0].setAttribute("aria-valuemax",s),i.children[0].setAttribute("aria-valuenow",o),i.children[0].setAttribute("aria-valuetext",l)}))}));var Ce={destroy:function(){for(le(T.aria),le(T.tooltips),Object.keys(t.cssClasses).forEach((function(e){v(C,t.cssClasses[e])}));C.firstChild;)C.removeChild(C.firstChild);delete C.noUiSlider},steps:function(){return L.map(we)},on:oe,off:le,get:Ee,set:be,setHandle:function(e,t,i,r){if(!((e=Number(e))>=0&&e<L.length))throw new Error("noUiSlider: invalid handle number, got: "+e);me(e,ge(t,e),!0,!0,r),de("update",e),i&&de("set",e)},reset:function(e){be(t.start,e)},disable:function(e){null!=e?(p[e].setAttribute("disabled",""),p[e].handle.removeAttribute("tabindex")):(C.setAttribute("disabled",""),p.forEach((function(e){e.handle.removeAttribute("tabindex")})))},enable:function(e){null!=e?(p[e].removeAttribute("disabled"),p[e].handle.setAttribute("tabindex","0")):(C.removeAttribute("disabled"),p.forEach((function(e){e.removeAttribute("disabled"),e.handle.setAttribute("tabindex","0")})))},__moveHandles:function(e,t,i){he(e,t,k,i)},options:i,updateOptions:function(e,r){var n=Ee(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];a.forEach((function(t){void 0!==e[t]&&(i[t]=e[t])}));var s=J(i);a.forEach((function(i){void 0!==e[i]&&(t[i]=s[i])})),A=s.spectrum,t.margin=s.margin,t.limit=s.limit,t.padding=s.padding,t.pips?q(t.pips):K(),t.tooltips?z():W(),k=[],be(o(e.start)?e.start:n,r),e.connect&&Se()},target:C,removePips:K,removeTooltips:W,getPositions:function(){return k.slice()},getTooltips:function(){return b},getOrigins:function(){return p},pips:q};return Ce}function Z(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=Q(e,J(t),t);return e.noUiSlider=i,i}const X={__spectrum:S,cssClasses:A,create:Z}},7831:(module,e,t)=>{"use strict";var i=t(72909);module.exports=function(e,t,r){for(var n=0,a=arguments.length>2?r:i(t),s=new e(a);a>n;)s[n]=t[n++];return s}},8010:module=>{"use strict";module.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},8055:(e,t,i)=>{"use strict";i.d(t,{lD:()=>v(),Ui:()=>u.U,OH:()=>r.O,FG:()=>d.F,pD:()=>p(),R6:()=>l.R,kz:()=>c.k,ix:()=>o.i,DV:()=>w,YQ:()=>s.YQ,Yz:()=>g,xb:()=>b,OQ:()=>s.OQ,zR:()=>a,pd:()=>s.pd});var r=i(25775),n=i(75768),a=i(7239),s=i(29183),o=i(14519),l=i(45984),d=i(2292),c=i(33694),u=i(46808),h=i(29790),p=i.n(h),f=i(75494),v=i.n(f);let m=!1;const y=window,g=(e,t,i,a,s)=>{if(m=e,e){const e=n.x.get("",n.x.DEBUG,!0,"").split("|"),r=["core",...(null!=t?t:e.includes("playerEvent"))?["playerEvent"]:[],...(null!=i?i:e.includes("pixelEvent"))?["pixelEvent"]:[],...(null!=a?a:e.includes("verboseUI"))?["verboseUI"]:[],...(null!=s?s:e.includes("verboseUIEvents"))?["verboseUIEvents"]:[]];y.console.log("debug: "+r.join(", ")),n.x.add("",n.x.DEBUG,r.join("|"),!0)}else n.x.remove("",n.x.DEBUG,!0),y.console.log("debug: disabled");r.O.updateDebugSettings()},b=(e,t=null)=>{const i=!r.O.isEmbedded||(0,s.Ed)(t),n=(0,s.Ed)(t)?t:`[ARDP][${e.substring(0,5)}]`,a="|@|";let o,l=[],d=new Array(40),c=0;const u=[];let h=-1;const p=(e,t)=>{const i=t.some((e=>"object"==typeof e))?JSON.stringify(t,(0,s.OQ)()):JSON.stringify(t);d[c%d.length]=`${e}(${c})${i}`,o&&o(e,...JSON.parse(i)),c++},f=()=>{if(u.length-1>h){for(let e=h+1;e<u.length;e++)i?(u[e].collapsed?y.console.groupCollapsed:y.console.group)(n,...u[e].label):(u[e].collapsed?y.console.groupCollapsed:y.console.group)(...u[e].label);h=u.length-1}};return{toJSON:()=>toString(),[Symbol.toStringTag]:"console",get _buffer(){try{return btoa(unescape(encodeURIComponent(`${l.length}|${c%d.length}${a}${l.concat(d).join(a)}`)))}catch(e){return""}},set _bufferStreamReader(e){o=e,e&&this._replayBuffer(this._buffer,void 0,{info:(...t)=>{e("i",...t)},log:(...t)=>{e("l",...t)},warn:(...t)=>{e("w",...t)},error:(...t)=>{e("e",...t)}})},get _bufferStreamReader(){return o},_clearBuffer(){l=[],d=new Array(40),c=0},_replayBuffer(e,t,i=y.console){const r=atob(decodeURIComponent(escape(e))).split(a),n=r[0].split("|"),s=parseInt(n[0],10),o=parseInt(n[1],10),l=[...r.slice(1,s+1),...r.slice(s+o+1),...r.slice(s+1,s+o+1)],d=/^(.)\((\d+)\)(.*)$/;l.forEach((e=>{var r,n;if(""!==e){const a=d.exec(e);if(null!==a){const e=JSON.parse(null!==(r=a[3])&&void 0!==r?r:"[]"),s=`[REPLAY][${null!==(n=a[2])&&void 0!==n?n:"?"}]`;switch(a[1]){case"i":null==i||i.info(s,...e);break;case"w":null==i||i.warn(s,...e);break;case"e":null==i||i.error(s,...e);break;case"t":null==i||i.log(`${s}[TRACE]`,...e);break;case"x":null==i||i.log(`${s}[INIT]`,...e),null==t||t(e);break;default:null==i||i.log(s,...e)}}}}))},init(...e){(e=>{l.push(`x(${l.length})${JSON.stringify(e,(0,s.OQ)())}`),p("i",["INIT_ENTRY_"+(l.length-1)])})(e),m&&(f(),i?y.console.info(n,...e):y.console.info(...e))},info(...e){p("i",e),m&&(f(),i?y.console.info(n,...e):y.console.info(...e))},log(...e){p("l",e),m&&(f(),i?y.console.log(n,...e):y.console.log(...e))},warn(...e){p("w",e),m&&(f(),i?y.console.warn(n,...e):y.console.warn(...e))},error(...e){p("e",e),m&&(f(),i?y.console.error(n,...e):y.console.error(...e))},trace(...e){p("t",[...e,(0,s.YQ)()]),m&&(f(),i?y.console.trace(n,...e):y.console.trace(...e))},group(...e){m&&u.push({collapsed:!1,label:e})},groupCollapsed(...e){m&&u.push({collapsed:!0,label:e})},groupEnd(){m&&(h>=0&&h>=u.length-1&&(y.console.groupEnd(),h=u.length-2),u.pop())}}},E=e=>{y.console.warn(`ARDPlayer ${e} - do not use in production`)},w=e=>{"release"!==e.core.verb&&E("compiled in dev mode"),e.addon.concat(e.plugin).concat([e.core]).some((e=>{var t,i;return null!==(i=null===(t=e.rev)||void 0===t?void 0:t.startsWith("[D]"))&&void 0!==i&&i}))&&E("compiled from dirty source")}},8679:(e,t,i)=>{"use strict";i(88802)},8694:module=>{"use strict";module.exports=!1},8981:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(47193),s=i(61883),o=i(78920),l=s.Set,d=s.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=new l;return o(t,(function(e){d(r,i(e,e,t))})),r}})},9325:(module,e,t)=>{"use strict";var i=t(17649),r=Map.prototype;module.exports={Map,set:i(r.set),get:i(r.get),has:i(r.has),remove:i(r.delete),proto:r}},9408:(e,t,i)=>{"use strict";i(55903)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i(91775))},9430:module=>{"use strict";var e=String;module.exports=function(t){try{return e(t)}catch(e){return"Object"}}},9536:(module,e,t)=>{"use strict";var i,r,n=t(43501),a=t(50700),s=n.process,o=n.Deno,l=s&&s.versions||o&&o.version,d=l&&l.v8;d&&(r=(i=d.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),module.exports=r},9587:(e,t,i)=>{"use strict";var r=i(39501),n=i(61883);r({target:"Set",stat:!0,forced:!0},{from:i(12408)(n.Set,n.add,!1)})},9638:(module,e,t)=>{"use strict";var i=t(43345),r=t(81658),n=t(648),a=t(70856),s=t(77474),o="Invalid size",l=RangeError,d=TypeError,c=Math.max,u=function(e,t){this.set=e,this.size=c(t,0),this.has=i(e.has),this.keys=i(e.keys)};u.prototype={getIterator:function(){return s(r(n(this.keys,this.set)))},includes:function(e){return n(this.has,this.set,e)}},module.exports=function(e){r(e);var t=+e.size;if(t!=t)throw new d(o);var i=a(t);if(i<0)throw new l(o);return new u(e,i)}},9918:module=>{"use strict";module.exports=function(e){return null==e}},9929:module=>{"use strict";module.exports="\t\n\v\f\r \u2028\u2029\ufeff"},10032:(e,t,i)=>{"use strict";i.d(t,{J:()=>u});var r,n,a=i(29183),s=i(25775),o=i(94581),l=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class u{static get mobileAudioAutoplayEnabled(){return d(this,r,"f",n)}static prebuild(e){s.O.isEmbedded||(this.createVideo(e,!1),this.createAudio(e,!1))}static createVideo(e,t=!1){const i=this.getMediaElement("video",e);return i.poster="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t&&this.registerFirstFrameHandler(e.getId()+"_video",e,i),i}static createAudio(e,t=!1){const i=this.getMediaElement("audio",e);return t&&this.registerFirstFrameHandler(e.getId()+"_audio",e,i),i}static prepareAudioAutoplay(e,t){e.console.info(this.TAG,"try mobile audio autoplay workaround");let i=!1;const s=e=>{if(!i){i=!0;try{null==e||e.pause(),(0,a.Ie)(e)}catch(e){}t()}};try{const t=this.getMediaElement("audio",e),i=document.createElement("source");i.src=this.createSilentAudioBlob(2),i.type="audio/wav",t.appendChild(i);const a=t.play();null!=a?a.then((()=>{e.console.log(this.TAG,"autoplay success"),c(this,r,!0,"f",n),s(t)}),(i=>{e.console.log(this.TAG,"autoplay rejected",i),c(this,r,!1,"f",n),s(t)})).catch((i=>{e.console.log(this.TAG,"autoplay error",i),c(this,r,!1,"f",n),s(t)})):(e.console.log(this.TAG,"autoplay state uncertain"),s(t))}catch(t){e.console.log(this.TAG,"autoplay preparation failed!",t),s()}finally{e.safeTimeout(s,250)}}static resetPlayer(e){var t;const i=e.getId()+"_video";if((null===(t=this.htmlMECache[i])||void 0===t?void 0:t.textTracks.length)>0){e.console.warn(this.TAG,"non-removable text tracks found - replace video surface");const t=this.htmlMECache[i].cloneNode();this.patchMediaElement(t,e),this.htmlMECache[i].replaceWith(t),this.htmlMECache[i]=t}this.registerFirstFrameHandler(e.getId()+"_video",e,this.htmlMECache[e.getId()+"_video"]),this.registerFirstFrameHandler(e.getId()+"_audio",e,this.htmlMECache[e.getId()+"_audio"])}static disposePlayer(e){e.console.log(this.TAG,"disposing media element cache"),this.resetElement(this.htmlMECache[e.getId()+"_video"]),this.resetElement(this.htmlMECache[e.getId()+"_audio"]),delete this.htmlMECache[e.getId()+"_video"],delete this.htmlMECache[e.getId()+"_audio"],delete this.htmlMHandlerDisposers[e.getId()+"_video"],delete this.htmlMHandlerDisposers[e.getId()+"_audio"]}static resetElement(e){e&&(e.src="",(0,a.Ie)(e))}static getMediaElement(e,t){const i=t.getId()+"_"+e;if(void 0!==this.htmlMECache[i])return this.htmlMECache[i];const r=document.createElement(e);return r.dataset.uuid=(0,a.N4)(),r.setAttribute("playsinline","true"),r.setAttribute("preload","auto"),"audio"!==e&&r.setAttribute("crossorigin","anonymous"),r.tabIndex=-1,s.O.browserIsSafari||s.O.isIOSDevice||(r.disableRemotePlayback=!0),s.O.isAndroidDevice&&r.setAttribute("controlsList","nodownload"),this.patchMediaElement(r,t),this.htmlMECache[i]=r,r}static patchMediaElement(e,t){try{const i=e.play.bind(e);e.play=()=>l(this,void 0,void 0,(function*(){const r=i();if(void 0===r)return r;yield new Promise(((i,n)=>{r.then((e=>{i(e)}),(i=>{this.htmlMHandlerDisposers[t.getId()+"_video"]&&(t.console.warn(this.TAG,"observed play() rejection, reset active first frame handler"),this.registerFirstFrameHandler(t.getId()+"_video",t,e)),n(i)}))}))}))}catch(e){}}static registerFirstFrameHandler(e,t,i){var r,n;if(i){null===(n=(r=this.htmlMHandlerDisposers)[e])||void 0===n||n.call(r);const a=new Set(["playing","play"]),s=r=>{var n,l;a.delete(r.type),i.removeEventListener(r.type,s),a.size<=0&&(t.console.info(this.TAG,"first frame triggered"),null===(l=(n=this.htmlMHandlerDisposers)[e])||void 0===l||l.call(n),delete this.htmlMHandlerDisposers[e],t.safeTimeoutWithContext(t.getPreservedExecutionContext(o.a.EVENT_PLAY_STREAM),(()=>{t.loop.dispatchEvent(o.a.EVENT_INITIAL_FRAME,{})})))};a.forEach((e=>{i.addEventListener(e,s)})),this.htmlMHandlerDisposers[e]=()=>{t.console.info(this.TAG,"remove first frame handlers"),a.forEach((e=>{i.removeEventListener(e,s)}))}}}static createSilentAudioBlob(e,t=44100){const i=e*t,n=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;if(!n)throw new Error("No AudioContext");const a=(new n).createBuffer(1,i,t);return URL.createObjectURL(r.bufferToWaveBlob(a,i))}static bufferToWaveBlob(e,t){const i=e=>{o.setUint16(h,e,!0),h+=2},r=e=>{o.setUint32(h,e,!0),h+=4},n=e.numberOfChannels,a=t*n*2+44,s=new ArrayBuffer(a),o=new DataView(s),l=[];let d=0,c=0,u=0,h=0;for(r(1179011410),r(a-8),r(1163280727),r(544501094),r(16),i(1),i(n),r(e.sampleRate),r(2*e.sampleRate*n),i(2*n),i(16),r(1635017060),r(a-h-4),d=0;d<e.numberOfChannels;d++)l.push(e.getChannelData(d));for(;h<a;){for(d=0;d<n;d++)c=Math.max(-1,Math.min(1,l[d][u])),c=0|(.5+c<0?32768*c:32767*c),o.setInt16(h,c,!0),h+=2;u++}return new Blob([s],{type:"audio/wav"})}}r=u,u.htmlMECache={},u.htmlMHandlerDisposers={},u.TAG="[HTMLMedia]",n={value:!1}},10037:function(module){(function(){var e;e=function(){function e(){this.datas={}}return e.uid=0,e.key="__dict_uid__",e.hasKeys=function(e){var t;for(t in e)return!0;return!1},e.getUID=function(t){var i,r;if(null==t)return"null";if(null!=(r=t[i=e.key]))return r;switch(typeof t){case"string":return"s::";case"number":return"n::";case"boolean":return"b::"}return r=++e.uid+"_"+Math.random(),e.uid===Number.MAX_VALUE&&(e.uid=0),null!=Object.defineProperty?Object.defineProperty(t,i,{value:r}):t[i]=r,r},e.prototype.map=function(t,i){return this.datas[e.getUID(t)]={key:t,value:i},i},e.prototype.unmap=function(t){return delete this.datas[e.getUID(t)],null},e.prototype.get=function(t){var i;return null!=(i=this.datas[e.getUID(t)])?i.value:void 0},e.prototype.has=function(t){return null!==this.datas[e.getUID(t)]},e.prototype.clear=function(){return this.datas={}},e.prototype.isEmpty=function(){var e;for(e in this.datas)return!0;return!1},e.prototype.length=function(){var e,t;for(t in e=0,this.datas)++e;return e},e.prototype.forEach=function(e){var t,i,r;for(r in i=this.datas)e((t=i[r]).key,t.value);return null},e}(),module.exports=e.default=e}).call(this)},10348:(module,e,t)=>{"use strict";var i=t(81658),r=t(18132);module.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},10532:(module,e,t)=>{"use strict";var i=t(41734).has;module.exports=function(e){return i(e),e}},10877:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})},10896:(module,e,t)=>{"use strict";var i=t(66693);module.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},11027:(e,t,i)=>{"use strict";i.d(t,{LV:()=>m,RS:()=>p,bc:()=>v,ny:()=>f,yv:()=>h});var r,n,a,s=i(25775),o=i(29183),l=i(14654),d=i(45041),c=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class h extends l.U{addDisposer(e){null!=e&&this.listenerDisposers.push(e)}get executionContextProvider(){return c(this,r,"f")}constructor(e,t){super(),this.inputParcel=t,r.set(this,void 0),n.set(this,[]),this.listenerDisposers=[],u(this,r,e,"f")}parcelData(){return null}restoreParceledData(e){}register(){try{if(this.player._isShard&&!this.isSupportedInShard())return this.log("Addon is not supported in Shard"),!1;if(this.isDisabled())return this.log("Addon is disabled"),!1;if(!this.isSupported())return this.log("Addon not supported by current config."),!1;null!==this.inputParcel&&(this.restoreFromParcel(this.inputParcel),this.inputParcel=null)}catch(e){return this.warn("Addon threw error when detecting support - skipping",e),this.inputParcel=null,!1}return!0}registerEvent(e,t){const i=t.bind(this);c(this,n,"f").push({id:e,fnc:i}),c(this,r,"f").addEventListener(e,i)}registerPlayerEvent(e,t){const i=t.bind(this);this.listenerDisposers.push((()=>{c(this,r,"f").loop.removeEventListener(e,i)})),c(this,r,"f").loop.addEventListener(e,i)}registerPixelEvent(e,t){const i=t.bind(this);c(this,n,"f").push({id:e,fnc:i}),c(this,r,"f").addEventListener(e,i)}addEventListener(e,t,i,r){e.addEventListener(t,i,r),this.listenerDisposers.push((()=>{e.removeEventListener(t,i,r)}))}onClick(e,t,i=!0){this.listenerDisposers.push((0,o.Af)(e,t,this.executionContextProvider,i))}get player(){return c(this,r,"f")}get mc(){return this.player.model.mediaCollection}get pc(){return this.player.model.playerConfig}isSupportedInShard(){return!1}startupHook(){return!1}dispose(){this.log("dispose"),c(this,n,"f").forEach((e=>{c(this,r,"f").removeEventListener(e.id,e.fnc)})),this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),window.setTimeout((()=>{c(this,r,"f"),u(this,n,null,"f")}))}log(...e){var t;null===(t=this._logDelegate)||void 0===t||t.call(this,"L",...e),this.player.console.log(`[${this.ID}]`,...e)}info(...e){var t;null===(t=this._logDelegate)||void 0===t||t.call(this,"I",...e),this.player.console.info(`[${this.ID}]`,...e)}warn(...e){var t;null===(t=this._logDelegate)||void 0===t||t.call(this,"W",...e),this.player.console.warn(`[${this.ID}]`,...e)}error(...e){var t;null===(t=this._logDelegate)||void 0===t||t.call(this,"E",...e),this.player.console.error(`[${this.ID}]`,...e)}showToast(e,t){this.player.dispatchEvent("Notify.toast",{icon:e,title:t})}debugString(){return"-"}get[(r=new WeakMap,n=new WeakMap,Symbol.toStringTag)](){return"ARDPlayerAddon-"+this.ID}}class p extends h{get ID(){return`PlatformSupport-${this.BaseId}`}isSupported(){return this.supportsPlatform(s.O.platform)}isDisabled(){return!1}static isInstance(e){return e.ID.startsWith("PlatformSupport-")}}function f(e){return void 0!==e&&(0,o.i5)(e,"configKey")}class v extends h{constructor(){super(...arguments),a.set(this,null)}get conf(){return null===c(this,a,"f")&&u(this,a,(0,o.$N)(this.pc.getPluginData(this.configKey),this.mc.getPluginData(this.configKey)),"f"),c(this,a,"f")}get immutableConf(){return null===c(this,a,"f")&&u(this,a,(0,o.$N)(this.pc.getPluginData(this.configKey),this.mc.getPluginData(this.configKey)),"f"),c(this,a,"f")}configEmpty(){return 0===Object.keys(this.conf).length}isDisabled(){return!1===this.conf.isEnabled}isSupported(){return!this.configEmpty()}}a=new WeakMap;class m extends v{constructor(){super(...arguments),this.buttons=[],this.secondaryButtons=[],this.buttonRenderingPrevented=!1}get buttonOrder(){return 10}get buttonList(){var e,t;return null!==(t=null===(e=this.player)||void 0===e?void 0:e.buttonCentral)&&void 0!==t?t:null}register(){var e;return!!super.register()&&(null===(e=this.buttonList)||void 0===e||e.registerAddon(this),!0)}setButtonRenderingPrevented(e){this.buttonRenderingPrevented=e,this.renderButtons(),this.renderSecondaryButtons()}renderButtons(){var e;this.buttons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.buttons=[],this.buttonRenderingPrevented||this.listAddonButtons().forEach((e=>{const t=document.createElement("button");t.classList.add(...e.classList),t.dataset.initiatorName=`addon-button(${this.ID}:${String(e.accessibilityKey)})`,t.setAttribute("tabindex","0"),(0,o.Ed)(e.accessibilityKey)&&(0,d.$)(this.player,t,e.accessibilityKey,Object.assign({pressed:!1},e.accessibilityVariables));const i=(0,o.Af)(t,(()=>{this.player.viewCtrl.setOutDelayed(),this.addonButtonClicked(t,e)}),this.executionContextProvider);this.buttons.push(Object.assign({},e,{button:t,disposeHandler:i}))})),null===(e=this.buttonList)||void 0===e||e.updateButtonList()}renderSecondaryButtons(){var e;this.secondaryButtons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.secondaryButtons=[],this.buttonRenderingPrevented||this.listSecondaryAddonButtons().forEach((e=>{const t=document.createElement("button");t.classList.add(...e.classList),t.dataset.initiatorName=`addon-button-secondary(${this.ID}:${String(e.accessibilityKey)})`,t.setAttribute("tabindex","0"),(0,o.Ed)(e.accessibilityKey)&&(0,d.$)(this.player,t,e.accessibilityKey,Object.assign({pressed:!1},e.accessibilityVariables));const i=(0,o.Af)(t,(()=>{this.player.viewCtrl.setOutDelayed(),this.secondaryAddonButtonClicked(t,e)}),this.executionContextProvider);this.secondaryButtons.push(Object.assign({},e,{button:t,disposeHandler:i}))})),null===(e=this.buttonList)||void 0===e||e.updateSecondaryButtonList()}dispose(){super.dispose(),this.buttons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.buttons=[],this.secondaryButtons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.secondaryButtons=[]}listSecondaryAddonButtons(){return[]}secondaryAddonButtonClicked(e,t){}}m.BUTTON_ORDER_RIGHTMOST=Number.MAX_SAFE_INTEGER-1},11142:(module,e,t)=>{"use strict";var i=t(18132);module.exports=function(e,t,r){for(var n=e.length-1;n>=0;n--)if(void 0!==e[n])try{r=i(e[n].iterator,t,r)}catch(e){t="throw",r=e}if("throw"===t)throw r;return r}},11198:(e,t,i)=>{"use strict";i.d(t,{i:()=>h});var r=i(94406),n=i(14654),a=i(58743),s=i(90732),o=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},d=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},c=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let h=(()=>{var e;let t,i,h=[r.JW],p=[],f=n.U;i=class extends f{constructor(t,i,r,n,a){super(),this.player=t,this.markerClassTarget=i,this.openCallback=r,this.closeCallback=n,this.addon=a,this.screenStack=[],e.set(this,null),this.btmLooper=new s.W(t)}get ID(){return"BottomSheetManager"}static getImpl(e,t,i,r){const n=e.addons.find((e=>a.M.isInstance(e)));if(null==n)throw Error("no BottomSheetRenderer Addon installed!");return n.createManager(e,t,i,r)}get renderer(){var t;return null==c(this,e,"f")&&(this.addon.setHandler({back:()=>{this.prevScreen(null)},close:()=>{this.conceal(null)}}),u(this,e,null!==(t=this.addon.listRenderer)&&void 0!==t?t:null,"f"),null==c(this,e,"f")&&this.player.console.error("no DisplayListRenderer instance available!")),c(this,e,"f")}parcelData(){return 0===this.screenStack.length?null:{screenStack:this.screenStack.filter((e=>!e.screenId.startsWith("synthetic_"))).map((e=>({screenId:e.screenId,addon:e.addon.ID})))}}restoreParceledData(e){const t=e.screenStack.map((e=>({screenId:e.screenId,addon:this.player.addons.find((t=>t.ID===e.addon))})));t.some((e=>null===e.addon))||(this.screenStack.push(...t),this.performReveal(this.screenStack[this.screenStack.length-1],null))}dispose(){this.screenStack.splice(0,this.screenStack.length),this.btmLooper.dispose()}log(...e){this.player.console.log("[BTM]",...e)}get activeScreen(){return this.screenStack.length>0?this.screenStack[this.screenStack.length-1]:null}reveal(e,t="defaultScreen",i=!1,r=!1,n=null){if(this.log((r?"toggling":"revealing")+" bottom sheet",e.ID,t),this.screenStack.length>0){if(r){const i=this.screenStack[this.screenStack.length-1];if(i.screenId===t&&i.addon===e)return void this.prevScreen(n)}return void(i?this.conceal((()=>{this.reveal(e,t,!1,!1,n)})):this.nextScreen(e,t,n))}const a={addon:e,screenId:t};this.screenStack.push(a),this.performReveal(a,n)}performRevealInternal(e){this.btmLooper.dispatchEvent("BTM.reveal",{}),this.openCallback(e),this.renderScreen(e)}nextScreenInternal(e,t,i=null){if(this.log("showing next bottom sheet screen",e.ID,t),this.screenStack.length>0){const r=this.screenStack[this.screenStack.length-1];if(r.screenId===t&&r.addon===e)return this.renderScreen(r),null==i||i(),!0;r.addon.onScreenClosedInternal(r.screenId)}const r={addon:e,screenId:t};return this.screenStack.push(r),this.openCallback(r),this.renderScreen(r),!1}prevScreenInternal(e=null){if(this.log("showing prev bottom sheet screen"),this.screenStack.length<=1)return this.conceal(e),!0;const t=this.screenStack[this.screenStack.length-1];t.addon.onScreenClosedInternal(t.screenId),this.screenStack.pop();const i=this.screenStack[this.screenStack.length-1];return this.openCallback(i),this.renderScreen(i),!1}concealInternal(){this.log("concealing bottom sheet"),this.screenStack.forEach((e=>{e.addon.onScreenClosedInternal(e.screenId)})),this.screenStack.splice(0,this.screenStack.length),this.btmLooper.dispatchEvent("BTM.conceal",{}),this.closeCallback()}};return e=new WeakMap,d(i,"BottomSheetManager"),(()=>{var e;const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=f[Symbol.metadata])&&void 0!==e?e:null):void 0;o(null,t={value:i},h,{kind:"class",name:i.name,metadata:r},null,p),i=t.value,r&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),l(i,p)})(),i})()},11434:(module,e,t)=>{"use strict";var i=t(17649),r=t(43345);module.exports=function(){return i(r(this))}},11864:(e,t,i)=>{"use strict";var r=i(75955),n=i(71351),a=i(12984),s=i(70856),o=i(80981),l=n.aTypedArray,d=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,u=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}(),h=u&&function(){try{new Int8Array(1).with(-.5,1)}catch(e){return!0}}();c("with",{with:function(e,t){var i=l(this),n=s(e),c=a(i)?o(t):+t;return r(i,d(i),n,c)}}.with,!u||h)},11987:(e,t,i)=>{"use strict";var r=i(39501),n=i(28148).find;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:function(e){return n(this,e)}})},12408:(module,e,t)=>{"use strict";var i=t(59805),r=t(81658),n=t(53868),a=t(71321);module.exports=function(e,t,s){return function(o){var l=n(o),d=arguments.length,c=d>1?arguments[1]:void 0,u=void 0!==c,h=u?i(c,d>2?arguments[2]:void 0):void 0,p=new e,f=0;return a(l,(function(e){var i=u?h(e,f++):e;s?t(p,r(i)[0],i[1]):t(p,i)})),p}}},12742:(module,e,t)=>{"use strict";var i=t(28895),r=Function.prototype,n=r.apply,a=r.call;module.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(n):function(){return a.apply(n,arguments)})},12984:(module,e,t)=>{"use strict";var i=t(14590);module.exports=function(e){var t=i(e);return"BigInt64Array"===t||"BigUint64Array"===t}},13079:(e,t,i)=>{"use strict";var r=i(39501),n=Math.PI/180;r({target:"Math",stat:!0,forced:!0},{radians:function(e){return e*n}})},13290:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(23539),s=i(52153);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return n(s,this,a(e))}})},13883:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(47193),s=i(78920);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0);return!0===s(t,(function(e){if(i(e,e,t))return!0}),!0)}})},14292:(module,e,t)=>{"use strict";var i=t(43345),r=TypeError,n=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw new r("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};module.exports.f=function(e){return new n(e)}},14314:(e,t,i)=>{"use strict";i(48103)},14519:(e,t,i)=>{"use strict";i.d(t,{i:()=>u});var r=i(75768),n=i(94406),a=i(61261),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},o=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},l=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},d=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},c=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let u=(()=>{var e,t;let i,u,h=[n.JW],p=[];var f=u=class{static setAdapter(t){d(f,u,t,"f",e)}static validateSetting(e,t){switch(e){case"VIDEO_TYPE":return"string"==typeof t&&t in["main","sign-language"];case"VIDEO_LANGUAGE":case"AUDIO_LANGUAGE":case"SUBTITLE_LANGUAGE":return"string"==typeof t;case"AUDIO_TYPE":return"string"==typeof t&&t in["standard","audio-description","simple-language","speech-optimized"];case"SUBTITLE_ENABLED":case"PLAYLIST_AUTOPLAY":case"RECOMMENDATION_AUTOPLAY":return"boolean"==typeof t;case"SUBTITLE_TYPE":return"string"==typeof t&&t in["normal","closed-captions","simple-language"];case"SEEK_FORWARD_INTERVAL":case"SEEK_BACKWARD_INTERVAL":return"number"==typeof t&&a.R.includes(t);default:return!1}}static updateSettings(e,i){d(f,u,!0,"f",t);for(const t in i){const n=this.mapKeyIn(t);if(n){const a=i[t];f.validateSetting(t,a)?(window.console.info("[ARDP]",`updating settings for key ${t}: ${a}`),r.x.add("audio"===e?r.x.settingsSuffixAudio:r.x.settingsSuffixVideo,n,a,!1,!0)):window.console.warn("[ARDP]",`ignored setting for key '${t}' (${a}) - unknown key or invalid data`)}else window.console.warn("[ARDP]","ignoring update for unknown settings key",t)}d(f,u,!1,"f",t)}static mapKeyIn(e){switch(e){case"VIDEO_TYPE":return r.x.VIDEO_KIND;case"VIDEO_LANGUAGE":return r.x.VIDEO_LANGUAGE;case"AUDIO_TYPE":return r.x.AUDIO_KIND;case"AUDIO_LANGUAGE":return r.x.AUDIO_LANGUAGE;case"SUBTITLE_ENABLED":return r.x.SUBTITLE_ENABLED;case"SUBTITLE_TYPE":return r.x.SUBTITLE_KIND;case"SUBTITLE_LANGUAGE":return r.x.SUBTITLE_LANGUAGE;case"PLAYLIST_AUTOPLAY":return r.x.PLAYLIST_AUTOPLAY;case"RECOMMENDATION_AUTOPLAY":return r.x.RECO_AUTOPLAY;case"SEEK_FORWARD_INTERVAL":return r.x.JUMP_FORWARD_VALUE;case"SEEK_BACKWARD_INTERVAL":return r.x.JUMP_BACKWARD_VALUE;default:return null}}static mapKeyOut(e){switch(e){case r.x.VIDEO_KIND:return"VIDEO_TYPE";case r.x.VIDEO_LANGUAGE:return"VIDEO_LANGUAGE";case r.x.AUDIO_KIND:return"AUDIO_TYPE";case r.x.AUDIO_LANGUAGE:return"AUDIO_LANGUAGE";case r.x.SUBTITLE_ENABLED:return"SUBTITLE_ENABLED";case r.x.SUBTITLE_KIND:return"SUBTITLE_TYPE";case r.x.SUBTITLE_LANGUAGE:return"SUBTITLE_LANGUAGE";case r.x.PLAYLIST_AUTOPLAY:return"PLAYLIST_AUTOPLAY";case r.x.RECO_AUTOPLAY:return"RECOMMENDATION_AUTOPLAY";case r.x.JUMP_FORWARD_VALUE:return"SEEK_FORWARD_INTERVAL";case r.x.JUMP_BACKWARD_VALUE:return"SEEK_BACKWARD_INTERVAL";default:return null}}};return l(u,"SettingsStorageSync"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,i={value:u},h,{kind:"class",name:u.name,metadata:e},null,p),f=u=i.value,e&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})})(),e={value:null},t={value:!1},u.notifyInternalChange=(i,r,n)=>{if(!c(f,u,"f",t)&&c(f,u,"f",e)){const t=f.mapKeyOut(i);if(t)try{c(f,u,"f",e).onSettingChanged(n,t,r)}catch(t){window.console.error("[ARDP]","could not notify SettingsStorageSync adapter:",t,c(f,u,"f",e))}}},o(u,p),f=u})()},14590:(module,e,t)=>{"use strict";var i=t(46513),r=t(38348),n=t(33857),a=t(33050)("toStringTag"),s=Object,o="Arguments"===n(function(){return arguments}());module.exports=i?n:function(e){var t,i,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?i:o?n(t):"Object"===(l=n(t))&&r(t.callee)?"Arguments":l}},14654:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});class r{parcelDataForErrorState(){return null}writeToParcel(e,t){const i=t?this.parcelDataForErrorState():this.parcelData();null!==i&&(e[this.ID]=JSON.parse(JSON.stringify(i)))}restoreFromParcel(e){(null==e?void 0:e[this.ID])&&null!==e[this.ID]&&this.restoreParceledData(e[this.ID])}static makeParcel(e,t){const i={};return t.forEach((t=>{t.writeToParcel(i,e)})),i}}},14860:(e,t,i)=>{"use strict";i(33513)},15464:(e,t,i)=>{"use strict";i(39798),i(24488),i(16637)},15818:(module,e,t)=>{"use strict";var i=t(47193),r=t(61883).has,n=t(43717),a=t(9638),s=t(78920),o=t(44136),l=t(18132);module.exports=function(e){var t=i(this),d=a(e);if(n(t)<=d.size)return!1!==s(t,(function(e){if(d.includes(e))return!1}),!0);var c=d.getIterator();return!1!==o(c,(function(e){if(r(t,e))return l(c,"normal",!1)}))}},15867:function(module,e,t){(function(){var e,i,r=[].slice;e=t(10037),i=function(){function t(){this.dispatcherMap=new e}return t.prototype.map=function(e,t,i,n,a){var s,o,l,d,c,u,h,p,f,v;for(null==a&&(a=!1),v=null,d=0,c=(h=null!=(f=(u=null!=(p=this.dispatcherMap.get(e))?p:this.dispatcherMap.map(e,{}))[t])?f:u[t]=[]).length;d<c;d++)if((l=h[d]).h===i&&l.o===n&&l.u===a)return null;return o=n?s=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],i.apply(n,e),null}:i,e.addEventListener?e.addEventListener(t,o,a):e.addListener?e.addListener(t,o,a):e.on?e.on(t,o,a):e.$on?v=e.$on(t,o,a):e.add&&e.add(t,i,n),h.push({d:e,o:n,h:i,u:a,c:s,unregister:v}),null},t.prototype.unmap=function(t,i,r,n,a){var s,o,l,d,c;if(null==a&&(a=!1),!(d=this.dispatcherMap.get(t)))return null;if(!(c=d[i]))return null;for(o=c.length;--o>=0;)(l=c[o]).h===r&&l.o===n&&l.u===a&&(c.splice(o,1),s=n?l.c:r,l.unregister?l.unregister():t.removeEventListener?t.removeEventListener(i,s,a):t.removeListener?t.removeListener(i,s,a):t.off?t.off(i,s,a):t.remove&&t.remove(i,r,n));return c.length||delete d[i],e.hasKeys(d)||this.dispatcherMap.unmap(t),null},t.prototype.all=function(){var e;return this.dispatcherMap.forEach((e=this,function(t,i){var r,n,a,s;for(s in i)for(a=i[s];n=a.shift();)r=n.o?n.c:n.h,n.unregister?n.unregister():t.removeEventListener?t.removeEventListener(s,r,n.u):t.removeListener?t.removeListener(s,r,n.u):t.off?t.off(s,r,n.u):t.remove&&t.remove(s,n.h,n.o);return e.dispatcherMap.unmap(t)})),null},t}(),module.exports=i.default=i}).call(this)},16108:(e,t,i)=>{"use strict";var r=i(39501),n=i(64543),a=TypeError;r({target:"Iterator",stat:!0,forced:!0},{range:function(e,t,i){if("number"==typeof e)return new n(e,t,i,"number",0,1);if("bigint"==typeof e)return new n(e,t,i,"bigint",BigInt(0),BigInt(1));throw new a("Incorrect Iterator.range arguments")}})},16123:(module,e,t)=>{"use strict";var i=t(59805),r=t(17649),n=t(98544),a=t(53868),s=t(72909),o=t(9325),l=o.Map,d=o.get,c=o.has,u=o.set,h=r([].push);module.exports=function(e){for(var t,r,o=a(this),p=n(o),f=i(e,arguments.length>1?arguments[1]:void 0),v=new l,m=s(p),y=0;m>y;y++)t=f(r=p[y],y,o),c(v,t)?h(d(v,t),r):u(v,t,[r]);return v}},16132:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(43345),s=i(81658),o=i(77474),l=i(22571),d=i(10348),c=i(18132),u=i(211),h=i(37362),p=i(8694),f=!p&&!u("map",(function(){})),v=!p&&!f&&h("map",TypeError),m=p||f||v,y=l((function(){var e=this.iterator,t=s(n(this.next,e));if(!(this.done=!!t.done))return d(e,this.mapper,[t.value,this.counter++],!0)}));r({target:"Iterator",proto:!0,real:!0,forced:m},{map:function(e){s(this);try{a(e)}catch(e){c(this,"throw",e)}return v?n(v,this,e):new y(o(this),{mapper:e})}})},16206:(module,e,t)=>{"use strict";var i=t(59805),r=t(17649),n=t(53868),a=t(65314),s=t(57633),o=t(55726),l=t(77474),d=t(99506),c=t(593),u=t(47844),h=t(6925),p=t(33050),f=t(4185),v=t(28148).toArray,m=p("asyncIterator"),y=r(h("Array","values")),g=r(y([]).next),b=function(){return new E(this)},E=function(e){this.iterator=y(e)};E.prototype.next=function(){return g(this.iterator)},module.exports=function(e){var t=this,r=arguments.length,h=r>1?arguments[1]:void 0,p=r>2?arguments[2]:void 0;return new(u("Promise"))((function(r){var u=n(e);void 0!==h&&(h=i(h,p));var y=c(u,m),g=y?void 0:d(u)||b,E=a(t)?new t:[],w=y?s(u,y):new f(l(o(u,g)));r(v(w,h,E))}))}},16637:(e,t,i)=>{"use strict";var r=i(39501),n=i(47844),a=i(65314),s=n("Array");r({target:"Observable",stat:!0,forced:!0},{of:function(){for(var e=a(this)?this:n("Observable"),t=arguments.length,i=s(t),r=0;r<t;)i[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(i[r]),e.closed)return;e.complete()}))}})},16962:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(74663),s=i(4302);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=s(t,(function(e,r){if(i(e,r,t))return{value:e}}),!0);return r&&r.value}})},17132:module=>{"use strict";module.exports={}},17360:(e,t,i)=>{"use strict";i(80375)},17649:(module,e,t)=>{"use strict";var i=t(28895),r=Function.prototype,n=r.call,a=i&&r.bind.bind(n,n);module.exports=i?a:function(e){return function(){return n.apply(e,arguments)}}},17695:(e,t,i)=>{"use strict";var r=i(39501),n=i(90791);r({target:"Object",stat:!0,forced:!0},{iterateEntries:function(e){return new n(e,"entries")}})},17747:(module,e,t)=>{"use strict";var i=t(33050)("iterator"),r=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}module.exports=function(e,t){try{if(!t&&!r)return!1}catch(e){return!1}var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},17806:(e,t,i)=>{"use strict";var r=i(3549),n=i(17649),a=i(45493),s=URLSearchParams.prototype,o=n(s.forEach);r&&!("size"in s)&&a(s,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})},17931:(e,t,i)=>{"use strict";i(39501)({target:"Function",proto:!0,forced:!0},{demethodize:i(11434)})},18132:(module,e,t)=>{"use strict";var i=t(648),r=t(81658),n=t(593);module.exports=function(e,t,a){var s,o;r(e);try{if(!(s=n(e,"return"))){if("throw"===t)throw a;return a}s=i(s,e)}catch(e){o=!0,s=e}if("throw"===t)throw a;if(o)throw s;return r(s),a}},18850:(module,e,t)=>{"use strict";var i=t(17649);module.exports=i({}.isPrototypeOf)},18900:(e,t,i)=>{"use strict";var r=i(39501),n=i(27970),a=i(16123);r({target:"Array",proto:!0,forced:i(8694)},{groupToMap:a}),n("groupToMap")},18925:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})},19348:(e,t,i)=>{"use strict";i(39501)({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:i(43689)})},19849:(module,e,t)=>{"use strict";var i=t(34408),r=String,n=TypeError;module.exports=function(e){if(i(e))return e;throw new n("Can't set "+r(e)+" as a prototype")}},19862:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(74663),s=i(4302);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0);return!1!==s(t,(function(e,r){if(!i(e,r,t))return!1}),!0)}})},20426:(module,e,t)=>{"use strict";var i=t(14590),r=String;module.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},20498:module=>{"use strict";var e=TypeError;module.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},20897:(e,t,i)=>{"use strict";var r=i(39501),n=i(81658),a=i(71321),s=i(77474),o=[].push;r({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(s(n(this)),o,{that:e,IS_RECORD:!0}),e}})},21382:(module,e,t)=>{"use strict";var i=t(43501),r=t(36767),n=i.document,a=r(n)&&r(n.createElement);module.exports=function(e){return a?n.createElement(e):{}}},21582:(module,e,t)=>{"use strict";var i=t(43501),r=Object.defineProperty;module.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(r){i[e]=t}return t}},21587:(module,e,t)=>{"use strict";var i=t(75776),r=Math.min,n=Math.max;module.exports=function(e,t,a){return r(n(i(e),i(t)),i(a))}},21683:module=>{"use strict";module.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},21729:(module,e,t)=>{"use strict";var i=t(47442),r=t(67888),n=t(86776),a=t(41970);module.exports=function(e,t,s){for(var o=r(t),l=a.f,d=n.f,c=0;c<o.length;c++){var u=o[c];i(e,u)||s&&i(s,u)||l(e,u,d(t,u))}}},22404:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(47193),s=i(78920);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=s(t,(function(e){if(i(e,e,t))return{value:e}}),!0);return r&&r.value}})},22571:(module,e,t)=>{"use strict";var i=t(648),r=t(44489),n=t(89208),a=t(10896),s=t(33050),o=t(74606),l=t(593),d=t(39026).IteratorPrototype,c=t(45952),u=t(18132),h=t(11142),p=s("toStringTag"),f="IteratorHelper",v="WrapForValidIterator",m="normal",y="throw",g=o.set,b=function(e){var t=o.getterFor(e?v:f);return a(r(d),{next:function(){var i=t(this);if(e)return i.nextHandler();if(i.done)return c(void 0,!0);try{var r=i.nextHandler();return i.returnHandlerResult?r:c(r,i.done)}catch(e){throw i.done=!0,e}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var a=l(n,"return");return a?i(a,n):c(void 0,!0)}if(r.inner)try{u(r.inner.iterator,m)}catch(e){return u(n,y,e)}if(r.openIters)try{h(r.openIters,m)}catch(e){return u(n,y,e)}return n&&u(n,m),c(void 0,!0)}})},E=b(!0),w=b(!1);n(w,p,"Iterator Helper"),module.exports=function(e,t,i){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?v:f,n.returnHandlerResult=!!i,n.nextHandler=e,n.counter=0,n.done=!1,g(this,n)};return r.prototype=t?E:w,r}},22901:(e,t,i)=>{"use strict";i(42982)},23110:(e,t,i)=>{"use strict";var r=i(39501),n=i(47193),a=i(61883).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=n(this),i=!0,r=0,s=arguments.length;r<s;r++)e=a(t,arguments[r]),i=i&&e;return!!i}})},23189:(module,e,t)=>{"use strict";var i=t(43501),r=t(91980),n=t(26401),a=i.DataView;module.exports=function(e){if(!r||0!==n(e))return!1;try{return new a(e),!1}catch(e){return!0}}},23190:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=i(77162),o=n.has,l=n.get,d=n.toKey,c=function(e,t,i){if(o(e,t,i))return l(e,t,i);var r=s(t);return null!==r?c(e,r,i):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(e,t){var i=arguments.length<3?void 0:d(arguments[2]);return c(e,a(t),i)}})},23499:(module,e,t)=>{"use strict";var i=t(33857),r=t(17649);module.exports=function(e){if("Function"===i(e))return r(e)}},23539:(module,e,t)=>{"use strict";var i=t(47844),r=t(38348),n=t(58850),a=t(36767),s=i("Set");module.exports=function(e){return function(e){return a(e)&&"number"==typeof e.size&&r(e.has)&&r(e.keys)}(e)?e:n(e)?new s(e):e}},23720:(e,t,i)=>{"use strict";i.d(t,{Iq:()=>d,Lc:()=>c,g$:()=>o,hc:()=>n,io:()=>l,oC:()=>s,wn:()=>a});var r=i(29183);class n{get focusRequest(){return this._focusRequest}toJSON(){const e=Object.assign({},this);return e.focusRequest=this._focusRequest,e}constructor(e="",t=!1,i=[]){this.title=e,this.showBack=t,this.children=i,this.id=`displaylist-${(0,r.N4)()}`,this._focusRequest=null,this._renderer=null,this._renderExtensions=null}close(){var e,t;null===(t=null===(e=this._renderer)||void 0===e?void 0:e.callbackHandler)||void 0===t||t.close()}navigateBack(){var e,t;null===(t=null===(e=this._renderer)||void 0===e?void 0:e.callbackHandler)||void 0===t||t.back()}setRenderExtensions(e){this._renderExtensions=e}findElementById(e,t=this){if(o(t)&&c(t)&&t.id===e)return t;const i=t;if(void 0!==i.children)for(const t of i.children){const i=this.findElementById(e,t);if(null!=i)return i}return null}setRequestedFocus(e){var t;this._focusRequest=(0,r.z3)(null==e?void 0:e.id)?null:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null}updateNode(e){var t;!this.findElementById(e.id)||function(e){return void 0!==e._hasBeenRendered}(e)&&!e._hasBeenRendered||null===(t=this._renderer)||void 0===t||t.updateDisplayList(this,e)}deltaUpdateNode(e){var t;e._hasBeenRendered&&this.findElementById(e.id)&&(null===(t=this._renderer)||void 0===t||t.updateDisplayListWithDelta(this,e))}deltaUpdateNodeChildren(e,t){var i;e._hasBeenRendered&&this.findElementById(e.id)&&(null===(i=this._renderer)||void 0===i||i.updateDisplayListWithChildDelta(this,e,t))}static setChildrenRecordingDelta(e,t){const i=e.children;e.children=[],t(e);const r=i.map((e=>e.id)),n=e.children.map((e=>e.id)),a=e.children.filter((e=>!r.includes(e.id)));return 0===a.length&&r.length===n.length&&r.every(((e,t)=>n[t]===e))?null:{addedChildren:a,childOrder:n}}renderUsing(e){if(null!==this._renderer&&this._renderer!==e)throw new Error("illegal state: DisplayList already bound to different renderer");this._renderer=e,e.renderDisplayList(this)}static getContaining(e){let t=e;for(;o(t)&&t._container;)t=t._container;return t&&t instanceof n?t:null}static copyAria(e,t){var i,r,n;e.ariaLabel=null!==(r=null!==(i=t.getAttribute("aria-label"))&&void 0!==i?i:t.getAttribute("title"))&&void 0!==r?r:void 0,e.ariaRole=null!==(n=t.getAttribute("role"))&&void 0!==n?n:void 0}static createHorizontalContainer(e,t,i=!1){const r={cssClass:t,centered:i,type:"hContainer",children:[],content:"",_container:e};return e.children.push(r),r}static createHorizontalScrollingContainer(e,t,i){const r={cssClass:t,contentSelector:i,type:"scrollingHContainer",children:[],content:"",_container:e};return e.children.push(r),r}static createVerticalContainer(e,t,i,r){const n={cssClass:t,ariaLabel:i,ariaRole:r,type:"vContainer",children:[],content:"",_container:e};return e.children.push(n),n}static createUpdatingVerticalContainer(e,t,i,a){const s={cssClass:t,ariaLabel:i,ariaRole:a,type:"updatingVContainer",id:`ardplayer-updating-vContainer-${(0,r.N4)()}`,children:[],content:"",_container:e,_hasBeenRendered:!1,replaceContent(e){var t;this.children=[],e(this),null===(t=n.getContaining(this))||void 0===t||t.updateNode(this)},deltaUpdateContent(e){var t;const i=n.setChildrenRecordingDelta(this,e);i&&(null===(t=n.getContaining(this))||void 0===t||t.deltaUpdateNodeChildren(this,i))},_enforceIntegrity(){this._hasBeenRendered=!0}};return e.children.push(s),s}static renderTeaser(e,t,i,n,a,s,o,l,d,c){const u={type:"teaser",id:`ardplayer-teaser-${(0,r.N4)()}`,availability:(0,r.z3)(s)?void 0:s,content:null!=o?o:"",duration:a,timer:d,image:t,byline:l,onClick:i,onImpression:n,onTimer:null!=c?c:()=>{},_container:e};return e.children.push(u),u}static renderLoadingIndicator(e,t=""){const i={_container:e,type:"loadingIndicator",id:`loading-indicator-${(0,r.N4)()}`,content:t};return e.children.push(i),i}static renderHeading(e,t,i,n="heading",a=2){const s={content:t,type:"h",ariaRole:n,ariaLabel:(0,r.z3)(i)?void 0:i,level:a,_container:e};return e.children.push(s),s}static renderSlider(e,t,i,a,s,o,l="",d="",c=!1){const u={type:"slider",content:t,min:i,max:a,initial:s,onValueChange:o,disabled:c,icon:(0,r.z3)(l)?null:l,endIcon:(0,r.z3)(d)?null:d,id:`ardplayer-slider-${(0,r.N4)()}`,_container:e,_isActive:!1,children:[],updateValue(e){var t;this.initial=e,this._isActive||null===(t=n.getContaining(this))||void 0===t||t.updateNode(this)}};return e.children.push(u),u}static renderButton(e,t,i,a="",s=!0,o=!0,l="",d=null){const c={type:"button",content:t,icon:(0,r.z3)(a)?null:a,endIcon:(0,r.z3)(l)?null:l,onClick:i,id:`ardplayer-button-${(0,r.N4)()}`,primary:s,pill:o,buttonStyle:d,disabled:!1,_container:e,updateValues(e){var t;Object.assign(this,e),null===(t=n.getContaining(this))||void 0===t||t.updateNode(this)}};return e.children.push(c),c}static renderTextField(e,t="",i="",n=!1,a=!1,s=!0){const o={type:"input-text",id:`ardplayer-input-${(0,r.N4)()}`,content:i,disabled:a,small:s,placeholder:t,readonly:n,_container:e};return e.children.push(o),o}static renderCheckbox(e,t="",i=!1){const n={checked:i,content:t,disabled:!1,type:"checkbox",id:`ardplayer-check-${(0,r.N4)()}`,_container:e};return e.children.push(n),n}static renderByline(e,t,i,n=!1){const a={type:"byline",ariaLabel:(0,r.z3)(i)?void 0:i,content:t,allowHtml:n,_container:e};return e.children.push(a),a}static renderChip(e,t,i,n=!1,a=!1){const s={type:"chip",highlight:n,allowHtml:a,content:t,ariaLabel:(0,r.z3)(i)?void 0:i,_container:e};return e.children.push(s),s}static renderBodyText(e,t,i,n=!1){const a={type:"paragraph",content:t,allowHtml:n,ariaLabel:(0,r.z3)(i)?void 0:i,_container:e};return e.children.push(a),a}static renderSelectGroup(e){const t={_container:e,content:"",children:[],type:"selectGroup"};return e.children.push(t),t}static renderSelect(e,t,i,a,s,o,l=!0){const d={type:"select",id:`ardplayer-select-${(0,r.N4)()}`,_container:e,content:t,values:i,enabled:o?i.map(((e,t)=>{var i;return null!==(i=o(e,t===a,t))&&void 0!==i&&i})):i.map((()=>!0)),selectedIndex:a,showDisabledOptions:l,callbacks:{optionSelected:s,isOptionEnabled:o},updateEnabledOptions(){var e;this.enabled=o?i.map(((e,t)=>o(e,t===a,t))):i.map((()=>!0)),null===(e=n.getContaining(this))||void 0===e||e.updateNode(this)},updateSelection(e,t){var i;this.selectedIndex=e,!0===t?this.updateEnabledOptions():null===(i=n.getContaining(this))||void 0===i||i.updateNode(this)},updateValues(e,t){this.values=e,this.updateSelection(t,!0)},performSelect(e,t){const i=Number(e);t.withExecutionContext({type:"other",initiator:`native-bottomsheet-select(${this.content})=>${i>=0&&i<this.values.length?this.values[i]:e}`},(()=>{this.updateSelection(i),this.callbacks.optionSelected(i)}))},_enforceIntegrity(){this.enabled=o?i.map(((e,t)=>o(e,t===a,t))):i.map((()=>!0))}};return e.children.push(d),d}}function a(e){return l(e)&&"selectGroup"===e.type}function s(e){return"type"in e&&e.type.startsWith("x-")}function o(e){return void 0!==e._container}function l(e){return void 0!==e.children&&void 0!==e.content}function d(e){return"function"==typeof e.onImpression}function c(e){return function(e){return void 0!==e.type}(e)&&void 0!==e.id}},23908:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(43345),s=i(81658),o=i(36767),l=i(77474),d=i(29574),c=i(45952),u=i(5798),h=i(64291),p=d((function(e){var t=this,i=t.iterator,r=t.mapper;return new e((function(a,l){var d=function(e){t.done=!0,l(e)},p=function(e){h(i,d,e,d)},f=function(){try{e.resolve(s(n(t.next,i))).then((function(i){try{if(s(i).done)t.done=!0,a(c(void 0,!0));else{var n=i.value;try{var l=r(n,t.counter++),h=function(e){try{t.inner=u(e),v()}catch(e){p(e)}};o(l)?e.resolve(l).then(h,p):h(l)}catch(e){p(e)}}}catch(e){d(e)}}),d)}catch(e){d(e)}},v=function(){var i=t.inner;if(i)try{e.resolve(s(n(i.next,i.iterator))).then((function(e){try{s(e).done?(t.inner=null,f()):a(c(e.value,!1))}catch(e){p(e)}}),p)}catch(e){p(e)}else f()};v()}))}));r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:function(e){return s(this),a(e),new p(l(this),{mapper:e,inner:null})}})},24132:module=>{"use strict";module.exports={}},24214:(module,e,t)=>{"use strict";var i=t(54258),r=t(21683);module.exports=!i((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},24355:(e,t,i)=>{"use strict";var r=i(39501),n=i(89709);n&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return n(this,arguments.length?arguments[0]:void 0,!1)}})},24402:(module,e,t)=>{"use strict";var i=t(33050),r=t(17132),n=i("iterator"),a=Array.prototype;module.exports=function(e){return void 0!==e&&(r.Array===e||a[n]===e)}},24488:(e,t,i)=>{"use strict";var r=i(39501),n=i(47844),a=i(648),s=i(81658),o=i(65314),l=i(55726),d=i(593),c=i(71321),u=i(33050)("observable");r({target:"Observable",stat:!0,forced:!0},{from:function(e){var t=o(this)?this:n("Observable"),i=d(s(e),u);if(i){var r=s(a(i,e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var h=l(e);return new t((function(e){c(h,(function(t,i){if(e.next(t),e.closed)return i()}),{IS_ITERATOR:!0,INTERRUPTED:!0}),e.complete()}))}})},24551:(e,t,i)=>{"use strict";var r=i(39501),n=i(28148).forEach;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:function(e){return n(this,e)}})},24735:(e,t,i)=>{"use strict";var r=i(71351),n=i(72909),a=i(12984),s=i(79667),o=i(80981),l=i(70856),d=r.aTypedArray,c=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,h=Math.max,p=Math.min;u("toSpliced",(function(e,t){var i,r,u,f,v,m,y,g=d(this),b=c(g),E=n(g),w=s(e,E),S=arguments.length,C=0;if(0===S)i=r=0;else if(1===S)i=0,r=E-w;else if(r=p(h(l(t),0),E-w),i=S-2){f=new b(i),u=a(f);for(var A=2;A<S;A++)v=arguments[A],f[A-2]=u?o(v):+v}for(y=new b(m=E+i-r);C<w;C++)y[C]=g[C];for(;C<w+i;C++)y[C]=f[C-w];for(;C<m;C++)y[C]=g[C+r-i];return y}),!0)},25366:(e,t,i)=>{"use strict";var r=i(39501),n=i(16206),a=i(54258),s=Array.fromAsync;r({target:"Array",stat:!0,forced:!s||a((function(){var e=0;return s.call((function(){return e++,[]}),{length:0}),1!==e}))},{fromAsync:n})},25625:(e,t,i)=>{"use strict";var r=i(71351),n=i(41240).filterReject,a=i(44253),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filterReject",(function(e){var t=n(s(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}),!0)},25734:(e,t,i)=>{"use strict";i.d(t,{r:()=>a});const r=JSON.parse('{"play":{"title":"Wiedergabe{{hasKeyboard?? [Leertaste oder K]}}","aria-controls":"{{assetitem}}"},"pause":{"title":"Pause{{hasKeyboard?? [Leertaste oder K]}}","aria-controls":"{{assetitem}}"},"stop":{"title":"Stop{{hasKeyboard?? [Leertaste oder K]}}","aria-controls":"{{assetitem}}"},"seekforward":{"title":"{{value}} Sekunden vorspulen{{hasKeyboard?? [L oder Pfeiltaste Rechts]}}","data-value":"{{value}}","data-initiator-name":"quick_seek_{{value}}","aria-controls":"{{assetitem}}"},"seekbackward":{"title":"{{value}} Sekunden zurckspulen{{hasKeyboard?? [J oder Pfeiltaste Links]}}","data-value":"{{value}}","data-initiator-name":"quick_seek_{{value}}","aria-controls":"{{assetitem}}"},"subtitle":{"title":"Untertitel an / aus{{hasKeyboard?? [C oder U]}}","aria-label":"Untertitel {{pressed??ausschalten|einschalten}}","aria-pressed":"{{pressed}}"},"accessibility":{"title":"Barrierefreiheit an / aus","data-display-title":"Barrierefreiheit","aria-pressed":"{{pressed}}"},"language":{"title":"Sprache und Barrierefreiheit an / aus","data-display-title":"Sprache und Barrierefreiheit","aria-pressed":"{{pressed}}"},"recommend":{"title":"Empfehlungen an / aus","data-display-title":"Empfehlungen","aria-pressed":"{{pressed}}"},"sharing":{"title":"Teilen an / aus","data-display-title":"Teilen","aria-pressed":"{{pressed}}"},"info":{"title":"Info an / aus","data-display-title":"Info","aria-pressed":"{{pressed}}"},"sleeptimer":{"title":"Sleeptimer an / aus","data-display-title":"Sleeptimer","aria-pressed":"{{pressed}}"},"playlist":{"title":"Playliste an / aus","data-display-title":"Playliste","aria-pressed":"{{pressed}}"},"playlistNext":{"title":"Nchster Titel","aria-pressed":"false"},"playlistPrev":{"title":"Vorheriger Titel","aria-pressed":"false"},"bookmark":{"title":"Merkliste","aria-pressed":"{{isBookmarked}}"},"download":{"title":"Clip herunterladen an / aus","data-display-title":"Clip herunterladen","aria-pressed":"{{pressed}}"},"volume":{"title":"Lautstrke einstellen{{hasKeyboard?? [Pfeiltasten hoch/runter] fr Ton an/aus [M]}}"},"volumeslider":{"title":"Schieberegler fr die Lautstrke{{hasKeyboard?? [Pfeiltasten hoch/runter] fr Ton an/aus [M]}}"},"volumeslider-thumb":{"role":"slider","title":"Schieberegler fr die Lautstrke{{hasKeyboard?? [Pfeiltasten hoch/runter] fr Ton an/aus [M]}}","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"{{volume}}","aria-valuetext":"{{volume}}% Lautstrke{{isMuted??, Ton Abgeschaltet}}"},"settings":{"title":"Einstellungen an / aus","data-display-title":"Einstellungen","aria-pressed":"{{pressed}}"},"playback-speed":{"title":"Wiedergabegeschwindigkeit","aria-controls":"{{assetitem}}"},"metasettings":{"title":"Men an / aus","aria-pressed":"{{pressed}}"},"fullscreen-on":{"title":"Vollbild ein{{hasKeyboard?? [F]}}","aria-pressed":"{{pressed}}"},"fullscreen-off":{"title":"Vollbild aus{{hasKeyboard?? [F oder ESC]}}","aria-pressed":"{{pressed}}"},"progressbar":{"title":"Schieberegler zum Spulen des {{assetType}}s{{hasKeyboard?? [J (zurck) und L (vor)]}}","aria-label":""},"progressbar-thumb":{"title":"Schieberegler zum Spulen des {{assetType}}s{{hasKeyboard?? [J (zurck) und L (vor)]}}","role":"slider","aria-orientation":"horizontal","aria-live":"off","aria-valuemin":"0","aria-valuemax":"{{duration}}","aria-valuenow":"{{position}}","aria-valuetext":"{{positionlabel}}"},"time-playhead":{"role":"meter","aria-valuetext":"{{label}} {{timeString}}"},"time-remaining":{"role":"meter","aria-valuetext":"{{label}} {{timeString}}"},"posterbackdrop":{"title":"{{title}}{{imageSourceName?? \\\\| imageSourceName}}","alt":"{{alt}}"},"posterframe":{"title":"{{title}}{{imageSourceName?? \\\\| imageSourceName}}","alt":"{{alt}}"},"posterplay":{"title":"Wiedergabe{{hasKeyboard?? [Leertaste]}}","aria-controls":"{{assetitem}}"},"replay":{"title":"{{isAudio??Erneut|Video erneut}} abspielen{{hasKeyboard?? [0]}}","aria-controls":"{{assetitem}}"},"jump-to-live":{"title":"Zu Live-Position springen","aria-controls":"{{assetitem}}"},"jumpmark-next":{"title":"Nchster Abschnitt: {{label}}{{hasKeyboard?? [Shift + L]}}","data-display-time":"{{displayTime}}","aria-disabled":"false"},"jumpmark-prev":{"title":"Vorheriger Abschnitt: {{label}}{{hasKeyboard?? [Shift + J]}}","data-display-time":"{{displayTime}}","aria-disabled":"false"},"jumpmark-next-none":{"title":"","aria-label":"Kein weiterer Abschnitt","data-display-time":"{{displayTime}}","aria-disabled":"true"},"jumpmark-prev-none":{"title":"","aria-label":"Kein vorheriger Abschnitt","data-display-time":"{{displayTime}}","aria-disabled":"true"},"jumpmarks-container":{"title":"","aria-label":"Highlights","role":"listbox"},"jumpmark":{"title":"","aria-label":"{{chapterTitle}}{{collapseCount?? und collapseCount weitere Highlights}}","role":"option"},"multi-jumpmark-popup":{"title":"","aria-label":"{{chapterTitle}}{{collapseCount?? und collapseCount weitere Highlights}}","role":"dialog"},"multi-jumpmark-select":{"title":"","aria-label":"Highlight-Gruppe","role":"listbox"},"jumpmarks":{"title":"Highlights an / aus","data-display-title":"Highlights"},"jumpmark-cta":{"title":"","aria-label":"{{title}}","role":"button"},"xr":{"title":"In den VR Mode wechseln"},"chromecast":{"title":"Chromecast"},"airplay":{"title":"Airplay"},"remote-select":{"title":"Auf anderem Gert wiedergeben"},"pip":{"title":"In den Bild-In-Bild Modus wechseln"},"variant-selector":{"title":"{{menuTitle}} an / aus","data-display-title":"{{menuTitle}}"},"title-back":{"title":"Zurck"},"title-close":{"title":"Schliessen"},"title-deeplink":{"title":"{{title}}"},"miniplayer-open":{"title":"Player ffnen"},"miniplayer-dismiss":{"title":"Player beenden"},"maxiplayer-close":{"title":"Player minimieren"},"dynamic-menu-button":{"title":"Kontextmen ffnen"},"multi-stream":{"title":"{{menuTitle}}"},"multi-stream-cta":{"title":"","role":"button","aria-label":"{{title}}{{subtitle?? - subtitle}}"},"multi-stream-container":{"title":"","aria-label":"{{subtitle}}","role":"dialog","aria-roledescription":"Auswahldialog"},"multi-stream-feed":{"title":"","aria-label":"{{title}}","role":"listbox","aria-roledescription":"Streamauswahl","aria-multiselectable":"false","aria-orientation":"horizontal"},"multi-stream-entry":{"role":"option","aria-disabled":"{{future??true|false}}","aria-selected":"{{selected}}","title":"{{title}}","aria-controls":"{{assetitem}}"}}'),n=JSON.parse('{"PC_JSON_FILE_NOT_FOUND":{"title":"Konfigurationsfehler","message":"Es wurde keine PlayerConfiguration-Json-Datei gefunden."},"PC_JSON_FILE_WRONG_URI":{"title":"Konfigurationsfehler","message":"Die URI f&uuml;r die PlayerConfiguration-Json-Datei ist falsch."},"PC_UNKNOWN":{"title":"Konfigurationsfehler","message":"Die PlayerConfiguration ist unbekannt."},"PC_INVALID":{"title":"Konfigurationsfehler","message":"Die PlayerConfiguration konnte nicht validiert werden."},"MC_JSON_FILE_NOT_FOUND":{"title":"Konfigurationsfehler","message":"Es wurde keine MediaCollection-Json-Datei gefunden."},"MC_JSON_FILE_WRONG_URI":{"title":"Konfigurationsfehler","message":"Die URI f&uuml;r die MediaCollection-Json-Datei ist falsch."},"MC_UNKNOWN":{"title":"Konfigurationsfehler","message":"Die MediaCollection ist unbekannt."},"MC_INVALID":{"title":"Konfigurationsfehler","message":"Die MediaCollection konnte nicht validiert werden."},"MEDIACANVAS_NOT_GENERATED":{"title":"Vorbergehender Fehler","message":"Die Wiedergabe konnte nicht begonnen werden."},"UNKNOWN_ERROR":{"title":"Unbekannter Fehler","message":"Es ist ein unbekannter Fehler aufgetreten. Wir bitten um Ihr Verst&auml;ndnis."},"ERROR_NETWORK":{"title":"Keine Verbindung mglich","message":"Bitte berprfen Sie die Internetverbindung und versuchen es noch einmal"},"ERROR_PLAYBACK":{"title":"Wiedergabefehler","message":"${Dieses Video|Dieser Audioclip} kann leider nicht abgespielt werden. Wir bitten um Ihr Verst&auml;ndnis."},"ERROR_PLAYBACK_GEOBLOCK":{"title":"Wiedergabefehler","message":"${Das Video|Der Audioclip} kann leider nicht abgespielt werden.","infoText":"Beim Abruf aus dem Ausland kann Geoblocking die Ursache sein. Mehr dazu: <a target=\'_blank\' href=\'https://hilfe.ard.de\'>hilfe.ard.de</a>"},"ERROR_PLAYBACK_MATURITY_16":{"title":"Altersbeschrnkung","icon":"fsk16","message":"${Das Video|Der Audioclip} ist fr Kinder und Jugendliche unter 16 Jahren nicht geeignet und kann ab 22 Uhr abgespielt werden."},"ERROR_PLAYBACK_MATURITY_18":{"title":"Altersbeschrnkung","icon":"fsk18","message":"${Das Video|Der Audioclip} ist fr Kinder und Jugendliche unter 18 Jahren nicht geeignet und kann ab 23 Uhr abgespielt werden."},"ERROR_PLAYBACK_MATURITY_LOGIN_16":{"title":"Altersbeschrnkung","icon":"fsk16","message":"${Das Video|Der Audioclip} ist fr Kinder und Jugendliche unter 16 Jahren nicht geeignet und kann ab 22 Uhr abgespielt werden.","infoText":"Wollen Sie die Altersbeschrnkung aufheben?","cta":{"title":"Anmelden und Alter besttigen","emitsEvent":"Player.MATURITY_LOGIN","eventPayload":{}}},"ERROR_PLAYBACK_MATURITY_LOGIN_18":{"title":"Altersbeschrnkung","icon":"fsk18","message":"${Das Video|Der Audioclip} ist fr Kinder und Jugendliche unter 18 Jahren nicht geeignet und kann ab 23 Uhr abgespielt werden.","infoText":"Wollen Sie die Altersbeschrnkung aufheben?","cta":{"title":"Anmelden und Alter besttigen","emitsEvent":"Player.MATURITY_LOGIN","eventPayload":{}}}}'),a={Strings:JSON.parse('{"metaInfo":{"ageRestrictionLabel":"Altersbeschrnkung","durationLabel":"Dauer"},"posterFrame":{"imgAlt":"ARD Player Poster"},"bottomSheet":{"backTitle":"Einen Bildschirm zurck gehen.","closeTitle":"Fenster schliessen."},"playlist":{"deleteItem":"Lschen","addItem":"In die Warteschlange","selectAll":"Warteschlange auswhlen","selectNone":"Auswahl aufheben","emptyStateHeading":"Deine Warteschlange ist noch leer","emptyState":"Fge selbst Titel hinzu, die als nchstes abgespielt werden","drawerTitle":"Warteschlange","listTitle":"Warteschlange","dividerTitle":"Nchster Titel aus {{seriesTitle??\\"seriesTitle\\"|der Sendung}}","autoplay":"Nchsten Titel automatisch abspielen","selectForEdit":"Zur Bearbeitung auswhlen"},"audioApp":{"closePlayer":"Beenden"},"notifications":{"timerSet":"Timer eingestellt","timerDisabled":"Timer abgestellt","timerTriggered":"Timer abgelaufen","remotePlaybackConnected":"Verbunden","remotePlaybackConnecting":"Verbinde mit {{deviceName}}","remotePlaybackDisconnected":"Verbindung getrennt"},"jumpmarks":{"cta":{"skip_intro":"Intro berspringen","skip_recap":"Zusammenfassung berspringen","skip_credits":"Abspann berspringen","skip_generic":"berspringen","play":"Abspielen","save":"Merken","saved":"Gemerkt","openLink":"ffnen"},"radioGuide":{"loading":"Lade Daten","title":"Was lief wann?","buttons":{"toggleClips":"Details","startOver":"Von Anfang an","play":"Abspielen","news":"Nachrichten","weather":"Wetter","traffic":"Verkehrsmeldungen"},"notify":{"musicClipWarning":"Aus lizenzrechtlichen Grnden ist der Titel nicht auswhlbar","showBeginOutOfRange":"Der Anfang der Sendung liegt auerhalb des Rckspulbereichs"}}},"elsInterstitial":{"future":"Dieser Livestream ist ab dem {{date}} um {{time}} abrufbar","today":"Live ab {{time}}","countdown":"Live in {{countdown}}"}}'),Accessibility:r,Errors:n}},25775:(e,t,i)=>{"use strict";i.d(t,{O:()=>p});var r=i(8055),n=i(75768),a=i(29183),s=i(68351),o=i(94406),l=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},d=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},c=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},u=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},h=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let p=(()=>{var e,t,i,p,f,v,m,y,g,b,E,w,S,C,A,T,I;let k,L,P=[o.JW],x=[];var _=L=class{static get isIPhoneDevice(){return u(_.I,e,"f")}static get isIPadDevice(){return u(_.I,t,"f")}static get isIPodDevice(){return u(_.I,i,"f")}static get isIOSDevice(){return u(_.I,p,"f")}static get isOldWebkit(){return u(_.I,f,"f")}static get isAndroidDevice(){return u(_.I,v,"f")}static get isKindle(){return u(_.I,m,"f")}static get isMobileDevice(){return u(_.I,y,"f")}static get browserIsOpera(){return u(_.I,g,"f")}static get browserIsFirefox(){return u(_.I,b,"f")}static get browserIsSafari(){return u(_.I,E,"f")}static get isFrame(){return u(_.I,w,"f")}static get isEmbedded(){var e;return!0===(null===(e=this.platformConfig)||void 0===e?void 0:e.isEmbedded)}static get isEmbeddedSheet(){var e,t;return null!==s.U.embeddedConfig&&null!==(t=null===(e=s.U.embeddedConfig[_.platform])||void 0===e?void 0:e.sheetLayout)&&void 0!==t&&t}static get isAndroidTV(){var e,t;return this.isEmbedded&&"android"===this.platform&&!0===(null===(t=null===(e=s.U.embeddedConfig)||void 0===e?void 0:e.android)||void 0===t?void 0:t.isTV)}static get platform(){var e,t,i,r;return null!==(e=_._platformKey)&&void 0!==e||(_._platformKey=s.U.hasEmbeddedConfig&&null!==(r=null===(i=null===(t=window.controller)||void 0===t?void 0:t.getPlatformKey)||void 0===i?void 0:i.call(t))&&void 0!==r?r:"web"),_._platformKey}static get platformConfig(){var e;return null===(e=s.U.embeddedConfig)||void 0===e?void 0:e[_.platform]}static get I(){var e;return null!==(e=_._instance)&&void 0!==e?e:new _}static init(){var e;null!==(e=_._instance)&&void 0!==e||(_._instance=new _)}static resetSingleton(){_._instance=void 0}constructor(){var n;e.set(this,void 0),t.set(this,void 0),i.set(this,void 0),p.set(this,void 0),f.set(this,void 0),v.set(this,void 0),m.set(this,void 0),y.set(this,void 0),g.set(this,void 0),b.set(this,void 0),E.set(this,void 0),w.set(this,void 0),S.set(this,!1),C.set(this,!1),A.set(this,!1),T.set(this,!1),I.set(this,!1),_._instance=this;const s=(0,a.Ed)(window.embeddedUA)?window.embeddedUA:navigator.userAgent;try{h(this,w,window.self!==window.top,"f")}catch(e){h(this,w,!0,"f")}if(u(this,w,"f")&&window.innerHeight>400&&h(this,w,!1,"f"),h(this,e,null!==/iPhone/i.exec(s),"f"),h(this,t,/iPad/i.test(s)||s.toLowerCase().includes("macintosh")&&"ontouchend"in document,"f"),h(this,i,null!==/iPod/i.exec(s),"f"),u(this,i,"f")&&h(this,e,!1,"f"),h(this,p,null!==/iOS/i.exec(s)||u(this,t,"f")||u(this,e,"f")||u(this,i,"f"),"f"),u(this,p,"f")){const e=/(\d+)(?:_\d+)* like Mac OS X/i.exec(s);h(this,f,parseInt(null!==(n=null==e?void 0:e[1])&&void 0!==n?n:"0",10)<=12,"f")}else h(this,f,!1,"f");h(this,v,null!==/Android/i.exec(s),"f");const o=null!==/PlayBook/i.exec(s),l=null!==/webOS/i.exec(s),d=null!==/BlackBerry/i.exec(s)||o,c=null!==/Windows Phone/i.exec(s);h(this,m,/(Kindle|Silk|KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA)/i.test(s),"f"),h(this,y,(d||l||u(this,v,"f")||u(this,p,"f")||c||u(this,m,"f"))&&!_.isAndroidTV,"f"),h(this,g,null!==/opera/i.exec(s.toLowerCase())||null!==/OPR\//i.exec(s.toLowerCase()),"f"),h(this,b,null!==/firefox/i.exec(s.toLowerCase()),"f"),h(this,E,!u(this,v,"f")&&(/Version\/[\d.]+.*Safari/.test(s)||/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s)||u(this,p,"f")||"ios"===_.platform),"f"),_.updateDebugSettings(),(0,r.Yz)(u(this,S,"f"),u(this,C,"f"),u(this,A,"f"),u(this,T,"f"))}static updateDebugSettings(){const e=n.x.get("",n.x.DEBUG,!0,"");if((0,a.Ed)(e)){h(_.I,S,!0,"f");const t=String(e).split("|");h(_.I,C,t.includes("playerEvent"),"f"),h(_.I,A,t.includes("pixelEvent"),"f"),h(_.I,T,t.includes("verboseUI"),"f"),h(_.I,I,t.includes("verboseUIEvents"),"f")}else h(_.I,S,!1,"f"),h(_.I,C,!1,"f"),h(_.I,A,!1,"f"),h(_.I,T,!1,"f"),h(_.I,I,!1,"f")}static get isDebug(){return u(_.I,S,"f")}static get isDebugPlayerEvent(){return u(_.I,C,"f")}static set isDebugPlayerEvent(e){h(_.I,C,e,"f"),(0,r.Yz)(!0,u(_.I,C,"f"),u(_.I,A,"f"),u(_.I,T,"f"),u(_.I,I,"f"))}static get isDebugPixelEvent(){return u(_.I,A,"f")}static set isDebugPixelEvent(e){h(_.I,A,e,"f"),(0,r.Yz)(!0,u(_.I,C,"f"),u(_.I,A,"f"),u(_.I,T,"f"),u(_.I,I,"f"))}static get isDebugVerboseUI(){return u(_.I,T,"f")}static set isDebugVerboseUI(e){h(_.I,T,e,"f"),(0,r.Yz)(!0,u(_.I,C,"f"),u(_.I,A,"f"),u(_.I,T,"f"),u(_.I,I,"f"))}static get isDebugVerboseUIEvents(){return u(_.I,I,"f")}static set isDebugVerboseUIEvents(e){h(_.I,I,e,"f"),(0,r.Yz)(!0,u(_.I,C,"f"),u(_.I,A,"f"),u(_.I,T,"f"),u(_.I,I,"f"))}static setEmbeddedConfig(e,t=!1){var i,r,n,a;s.U.setEmbeddedConfig(e),_._platformKey=null!==e&&null!==(n=null===(r=null===(i=window.controller)||void 0===i?void 0:i.getPlatformKey)||void 0===r?void 0:r.call(i))&&void 0!==n?n:"web",t&&(_.resetSingleton(),"web"!==_._platformKey&&(_._platformKey.startsWith("web")&&(_._platformKey="web"),h(_.I,v,"ios"!==_._platformKey,"f"),h(_.I,p,"ios"===_._platformKey,"f"),h(_.I,y,!0!==(null===(a=null==e?void 0:e.android)||void 0===a?void 0:a.isTV),"f")))}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,w=new WeakMap,S=new WeakMap,C=new WeakMap,A=new WeakMap,T=new WeakMap,I=new WeakMap,c(L,"Environment"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;l(null,k={value:L},P,{kind:"class",name:L.name,metadata:e},null,x),_=L=k.value,e&&Object.defineProperty(L,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})})(),L._instance=void 0,L._platformKey=void 0,L.debugBuild=!1,d(L,x),_=L})()},25856:(e,t,i)=>{"use strict";var r=i(39501),n=i(3549),a=i(47844),s=i(43345),o=i(26910),l=i(66693),d=i(10896),c=i(45493),u=i(33050),h=i(74606),p=i(86792),f=i(9536),v=a("Promise"),m=a("SuppressedError"),y=ReferenceError,g=u("asyncDispose"),b=u("toStringTag"),E="AsyncDisposableStack",w=h.set,S=h.getterFor(E),C="async-dispose",A="disposed",T=function(e){var t=S(e);if(t.state===A)throw new y(E+" already disposed");return t},I=function(){w(o(this,k),{type:E,state:"pending",stack:[]}),n||(this.disposed=!1)},k=I.prototype;d(k,{disposeAsync:function(){var e=this;return new v((function(t,i){var r=S(e);if(r.state===A)return t(void 0);r.state=A,n||(e.disposed=!0);var a,s=r.stack,o=s.length,l=!1,d=function(e){l?a=new m(e,a):(l=!0,a=e),c()},c=function(){if(o){var e=s[--o];s[o]=null;try{v.resolve(e()).then(c,d)}catch(e){d(e)}}else r.stack=null,l?i(a):t(void 0)};c()}))},use:function(e){return p(T(this),e,C),e},adopt:function(e,t){var i=T(this);return s(t),p(i,void 0,C,(function(){return t(e)})),e},defer:function(e){var t=T(this);s(e),p(t,void 0,C,e)},move:function(){var e=T(this),t=new I;return S(t).stack=e.stack,e.stack=[],e.state=A,n||(this.disposed=!0),t}}),n&&c(k,"disposed",{configurable:!0,get:function(){return S(this).state===A}}),l(k,g,k.disposeAsync,{name:"disposeAsync"}),l(k,b,E,{nonWritable:!0}),r({global:!0,constructor:!0,forced:f&&f<136},{AsyncDisposableStack:I})},26266:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(23539),s=i(63289);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return n(s,this,a(e))}})},26401:(module,e,t)=>{"use strict";var i=t(43501),r=t(76433),n=t(33857),a=i.ArrayBuffer,s=i.TypeError;module.exports=a&&r(a.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==n(e))throw new s("ArrayBuffer expected");return e.byteLength}},26420:(e,t,i)=>{"use strict";var r=i(39501),n=i(9325);r({target:"Map",stat:!0,forced:!0},{of:i(29069)(n.Map,n.set,!0)})},26484:(e,t,i)=>{"use strict";var r=i(39501),n=i(43112),a=i(74663),s=i(4302);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===s(a(this),(function(t){if(n(t,e))return!0}),!0)}})},26604:(e,t,i)=>{"use strict";var r=i(39501),n=i(43345),a=i(74663),s=i(9325),o=TypeError,l=s.get,d=s.has,c=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var i=a(this),r=arguments.length;n(t);var s=d(i,e);if(!s&&r<3)throw new o("Updating absent value");var u=s?l(i,e):n(r>2?arguments[2]:void 0)(e,i);return c(i,e,t(u,e,i)),i}})},26910:(module,e,t)=>{"use strict";var i=t(18850),r=TypeError;module.exports=function(e,t){if(i(t,e))return e;throw new r("Incorrect invocation")}},27495:(module,e,t)=>{"use strict";for(var i=t(538),r=t(47844),n=t(17649),a=t(71088),s=t(33050),o=r("Symbol"),l=o.isWellKnownSymbol,d=r("Object","getOwnPropertyNames"),c=n(o.prototype.valueOf),u=i("wks"),h=0,p=d(o),f=p.length;h<f;h++)try{var v=p[h];a(o[v])&&s(v)}catch(e){}module.exports=function(e){if(l&&l(e))return!0;try{for(var t=c(e),i=0,r=d(u),n=r.length;i<n;i++)if(u[r[i]]==t)return!0}catch(e){}return!1}},27597:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=n.toKey,o=n.getMap,l=n.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var i=arguments.length<3?void 0:s(arguments[2]),r=o(a(t),i,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var n=l.get(t);return n.delete(i),!!n.size||l.delete(t)}})},27846:(module,e,t)=>{"use strict";var i=t(17649),r=t(72748),n=t(20426),a=t(72909),s=TypeError,o=i([].push),l=i([].join);module.exports=function(e){var t=r(e),i=a(t);if(!i)return"";for(var d=arguments.length,c=[],u=0;;){var h=t[u++];if(void 0===h)throw new s("Incorrect template");if(o(c,n(h)),u===i)return l(c,"");u<d&&o(c,n(arguments[u]))}}},27970:(module,e,t)=>{"use strict";var i=t(33050),r=t(44489),n=t(41970).f,a=i("unscopables"),s=Array.prototype;void 0===s[a]&&n(s,a,{configurable:!0,value:r(null)}),module.exports=function(e){s[a][e]=!0}},28148:(module,e,t)=>{"use strict";var i=t(648),r=t(43345),n=t(81658),a=t(36767),s=t(20498),o=t(47844),l=t(77474),d=t(64291),c=function(e){var t=0===e,c=1===e,u=2===e,h=3===e;return function(e,p,f){n(e);var v=void 0!==p;!v&&t||r(p);var m=l(e),y=o("Promise"),g=m.iterator,b=m.next,E=0;return new y((function(e,r){var o=function(e){d(g,r,e,r)},l=function(){try{if(v)try{s(E)}catch(e){o(e)}y.resolve(n(i(b,g))).then((function(i){try{if(n(i).done)t?(f.length=E,e(f)):e(!h&&(u||void 0));else{var s=i.value;try{if(v){var m=p(s,E),b=function(i){if(c)l();else if(u)i?l():d(g,e,!1,r);else if(t)try{f[E++]=i,l()}catch(e){o(e)}else i?d(g,e,h||s,r):l()};a(m)?y.resolve(m).then(b,o):b(m)}else f[E++]=s,l()}catch(e){o(e)}}}catch(e){r(e)}}),r)}catch(e){r(e)}};l()}))}};module.exports={toArray:c(0),forEach:c(1),every:c(2),some:c(3),find:c(4)}},28389:(module,e,t)=>{"use strict";var i=t(54258);module.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){return 1},1)}))}},28867:(module,e,t)=>{"use strict";var i=t(43501),r=t(54258),n=t(9536),a=t(70150),s=i.structuredClone;module.exports=!!s&&!r((function(){if("DENO"===a&&n>92||"NODE"===a&&n>94||"BROWSER"===a&&n>97)return!1;var e=new ArrayBuffer(8),t=s(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},28895:(module,e,t)=>{"use strict";var i=t(54258);module.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},29069:(module,e,t)=>{"use strict";var i=t(81658);module.exports=function(e,t,r){return function(){for(var n=new e,a=arguments.length,s=0;s<a;s++){var o=arguments[s];r?t(n,i(o)[0],o[1]):t(n,o)}return n}}},29183:(e,t,i)=>{"use strict";i.d(t,{$N:()=>h,Ae:()=>m,Af:()=>L,Ed:()=>g,Ee:()=>l,I6:()=>T,Ie:()=>s,Iv:()=>D,MR:()=>k,N4:()=>f,OQ:()=>R,OT:()=>M,Pj:()=>N,UU:()=>b,Uk:()=>I,YQ:()=>o,a7:()=>O,b0:()=>w,bD:()=>S,bS:()=>P,cl:()=>E,g9:()=>A,i5:()=>u,ku:()=>v,mQ:()=>c,og:()=>d,pd:()=>p,z3:()=>y});var r=i(25775),n=i(45984),a=i(75768);function s(e){if(!e)return;const t=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.addEventListener("blur",t,{capture:!0});try{if(e.replaceChildren&&e.replaceChildren(),e.lastChild)for(;e.lastChild;)e.lastChild.remove()}catch(e){}e.removeEventListener("blur",t,{capture:!0})}function o(){var e;try{const t=null===(e=(new Error).stack)||void 0===e?void 0:e.replace(/^(error:?)?\s*\n?(at\s+)?((Module.)?currentStack[^\n]+\n)?/i,"");if(g(t))return t}catch(e){}return"no stacktrace"}function l(e,t){let i=t;if(t&&e)for(;null!=(null==i?void 0:i.parentNode);){if(i===e)return!0;i=i.parentNode}return!1}function d(e){if(Array.isArray(e))return e.map((e=>d(e)));if(b(e)){const t={};return Object.keys(e).forEach((i=>{t[i.replace(/^_(.+)$/,"$1")]="object"==typeof e[i]?d(e[i]):e[i]})),t}return e}function c(e,t){return!E(e)&&Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return!E(e)&&t in e}function h(e={},t={}){if(Array.isArray(t))return t;if(Array.isArray(e))return w(t)?e:t;const i=Object.assign(Object.assign({},e),t);for(const r of Object.keys(t)){if("__proto__"===r)continue;const n=e[r],a=t[r];b(n)?w(a)?i[r]=n:b(a)?i[r]=h(n,a):i[r]=a:w(n)&&(b(a)?i[r]=h(Array.isArray(a)?[]:{},a):w(a)||(i[r]=a))}return i}function p(...e){const t=0===e.length||"all"===e[0];e=e.filter((e=>"all"!==e.toLowerCase()));(t?n.R.getAllPlayer():n.R.getAllPlayer().filter((t=>t.getId()in e))).forEach((e=>{try{e.stopInternal()}catch(e){window.console.error("could not stop player",e)}try{e.dispose()}catch(e){window.console.error("could not dispose player",e)}n.R.forceRemovePlayer(e),n.R.autoPlayerAlreadyActive===e.getId()&&(n.R.autoPlayerAlreadyActive=!1);e.getTarget().remove()})),t&&(window.console.info("purge singletons"),r.O.resetSingleton(),n.R.resetSingleton(),a.x.resetSingleton())}function f(){const e=[];for(let t=0;t<36;t++)e[t]=Math.floor(16*Math.random());return e[14]=4,e[19]=3&e[19]|8,e[8]=e[13]=e[18]=e[23]=16,e.map((e=>"0123456789ABCDEF-"[e])).join("")}function v(e,t=null){var i,r,n,a;let s=null;(null!==(i=e.type)&&void 0!==i?i:"").startsWith("touch")||void 0!==window.TouchEvent&&e instanceof TouchEvent?u(e,"originalEvent")?s=e.originalEvent.changedTouches[0]:u(e,"changedTouches")&&(s=e.changedTouches[0]):s=e;const o=null!=t?t:null==s?void 0:s.target,l=null!==(r=null==o?void 0:o.getBoundingClientRect())&&void 0!==r?r:{left:0,top:0};return{left:(null!==(n=null==s?void 0:s.clientX)&&void 0!==n?n:0)-l.left,top:(null!==(a=null==s?void 0:s.clientY)&&void 0!==a?a:0)-l.top}}function m(e,t){if(E(e))return t;const i="string"==typeof e?parseInt(e,10):e;return isNaN(i)||!isFinite(i)?t:i}function y(e){return E(e)||"string"!=typeof e||/^\s*$/.test(e)}function g(e){return!y(e)}function b(e){return"object"==typeof e&&null!==e}function E(e){return null===e||w(e)}function w(e){return void 0===e||void 0===e}function S(e,t){if(b(e)&&b(t)){for(const i in e)if(!S(e[i],t[i]))return!1;for(const i in t)if(!S(e[i],t[i]))return!1;return!0}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let i=0;i<t.length;i++)if(!S(e[i],t[i]))return!1;return!0}return e===t}function C(e,t,i){let r=0,n=e.length-1;for(;r<=n;){const a=n+r>>1,s=i(t,e[a]);if(s>0)r=a+1;else{if(!(s<0))return a;n=a-1}}return-r-1}function A(e,t,i){let r=C(e,t,i);for(;r>0&&0===i(t,e[r-1]);)r--;return r}function T(e,t,i){const r=C(e,t,i);return r<0?null:e[r]}function I(e,t,i){const r=function(e,t,i){let r=C(e,t,i);for(;r>0&&r<e.length-2&&0===i(t,e[r+1]);)r++;return r}(e,t,i);return r<0?null:e[r]}function k(e,t,i,n,a){if(E(e))return null;const s=r.O.isDebug&&r.O.isDebugVerboseUIEvents&&n?o():null;function l(e){var r;if(null!=n){const a=e.type.startsWith("touch")?"touch":e.type.endsWith("click")?"click":e.type.includes("key")?"keydown":"other",o=null!==(r=this.dataset.initiatorName)&&void 0!==r?r:`${this.tagName}.${this.className}`;n.withExecutionContext({type:a,initiator:"other"===a?`${e.type}:${o}`:o},(()=>{s&&n.console.info("onEvent",t,s),i.call(this,e)}))}else i.call(this,e)}return e.addEventListener(t,l,a),()=>{e.removeEventListener(t,l,a)}}function L(e,t,i,n=!0){if(E(e))return null;let a=0,s=!1;const l=r.O.isDebug&&r.O.isDebugVerboseUIEvents?o():null;function d(d){var h,p,f;-1===this.tabIndex||this.classList.contains("ardplayer-button-disabled")||n&&!(performance.now()-a>=150)||s?r.O.isDebugVerboseUIEvents&&l&&i&&(s?i.console.info("synthClick skipped - drag",e,l):i.console.info(`synthClick skipped - tabIndex: ${-1===this.tabIndex}, disabled: ${this.classList.contains("ardplayer-button-disabled")}, touch: ${!(!n||performance.now()-a>=150)}`,e,l)):i?i.withExecutionContext({type:null!==(p=null===(h=i.executionContext)||void 0===h?void 0:h.type)&&void 0!==p?p:"click",initiator:null!==(f=this.dataset.initiatorName)&&void 0!==f?f:`${this.tagName}.${this.className}`},(()=>{l&&i.console.info("synthClick",l),t.call(this,d)})):(r.O.isDebug&&window.console.info("synthClick without context",null!=l?l:o()),t.call(this,d)),s=!1,this.removeEventListener("mousemove",u),c=null}let c=null;function u(e){s=s||null!==c&&Math.hypot(e.screenX-c.screenX,e.screenY-c.screenY)>8,s&&(this.removeEventListener("mousemove",u),c=null)}function h(e){s=!1,c=e,this.addEventListener("mousemove",u)}function p(d){var c;"touchcancel"===d.type||s||-1===this.tabIndex||this.classList.contains("ardplayer-button-disabled")?s&&r.O.isDebugVerboseUIEvents&&l&&i&&i.console.info("synthTouch skipped - swipe",e,l):(i?i.withExecutionContext({type:"touch",initiator:null!==(c=this.dataset.initiatorName)&&void 0!==c?c:`${this.tagName}.${this.className}`},(()=>{l&&i.console.info("synthTouch",l),t.call(this,d)})):(r.O.isDebug&&window.console.info("synthTouch without context",null!=l?l:o()),t.call(this,d)),n&&(a=performance.now(),d.cancelable&&d.preventDefault())),s=!1,f=null,delete this.dataset.touching}let f=null;function v(e){this.dataset.touching="true",s=!1,f=1===e.touches.length?e.touches[0]:null}const m=e=>{if(f&&1===e.touches.length){const t=e.touches[0];s=s||Math.hypot(t.screenX-f.screenX,t.screenY-f.screenY)>8}else s=!0};return e.addEventListener("click",d),e.addEventListener("mousedown",h),e.addEventListener("touchend",p),e.addEventListener("touchcancel",p),e.addEventListener("touchstart",v,{passive:!0}),e.addEventListener("touchmove",m,{passive:!0}),()=>{e.removeEventListener("click",d),e.removeEventListener("mousedown",h),e.removeEventListener("touchend",p),e.removeEventListener("touchcancel",p),e.removeEventListener("touchstart",v),e.removeEventListener("touchmove",m)}}function P(e,t){return!(y(e)||y(t)||e!==t&&M(e)!==M(t))}const x=[{width:426,height:240,label:"SD 240p"},{width:480,height:270,label:"SD 270p"},{width:640,height:360,label:"SD 360p"},{width:854,height:480,label:"SD 480p"},{width:960,height:540,label:"SD 540p"},{width:1280,height:720,label:"HD 720p"},{width:1920,height:1080,label:"HD 1080p"},{width:2560,height:1440,label:"UHD 1440p"},{width:3840,height:2160,label:"4K 2160p"},{width:4800,height:2700,label:"5K"},{width:8192,height:4608,label:"8K"}];function _(e,t){return x.reduce(((i,r)=>{const n=t?r.width:r.height;return Math.abs(n-e)<Math.abs((t?i.width:i.height)-e)?r:i}))}function O(e,t,i=!1,r=!1){var n,a;if(e<=0&&t<=0)return"Auto";e<=0&&(e=_(t,!1).width),t<=0&&(t=_(e,!0).height);const s=null!==(n=x.find((i=>i.width===e&&i.height===t)))&&void 0!==n?n:_(t,!1),o=(null!==(a=null==s?void 0:s.label)&&void 0!==a?a:"Unknown").split(" ");return i&&o.splice(1,0,"HDR"),r&&o.push("ULL"),o.join(" ")}function M(e){switch(e=e.toLowerCase()){case"sgn":case"gsg":case"dgs":return"DGS";case"sgg":return"DSGS";case"ase":return"ASL";case"bfi":return"BSL";case"fsl":return"LSF";case"und":case"":return"Unbekannt"}if("function"==typeof Intl.DisplayNames)try{const t=new Intl.DisplayNames([e],{type:"language"}).of(e);if(t&&t!==e)return t.length<e.length?M(t):t}catch(t){r.O.isDebug&&window.console.warn("could not resolve autonym",t instanceof Error?t.message:t,e)}switch(e){case"de":case"ger":case"deu":return"Deutsch";case"nds":return"Niederdeutsch";case"frs":return"Ostfriesisch";case"wep":return"Westflisch";case"bar":return"Bairisch";case"gsw":return"Schwiizerdtsch";case"nl":case"dut":case"nld":return"Nederlands";case"en":case"eng":return"English";case"fr":case"fre":case"fra":return"Franais";case"it":return"Italiano";case"es":return"Espaol"}if(e.indexOf("-")>0){const t=M(e.split("-")[0]);if(t.toLowerCase()!==e)return t}return e.toUpperCase()}function D(e){let t="";switch(e.kind){case"simple-language":t="Einfache Sprache";break;case"closed-captions":t="CC";break;case"forced":t="Erzwungen"}return y(t)?M(e.languageCode):`${M(e.languageCode)} (${t})`}function R(){const e=new WeakSet;return function(t,i){if(i instanceof Error){const e=Object.assign({},i);return i.name&&(e.name=i.name),i.message&&(e.message=i.message),i.stack&&(e.stack=i.stack),e}if(i instanceof Event){const e=Object.assign({},i);return i.type&&(e.type=i.type),i.target&&(e.target=i.target instanceof Element?i.target.outerHTML:i.target.toString()),e}if(b(i)){if(t.startsWith("_"))return;if(e.has(i))return"[RECURSION]";e.add(i)}return i}}function N(e){const t=getComputedStyle(e);return{top:parseInt(t.getPropertyValue("--safe-area-inset-top"),10),right:parseInt(t.getPropertyValue("--safe-area-inset-right"),10),bottom:parseInt(t.getPropertyValue("--safe-area-inset-bottom"),10),left:parseInt(t.getPropertyValue("--safe-area-inset-left"),10)}}},29450:(module,e,t)=>{"use strict";var i=t(20426);module.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},29574:(module,e,t)=>{"use strict";var i=t(648),r=t(8010),n=t(81658),a=t(44489),s=t(89208),o=t(10896),l=t(33050),d=t(74606),c=t(47844),u=t(593),h=t(95001),p=t(45952),f=t(18132),v=c("Promise"),m=l("toStringTag"),y="AsyncIteratorHelper",g="WrapForValidAsyncIterator",b=d.set,E=function(e){var t=!e,s=d.getterFor(e?g:y),l=function(e){var i=r((function(){return s(e)})),n=i.error,a=i.value;return n||t&&a.done?{exit:!0,value:n?v.reject(a):v.resolve(p(void 0,!0))}:{exit:!1,value:a}};return o(a(h),{next:function(){var e=l(this),t=e.value;if(e.exit)return t;var i=r((function(){return n(t.nextHandler(v))})),a=i.error,s=i.value;return a&&(t.done=!0),a?v.reject(s):v.resolve(s)},return:function(){var t=l(this),a=t.value;if(t.exit)return a;a.done=!0;var s,o,d=a.iterator,c=r((function(){if(a.inner)try{f(a.inner.iterator,"normal")}catch(e){return f(d,"throw",e)}return u(d,"return")}));return s=o=c.value,c.error?v.reject(o):void 0===s?v.resolve(p(void 0,!0)):(o=(c=r((function(){return i(s,d)}))).value,c.error?v.reject(o):e?v.resolve(o):v.resolve(o).then((function(e){return n(e),p(void 0,!0)})))}})},w=E(!0),S=E(!1);s(S,m,"Async Iterator Helper"),module.exports=function(e,t){var i=function(i,r){r?(r.iterator=i.iterator,r.next=i.next):r=i,r.type=t?g:y,r.nextHandler=e,r.counter=0,r.done=!1,b(this,r)};return i.prototype=t?w:S,i}},29768:(e,t,i)=>{"use strict";var r=i(39501),n=i(17649),a=i(38348),s=i(869),o=i(47442),l=i(3549),d=Object.getOwnPropertyDescriptor,c=/^\s*class\b/,u=n(c.exec);r({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(e){return a(e)&&!function(e){try{if(!l||!u(c,s(e)))return!1}catch(e){}var t=d(e,"prototype");return!!t&&o(t,"writable")&&!t.writable}(e)}})},29790:()=>{},29894:(e,t,i)=>{"use strict";i.d(t,{$o:()=>a,Lm:()=>o,g7:()=>s,ll:()=>p,rO:()=>l,t_:()=>h});var r=i(29183),n=i(25775);function a(e,t){return e.replace(/{(img?)?width}/gi,`${t}`)}function s(e,t){var i;if(!e)return;const n=null!==(i=e.querySelector("img"))&&void 0!==i?i:document.createElement("img");n.src="",(0,r.Ie)(e),n.src=t,l(n),e.append(n)}function o(e,t,i){var a;if(!e)return;const s=null!==(a=e.querySelector("img"))&&void 0!==a?a:document.createElement("img");s.src="",(0,r.Ie)(e);const o=function(e,t){if(!t)return[];let i=p([e],t);return i=i.length>0?i:[],i.map((e=>({metaImage:e,resolved:t.playerConfig.generic.imageTemplateConfig.resolveTemplate(e.url)})))}(t,i);if(0===o.length||!o.some((e=>e.resolved.length>0)))return;let d=null;const c=/\.(jpe?g|png)(\?.*)?$/i,u=i.mediaCollection.isAudioOnly?80:i.player.getTarget().offsetWidth;o.forEach((t=>{if(0!==t.resolved.length){if(!n.O.browserIsSafari){const i=document.createElement("source");i.srcset=t.resolved.map((e=>`${e.url} ${Math.max(1,e.minWidth)}w`)).join(", ");const n=function(e){if(!(0,r.z3)(e)){if(/\.(p?jpe?g|jfif)(\?.*)?/i.test(e))return"image/jpeg";const t=/\.(a?png|webp|gif|avif|hei[cf])(\?.*)?/i;if(t.test(e)){const i=t.exec(e);if(i&&i.length>1)return"image/"+i[1]}if(/\.svg(\?.*)?/i.test(e))return"image/svg+xml"}return null}(t.metaImage.url);n&&(i.type=n),e.append(i)}if(!d)for(const e of t.resolved)(!d||e.minWidth<=1.5*u)&&c.test(e.url)&&(d=e.url)}})),s.src=null!=d?d:o[0].resolved[0].url,l(s),e.append(s)}function l(e){if(e&&(0,r.cl)(e.dataset.loadFailureHandler)){e.addEventListener("load",d),e.addEventListener("error",u),e.dataset.loadFailureHandler=(0,r.Ed)(e.src)&&e.complete?"ok":"loading",(0,r.z3)(e.src)&&u.call(e);const t=Reflect.getPrototypeOf(e);t&&Reflect.defineProperty(e,"src",{configurable:!0,enumerable:!0,get:function(){return Reflect.get(t,"src",e)},set:function(i){if(Reflect.get(t,"src",e)!==i){if(i!==c){if((0,r.z3)(e.src))return void u.call(e);e.dataset.loadFailureHandler="loading"}Reflect.set(t,"src",i,e)}}})}}function d(){this.src!==c&&(this.dataset.loadFailureHandler="ok")}const c="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function u(){var e;if(this.src!==c){if("PICTURE"===(null===(e=this.parentElement)||void 0===e?void 0:e.nodeName)){const e=this.parentElement;if((0,r.Ie)(e),!n.O.browserIsSafari){const t=document.createElement("source");t.srcset=`${c} 1w`,t.type="image/gif",e.append(t)}this.src=c,e.append(this)}else this.src=c;this.dataset.loadFailureHandler="err"}}function h(e,t){const i=new Set,n=new Set,a=new Set;return p(e,t).forEach((e=>{(0,r.z3)(e.imageSourceName)||i.add(e.imageSourceName),(0,r.z3)(e.alt)||n.add(e.alt),(0,r.z3)(e.title)||a.add(e.title)})),{imageSourceName:0===i.size?null:[...i].join(", "),alt:0===n.size?null:[...n].join(", "),title:0===a.size?null:[...a].join(", ")}}function p(e,t,i=!1,n){var a,s;const o=e.length>0&&"audio"===e[0]?"1x1":"16x9",l=e=>((0,r.Ed)(n)&&e.sort(((e,t)=>e.colorScheme===t.colorScheme?0:e.colorScheme===n?-1:t.colorScheme===n||(0,r.z3)(e.colorScheme)?1:(0,r.z3)(t.colorScheme)?-1:0)),e.sort(((e,t)=>e.aspectRatio===t.aspectRatio?0:e.aspectRatio===o?-1:1)),e);let d=null!==(a=t.mediaCollection.meta.images.filter((t=>e.includes(t.kind)&&!(0,r.z3)(t.url))))&&void 0!==a?a:[];return 0!==d.length||i||!e.includes("preview")&&(d=null!==(s=t.mediaCollection.meta.images.filter((e=>"preview"===e.kind&&!(0,r.z3)(e.url))))&&void 0!==s?s:[],d.length>0)?l(d):l(t.mediaCollection.meta.images.filter((e=>!(0,r.z3)(e.url))))}},30072:(e,t,i)=>{"use strict";i(89299)},30081:(e,t,i)=>{"use strict";i(84553),i(2484)},30377:(e,t,i)=>{"use strict";var r=i(39501),n=i(90791);r({target:"Object",stat:!0,forced:!0},{iterateValues:function(e){return new n(e,"values")}})},30423:(e,t,i)=>{"use strict";i(6192)},30429:(e,t,i)=>{"use strict";var r=i(79315),n=i(55130).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},30476:(module,e,t)=>{"use strict";var i=t(47844),r=t(17649),n=String.fromCharCode,a=i("String","fromCodePoint"),s=r("".charAt),o=r("".charCodeAt),l=r("".indexOf),d=r("".slice),c=function(e,t){var i=o(e,t);return i>=48&&i<=57},u=function(e,t,i){if(i>=e.length)return-1;for(var r=0;t<i;t++){var n=h(o(e,t));if(-1===n)return-1;r=16*r+n}return r},h=function(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-97+10:e>=65&&e<=70?e-65+10:-1};module.exports=function(e){for(var t,i="",r=0,o=0;(o=l(e,"\\",o))>-1;){if(i+=d(e,r,o),++o===e.length)return;var h=s(e,o++);switch(h){case"b":i+="\b";break;case"t":i+="\t";break;case"n":i+="\n";break;case"v":i+="\v";break;case"f":i+="\f";break;case"r":i+="\r";break;case"\r":o<e.length&&"\n"===s(e,o)&&++o;case"\n":case"\u2028":case"\u2029":break;case"0":if(c(e,o))return;i+="\0";break;case"x":if(-1===(t=u(e,o,o+2)))return;o+=2,i+=n(t);break;case"u":if(o<e.length&&"{"===s(e,o)){var p=l(e,"}",++o);if(-1===p)return;t=u(e,o,p),o=p+1}else t=u(e,o,o+4),o+=4;if(-1===t||t>1114111)return;i+=a(t);break;default:if(c(h,0))return;i+=h}r=o}return i+d(e,r)}},30550:(e,t,i)=>{"use strict";var r=i(39501),n=i(45951),a=i(37062),s=i(47844),o=i(648),l=i(17649),d=i(38348),c=i(71083),u=i(20426),h=i(80177),p=i(37185),f=i(85774),v=i(54529),m=i(74606).set,y=String,g=SyntaxError,b=s("JSON","parse"),E=s("JSON","stringify"),w=s("Object","create"),S=s("Object","freeze"),C=l("".charAt),A=l("".slice),T=l([].push),I=v(),k=I.length,L="Unacceptable as raw JSON",P=function(e){return" "===e||"\t"===e||"\n"===e||"\r"===e};r({target:"JSON",stat:!0,forced:!a},{rawJSON:function(e){var t=u(e);if(""===t||P(C(t,0))||P(C(t,t.length-1)))throw new g(L);var i=b(t);if("object"==typeof i&&null!==i)throw new g(L);var r=w(null);return m(r,{type:"RawJSON"}),h(r,"rawJSON",t),n?S(r):r}}),E&&r({target:"JSON",stat:!0,arity:3,forced:!a},{stringify:function(e,t,i){var r=f(t),n=[],a=E(e,(function(e,t){var i=d(r)?o(r,this,y(e),t):t;return c(i)?I+(T(n,i.rawJSON)-1):i}),i);if("string"!=typeof a)return a;for(var s="",l=a.length,u=0;u<l;u++){var h=C(a,u);if('"'===h){var v=p(a,++u).end-1,m=A(a,u,v);s+=A(m,0,k)===I?n[A(m,k)]:'"'+m+'"',u=v}else s+=h}return s}})},30931:(module,e,t)=>{"use strict";var i,r=t(43501),n=t(12742),a=t(38348),s=t(70150),o=t(50700),l=t(80945),d=t(82309),c=r.Function,u=/MSIE .\./.test(o)||"BUN"===s&&((i=r.Bun.version.split(".")).length<3||"0"===i[0]&&(i[1]<3||"3"===i[1]&&"0"===i[2]));module.exports=function(e,t){var i=t?2:1;return u?function(r,s){var o=d(arguments.length,1)>i,u=a(r)?r:c(r),h=o?l(arguments,i):[],p=o?function(){n(u,this,h)}:u;return t?e(p,s):e(p)}:e}},31338:(e,t,i)=>{"use strict";i(24355)},32105:(e,t,i)=>{"use strict";i(38528)},32121:(e,t,i)=>{"use strict";var r=i(39501),n=i(27970);r({target:"Array",proto:!0,forced:!0},{uniqueBy:i(3120)}),n("uniqueBy")},32123:(module,e,t)=>{"use strict";var i=t(648),r=t(29574);module.exports=r((function(){return i(this.next,this.iterator)}),!0)},32585:(e,t,i)=>{"use strict";var r=i(39501),n=i(74663),a=i(71321),s=i(9325).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=n(this),i=arguments.length,r=0;r<i;)a(arguments[r++],(function(e,i){s(t,e,i)}),{AS_ENTRIES:!0});return t}})},32696:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,forced:!0},{umulh:function(e,t){var i=65535,r=+e,n=+t,a=r&i,s=n&i,o=r>>>16,l=n>>>16,d=(o*s>>>0)+(a*s>>>16);return o*l+(d>>>16)+((a*l>>>0)+(d&i)>>>16)}})},33050:(module,e,t)=>{"use strict";var i=t(43501),r=t(538),n=t(47442),a=t(54529),s=t(95024),o=t(95921),l=i.Symbol,d=r("wks"),c=o?l.for||l:l&&l.withoutSetter||a;module.exports=function(e){return n(d,e)||(d[e]=s&&n(l,e)?l[e]:c("Symbol."+e)),d[e]}},33311:module=>{"use strict";module.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},33513:(e,t,i)=>{"use strict";var r=i(39501),n=i(47651),a=i(54258);r({target:"Set",proto:!0,real:!0,forced:!i(49735)("difference",(function(e){return 0===e.size}))||a((function(){var e={size:1,has:function(){return!0},keys:function(){var e=0;return{next:function(){var i=e++>1;return t.has(1)&&t.clear(),{done:i,value:2}}}}},t=new Set([1,2,3,4]);return 3!==t.difference(e).size}))},{difference:n})},33645:(e,t,i)=>{"use strict";var r=i(39501),n=i(9325);r({target:"Map",stat:!0,forced:!0},{from:i(12408)(n.Map,n.set,!0)})},33652:(module,e,t)=>{"use strict";var i=t(81658);module.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},33694:(e,t,i)=>{"use strict";i.d(t,{k:()=>h});var r=i(25775),n=i(94581),a=i(94406),s=i(90732),o=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},d=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},c=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let h=(()=>{var e,t,i,h,p,f;let v,m,y=[a.JW],g=[];var b=m=class{constructor(r){this.player=r,e.set(this,0),t.set(this,""),i.set(this,!0),h.set(this,!1),p.set(this,!1),this._isReplay=!1,f.set(this,-1),this.looper=null,this.looper=new s.W(r)}triggerEvent(e,t){var i;r.O.isDebugPixelEvent&&this.player.console.log("[PIXEL]",e,t),null===(i=this.looper)||void 0===i||i.dispatchEvent(e,t)}loadStream(e){this.triggerEvent(b.STREAM_LOAD,{streamurl:e,isQualityChanged:c(this,h,"f"),isPluginChanged:c(this,p,"f")}),u(this,h,!1,"f"),u(this,p,!1,"f")}initialPlayTrigger(){c(this,i,"f")&&(u(this,i,!1,"f"),this.player.setExecutionContext(b.SUPER_INITIAL_PLAY,this.player.getExecutionContext(n.a.EVENT_PLAY_STREAM)),this.triggerPixel(b.SUPER_INITIAL_PLAY))}replayTrigger(){this._isReplay&&(this.player.setExecutionContext(b.SUPER_INITIAL_PLAY,this.player.getExecutionContext(n.a.EVENT_PLAY_STREAM)),this.player.pixelController.triggerPixel(b.SUPER_REPLAY),this._isReplay=!1)}triggerQualityChanged(e){u(this,h,!0,"f"),this.triggerPixel(e),this.triggerPixel(b.SUPER_QUALITY_CHANGE)}triggerTrackingPixelInitialPlay(){var t;0===c(this,e,"f")&&(this.triggerEvent(b.INTERACTION_INITIAL_PLAY,{}),u(this,e,(t=c(this,e,"f"),++t),"f"))}triggerPixelVolumeChange(e,t,i){clearTimeout(c(this,f,"f")),u(this,f,this.player.safeTimeoutWithContext(this.player.executionContext,(e=>{this.player&&this.triggerCustomPixel(b.SUPER_VOLUME_CHANGE,!0,{volume:e,muted:t})}),500,t?0:e/100),"f"),i&&this.triggerPixel(t?b.SUPER_VOLUME_MUTE:b.SUPER_VOLUME_UNMUTE)}triggerFullscreenToggleMouse(){this.triggerPixel(this.player.isFullscreen?b.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON:b.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON)}triggerPixel(e,i=!1){i&&e===c(this,t,"f")||(this.triggerEvent(e,{}),u(this,t,e,"f"))}triggerCustomPixel(e,i,r){i&&e===c(this,t,"f")||(this.triggerEvent(e,r),u(this,t,e,"f"))}dispose(){var e;null===(e=this.looper)||void 0===e||e.dispose(),this.looper=null}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,d(m,"PlayerPixelController"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;o(null,v={value:m},y,{kind:"class",name:m.name,metadata:e},null,g),b=m=v.value,e&&Object.defineProperty(m,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})})(),m.IA_MOUSE_SUBTITLE_ACTIVATION="ia_mouse_subtitle_activation",m.IA_MOUSE_SUBTITLE_DEACTIVATION="ia_mouse_subtitle_deactivation",m.IA_MOUSE_VOLUME_MUTE="ia_mouse_volume_mute",m.IA_MOUSE_VOLUME_UNMUTE="ia_mouse_volume_unmute",m.IA_MOUSE_VOLUME_CHANGE="ia_mouse_volume_change",m.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_mouse_scrubbar_change_position_forward",m.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND="ia_mouse_scrubbar_change_position_rewind",m.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_mouse_scrubbar_change_position_rewind_timeshift",m.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON="ia_mouse_fullscreen_activation_button",m.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON="ia_mouse_fullscreen_deactivation_button",m.IA_MOUSE_PLAY_BUTTON="ia_mouse_play_button",m.IA_MOUSE_PLAY_VIEWPORT="ia_mouse_play_viewport",m.IA_MOUSE_PAUSE_BUTTON="ia_mouse_pause_button",m.IA_MOUSE_PAUSE_VIEWPORT="ia_mouse_pause_viewport",m.IA_MOUSE_PLAY_AGAIN_BUTTON="ia_mouse_play_again_button",m.IA_MOUSE_PLAY_AGAIN_VIEWPORT="ia_mouse_play_again_viewport",m.IA_MOUSE_QUALITY_CHANGE="ia_mouse_quality_change",m.IA_KEY_SUBTITLE_ACTIVATION="ia_key_subtitle_activation",m.IA_KEY_SUBTITLE_DEACTIVATION="ia_key_subtitle_deactivation",m.IA_KEY_AUDIODESCRIPTION_ACTIVATION="ia_key_audiodescription_activation",m.IA_KEY_AUDIODESCRIPTION_DEACTIVATION="ia_key_audiodescription_deactivation",m.IA_KEY_SIGN_LANGUAGE_ACTIVATION="ia_key_sign_language_activation",m.IA_KEY_SIGN_LANGUAGE_DEACTIVATION="ia_key_sign_language_deactivation",m.IA_KEY_VOLUME_MUTE="ia_key_volume_mute",m.IA_KEY_VOLUME_UNMUTE="ia_key_volume_unmute",m.IA_KEY_VOLUME_CHANGE="ia_key_volume_change",m.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_key_scrubbar_change_position_forward",m.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND="ia_key_scrubbar_change_position_rewind",m.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_key_scrubbar_change_position_rewind_timeshift",m.IA_KEY_PLAY="ia_key_play",m.IA_KEY_PAUSE="ia_key_pause",m.IA_KEY_PLAY_AGAIN="ia_key_play_again",m.IA_KEY_QUALITY_CHANGE="ia_key_quality_change",m.STREAM_LOAD="stream_load",m.INTERACTION_INITIAL_PLAY="interaction_initial_play",m.CLIP_ENDED="clip_ended",m.SHARE="share",m.STREAM_ERROR="Stream_error",m.PLAYER_LOADING="player_loading",m.PLAYER_UNLOAD="player_unloading",m.SUPER_SUBTITLE_ACTIVATION="super_subtitle_activation",m.SUPER_SUBTITLE_DEACTIVATION="super_subtitle_deactivation",m.SUPER_SUBTITLE_UNAVAILABLE="super_subtitle_unavailable",m.SUPER_AUDIODESCRIPTION_ACTIVATION="super_audiodescription_activation",m.SUPER_AUDIODESCRIPTION_DEACTIVATION="super_audiodescription_deactivation",m.SUPER_AUDIODESCRIPTION_UNAVAILABLE="super_audiodescription_unavailable",m.SUPER_AUDIOSTREAM_CHANGE="super_audiostream_change",m.SUPER_SIGN_LANGUAGE_ACTIVATION="super_sign_language_activation",m.SUPER_SIGN_LANGUAGE_DEACTIVATION="super_sign_language_deactivation",m.SUPER_SIGN_LANGUAGE_UNAVAILABLE="super_sign_language_unavailable",m.SUPER_VOLUME_MUTE="super_volume_mute",m.SUPER_VOLUME_UNMUTE="super_volume_unmute",m.SUPER_VOLUME_CHANGE="super_volume_change",m.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD="super_scrubbar_change_position_forward",m.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND="super_scrubbar_change_position_rewind",m.SUPER_FULLSCREEN_ACTIVATION="super_fullscreen_activation",m.SUPER_FULLSCREEN_DEACTIVATION="super_fullscreen_deactivation",m.SUPER_PLAY="super_play",m.SUPER_PAUSE="super_pause",m.SUPER_REPLAY="super_replay",m.SUPER_INITIAL_PLAY="super_initial_play",m.SUPER_QUALITY_CHANGE="super_quality_change",m.SUPER_BACK_TO_LIVE="super_back_to_live",m.SUPER_DVR_ACTIVE="super_dvr_active",m.SUPER_PLAYHEAD_POSITION="super_playhead_position",m.JUMPMARK_SELECT="jumpmark_select",m.CTA_SELECT="cta_select",l(m,g),b=m})()},33829:(e,t,i)=>{"use strict";var r,n=i(8694),a=i(39501),s=i(43501),o=i(47844),l=i(17649),d=i(54258),c=i(54529),u=i(38348),h=i(65314),p=i(9918),f=i(36767),v=i(71088),m=i(71321),y=i(81658),g=i(14590),b=i(47442),E=i(80177),w=i(89208),S=i(72909),C=i(82309),A=i(36265),T=i(9325),I=i(61883),k=i(78920),L=i(946),P=i(24214),x=i(28867),_=s.Object,O=s.Array,M=s.Date,D=s.Error,R=s.TypeError,N=s.PerformanceMark,U=o("DOMException"),V=T.Map,j=T.has,B=T.get,F=T.set,H=I.Set,W=I.add,z=I.has,G=o("Object","keys"),$=l([].push),Y=l((!0).valueOf),K=l(1.1.valueOf),q=l("".valueOf),J=l(M.prototype.getTime),Q=c("structuredClone"),Z="DataCloneError",X="Transferring",ee=function(e){return!d((function(){var t=new s.Set([7]),i=e(t),r=e(_(7));return i===t||!i.has(7)||!f(r)||7!=+r}))&&e},te=function(e,t){return!d((function(){var i=new t,r=e({a:i,b:i});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===i.stack)}))},ie=s.structuredClone,re=n||!te(ie,D)||!te(ie,U)||(r=ie,!!d((function(){var e=r(new s.AggregateError([1],Q,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==Q||3!==e.cause}))),ne=!ie&&ee((function(e){return new N(Q,{detail:e}).detail})),ae=ee(ie)||ne,se=function(e){throw new U("Uncloneable type: "+e,Z)},oe=function(e,t){throw new U((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Z)},le=function(e,t){return ae||oe(t),ae(e)},de=function(e,t,i){if(j(t,e))return B(t,e);var r,n,a,o,l,d;if("SharedArrayBuffer"===(i||g(e)))r=ae?ae(e):e;else{var c=s.DataView;c||u(e.slice)||oe("ArrayBuffer");try{if(u(e.slice)&&!e.resizable)r=e.slice(0);else{n=e.byteLength,a="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,r=new ArrayBuffer(n,a),o=new c(e),l=new c(r);for(d=0;d<n;d++)l.setUint8(d,o.getUint8(d))}}catch(e){throw new U("ArrayBuffer is detached",Z)}}return F(t,e,r),r},ce=function(e,t){if(v(e)&&se("Symbol"),!f(e))return e;if(t){if(j(t,e))return B(t,e)}else t=new V;var i,r,n,a,l,d,c,h,p=g(e);switch(p){case"Array":n=O(S(e));break;case"Object":n={};break;case"Map":n=new V;break;case"Set":n=new H;break;case"RegExp":n=new RegExp(e.source,A(e));break;case"Error":switch(r=e.name){case"AggregateError":n=new(o(r))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":n=new(o(r));break;case"CompileError":case"LinkError":case"RuntimeError":n=new(o("WebAssembly",r));break;default:n=new D}break;case"DOMException":n=new U(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":n=de(e,t,p);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":d="DataView"===p?e.byteLength:e.length,n=function(e,t,i,r,n){var a=s[t];return f(a)||oe(t),new a(de(e.buffer,n),i,r)}(e,p,e.byteOffset,d,t);break;case"DOMQuad":try{n=new DOMQuad(ce(e.p1,t),ce(e.p2,t),ce(e.p3,t),ce(e.p4,t))}catch(t){n=le(e,p)}break;case"File":if(ae)try{n=ae(e),g(n)!==p&&(n=void 0)}catch(e){}if(!n)try{n=new File([e],e.name,e)}catch(e){}n||oe(p);break;case"FileList":if(a=function(){var e;try{e=new s.DataTransfer}catch(t){try{e=new s.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(l=0,d=S(e);l<d;l++)a.items.add(ce(e[l],t));n=a.files}else n=le(e,p);break;case"ImageData":try{n=new ImageData(ce(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){n=le(e,p)}break;default:if(ae)n=ae(e);else switch(p){case"BigInt":n=_(e.valueOf());break;case"Boolean":n=_(Y(e));break;case"Number":n=_(K(e));break;case"String":n=_(q(e));break;case"Date":n=new M(J(e));break;case"Blob":try{n=e.slice(0,e.size,e.type)}catch(e){oe(p)}break;case"DOMPoint":case"DOMPointReadOnly":i=s[p];try{n=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(e){oe(p)}break;case"DOMRect":case"DOMRectReadOnly":i=s[p];try{n=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(e){oe(p)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=s[p];try{n=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(e){oe(p)}break;case"AudioData":case"VideoFrame":u(e.clone)||oe(p);try{n=e.clone()}catch(e){se(p)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":oe(p);default:se(p)}}switch(F(t,e,n),p){case"Array":case"Object":for(c=G(e),l=0,d=S(c);l<d;l++)h=c[l],E(n,h,ce(e[h],t));break;case"Map":e.forEach((function(e,i){F(n,ce(i,t),ce(e,t))}));break;case"Set":e.forEach((function(e){W(n,ce(e,t))}));break;case"Error":w(n,"message",ce(e.message,t)),b(e,"cause")&&w(n,"cause",ce(e.cause,t)),"AggregateError"===r?n.errors=ce(e.errors,t):"SuppressedError"===r&&(n.error=ce(e.error,t),n.suppressed=ce(e.suppressed,t));case"DOMException":P&&w(n,"stack",ce(e.stack,t))}return n};a({global:!0,enumerable:!0,sham:!x,forced:re},{structuredClone:function(e){var t,i,r=C(arguments.length,1)>1&&!p(arguments[1])?y(arguments[1]):void 0,n=r?r.transfer:void 0;void 0!==n&&(i=function(e,t){if(!f(e))throw new R("Transfer option cannot be converted to a sequence");var i=[];m(e,(function(e){$(i,y(e))}));for(var r,n,a,o,l,d=0,c=S(i),p=new H;d<c;){if(r=i[d++],"ArrayBuffer"===(n=g(r))?z(p,r):j(t,r))throw new U("Duplicate transferable",Z);if("ArrayBuffer"!==n){if(x)o=ie(r,{transfer:[r]});else switch(n){case"ImageBitmap":a=s.OffscreenCanvas,h(a)||oe(n,X);try{(l=new a(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),o=l.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":u(r.clone)&&u(r.close)||oe(n,X);try{o=r.clone(),r.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":oe(n,X)}if(void 0===o)throw new U("This object cannot be transferred: "+n,Z);F(t,r,o)}else W(p,r)}return p}(n,t=new V));var a=ce(e,t);return i&&function(e){k(e,(function(e){x?ae(e,{transfer:[e]}):u(e.transfer)?e.transfer():L?L(e):oe("ArrayBuffer",X)}))}(i),a}})},33857:(module,e,t)=>{"use strict";var i=t(17649),r=i({}.toString),n=i("".slice);module.exports=function(e){return n(r(e),8,-1)}},33880:(module,e,t)=>{"use strict";var i=t(54258);module.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},34408:(module,e,t)=>{"use strict";var i=t(36767);module.exports=function(e){return i(e)||null===e}},34573:(e,t,i)=>{"use strict";i(39501)({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:i(43689)})},34620:module=>{"use strict";module.exports=function(e){try{var t=new Set,i={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return t.clear(),t.add(4),function(){return{done:!0}}}})}},r=t[e](i);return 1===r.size&&4===r.values().next().value}catch(e){return!1}}},34636:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},34733:(e,t,i)=>{"use strict";i.d(t,{Gv:()=>d,ig:()=>c,vM:()=>u,yJ:()=>h});var r=i(29183),n=i(25775),a=i(94406),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},o=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},l=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let d=(()=>{let e,t,i=[a.JW],n=[];t=class{constructor(e,t){this.width={min:50,max:1080,stepSize:200},this.size=[{minWidth:0,value:"xs"},{minWidth:414,value:"s"},{minWidth:475,value:"m"},{minWidth:851,value:"l"},{minWidth:1441,value:"xl"}],e&&Object.assign(this.width,e),t&&t.length>0&&(this.size=t),this.size.sort(((e,t)=>e.minWidth-t.minWidth))}resolveTemplate(e){if((0,r.z3)(e))return[];const t=/{width}/g,i=t.test(e),n=/{size}/g,a=n.test(e);if(!a&&!i)return[{minWidth:0,url:e}];const s=[];if(i){for(let e=this.width.min;e<this.width.max;e+=this.width.stepSize)s.push(e);s.push(this.width.max)}return a&&s.push(...this.size.map((e=>e.minWidth))),s.sort(((e,t)=>e-t)).map((r=>{var s,o;let l=e;if(i&&(l=l.replace(t,(r>=this.width.max?this.width.max:r<=this.width.min?this.width.min:r-(r-this.width.min)%this.width.stepSize).toString(10))),a){const e=null!==(s=this.size.find((e=>e.minWidth>=r)))&&void 0!==s?s:this.size[this.size.length-1],t=null!==(o=this.size.find((e=>e.minWidth<=r)))&&void 0!==o?o:this.size[0];l=l.replace(n,(e.minWidth-r<r-t.minWidth?e:t).value)}return{minWidth:r,url:l}}))}};return l(t,"ImageTemplateConfig"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,n),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),o(t,n)})(),t})(),c=(()=>{let e,t,i=[a.JW],r=[];t=class{constructor(e=100,t=!1,i=!1){this.volumePercent=e,this.isAutoplay=t,this.isShowSubtitleAtStart=i,this.isTimeRemainingDisplay=!1,this.isDvrEnabled=!1,this.isMuted=!1,this.vodStartSeconds=0,this.vodEndSeconds=0,this.vodInitialPlayheadSeconds=0,this.imageTemplateConfig=new d,this.volumePercent=Math.max(0,Math.min(100,e))}static validate(e){return"number"==typeof e.volumePercent&&e.volumePercent>=0&&e.volumePercent<=100&&"boolean"==typeof e.isAutoplay&&"boolean"==typeof e.isShowSubtitleAtStart}};return l(t,"GenericConfig"),(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),o(t,r)})(),t})(),u=(()=>{let e,t,i=[a.JW],d=[];t=class{constructor(e,t=-1,i){this.baseUrl=e,this.forcedVolumePercent=t,this.isForcedAutoplay=i,this.forcedVolumePercent=-1===(null!=t?t:-1)?-1:Math.max(0,Math.min(100,t))}static validate(e){return("web"!==n.O.platform||!(0,r.z3)(e.baseUrl))&&(-1===e.forcedVolumePercent||e.forcedVolumePercent>=0&&e.forcedVolumePercent<=100)}};return l(t,"WebConfig"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,d),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),o(t,d)})(),t})(),h=(()=>{let e,t,i=[a.JW],d=[];t=class{constructor(e,t,i={}){this.generic=e,this.web=t,this.pluginData=i}get allowEmbeddedAutoplay(){var e,t;return null!==(t=null===(e=n.O.platformConfig)||void 0===e?void 0:e.allowAutoplay)&&void 0!==t&&t}getPluginData(e){const t=`${e}@${n.O.platform}`,i=`${e}@all`;return(0,r.mQ)(this.pluginData,t)||(0,r.mQ)(this.pluginData,i)?(0,r.$N)(this.pluginData[i],this.pluginData[t]):{}}hasPluginData(e){const t=`${e}@${n.O.platform}`,i=`${e}@all`;return(0,r.mQ)(this.pluginData,t)||(0,r.mQ)(this.pluginData,i)}static validate(e){return c.validate(e.generic)&&u.validate(e.web)&&!!e.pluginData}};return l(t,"PlayerConfig"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,d),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),o(t,d)})(),t})()},34772:(module,e,t)=>{"use strict";var i=t(17649),r=t(70856),n=t(20426),a=t(66293),s=i("".charAt),o=i("".charCodeAt),l=i("".slice),d=function(e){return function(t,i){var d,c,u=n(a(t)),h=r(i),p=u.length;return h<0||h>=p?e?"":void 0:(d=o(u,h))<55296||d>56319||h+1===p||(c=o(u,h+1))<56320||c>57343?e?s(u,h):d:e?l(u,h,h+2):c-56320+(d-55296<<10)+65536}};module.exports={codeAt:d(!1),charAt:d(!0)}},34913:(e,t,i)=>{"use strict";i(25366)},35515:(e,t,i)=>{"use strict";var r=i(39501),n=i(90791);r({target:"Object",stat:!0,forced:!0},{iterateKeys:function(e){return new n(e,"keys")}})},36026:(module,e,t)=>{"use strict";t(63542),t(1377);var i=t(47844),r=t(17649),n=t(538),a=i("Map"),s=i("WeakMap"),o=r([].push),l=n("metadata"),d=l.store||(l.store=new s),c=function(e,t,i){var r=d.get(e);if(!r){if(!i)return;d.set(e,r=new a)}var n=r.get(t);if(!n){if(!i)return;r.set(t,n=new a)}return n};module.exports={store:d,getMap:c,has:function(e,t,i){var r=c(t,i,!1);return void 0!==r&&r.has(e)},get:function(e,t,i){var r=c(t,i,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,i,r){c(i,r,!0).set(e,t)},keys:function(e,t){var i=c(e,t,!1),r=[];return i&&i.forEach((function(e,t){o(r,t)})),r},toKey:function(e){return void 0===e||"symbol"==typeof e?e:String(e)}}},36061:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(17649),s=i(66293),o=i(20426),l=i(54258),d=Array,c=a("".charAt),u=a("".charCodeAt),h=a([].join),p="".toWellFormed,f=p&&l((function(){return"1"!==n(p,1)}));r({target:"String",proto:!0,forced:f},{toWellFormed:function(){var e=o(s(this));if(f)return n(p,e);for(var t=e.length,i=d(t),r=0;r<t;r++){var a=u(e,r);55296!=(63488&a)?i[r]=c(e,r):a>=56320||r+1>=t||56320!=(64512&u(e,r+1))?i[r]="":(i[r]=c(e,r),i[++r]=c(e,r))}return h(i,"")}})},36265:(module,e,t)=>{"use strict";var i=t(648),r=t(47442),n=t(18850),a=t(97426),s=t(33652),o=RegExp.prototype;module.exports=a.correct?function(e){return e.flags}:function(e){return a.correct||!n(o,e)||r(e,"flags")?e.flags:i(s,e)}},36422:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(23539),s=i(95817);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return n(s,this,a(e))}})},36767:(module,e,t)=>{"use strict";var i=t(38348);module.exports=function(e){return"object"==typeof e?null!==e:i(e)}},36782:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(74663),s=i(9325),o=i(4302),l=s.Map,d=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=new l;return o(t,(function(e,n){d(r,n,i(e,n,t))})),r}})},37030:(module,e,t)=>{"use strict";t(63542),t(1377);var i=t(47844),r=t(44489),n=t(36767),a=Object,s=TypeError,o=i("Map"),l=i("WeakMap"),d=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=r(null)};d.prototype.get=function(e,t){return this[e]||(this[e]=t())},d.prototype.next=function(e,t,i){var r=i?this.objectsByIndex[e]||(this.objectsByIndex[e]=new l):this.primitives||(this.primitives=new o),n=r.get(t);return n||r.set(t,n=new d),n};var c=new d;module.exports=function(){var e,t,i=c,r=arguments.length;for(e=0;e<r;e++)n(t=arguments[e])&&(i=i.next(e,t,!0));if(this===a&&i===c)throw new s("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)n(t=arguments[e])||(i=i.next(e,t,!1));return i}},37062:(module,e,t)=>{"use strict";var i=t(54258);module.exports=!i((function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e}))},37185:(module,e,t)=>{"use strict";var i=t(17649),r=t(47442),n=SyntaxError,a=parseInt,s=String.fromCharCode,o=i("".charAt),l=i("".slice),d=i(/./.exec),c={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},u=/^[\da-f]{4}$/i,h=/^[\u0000-\u001F]$/;module.exports=function(e,t){for(var i=!0,p="";t<e.length;){var f=o(e,t);if("\\"===f){var v=l(e,t,t+2);if(r(c,v))p+=c[v],t+=2;else{if("\\u"!==v)throw new n('Unknown escape sequence: "'+v+'"');var m=l(e,t+=2,t+4);if(!d(u,m))throw new n("Bad Unicode escape at: "+t);p+=s(a(m,16)),t+=4}}else{if('"'===f){i=!1,t++;break}if(d(h,f))throw new n("Bad control character in string literal at: "+t);p+=f,t++}}if(i)throw new n("Unterminated string at: "+t);return{value:p,end:t}}},37362:(module,e,t)=>{"use strict";var i=t(43501);module.exports=function(e,t){var r=i.Iterator,n=r&&r.prototype,a=n&&n[e],s=!1;if(a)try{a.call({next:function(){return{done:!0}},return:function(){s=!0}},-1)}catch(e){e instanceof t||(s=!1)}if(!s)return a}},38151:(module,e,t)=>{"use strict";var i=t(61883),r=t(78920),n=i.Set,a=i.add;module.exports=function(e){var t=new n;return r(e,(function(e){a(t,e)})),t}},38348:module=>{"use strict";var e="object"==typeof document&&document.all;module.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(e){return"function"==typeof e}},38427:(e,t,i)=>{"use strict";var r=i(39501),n=i(89709);n&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return n(this,arguments.length?arguments[0]:void 0,!0)}})},38528:(e,t,i)=>{"use strict";var r=i(39501),n=i(44312);r({target:"Set",proto:!0,real:!0,forced:!i(49735)("isSupersetOf",(function(e){return!e}))},{isSupersetOf:n})},38910:(e,t,i)=>{"use strict";var r=i(39501),n=i(61883);r({target:"Set",stat:!0,forced:!0},{of:i(29069)(n.Set,n.add,!1)})},39026:(module,e,t)=>{"use strict";var i,r,n,a=t(54258),s=t(38348),o=t(36767),l=t(44489),d=t(77162),c=t(66693),u=t(33050),h=t(8694),p=u("iterator"),f=!1;[].keys&&("next"in(n=[].keys())?(r=d(d(n)))!==Object.prototype&&(i=r):f=!0),!o(i)||a((function(){var e={};return i[p].call(e)!==e}))?i={}:h&&(i=l(i)),s(i[p])||c(i,p,(function(){return this})),module.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},39165:(e,t,i)=>{"use strict";var r=i(648),n=i(66693),a=i(47844),s=i(593),o=i(47442),l=i(33050),d=i(95001),c=l("asyncDispose"),u=a("Promise");o(d,c)||n(d,c,(function(){var e=this;return new u((function(t,i){var n=s(e,"return");n?u.resolve(r(n,e)).then((function(){t(void 0)}),i):t(void 0)}))}))},39501:(module,e,t)=>{"use strict";var i=t(43501),r=t(86776).f,n=t(89208),a=t(66693),s=t(21582),o=t(21729),l=t(67273);module.exports=function(e,t){var d,c,u,h,p,f=e.target,v=e.global,m=e.stat;if(d=v?i:m?i[f]||s(f,{}):i[f]&&i[f].prototype)for(c in t){if(h=t[c],u=e.dontCallGetSet?(p=r(d,c))&&p.value:d[c],!l(v?c:f+(m?".":"#")+c,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;o(h,u)}(e.sham||u&&u.sham)&&n(h,"sham",!0),a(d,c,h,e)}}},39674:(module,e,t)=>{"use strict";var i=t(41970).f,r=t(47442),n=t(33050)("toStringTag");module.exports=function(e,t,a){e&&!a&&(e=e.prototype),e&&!r(e,n)&&i(e,n,{configurable:!0,value:t})}},39785:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(47193),s=i(61883),o=i(78920),l=s.Set,d=s.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=new l;return o(t,(function(e){i(e,e,t)&&d(r,e)})),r}})},39798:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(3549),s=i(58140),o=i(43345),l=i(81658),d=i(26910),c=i(38348),u=i(9918),h=i(36767),p=i(593),f=i(66693),v=i(10896),m=i(45493),y=i(4938),g=i(33050),b=i(74606),E=g("observable"),w="Observable",S="Subscription",C="SubscriptionObserver",A=b.getterFor,T=b.set,I=A(w),k=A(S),L=A(C),P=function(e){this.observer=l(e),this.cleanup=null,this.subscriptionObserver=null};P.prototype={type:S,clean:function(){var e=this.cleanup;if(e){this.cleanup=null;try{e()}catch(e){y(e)}}},close:function(){if(!a){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=null},isClosed:function(){return null===this.observer}};var x=function(e,t){var i,r=T(this,new P(e));a||(this.closed=!1);try{(i=p(e,"start"))&&n(i,e,this)}catch(e){y(e)}if(!r.isClosed()){var s=r.subscriptionObserver=new _(r);try{var l=t(s),d=l;u(l)||(r.cleanup=c(l.unsubscribe)?function(){d.unsubscribe()}:o(l))}catch(e){return void s.error(e)}r.isClosed()&&r.clean()}};x.prototype=v({},{unsubscribe:function(){var e=k(this);e.isClosed()||(e.close(),e.clean())}}),a&&m(x.prototype,"closed",{configurable:!0,get:function(){return k(this).isClosed()}});var _=function(e){T(this,{type:C,subscriptionState:e}),a||(this.closed=!1)};_.prototype=v({},{next:function(e){var t=L(this).subscriptionState;if(!t.isClosed()){var i=t.observer;try{var r=p(i,"next");r&&n(r,i,e)}catch(e){y(e)}}},error:function(e){var t=L(this).subscriptionState;if(!t.isClosed()){var i=t.observer;t.close();try{var r=p(i,"error");r?n(r,i,e):y(e)}catch(e){y(e)}t.clean()}},complete:function(){var e=L(this).subscriptionState;if(!e.isClosed()){var t=e.observer;e.close();try{var i=p(t,"complete");i&&n(i,t)}catch(e){y(e)}e.clean()}}}),a&&m(_.prototype,"closed",{configurable:!0,get:function(){return L(this).subscriptionState.isClosed()}});var O=function(e){d(this,M),T(this,{type:w,subscriber:o(e)})},M=O.prototype;v(M,{subscribe:function(e){var t=arguments.length;return new x(c(e)?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:h(e)?e:{},I(this).subscriber)}}),f(M,E,(function(){return this})),r({global:!0,constructor:!0,forced:!0},{Observable:O}),s(w)},39875:(e,t,i)=>{"use strict";var r=i(39501),n=i(7190),a=i(4596).remove;r({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=n(this),i=!0,r=0,s=arguments.length;r<s;r++)e=a(t,arguments[r]),i=i&&e;return!!i}})},40032:(e,t,i)=>{"use strict";i(36061)},40127:(e,t,i)=>{"use strict";i(4834)},40413:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(23539),s=i(15818);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return n(s,this,a(e))}})},40416:(e,t,i)=>{"use strict";var r=i(71351),n=i(67140),a=r.aTypedArray,s=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("groupBy",(function(e){var t=arguments.length>1?arguments[1]:void 0;return n(a(this),e,t,s)}),!0)},40426:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(43345),s=i(81658),o=i(36767),l=i(47844),d=i(77474),c=i(64291),u=l("Promise"),h=TypeError;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:function(e){s(this),a(e);var t=d(this),i=t.iterator,r=t.next,l=arguments.length<2,p=l?void 0:arguments[1],f=0;return new u((function(t,a){var d=function(e){c(i,a,e,a)},v=function(){try{u.resolve(s(n(r,i))).then((function(i){try{if(s(i).done)l?a(new h("Reduce of empty iterator with no initial value")):t(p);else{var r=i.value;if(l)l=!1,p=r,v();else try{var n=e(p,r,f),c=function(e){p=e,v()};o(n)?u.resolve(n).then(c,d):c(n)}catch(e){d(e)}}f++}catch(e){a(e)}}),a)}catch(e){a(e)}};v()}))}})},40811:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(71321),s=i(43345),o=i(81658),l=i(77474),d=i(18132),c=i(37362)("find",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:c},{find:function(e){o(this);try{s(e)}catch(e){d(this,"throw",e)}if(c)return n(c,this,e);var t=l(this),i=0;return a(t,(function(t,r){if(e(t,i++))return r(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},40875:(e,t,i)=>{"use strict";var r,n=i(45951),a=i(43501),s=i(17649),o=i(10896),l=i(51814),d=i(55903),c=i(52216),u=i(36767),h=i(74606).enforce,p=i(54258),f=i(50937),v=Object,m=Array.isArray,y=v.isExtensible,g=v.isFrozen,b=v.isSealed,E=v.freeze,w=v.seal,S=!a.ActiveXObject&&"ActiveXObject"in a,C=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},A=d("WeakMap",C,c),T=A.prototype,I=s(T.set);if(f)if(S){r=c.getConstructor(C,"WeakMap",!0),l.enable();var k=s(T.delete),L=s(T.has),P=s(T.get);o(T,{delete:function(e){if(u(e)&&!y(e)){var t=h(this);return t.frozen||(t.frozen=new r),k(this,e)||t.frozen.delete(e)}return k(this,e)},has:function(e){if(u(e)&&!y(e)){var t=h(this);return t.frozen||(t.frozen=new r),L(this,e)||t.frozen.has(e)}return L(this,e)},get:function(e){if(u(e)&&!y(e)){var t=h(this);return t.frozen||(t.frozen=new r),L(this,e)?P(this,e):t.frozen.get(e)}return P(this,e)},set:function(e,t){if(u(e)&&!y(e)){var i=h(this);i.frozen||(i.frozen=new r),L(this,e)?I(this,e,t):i.frozen.set(e,t)}else I(this,e,t);return this}})}else n&&p((function(){var e=E([]);return I(new A,e,1),!g(e)}))&&o(T,{set:function(e,t){var i;return m(e)&&(g(e)?i=E:b(e)&&(i=w)),I(this,e,t),i&&i(e),this}})},41076:(e,t,i)=>{"use strict";var r=i(39501),n=i(74663),a=i(9325).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=n(this),i=!0,r=0,s=arguments.length;r<s;r++)e=a(t,arguments[r]),i=i&&e;return!!i}})},41215:(module,e,t)=>{"use strict";var i=t(3549),r=t(47442),n=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(n,"name"),o=s&&"something"===function(){}.name,l=s&&(!i||i&&a(n,"name").configurable);module.exports={EXISTS:s,PROPER:o,CONFIGURABLE:l}},41240:(module,e,t)=>{"use strict";var i=t(59805),r=t(17649),n=t(98544),a=t(53868),s=t(72909),o=t(52225),l=r([].push),d=function(e){var t=1===e,r=2===e,d=3===e,c=4===e,u=6===e,h=7===e,p=5===e||u;return function(f,v,m,y){for(var g,b,E=a(f),w=n(E),S=s(w),C=i(v,m),A=0,T=y||o,I=t?T(f,S):r||h?T(f,0):void 0;S>A;A++)if((p||A in w)&&(b=C(g=w[A],A,E),e))if(t)I[A]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return A;case 2:l(I,g)}else switch(e){case 4:return!1;case 7:l(I,g)}return u?-1:d||c?c:I}};module.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},41256:(module,e,t)=>{"use strict";var i=t(538),r=t(54529),n=i("keys");module.exports=function(e){return n[e]||(n[e]=r(e))}},41734:(module,e,t)=>{"use strict";var i=t(17649),r=WeakSet.prototype;module.exports={WeakSet,add:i(r.add),has:i(r.has),remove:i(r.delete)}},41970:(e,t,i)=>{"use strict";var r=i(3549),n=i(98534),a=i(52051),s=i(81658),o=i(56808),l=TypeError,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u="enumerable",h="configurable",p="writable";t.f=r?a?function(e,t,i){if(s(e),t=o(t),s(i),"function"==typeof e&&"prototype"===t&&"value"in i&&p in i&&!i[p]){var r=c(e,t);r&&r[p]&&(e[t]=i.value,i={configurable:h in i?i[h]:r[h],enumerable:u in i?i[u]:r[u],writable:!1})}return d(e,t,i)}:d:function(e,t,i){if(s(e),t=o(t),s(i),n)try{return d(e,t,i)}catch(e){}if("get"in i||"set"in i)throw new l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},42982:(e,t,i)=>{"use strict";var r=i(39501),n=i(43501),a=i(26910),s=i(81658),o=i(38348),l=i(77162),d=i(45493),c=i(80177),u=i(54258),h=i(47442),p=i(33050),f=i(39026).IteratorPrototype,v=i(3549),m=i(8694),y="constructor",g="Iterator",b=p("toStringTag"),E=TypeError,w=n[g],S=m||!o(w)||w.prototype!==f||!u((function(){w({})})),C=function(){if(a(this,f),l(this)===f)throw new E("Abstract class Iterator not directly constructable")},A=function(e,t){v?d(f,e,{configurable:!0,get:function(){return t},set:function(t){if(s(this),this===f)throw new E("You can't redefine this property");h(this,e)?this[e]=t:c(this,e,t)}}):f[e]=t};h(f,b)||A(b,g),!S&&h(f,y)&&f[y]!==Object||A(y,C),C.prototype=f,r({global:!0,constructor:!0,forced:S},{Iterator:C})},43112:module=>{"use strict";module.exports=function(e,t){return e===t||e!=e&&t!=t}},43345:(module,e,t)=>{"use strict";var i=t(38348),r=t(9430),n=TypeError;module.exports=function(e){if(i(e))return e;throw new n(r(e)+" is not a function")}},43501:function(module,e,t){"use strict";var i=function(e){return e&&e.Math===Math&&e};module.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t.g&&t.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},43504:(e,t,i)=>{"use strict";i(97147)},43689:(module,e,t)=>{"use strict";t(16132);var i=t(648),r=t(39026).IteratorPrototype.map,n=function(e,t){return[t,e]};module.exports=function(){return i(r,this,n)}},43717:(module,e,t)=>{"use strict";var i=t(76433),r=t(61883);module.exports=i(r.proto,"size","get")||function(e){return e.size}},44136:(module,e,t)=>{"use strict";var i=t(648);module.exports=function(e,t,r){for(var n,a,s=r?e:e.iterator,o=e.next;!(n=i(o,s)).done;)if(void 0!==(a=t(n.value)))return a}},44231:module=>{"use strict";var e=4503599627370496;module.exports=function(t){return t+e-e}},44253:(module,e,t)=>{"use strict";var i=t(7831),r=t(71351).getTypedArrayConstructor;module.exports=function(e,t){return i(r(e),t)}},44312:(module,e,t)=>{"use strict";var i=t(47193),r=t(61883).has,n=t(43717),a=t(9638),s=t(44136),o=t(18132);module.exports=function(e){var t=i(this),l=a(e);if(n(t)<l.size)return!1;var d=l.getIterator();return!1!==s(d,(function(e){if(!r(t,e))return o(d,"normal",!1)}))}},44489:(module,e,t)=>{"use strict";var i,r=t(81658),n=t(69374),a=t(55130),s=t(24132),o=t(88578),l=t(21382),d=t(41256),c="prototype",u="script",h=d("IE_PROTO"),p=function(){},f=function(e){return"<"+u+">"+e+"</"+u+">"},v=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&i?v(i):(t=l("iframe"),r="java"+u+":",t.style.display="none",o.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):v(i);for(var n=a.length;n--;)delete m[c][a[n]];return m()};s[h]=!0,module.exports=Object.create||function(e,t){var i;return null!==e?(p[c]=r(e),i=new p,p[c]=null,i[h]=e):i=m(),void 0===t?i:n.f(i,t)}},44520:module=>{"use strict";var e=RangeError;module.exports=function(t){if(t==t)return t;throw new e("NaN is not allowed")}},44915:(e,t,i)=>{"use strict";var r=i(39501),n=i(43345),a=i(74663),s=i(4302),o=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=a(this),i=arguments.length<2,r=i?void 0:arguments[1];if(n(e),s(t,(function(n,a){i?(i=!1,r=n):r=e(r,n,a,t)})),i)throw new o("Reduce of empty map with no initial value");return r}})},45041:(e,t,i)=>{"use strict";i.d(t,{$:()=>s,b:()=>o});var r=i(25775),n=i(29183),a=i(60484);function s(e,t,i,s){var l,d,c,u;if(!(0,n.UU)(t))return void e.console.warn("attempted a11y update for nullish node");if(r.O.isEmbedded){let e="";switch(t.nodeName){case void 0:break;case"I":e="iconbutton-";break;default:e=t.nodeName.toLowerCase()+"-"}(0,n.Ed)(null===(l=t.dataset)||void 0===l?void 0:l.initiatorName)&&(e+=`${t.dataset.initiatorName}-`),t.setAttribute("id",e+i)}const h=e.StringConfig.Accessibility[i];(0,n.mQ)(h,"title")&&!(0,n.mQ)(h,"aria-label")&&(h["aria-label"]=h.title),s=Object.assign({title:null!==(d=e.model.mediaCollection.meta.title)&&void 0!==d?d:""},null!=s?s:null,{assetitem:o(e),puid:null!==(c=e.getId())&&void 0!==c?c:"",hasKeyboard:!(r.O.isEmbedded||r.O.isMobileDevice),isAudio:e.model.mediaCollection.isAudioOnly});for(const e in h){const i=(0,a.e_)(null!==(u=h[e])&&void 0!==u?u:"",s);(0,n.Ed)(i)?t.setAttribute(e,i):t.removeAttribute(e)}}function o(e){return`${e.getId()}-assetItem`}},45493:(module,e,t)=>{"use strict";var i=t(61506),r=t(41970);module.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},45553:(e,t,i)=>{"use strict";i(83452)("matcher")},45951:(module,e,t)=>{"use strict";var i=t(54258);module.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},45952:module=>{"use strict";module.exports=function(e,t){return{value:e,done:t}}},45984:(e,t,i)=>{"use strict";i.d(t,{R:()=>u});var r=i(94581),n=i(94406),a=i(29183),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},o=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},l=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let u=(()=>{var e,t,i,u;let h,p,f=[n.JW],v=[];var m=p=class{get networkState(){return d(this,e,"f")}set networkState(t){t!==d(this,e,"f")&&(c(this,e,t,"f"),this.player.loop.dispatchEvent("Player.NETWORK_CHANGE",{status:t}))}get playerConfig(){return d(this,i,"f")||this.player.console.trace("PlayerModel.playerConfig accessed before set"),d(this,i,"f")}set playerConfig(e){c(this,i,e,"f"),this.autoplay=this.autoplay||e.generic.isAutoplay}get mediaCollection(){return d(this,u,"f")||this.player.console.trace("PlayerModel#mediaCollection accessed before set"),d(this,u,"f")}set mediaCollection(e){c(this,u,e,"f")}constructor(r){var n;this.autoplay=!1,this.playstate=0,e.set(this,1),t.set(this,null),this.playbackRate=1,this.videoScaleMode="CONTAIN",this.lightMode=!1,i.set(this,void 0),u.set(this,void 0),this.time=0,this.duration=0,m.playerIDs[r.getId()]=this,m.players.push(r),this.player=r,void 0!==navigator.connection&&(this.networkState=(null!==(n=navigator.connection.downlink)&&void 0!==n?n:0)>0&&"none"!==navigator.connection.type?1:0,c(this,t,(()=>{var e,t,i;this.networkState=(null!==(t=null===(e=navigator.connection)||void 0===e?void 0:e.downlink)&&void 0!==t?t:0)>0&&"none"!==(null===(i=navigator.connection)||void 0===i?void 0:i.type)?1:0}),"f"),navigator.connection.addEventListener("change",d(this,t,"f")))}static resetSingleton(){var e;m.playerIDs={},(null===(e=m.players)||void 0===e?void 0:e.length)>0&&m.players.forEach((e=>{var t;null===(t=null==e?void 0:e.getCtrl())||void 0===t||t.dispose()})),m.autoPlayerAlreadyActive=!1,m.players=[]}static getInstance(e){var t;return null!==(t=m.playerIDs[e.getId()])&&void 0!==t?t:new m(e)}static getAllPlayer(e=""){const t=e instanceof r.a?e.getId():e;return(0,a.z3)(t)?m.players:m.players.filter((e=>e.getId()!==t))}static getPlayerById(e){var t;return null!==(t=m.players.find((t=>t.getId()===e)))&&void 0!==t?t:null}static forceRemovePlayer(e){const t=m.players.findIndex((t=>t===e));t>=0&&m.players.splice(t,1);const i=e.getId();delete m.playerIDs[i]}dispose(){var e;this.reset(),d(this,t,"f")&&(null===(e=navigator.connection)||void 0===e||e.removeEventListener("change",d(this,t,"f")),c(this,t,null,"f")),m.forceRemovePlayer(this.player)}reset(){this.duration=0,this.time=0,this.autoplay=!1,this.playstate=0,this.videoScaleMode="CONTAIN"}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,u=new WeakMap,l(p,"PlayerModel"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,h={value:p},f,{kind:"class",name:p.name,metadata:e},null,v),m=p=h.value,e&&Object.defineProperty(p,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})})(),p.PLAYSTATE_UNSPECIFIED=0,p.PLAYSTATE_PAUSED=1,p.PLAYSTATE_PLAYING=2,p.PLAYSTATE_STOPPED=3,p.playerIDs={},p.players=[],p.autoPlayerAlreadyActive=!1,o(p,v),m=p})()},46163:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(81658),s=i(77474),o=i(44520),l=i(63851),d=i(29574),c=i(45952),u=d((function(e){var t,i=this,r=i.iterator;if(!i.remaining--){var s=c(void 0,!0);return i.done=!0,void 0!==(t=r.return)?e.resolve(n(t,r,void 0)).then((function(){return s})):s}return e.resolve(n(i.next,r)).then((function(e){return a(e).done?(i.done=!0,c(void 0,!0)):c(e.value,!1)})).then(null,(function(e){throw i.done=!0,e}))}));r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:function(e){a(this);var t=l(o(+e));return new u(s(this),{remaining:t})}})},46513:(module,e,t)=>{"use strict";var i={};i[t(33050)("toStringTag")]="z",module.exports="[object z]"===String(i)},46808:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});const r={type:"core",Clazz:"app/index",package:"@ardplayer/core",version:"7.7.0",rev:"[G]201271bb7",verb:"release",build:"(release) 2025-10-28T10:12:39.824Z"}},46819:(e,t,i)=>{"use strict";function r(e,t=!0,i=!1){if(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)){const r=new Date(e);if(t){if(i){const e=new Date;if(e.getDate()===r.getDate()&&e.getMonth()===r.getMonth()&&e.getFullYear()===r.getFullYear())return a(r)}return`${n(r)} | ${a(r)}`}return r.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"})}return e}function n(e){return e.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"})}function a(e,t=!0){return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}${t?" Uhr":""}`}i.d(t,{Yq:()=>n,d$:()=>r,fU:()=>a})},46939:(e,t,i)=>{"use strict";var r=i(39501),n=i(17649),a=i(36026),s=i(81658),o=i(77162),l=n(i(3120)),d=n([].concat),c=a.keys,u=a.toKey,h=function(e,t){var i=c(e,t),r=o(e);if(null===r)return i;var n=h(r,t);return n.length?i.length?l(d(i,n)):n:i};r({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:u(arguments[1]);return h(s(e),t)}})},47094:(module,e,t)=>{"use strict";var i=t(89208),r=t(61516),n=t(24214),a=Error.captureStackTrace;module.exports=function(e,t,s,o){n&&(a?a(e,t):i(e,"stack",r(s,o)))}},47193:(module,e,t)=>{"use strict";var i=t(61883).has;module.exports=function(e){return i(e),e}},47295:(e,t,i)=>{"use strict";i.d(t,{t:()=>o});var r=i(11027),n=i(25775),a=i(94581),s=i(29183);i(86876);class o extends r.LV{constructor(){super(...arguments),this.syntheticScreens={},this.screenHasTabs=!1}get bottomSheet(){var e,t,i;return null!==(i=null===(t=null===(e=this.player)||void 0===e?void 0:e.viewCtrl)||void 0===t?void 0:t.bottomSheet)&&void 0!==i?i:null}addonButtonClicked(e,t){var i;e.setAttribute("aria-pressed","true"),null===(i=this.bottomSheet)||void 0===i||i.reveal(this,t.screen)}getFocusButton(e=null){var t,i,r,n;return null!==(n=null!==(i=(0,s.z3)(e)?null:null===(t=this.buttons.find((t=>t.screen===e&&null!==t.button)))||void 0===t?void 0:t.button)&&void 0!==i?i:null===(r=this.buttons.find((e=>null!==e.button)))||void 0===r?void 0:r.button)&&void 0!==n?n:null}register(){return!!super.register()&&(this.registerPlayerEvent(a.a.SETUP_VIEW,this.eventSetupView),this.log("BottomSheetAddon registered"),!0)}isSupported(){return!(this.player.isAudio&&!0!==this.player.model.playerConfig.web.isForcedVideoView&&n.O.isFrame)}eventSetupView(e){}onScreenClosed(e){this.buttons.filter((t=>t.screen===e)).forEach((e=>{e.button.setAttribute("aria-pressed","false")}))}onScreenClosedInternal(e){var t;e.startsWith("synthetic_")&&null!==(t=this.syntheticScreens[e])&&void 0!==t&&t?this.log("closed synthetic screen"):(this.screenHasTabs&&this.teardownTabs(),this.onScreenClosed(e),this.player.pixelController.triggerCustomPixel("dialog_close",!0,{addon:this.ID,addonKey:this.configKey,dialog:e}))}teardownTabs(){this.screenHasTabs=!1}renderScreenInternal(e,t,i){var r;e.startsWith("synthetic_")&&null!==(r=this.syntheticScreens[e])&&void 0!==r&&r?(this.log("rendering synthetic screen"),t.showBack=!0,this.syntheticScreens[e].render(t)):(this.syntheticScreens={},this.renderToDisplayList(t,e),this.player.pixelController.triggerCustomPixel("dialog_open",!0,{addon:this.ID,addonKey:this.configKey,dialog:e})),t.renderUsing(i)}}},47347:(e,t,i)=>{"use strict";i(78666)},47442:(module,e,t)=>{"use strict";var i=t(17649),r=t(53868),n=i({}.hasOwnProperty);module.exports=Object.hasOwn||function(e,t){return n(r(e),t)}},47486:(e,t,i)=>{"use strict";i(40811)},47644:(e,t,i)=>{"use strict";i(39501)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:i(68517)})},47651:(module,e,t)=>{"use strict";var i=t(47193),r=t(61883),n=t(38151),a=t(43717),s=t(9638),o=t(78920),l=t(44136),d=r.has,c=r.remove;module.exports=function(e){var t=i(this),r=s(e),u=n(t);return a(t)<=r.size?o(t,(function(e){r.includes(e)&&c(u,e)})):l(r.getIterator(),(function(e){d(u,e)&&c(u,e)})),u}},47844:(module,e,t)=>{"use strict";var i=t(43501),r=t(38348);module.exports=function(e,t){return arguments.length<2?(n=i[e],r(n)?n:void 0):i[e]&&i[e][t];var n}},48055:(module,e,t)=>{"use strict";var i=t(54258),r=t(36767),n=t(33857),a=t(59101),s=Object.isExtensible,o=i((function(){s(1)}));module.exports=o||a?function(e){return!!r(e)&&((!a||"ArrayBuffer"!==n(e))&&(!s||s(e)))}:s},48103:(e,t,i)=>{"use strict";var r=i(39501),n=i(63289);r({target:"Set",proto:!0,real:!0,forced:!i(49735)("isSubsetOf",(function(e){return e}))},{isSubsetOf:n})},48875:(e,t,i)=>{"use strict";i(25856)},49721:(module,e,t)=>{"use strict";var i=t(72909);module.exports=function(e,t){for(var r=i(e),n=new t(r),a=0;a<r;a++)n[a]=e[r-a-1];return n}},49735:(module,e,t)=>{"use strict";var i=t(47844),r=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},n=function(e){return{size:e,has:function(){return!0},keys:function(){throw new Error("e")}}};module.exports=function(e,t){var a=i("Set");try{(new a)[e](r(0));try{return(new a)[e](r(-1)),!1}catch(i){if(!t)return!0;try{return(new a)[e](n(-1/0)),!1}catch(i){var s=new a;return s.add(1),s.add(2),t(s[e](n(1/0)))}}}catch(e){return!1}}},49760:(module,e,t)=>{"use strict";var i=t(43501);module.exports=i},50381:(e,t,i)=>{"use strict";var r=i(39501),n=i(6439),a=i(45952),s=i(66293),o=i(20426),l=i(74606),d=i(34772),c=d.codeAt,u=d.charAt,h="String Iterator",p=l.set,f=l.getterFor(h),v=n((function(e){p(this,{type:h,string:e,index:0})}),"String",(function(){var e,t=f(this),i=t.string,r=t.index;return r>=i.length?a(void 0,!0):(e=u(i,r),t.index+=e.length,a({codePoint:c(e,0),position:r},!1))}));r({target:"String",proto:!0,forced:!0},{codePoints:function(){return new v(o(s(this)))}})},50700:(module,e,t)=>{"use strict";var i=t(43501).navigator,r=i&&i.userAgent;module.exports=r?String(r):""},50937:(module,e,t)=>{"use strict";var i=t(43501),r=t(38348),n=i.WeakMap;module.exports=r(n)&&/native code/.test(String(n))},51084:(e,t,i)=>{"use strict";i(39501)({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:i(63785)})},51814:(module,e,t)=>{"use strict";var i=t(39501),r=t(17649),n=t(24132),a=t(36767),s=t(47442),o=t(41970).f,l=t(30429),d=t(73845),c=t(48055),u=t(54529),h=t(45951),p=!1,f=u("meta"),v=0,m=function(e){o(e,f,{value:{objectID:"O"+v++,weakData:{}}})},y=module.exports={enable:function(){y.enable=function(){},p=!0;var e=l.f,t=r([].splice),n={};n[f]=1,e(n).length&&(l.f=function(i){for(var r=e(i),n=0,a=r.length;n<a;n++)if(r[n]===f){t(r,n,1);break}return r},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,f)){if(!c(e))return"F";if(!t)return"E";m(e)}return e[f].objectID},getWeakData:function(e,t){if(!s(e,f)){if(!c(e))return!0;if(!t)return!1;m(e)}return e[f].weakData},onFreeze:function(e){return h&&p&&c(e)&&!s(e,f)&&m(e),e}};n[f]=!0},52051:(module,e,t)=>{"use strict";var i=t(3549),r=t(54258);module.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},52153:(module,e,t)=>{"use strict";var i=t(47193),r=t(61883),n=t(43717),a=t(9638),s=t(78920),o=t(44136),l=r.Set,d=r.add,c=r.has;module.exports=function(e){var t=i(this),r=a(e),u=new l;return n(t)>r.size?o(r.getIterator(),(function(e){c(t,e)&&d(u,e)})):s(t,(function(e){r.includes(e)&&d(u,e)})),u}},52197:(module,e,t)=>{"use strict";var i=t(648),r=t(81658),n=t(77474),a=t(99506);module.exports=function(e,t){t&&"string"==typeof e||r(e);var s=a(e);return n(r(void 0!==s?i(s,e):e))}},52216:(module,e,t)=>{"use strict";var i=t(17649),r=t(10896),n=t(51814).getWeakData,a=t(26910),s=t(81658),o=t(9918),l=t(36767),d=t(71321),c=t(41240),u=t(47442),h=t(74606),p=h.set,f=h.getterFor,v=c.find,m=c.findIndex,y=i([].splice),g=0,b=function(e){return e.frozen||(e.frozen=new E)},E=function(){this.entries=[]},w=function(e,t){return v(e.entries,(function(e){return e[0]===t}))};E.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var i=w(this,e);i?i[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},module.exports={getConstructor:function(e,t,i,c){var h=e((function(e,r){a(e,v),p(e,{type:t,id:g++,frozen:null}),o(r)||d(r,e[c],{that:e,AS_ENTRIES:i})})),v=h.prototype,m=f(t),y=function(e,t,i){var r=m(e),a=n(s(t),!0);return!0===a?b(r).set(t,i):a[r.id]=i,e};return r(v,{delete:function(e){var t=m(this);if(!l(e))return!1;var i=n(e);return!0===i?b(t).delete(e):i&&u(i,t.id)&&delete i[t.id]},has:function(e){var t=m(this);if(!l(e))return!1;var i=n(e);return!0===i?b(t).has(e):i&&u(i,t.id)}}),r(v,i?{get:function(e){var t=m(this);if(l(e)){var i=n(e);if(!0===i)return b(t).get(e);if(i)return i[t.id]}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),h}}},52225:(module,e,t)=>{"use strict";var i=t(3740);module.exports=function(e,t){return new(i(e))(0===t?0:t)}},52770:(e,t,i)=>{"use strict";i(56477)},53868:(module,e,t)=>{"use strict";var i=t(66293),r=Object;module.exports=function(e){return r(i(e))}},54116:(e,t,i)=>{"use strict";var r=i(39501),n=i(17649),a=i(70856),s="Invalid number representation",o=RangeError,l=SyntaxError,d=TypeError,c=parseInt,u=Math.pow,h=/^[\d.a-z]+$/,p=n("".charAt),f=n(h.exec),v=n(1.1.toString),m=n("".slice),y=n("".split);r({target:"Number",stat:!0,forced:!0},{fromString:function(e,t){var i=1;if("string"!=typeof e)throw new d(s);if(!e.length)throw new l(s);if("-"===p(e,0)&&(i=-1,!(e=m(e,1)).length))throw new l(s);var r=void 0===t?10:a(t);if(r<2||r>36)throw new o("Invalid radix");if(!f(h,e))throw new l(s);var n=y(e,"."),g=c(n[0],r);if(n.length>1&&(g+=c(n[1],r)/u(r,n[1].length)),10===r&&v(g,r)!==e)throw new l(s);return i*g}})},54258:module=>{"use strict";module.exports=function(e){try{return!!e()}catch(e){return!0}}},54262:(e,t,i)=>{"use strict";var r=i(45951),n=i(39501),a=i(61506),s=i(17649),o=i(12742),l=i(81658),d=i(53868),c=i(38348),u=i(72909),h=i(41970).f,p=i(80945),f=i(4596),v=i(27846),m=i(30476),y=i(9929),g=new f.WeakMap,b=f.get,E=f.has,w=f.set,S=Array,C=TypeError,A=Object.freeze||Object,T=Object.isFrozen,I=Math.min,k=s("".charAt),L=s("".slice),P=s("".split),x=s(/./.exec),_=/([\n\u2028\u2029]|\r\n?)/g,O=RegExp("^["+y+"]*"),M=RegExp("[^"+y+"]"),D="Invalid tag",R=function(e){var t,i,r,n,a=d(e),s=u(a),o=S(s),l=S(s),c=0;if(!s)throw new C(D);for(;c<s;c++){var h=a[c];if("string"!=typeof h)throw new C(D);o[c]=P(h,_)}for(c=0;c<s;c++){var p=c+1===s;if(t=o[c],0===c){if(1===t.length||t[0].length>0)throw new C("Invalid opening line");t[1]=""}if(p){if(1===t.length||x(M,t[t.length-1]))throw new C("Invalid closing line");t[t.length-2]="",t[t.length-1]=""}for(var f=2;f<t.length;f+=2){var v=t[f],m=f+1===t.length&&!p,y=x(O,v)[0];m||y.length!==v.length?i=N(y,i):t[f]=""}}var g=i?i.length:0;for(c=0;c<s;c++){for(r=(t=o[c])[0],n=1;n<t.length;n+=2)r+=t[n]+L(t[n+1],g);l[c]=r}return l},N=function(e,t){if(void 0===t||e===t)return e;for(var i=0,r=I(e.length,t.length);i<r&&k(e,i)===k(t,i);i++);return L(e,0,i)},U=function(e){for(var t=0,i=e.length,r=S(i);t<i;t++)r[t]=m(e[t]);return r},V=function(e){return a((function(t){var i=p(arguments);return i[0]=function(e){var t=e.raw;if(r&&!T(t))throw new C("Raw template should be frozen");if(E(g,t))return b(g,t);var i=R(t),n=U(i);return h(n,"raw",{value:A(i)}),A(n),w(g,t,n),n}(l(t)),o(e,this,i)}),"")},j=V(v);n({target:"String",stat:!0,forced:!0},{dedent:function(e){return l(e),c(e)?V(e):o(j,this,arguments)}})},54529:(module,e,t)=>{"use strict";var i=t(17649),r=0,n=Math.random(),a=i(1.1.toString);module.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+n,36)}},55130:module=>{"use strict";module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},55253:(e,t,i)=>{"use strict";var r=i(39501),n=i(28148).every;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:function(e){return n(this,e)}})},55700:(module,e,t)=>{"use strict";var i=t(23189),r=TypeError;module.exports=function(e){if(i(e))throw new r("ArrayBuffer is detached");return e}},55726:(module,e,t)=>{"use strict";var i=t(648),r=t(43345),n=t(81658),a=t(9430),s=t(99506),o=TypeError;module.exports=function(e,t){var l=arguments.length<2?s(e):t;if(r(l))return n(i(l,e));throw new o(a(e)+" is not iterable")}},55744:(e,t,i)=>{"use strict";var r=i(39501),n=i(53868),a=i(18850),s=i(5798),o=i(95001),l=i(32123);r({target:"AsyncIterator",stat:!0,forced:!0},{from:function(e){var t=s("string"==typeof e?n(e):e);return a(o,t.iterator)?t.iterator:new l(t)}})},55903:(module,e,t)=>{"use strict";var i=t(39501),r=t(43501),n=t(17649),a=t(67273),s=t(66693),o=t(51814),l=t(71321),d=t(26910),c=t(38348),u=t(9918),h=t(36767),p=t(54258),f=t(17747),v=t(39674),m=t(92582);module.exports=function(e,t,y){var g=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),E=g?"set":"add",w=r[e],S=w&&w.prototype,C=w,A={},T=function(e){var t=n(S[e]);s(S,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return b&&!h(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:function(e,i){return t(this,0===e?0:e,i),this})};if(a(e,!c(w)||!(b||S.forEach&&!p((function(){(new w).entries().next()})))))C=y.getConstructor(t,e,g,E),o.enable();else if(a(e,!0)){var I=new C,k=I[E](b?{}:-0,1)!==I,L=p((function(){I.has(1)})),P=f((function(e){new w(e)})),x=!b&&p((function(){for(var e=new w,t=5;t--;)e[E](t,t);return!e.has(-0)}));P||((C=t((function(e,t){d(e,S);var i=m(new w,e,C);return u(t)||l(t,i[E],{that:i,AS_ENTRIES:g}),i}))).prototype=S,S.constructor=C),(L||x)&&(T("delete"),T("has"),g&&T("get")),(x||k)&&T(E),b&&S.clear&&delete S.clear}return A[e]=C,i({global:!0,constructor:!0,forced:C!==w},A),v(C,e),b||y.setStrong(C,e,g),C}},55962:(e,t,i)=>{"use strict";i(2605)},56477:(e,t,i)=>{"use strict";var r=i(39501),n=i(17649),a=i(43345),s=i(66293),o=i(71321),l=i(9325),d=i(8694),c=i(54258),u=l.Map,h=l.has,p=l.get,f=l.set,v=n([].push),m=d||c((function(){return 1!==u.groupBy("ab",(function(e){return e})).get("a").length}));r({target:"Map",stat:!0,forced:d||m},{groupBy:function(e,t){s(e),a(t);var i=new u,r=0;return o(e,(function(e){var n=t(e,r++);h(i,n)?v(p(i,n),e):f(i,n,[e])})),i}})},56808:(module,e,t)=>{"use strict";var i=t(69234),r=t(71088);module.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},57043:(e,t,i)=>{"use strict";i(16132)},57633:(module,e,t)=>{"use strict";var i=t(648),r=t(4185),n=t(81658),a=t(55726),s=t(77474),o=t(593),l=t(33050)("asyncIterator");module.exports=function(e,t){var d=arguments.length<2?o(e,l):t;return d?n(i(d,e)):new r(s(a(e)))}},57809:(e,t,i)=>{"use strict";i.d(t,{w:()=>d});var r=i(94406),n=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},a=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},s=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},o=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},l=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let d=(()=>{var e,t,i,d;let c,u,h=[r.JW],p=[];u=class{constructor(){e.set(this,new Set),t.set(this,null),i.set(this,0),this[d]="SafeSet"}has(i){var r,n;return o(this,e,"f").has(i)||null!==(n=null===(r=o(this,t,"f"))||void 0===r?void 0:r.has(i))&&void 0!==n&&n}add(r){return o(this,i,"f")>0?(null==o(this,t,"f")&&l(this,t,new Set,"f"),o(this,t,"f").add(r)):o(this,e,"f").add(r),this}delete(i){var r,n;const a=o(this,e,"f").delete(i),s=null!==(n=null===(r=o(this,t,"f"))||void 0===r?void 0:r.delete(i))&&void 0!==n&&n;return a||s}clear(){var i;o(this,e,"f").clear(),null===(i=o(this,t,"f"))||void 0===i||i.clear()}get size(){var i,r;return o(this,e,"f").size+(null!==(r=null===(i=o(this,t,"f"))||void 0===i?void 0:i.size)&&void 0!==r?r:0)}forEach(t,i){this.iteratorStart(),o(this,e,"f").forEach(((e,i)=>{t(e,i,this)}),i),this.iteratorDone()}iteratorStart(){var e;l(this,i,(e=o(this,i,"f"),++e),"f")}iteratorDone(){var r,n,a,s,d;l(this,i,(d=o(this,i,"f"),--d),"f"),0===o(this,i,"f")&&(null!==(n=null===(r=o(this,t,"f"))||void 0===r?void 0:r.size)&&void 0!==n?n:0)>0&&(null===(a=o(this,t,"f"))||void 0===a||a.forEach((t=>{o(this,e,"f").add(t)})),null===(s=o(this,t,"f"))||void 0===s||s.clear())}entries(){this.iteratorStart();const t=this.iteratorDone,i=o(this,e,"f").entries();return{next(...e){const r=i.next(...e);return r.done&&t(),r},[Symbol.iterator]:this.entries}}[(e=new WeakMap,t=new WeakMap,i=new WeakMap,Symbol.iterator)](){this.iteratorStart();const t=this.iteratorDone,i=o(this,e,"f")[Symbol.iterator]();return{next(...e){const r=i.next(...e);return r.done&&t(),r},[Symbol.iterator]:this[Symbol.iterator]}}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}};return d=Symbol.toStringTag,s(u,"SafeSet"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;n(null,c={value:u},h,{kind:"class",name:u.name,metadata:e},null,p),u=c.value,e&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e}),a(u,p)})(),u})()},58140:(module,e,t)=>{"use strict";var i=t(47844),r=t(45493),n=t(33050),a=t(3549),s=n("species");module.exports=function(e){var t=i(e);a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},58592:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(74663),s=i(4302);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=s(t,(function(e,r){if(i(e,r,t))return{key:r}}),!0);return r&&r.key}})},58640:(e,t,i)=>{"use strict";var r=i(39501),n=i(12742),a=i(37030),s=i(47844),o=i(44489),l=Object,d=function(){var e=s("Object","freeze");return e?e(o(null)):o(null)};r({global:!0,forced:!0},{compositeKey:function(){return n(a,l,arguments).get("object",d)}})},58743:(e,t,i)=>{"use strict";i.d(t,{M:()=>n});var r=i(11027);class n extends r.RS{constructor(){super(...arguments),this.supportType="BottomSheet"}register(){return super.register()}static isInstance(e){return super.isInstance(e)&&"BottomSheet"===e.supportType}}},58850:(module,e,t)=>{"use strict";var i=t(14590),r=t(47442),n=t(9918),a=t(33050),s=t(17132),o=a("iterator"),l=Object;module.exports=function(e){if(n(e))return!1;var t=l(e);return void 0!==t[o]||"@@iterator"in t||r(s,i(t))}},58861:(e,t,i)=>{"use strict";var r=i(39501),n=i(34772).charAt,a=i(66293),s=i(70856),o=i(20426);r({target:"String",proto:!0,forced:!0},{at:function(e){var t=o(a(this)),i=t.length,r=s(e),l=r>=0?r:i+r;return l<0||l>=i?void 0:n(t,l)}})},58925:(e,t,i)=>{"use strict";var r=i(39501),n=i(43345),a=i(47193),s=i(78920),o=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=a(this),i=arguments.length<2,r=i?void 0:arguments[1];if(n(e),s(t,(function(n){i?(i=!1,r=n):r=e(r,n,n,t)})),i)throw new o("Reduce of empty set with no initial value");return r}})},59036:(e,t,i)=>{"use strict";var r=i(17649),n=i(71351),a=i(7831),s=i(3120),o=n.aTypedArray,l=n.getTypedArrayConstructor,d=n.exportTypedArrayMethod,c=r(s);d("uniqueBy",(function(e){return o(this),a(l(this),c(this,e))}),!0)},59086:(e,t,i)=>{"use strict";i(38427)},59101:(module,e,t)=>{"use strict";var i=t(54258);module.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},59175:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,forced:!0},{iaddh:function(e,t,i,r){var n=e>>>0,a=i>>>0;return(t>>>0)+(r>>>0)+((n&a|(n|a)&~(n+a>>>0))>>>31)|0}})},59805:(module,e,t)=>{"use strict";var i=t(23499),r=t(43345),n=t(28895),a=i(i.bind);module.exports=function(e,t){return r(e),void 0===t?e:n?a(e,t):function(){return e.apply(t,arguments)}}},59916:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(47193),s=i(78920);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0);return!1!==s(t,(function(e){if(!i(e,e,t))return!1}),!0)}})},60286:(e,t,i)=>{"use strict";i(68663)},60298:(e,t,i)=>{"use strict";var r=i(3549),n=i(45493),a=i(97426),s=i(33652);r&&!a.correct&&(n(RegExp.prototype,"flags",{configurable:!0,get:s}),a.correct=!0)},60484:(e,t,i)=>{"use strict";i.d(t,{J9:()=>l,a7:()=>o,e_:()=>n,l4:()=>d,ox:()=>c,v5:()=>a,wu:()=>s});var r=i(29183);function n(e,t){var i;if((0,r.cl)(t)||0===Object.keys(t).length)return e;for(const n of e.matchAll(/{{([a-z]+)(?:\?\?((?:[^|}]+?(?:\\[|}])*)*))?(?:\|([^}]*))?}}/gi)){const a=n[1],s=n[2],o=null!==(i=n[3])&&void 0!==i?i:"";e=e.replace(n[0],(0,r.i5)(t,a)&&("number"==typeof t[a]||"boolean"==typeof t[a]||(0,r.Ed)(t[a]))?"boolean"==typeof t[a]&&((0,r.Ed)(s)||(0,r.Ed)(o))?t[a]?s:o:(0,r.cl)(s)?String(t[a]):s.replace(/\\\|/g,"|").replace(/\\}/g,"}").replace(new RegExp(a,"g"),String(t[a])):o)}return e}function a(e,t){return`${s(e)} von ${s(t)}`}function s(e){let t=Math.max(e,0);const i=Math.floor(t/3600);t-=3600*i;const r=Math.floor(t/60);return t=Math.floor(t-60*r),`${i>0?`${i} Stunde${i>1?"n":""} `:""}${e>60?`${r} Minuten `:""}${t} Sekunden`}function o(e,t=!1,i=!0,r=!1){e=Math.max(e,0);const n=Math.floor(e/3600);e-=3600*n;const a=Math.floor(e/60);e=Math.floor(e-60*a);const s=i?`:${e<10?"0":""}${e}`:"",o=`${a<10?"0":""}${a}`;return n>0||t?`${r&&n<10?"0":""}${n}:${o}${s}`:`${o}${s}`}function l(e,t,i=!1,r=!1,n=!0){var a,s;if(!0===(null==e?void 0:e.canCalculateDvrUnixTime())){const i=t>=e.getCurrentUnixTimeWindowStart()-e.minDisplayedLiveOffset?t:e.dvrRelToUnix(t);if(i>0)return d(i,r,n)}return"-"+o((null!==(s=null===(a=null==e?void 0:e.player)||void 0===a?void 0:a.model.duration)&&void 0!==s?s:0)-t,i,!r,!0)}function d(e,t=!1,i=!0){const r=new Date(1e3*e),n=r.getHours(),a=r.getMinutes(),s=r.getSeconds();return`${n<10?"0":""}${n}:${a<10?"0":""}${a}${t?"":`:${s<10?"0":""}${s}`}${i?" Uhr":""}`}function c(e){return e>3600?`${o(e,!0,!1,!0)} Std.`:`${o(e,!1,!0,!1)} Min.`}},60701:(module,e,t)=>{"use strict";var i=t(648),r=t(43345),n=t(38348),a=t(81658),s=TypeError;module.exports=function(e,t){var o,l=a(this),d=r(l.get),c=r(l.has),u=r(l.set),h=arguments.length>2?arguments[2]:void 0;if(!n(t)&&!n(h))throw new s("At least one callback required");return i(c,l,e)?(o=i(d,l,e),n(t)&&(o=t(o),i(u,l,e,o))):n(h)&&(o=h(),i(u,l,e,o)),o}},60879:(module,e,t)=>{"use strict";var i=t(648),r=t(38348),n=t(36767),a=TypeError;module.exports=function(e,t){var s,o;if("string"===t&&r(s=e.toString)&&!n(o=i(s,e)))return o;if(r(s=e.valueOf)&&!n(o=i(s,e)))return o;if("string"!==t&&r(s=e.toString)&&!n(o=i(s,e)))return o;throw new a("Can't convert object to primitive value")}},61261:(e,t,i)=>{"use strict";i.d(t,{R:()=>n,j:()=>r});const r=[.25,.5,.75,1,1.25,1.5,1.75,2],n=[10,15,30,60,90]},61409:(module,e,t)=>{"use strict";var i=t(65314),r=t(9430),n=TypeError;module.exports=function(e){if(i(e))return e;throw new n(r(e)+" is not a constructor")}},61506:(module,e,t)=>{"use strict";var i=t(17649),r=t(54258),n=t(38348),a=t(47442),s=t(3549),o=t(41215).CONFIGURABLE,l=t(869),d=t(74606),c=d.enforce,u=d.get,h=String,p=Object.defineProperty,f=i("".slice),v=i("".replace),m=i([].join),y=s&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),g=String(String).split("String"),b=module.exports=function(e,t,i){"Symbol("===f(h(t),0,7)&&(t="["+v(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!a(e,"name")||o&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&i&&a(i,"arity")&&e.length!==i.arity&&p(e,"length",{value:i.arity});try{i&&a(i,"constructor")&&i.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=c(e);return a(r,"source")||(r.source=m(g,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return n(this)&&u(this).source||l(this)}),"toString")},61516:(module,e,t)=>{"use strict";var i=t(17649),r=Error,n=i("".replace),a=String(new r("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,o=s.test(a);module.exports=function(e,t){if(o&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=n(e,s,"");return e}},61658:(e,t,i)=>{"use strict";i(39501)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:i(27495)})},61858:(e,t,i)=>{"use strict";i(39501)({target:"Map",proto:!0,real:!0,forced:!0},{upsert:i(60701)})},61883:(module,e,t)=>{"use strict";var i=t(17649),r=Set.prototype;module.exports={Set,add:i(r.add),has:i(r.has),remove:i(r.delete),proto:r}},62429:(e,t,i)=>{"use strict";i(39501)({target:"String",stat:!0,forced:!0},{cooked:i(27846)})},62661:(e,t,i)=>{"use strict";i.d(t,{Fl:()=>s,Fp:()=>a,GW:()=>l,H1:()=>d,YR:()=>f});var r=i(25775),n=i(29183);function a(e){if(!e)return null;const t=e.querySelectorAll('[tabindex]:not([tabindex^="-"])');for(const e of t)if(s(e))return e;return null}function s(e){var t;return null!==(null!==(t=null==e?void 0:e.offsetParent)&&void 0!==t?t:null)}function o(e,t){if(!e||!s(e))return!1;for(let i=e;null!=i&&i!==t&&!i.classList.contains("ardplayer");i=i.parentElement){const t=getComputedStyle(i);if(i===e&&"hidden"===t.visibility)return!1;if("0"===t.opacity)return!1}return!0}function l(e,t=!1){if(r.O.isDebug&&window.console.log("[ARDP][SafeFocus]",null==e?void 0:e.className,t),e&&s(e)){const i=e.tabIndex;return e.tabIndex=0,e.blur(),t&&e.offsetParent&&((e.offsetParent.scrollTop>e.offsetTop||e.offsetParent.scrollTop+e.offsetParent.clientHeight<e.offsetTop+e.clientHeight)&&(e.offsetParent.scrollTop=Math.min(e.offsetParent.scrollHeight-e.offsetParent.clientHeight,Math.max(0,e.offsetTop-10))),e.offsetParent.scrollLeft>e.offsetLeft?e.offsetParent.scrollLeft=e.offsetLeft<50?0:Math.min(Math.max(e.offsetLeft-10,0),e.offsetParent.scrollWidth-e.offsetParent.clientWidth):e.offsetParent.scrollLeft+e.offsetParent.clientWidth<e.offsetLeft+e.clientWidth&&(e.offsetParent.scrollLeft=e.offsetParent.scrollWidth-(e.offsetLeft+e.offsetWidth)<50?e.offsetParent.scrollWidth-e.offsetParent.clientWidth:Math.min(e.offsetLeft+e.offsetWidth-e.offsetParent.clientWidth+10,e.offsetParent.scrollWidth-e.offsetParent.clientWidth))),e.focus({preventScroll:!0}),e.tabIndex=i,!0}return!1}function d(e,t=null){const i=null!=t?t:document.activeElement;if(e&&i&&e.contains(i)){const t=Array.from(e.querySelectorAll('button[tabindex][class*="-close"]:not([tabindex^="-"]):not([disabled]), [role="button"][tabindex][class*="-close"]:not([tabindex^="-"]):not([disabled])')).find((t=>o(t,e)));return null!=t?t:null}return null}const c=[],u=()=>{c.forEach((e=>delete e._cachedBoundingRect)),c.splice(0)},h=e=>(e._cachedBoundingRect||(e._cachedBoundingRect=e.getBoundingClientRect(),c.push(e)),e._cachedBoundingRect),p=(e,t)=>h(e).left-h(t).left;function f(e,t,i=!1,a=null,s=!1,d=!1){var c,f;const v=null!=a?a:document.activeElement;if(e&&v&&(d||e.contains(v))){let a=!0,d=!0,m=!0;const y=[];if(e.querySelectorAll('[tabindex]:not([tabindex^="-"]):not([disabled])').forEach((t=>{var i,s,l;if(o(t,e)){const o="true"===t.dataset.verticalNavAbsPos?t:null!==(i=t.parentElement)&&void 0!==i?i:t,c=y.find((e=>e.parent===o||!e.isPositioned&&Math.abs(h(e.parent).top-h(o).top)<5));if(c)c.children.push(t),c.current=c.current||v===t,null===(s=c.debugParents)||void 0===s||s.add(o);else{const i=parseInt(null!==(l=o.dataset.verticalNavOffset)&&void 0!==l?l:"0"),s=(0,n.z3)(o.dataset.verticalNavBefore)?null:e.querySelector(o.dataset.verticalNavBefore),c=(0,n.z3)(o.dataset.verticalNavAfter)?null:e.querySelector(o.dataset.verticalNavAfter);a=a&&0===i,d=d&&null===s,m=m&&null===c,y.unshift({parent:o,debugParents:r.O.isDebugVerboseUI?new Set([o]):null,parentTop:h(o).top,parentLeft:h(o).left,vBefore:s,vAfter:c,vOffset:i,isPositioned:0!==i||null!=s||null!=c,children:[t],current:v===t})}}})),y.sort(((e,t)=>{const i=e.parentTop-t.parentTop;return 0!==i?i:e.parentLeft-t.parentLeft})),!a)for(let e=0;e<y.length;e++)if(0!==y[e].vOffset){const t=Math.max(0,Math.min(e+y[e].vOffset,y.length-1)),i=y.splice(e,1)[0];i.vOffset=0,y.splice(t,0,i),t>e&&e--}for(;!d;){d=!0;for(let e=0;e<y.length;e++)if(y[e].vBefore){const t=y.findIndex((t=>t.parent===y[e].vBefore));if(-1===t){y[e].vBefore=null;continue}if(null!==y[t].vBefore){d=!1;continue}if(y[e].vBefore=null,-1!==t&&t<e){const i=t-e,r=Math.max(0,Math.min(e+i,y.length-1)),n=y.splice(e,1)[0];y.splice(r,0,n)}}}for(;!m;){m=!0;for(let e=y.length-1;e>=0;e--)if(y[e].vAfter){const t=y.findIndex((t=>t.parent===y[e].vAfter));if(-1===t){y[e].vAfter=null;continue}if(null!==y[t].vAfter){m=!1;continue}if(y[e].vAfter=null,t>e){const i=t-e,r=Math.max(0,Math.min(e+i,y.length-1)),n=y.splice(e,1)[0];y.splice(r,0,n)}}}const g=y.findIndex((e=>e.current));let b=-1,E=-1,w=!1,S=!1;if(-1!==g)if(i){y[g].children.sort(p);const e=y[g].children.findIndex((e=>e===v));t?e<y[g].children.length-1?(E=e+1,b=g):(b=g<y.length-1?g+1:g,E=g!==b?0:y[g].children.length-1,S=!(Math.abs(y[g].parentTop-y[b].parentTop)<5)):e>0?(E=e-1,b=g):(b=g>0?g-1:0,w=g>0,S=!(Math.abs(y[g].parentTop-y[b].parentTop)<5))}else{if(t)for(b=g+1;b<y.length&&Math.abs(y[g].parentTop-y[b].parentTop)<5;)b+=1;else{for(b=g;b>0&&Math.abs(y[g].parentTop-y[b].parentTop)<5;)b-=1;for(;b>0&&Math.abs(y[b-1].parentTop-y[b].parentTop)<5;)b-=1;Math.abs(y[g].parentTop-y[b].parentTop)<5&&(b=-1)}b<0?(b=0,S=!0):b>=y.length&&(b=y.length-1,w=!0,S=!0)}else b=t?0:y.length-1,w=!t;if(r.O.isDebugVerboseUI){const e=window.console;e.log(`\n\nmove focus ${i?t?"":"":t?"":""}, current focus:`,v),e.log("Groups",y),e.log(`current: ${g} ${g<0?"":y[g].parent.className}`,`next: ${b} ${b<0||b>=y.length?"":y[b].parent.className}`),e.log(`Next child: ${E}, focusLastChild: ${String(w)}\n\n`)}if(-1!==b&&y.length>0)return S&&r.O.isEmbedded?(u(),!0):(b!==g&&y[b].children.sort(p),w?E=y[b].children.length-1:(!i||E<0)&&(E=0),u(),v===y[b].children[E]&&(0===b&&0===E||b===y.length-1&&E===y[b].children.length-1)?(r.O.isDebug&&window.console.log("movefocus reject - end of root"),!1):(r.O.isDebugVerboseUI&&(-1!==g&&(null===(c=y[g].debugParents)||void 0===c||c.forEach((e=>{e.style.backgroundColor="#ff000066"}))),v.style.backgroundColor="#ffff0066",null===(f=y[b].debugParents)||void 0===f||f.forEach((e=>{e.style.backgroundColor="#0000ff66"})),y[b].children[E].style.backgroundColor="#00ff0066",setTimeout((()=>{var e,t;-1!==g&&(null===(e=y[g].debugParents)||void 0===e||e.forEach((e=>{e.style.backgroundColor=""}))),v.style.backgroundColor="",null===(t=y[b].debugParents)||void 0===t||t.forEach((e=>{e.style.backgroundColor=""})),y[b].children[E].style.backgroundColor=""}),300)),l(y[b].children[E],s)))}return u(),r.O.isDebug&&window.console.log("movefocus reject - invalid args"),!1}},62702:(e,t,i)=>{"use strict";var r=i(39501),n=i(4596);r({target:"WeakMap",stat:!0,forced:!0},{from:i(12408)(n.WeakMap,n.set,!0)})},63110:(module,e,t)=>{"use strict";var i=t(8694),r=t(43501),n=t(21582),a="__core-js_shared__",s=module.exports=r[a]||n(a,{});(s.versions||(s.versions=[])).push({version:"3.45.0",mode:i?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"})},63259:(module,e,t)=>{"use strict";var i=t(50700);module.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},63289:(module,e,t)=>{"use strict";var i=t(47193),r=t(43717),n=t(78920),a=t(9638);module.exports=function(e){var t=i(this),s=a(e);return!(r(t)>s.size)&&!1!==n(t,(function(e){if(!s.includes(e))return!1}),!0)}},63401:(e,t,i)=>{"use strict";var r=i(39501),n=i(7190),a=i(4596),s=a.get,o=a.has,l=a.set;r({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(e,t){var i,r,a=n(this);return o(a,e)?(i=s(a,e),"update"in t&&(i=t.update(i,e,a),l(a,e,i)),i):(r=t.insert(e,a),l(a,e,r),r)}})},63542:(e,t,i)=>{"use strict";i(9408)},63785:(module,e,t)=>{"use strict";var i=t(648),r=t(43345),n=t(81658),a=t(36767),s=t(77474),o=t(29574),l=t(45952),d=t(64291),c=o((function(e){var t=this,r=t.iterator,s=t.mapper;return new e((function(o,c){var u=function(e){t.done=!0,c(e)},h=function(e){d(r,u,e,u)};e.resolve(n(i(t.next,r))).then((function(i){try{if(n(i).done)t.done=!0,o(l(void 0,!0));else{var r=i.value;try{var d=s(r,t.counter++),c=function(e){o(l(e,!1))};a(d)?e.resolve(d).then(c,h):c(d)}catch(e){h(e)}}}catch(e){u(e)}}),u)}))}));module.exports=function(e){return n(this),r(e),new c(s(this),{mapper:e})}},63851:(module,e,t)=>{"use strict";var i=t(70856),r=RangeError;module.exports=function(e){var t=i(e);if(t<0)throw new r("The argument can't be less than 0");return t}},64084:(module,e,t)=>{"use strict";var i=t(1927);module.exports=Math.fround||function(e){return i(e,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},64291:(module,e,t)=>{"use strict";var i=t(648),r=t(47844),n=t(593);module.exports=function(e,t,a,s){try{var o=n(e,"return");if(o)return r("Promise").resolve(i(o,e)).then((function(){t(a)}),(function(e){s(e)}))}catch(e){return s(e)}t(a)}},64337:(e,t,i)=>{"use strict";i(83452)("replaceAll")},64543:(module,e,t)=>{"use strict";var i=t(74606),r=t(6439),n=t(45952),a=t(9918),s=t(36767),o=t(45493),l=t(3549),d="Incorrect Iterator.range arguments",c="NumericRangeIterator",u=i.set,h=i.getterFor(c),p=RangeError,f=TypeError,v=r((function(e,t,i,r,n,o){if(typeof e!=r||t!==1/0&&t!==-1/0&&typeof t!=r)throw new f(d);if(e===1/0||e===-1/0)throw new p(d);var h,v=t>e,m=!1;if(void 0===i)h=void 0;else if(s(i))h=i.step,m=!!i.inclusive;else{if(typeof i!=r)throw new f(d);h=i}if(a(h)&&(h=v?o:-o),typeof h!=r)throw new f(d);if(h===1/0||h===-1/0||h===n&&e!==t)throw new p(d);u(this,{type:c,start:e,end:t,step:h,inclusive:m,hitsEnd:e!=e||t!=t||h!=h||t>e!=h>n,currentCount:n,zero:n}),l||(this.start=e,this.end=t,this.step=h,this.inclusive=m)}),c,(function(){var e=h(this);if(e.hitsEnd)return n(void 0,!0);var t=e.start,i=e.end,r=t+e.step*e.currentCount++;r===i&&(e.hitsEnd=!0);var a=e.inclusive;return(i>t?a?r>i:r>=i:a?i>r:i>=r)?(e.hitsEnd=!0,n(void 0,!0)):n(r,!1)})),m=function(e){o(v.prototype,e,{get:function(){return h(this)[e]},set:function(){},configurable:!0,enumerable:!1})};l&&(m("start"),m("end"),m("inclusive"),m("step")),module.exports=v},64700:(e,t,i)=>{"use strict";var r=i(39501),n=i(41240).filterReject,a=i(27970);r({target:"Array",proto:!0,forced:!0},{filterReject:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("filterReject")},65109:(module,e,t)=>{"use strict";var i=t(47193),r=t(61883).add,n=t(38151),a=t(9638),s=t(44136);module.exports=function(e){var t=i(this),o=a(e).getIterator(),l=n(t);return s(o,(function(e){r(l,e)})),l}},65187:(e,t,i)=>{"use strict";i(39501)({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:i(1526)})},65314:(module,e,t)=>{"use strict";var i=t(17649),r=t(54258),n=t(38348),a=t(14590),s=t(47844),o=t(869),l=function(){},d=s("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=i(c.exec),h=!c.test(l),p=function(e){if(!n(e))return!1;try{return d(l,[],e),!0}catch(e){return!1}},f=function(e){if(!n(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!u(c,o(e))}catch(e){return!0}};f.sham=!0,module.exports=!d||r((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?f:p},65838:(e,t,i)=>{"use strict";var r=i(39501),n=i(26910),a=i(77162),s=i(89208),o=i(47442),l=i(33050),d=i(95001),c=i(8694),u=l("toStringTag"),h=TypeError,p=function(){if(n(this,d),a(this)===d)throw new h("Abstract class AsyncIterator not directly constructable")};p.prototype=d,o(d,u)||s(d,u,"AsyncIterator"),!c&&o(d,"constructor")&&d.constructor!==Object||s(d,"constructor",p),r({global:!0,constructor:!0,forced:c},{AsyncIterator:p})},66046:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(71321),s=i(38348),o=i(43345),l=i(9325).Map;r({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var i=new(s(this)?this:l);o(t);var r=o(i.set);return a(e,(function(e){n(r,i,t(e),e)})),i}})},66293:(module,e,t)=>{"use strict";var i=t(9918),r=TypeError;module.exports=function(e){if(i(e))throw new r("Can't call method on "+e);return e}},66655:(e,t,i)=>{"use strict";var r=i(39501),n=i(47844),a=i(54258),s=i(82309),o=i(20426),l=i(93101),d=n("URL"),c=l&&a((function(){d.canParse()})),u=a((function(){return 1!==d.canParse.length}));r({target:"URL",stat:!0,forced:!c||u},{canParse:function(e){var t=s(arguments.length,1),i=o(e),r=t<2||void 0===arguments[1]?void 0:o(arguments[1]);try{return!!new d(i,r)}catch(e){return!1}}})},66693:(module,e,t)=>{"use strict";var i=t(38348),r=t(41970),n=t(61506),a=t(21582);module.exports=function(e,t,s,o){o||(o={});var l=o.enumerable,d=void 0!==o.name?o.name:t;if(i(s)&&n(s,d,o),o.global)l?e[t]=s:a(t,s);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=s:r.f(e,t,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},66956:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(74663),s=i(9325),o=i(4302),l=s.Map,d=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=new l;return o(t,(function(e,n){d(r,i(e,n,t),e)})),r}})},67140:(module,e,t)=>{"use strict";var i=t(59805),r=t(17649),n=t(98544),a=t(53868),s=t(56808),o=t(72909),l=t(44489),d=t(7831),c=Array,u=r([].push);module.exports=function(e,t,r,h){for(var p,f,v,m=a(e),y=n(m),g=i(t,r),b=l(null),E=o(y),w=0;E>w;w++)v=y[w],(f=s(g(v,w,m)))in b?u(b[f],v):b[f]=[v];if(h&&(p=h(m))!==c)for(f in b)b[f]=d(p,b[f]);return b}},67165:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,forced:!0},{signbit:function(e){var t=+e;return t==t&&0===t?1/t==-1/0:t<0}})},67273:(module,e,t)=>{"use strict";var i=t(54258),r=t(38348),n=/#|\.prototype\./,a=function(e,t){var n=o[s(e)];return n===d||n!==l&&(r(t)?i(t):!!t)},s=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},o=a.data={},l=a.NATIVE="N",d=a.POLYFILL="P";module.exports=a},67387:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(81658),s=i(77474),o=i(44520),l=i(63851),d=i(22571),c=i(18132),u=i(37362),h=i(8694),p=!h&&u("take",RangeError),f=d((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,c(e,"normal",void 0);var t=a(n(this.next,e));return(this.done=!!t.done)?void 0:t.value}));r({target:"Iterator",proto:!0,real:!0,forced:h||p},{take:function(e){var t;a(this);try{t=l(o(+e))}catch(e){c(this,"throw",e)}return p?n(p,this,t):new f(s(this),{remaining:t})}})},67555:(e,t,i)=>{"use strict";i.d(t,{A:()=>R});var r=i(94581),n=i(33694);class a{constructor(e){this.addon=e}onSetupView(e){}onInit(){}onStop(){}onPlayStream(e){}onPauseStream(e){}onUpdateStreamTime(e){}onViewResize(e){}get priority(){return 0}suppressPlayerNotifications(){return!1}showSubtitles(e,t=!1){}hideSubtitles(e=!1){}dispose(){}}var s,o,l,d=i(29183),c=i(25775),u=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},h=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},p=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class f extends a{get priority(){return 3}constructor(e){super(e),this.subtitleContainer=null,this.isInitPhase=!1,this.imsc=null,this.imscRequested=!1,this.xmlCache={},this.currentLang="",this.currentKind="",this.ttObj=null,this.updateTimeInterval=-1,this.subtitlesShowing=!1,this.addon360=null,this.hasLongOrLat=!1,s.set(this,[]),o.set(this,[]),this.name="EBU-TT",this.errorHandler={info:e=>(this.addon.info(e),!1),warn:e=>(this.addon.warn(e),!1),error:e=>(this.addon.error(e),!1),fatal:e=>(this.addon.error(e),!1)},l.set(this,0),this.renderCurrentSubtitle=()=>{var e,t,i,r;const n=performance.now();if(n-h(this,l,"f")<100)return;if(p(this,l,n,"f"),this.clearRenderedSubtitles(),null===this.ttObj||null===this.imsc||!this.subtitlesShowing)return;const a=this.imsc.generateISD(this.ttObj,this.addon.player.getCurrentTime(),this.errorHandler);if(this.subtitleContainer){if("CONTAIN"===this.addon.player.model.videoScaleMode){let n=-1;try{const t=null===(e=this.addon.player.getCtrl())||void 0===e?void 0:e.mediaElement;t&&t.videoWidth>0&&t.videoHeight>0&&(n=t.videoWidth/t.videoHeight)}catch(e){}if(-1===n){const e=null!==(r=null===(i=null===(t=this.addon.player.currentMedium)||void 0===t?void 0:t.aspectRatio)||void 0===i?void 0:i.split(":"))&&void 0!==r?r:[];n=2===e.length&&Number.isInteger(e[0])&&Number.isInteger(e[1])?parseInt(e[0],10)/parseInt(e[1],10):16/9}const a=this.subtitleContainer.parentElement;if(!a)return;n>=a.clientWidth/a.clientHeight?(this.subtitleContainer.style.height=a.clientWidth/n+"px",this.subtitleContainer.style.width="100%"):(this.subtitleContainer.style.height="100%",this.subtitleContainer.style.width=a.clientHeight*n+"px")}else this.subtitleContainer.style.height="100%",this.subtitleContainer.style.width="100%";a&&(this.addon360&&this.addon360.ctrl360.renderSubtitle(a,this.getAngle(this.addon.player.getCurrentTime())),this.imsc.renderHTML(a,this.subtitleContainer,this.resolveImage.bind(this),this.subtitleContainer.clientHeight,this.subtitleContainer.clientWidth,!1,this.errorHandler,null,!1))}},this.resolveImage=this.resolveImage.bind(this)}onSetupView(e){var t;super.onSetupView(e),this.subtitleContainer=document.createElement("div"),this.subtitleContainer.classList.add(R.CLASS_SUBTITLE_PLACEHOLDER),null===(t=e.viewport)||void 0===t||t.appendChild(this.subtitleContainer)}onInit(){this.imscRequested||(this.imscRequested=!0,this.loadLibrary()),this.addon360=this.addon.player.addons.find((e=>"Addon360"===e.ID))}onPlayStream(e){super.onPlayStream(e),this.isInitPhase=!1,this.startInterval()}onPauseStream(e){super.onPauseStream(e),this.stopInterval()}onStop(){this.stopInterval()}onUpdateStreamTime(e){super.onUpdateStreamTime(e),this.renderCurrentSubtitle()}loadLibrary(){this.imsc=null,i.e(356).then(i.t.bind(i,87298,19)).then((e=>{this.imsc=e,this.beginRenderingCurrentSubtitle()})).catch((()=>{}))}beginRenderingCurrentSubtitle(){if(this.isInitPhase)return;const e=this.xmlCache[`${this.currentLang}-${this.currentKind}`];(0,d.z3)(e)||null===this.imsc||null!==this.ttObj||(this.ttObj=this.imsc.fromXML(e,this.errorHandler,null),this.hasLongOrLat&&h(this,o,"f").length>0&&(p(this,s,h(this,o,"f").map((e=>{var t,i,r,n,a,s,o,l;return{begin:f.parseTimeExpression(null!==(i=null===(t=this.ttObj)||void 0===t?void 0:t.tickRate)&&void 0!==i?i:null,null!==(n=null===(r=this.ttObj)||void 0===r?void 0:r.effectiveFrameRate)&&void 0!==n?n:null,e.begin),end:f.parseTimeExpression(null!==(s=null===(a=this.ttObj)||void 0===a?void 0:a.tickRate)&&void 0!==s?s:null,null!==(l=null===(o=this.ttObj)||void 0===o?void 0:o.effectiveFrameRate)&&void 0!==l?l:null,e.end),latitude:e.latitude,longitude:e.longitude}})),"f"),p(this,o,[],"f"),h(this,s,"f").sort(((e,t)=>{const i=e.begin-t.begin;return 0!==i?i:e.end-t.end}))),this.renderCurrentSubtitle())}onViewResize(e){super.onViewResize(e),this.renderCurrentSubtitle()}loadSubtitle(e){var t,i;if(this.currentLang===e.languageCode&&this.currentKind===e.kind||(this.ttObj=null),this.currentLang=e.languageCode,this.currentKind=e.kind,(0,d.z3)(this.xmlCache[`${e.languageCode}-${e.kind}`])){const r=null!==(i=null===(t=e.sources.find((e=>"ebutt"===e.kind)))||void 0===t?void 0:t.url)&&void 0!==i?i:"";fetch(c.O.isEmbedded&&r.startsWith("//")?"https:"+r:r).then((e=>u(this,void 0,void 0,(function*(){return yield e.text()})))).then((e=>(new DOMParser).parseFromString(e,"text/xml"))).then((t=>{var i,r,n;try{this.addon.player.checkState()}catch(e){return void this.addon.warn("aborting async",e)}this.hasLongOrLat=!1,p(this,s,[],"f"),p(this,o,[],"f");for(const e of t.getElementsByTagName("tt:p")){const t=e.attributes.getNamedItem("begin"),a=e.attributes.getNamedItem("end");(null==t?void 0:t.nodeValue)&&(t.nodeValue=t.nodeValue.replace(/^([1-9][0-9]+)(:[0-9:.]+)$/,((e,t,i)=>`${String(parseInt(t)-10).padStart(2,"0")}${i}`))),(null==a?void 0:a.nodeValue)&&(a.nodeValue=a.nodeValue.replace(/^([1-9][0-9]+)(:[0-9:.]+)$/,((e,t,i)=>`${String(parseInt(t)-10).padStart(2,"0")}${i}`)));const s=e.attributes.getNamedItem("imac:equirectangularLongitude"),l=e.attributes.getNamedItem("imac:equirectangularLatitude");this.hasLongOrLat||(this.hasLongOrLat=null!==s||null!==l),this.hasLongOrLat&&h(this,o,"f").push({begin:null!==(i=null==t?void 0:t.nodeValue)&&void 0!==i?i:"",end:null!==(r=null==a?void 0:a.nodeValue)&&void 0!==r?r:"",longitude:(null==s?void 0:s.nodeValue)?parseFloat(s.nodeValue):null,latitude:(null==l?void 0:l.nodeValue)?parseFloat(l.nodeValue):null});for(const t of e.getElementsByTagName("tt:span")){const e=document.createTextNode(null!==(n=t.textContent)&&void 0!==n?n:"");(0,d.Ie)(t),t.append(e)}}this.xmlCache[`${e.languageCode}-${e.kind}`]=(new XMLSerializer).serializeToString(t).replace(/\r\n/g,"\n"),this.beginRenderingCurrentSubtitle()})).catch((e=>{this.addon.error(e)}))}else this.beginRenderingCurrentSubtitle()}static parseTimeExpression(e,t,i){let r=null;if(null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(i))){if(null!==t)return parseFloat(r[1])/t}else if(null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(i))){if(null!==e)return parseFloat(r[1])/e}else{if(null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(i)))return parseFloat(r[1])/1e3;if(null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(i)))return parseFloat(r[1]);if(null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(i)))return 3600*parseFloat(r[1]);if(null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(i)))return 60*parseFloat(r[1]);if(null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(i)))return 3600*parseInt(r[1])+60*parseInt(r[2])+parseFloat(r[3]);if(null!==(r=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/.exec(i))&&null!==t)return 3600*parseInt(r[1])+60*parseInt(r[2])+parseInt(r[3])+(null===r[4]?0:parseInt(r[4])/t)}return 0}resolveImage(e,t){new Promise((function(t){const i=new Image;i.onload=function(){const e=document.createElement("canvas");e.width=i.naturalWidth,e.height=i.naturalHeight;const r=e.getContext("2d");null==r||r.drawImage(i,0,0),t(e.toDataURL("image/png"))},i.src=e})).then((e=>{t.src=e})).catch((()=>{}))}startInterval(){clearInterval(this.updateTimeInterval),this.updateTimeInterval=this.addon.player.safeInterval((()=>{this.renderCurrentSubtitle()}),250)}stopInterval(){clearInterval(this.updateTimeInterval)}getAngle(e){let t=0,i=h(this,s,"f").length-1;for(;t<=i;){const r=Math.floor((t+i)/2),n=h(this,s,"f")[r];if(n.begin<=e&&n.end>=e)return n;n.end<e?t=r+1:i=r-1}return null}clearRenderedSubtitles(){(0,d.Ie)(this.subtitleContainer)}showSubtitles(e,t=!1){this.isInitPhase=t,this.imscRequested||(this.imscRequested=!0,this.loadLibrary()),this.subtitlesShowing=!0,this.loadSubtitle(e)}hideSubtitles(e=!1){this.subtitlesShowing=!1,this.currentLang="",this.ttObj=null,this.clearRenderedSubtitles()}dispose(){var e,t;super.dispose(),this.stopInterval(),null===(t=null===(e=this.subtitleContainer)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.subtitleContainer),this.xmlCache={},p(this,s,[],"f"),p(this,o,[],"f"),this.ttObj=null}currentStateSupports(e){return this.supports(e)&&!this.addon.player.isRemotePlayback}supports(e){return e.sources.some((e=>"ebutt"===e.kind))}}s=new WeakMap,o=new WeakMap,l=new WeakMap;const v=f;var m=i(98152);class y extends a{hideSubtitles(e=!1){var t,i;try{const e=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(e){null===(i=this.hlsCtrl)||void 0===i||i.setWebVTTSubtitlesEnabled(!1);const t=e.textTracks;for(let e=0;e<t.length;e++){const i=t[e];"subtitles"!==i.kind&&"captions"!==i.kind&&"forced"!==i.kind||(i.mode="disabled")}}}catch(e){this.addon.error(e)}}showSubtitles(e,t=!1){var i,r,n;try{const a=this.findTrackFor(e);if(null!==a){null===(i=this.hlsCtrl)||void 0===i||i.setWebVTTSubtitlesEnabled(!0);const e=null!==(n=null===(r=this.addon.player.getCtrl())||void 0===r?void 0:r.mediaElement.textTracks)&&void 0!==n?n:[];for(let t=0;t<e.length;t++){const i=e[t];"subtitles"!==i.kind&&"captions"!==i.kind&&"forced"!==i.kind||(i.mode="disabled")}a.mode="showing"}else this.hideSubtitles(t)}catch(e){this.addon.error(e)}}findTrackFor(e){var t;const i=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(!i)return null;const r=i.textTracks,n="forced"===e.kind,a=m.Jf.textTrackKindFor(e.kind,c.O.isEmbedded||c.O.browserIsSafari);for(let t=0;t<r.length;t++){const i=r[t];if((i.kind===a||"forced"===e.kind&&"forced"===i.kind)&&""!==i.label&&!i.id.startsWith("vtt-synthetic-track-")&&(0,d.bS)(i.language,e.languageCode)&&(!n||!0===i.isForced)&&(void 0===i.renderingType||void 0===i.isEmbedded||void 0===i.isTTML))return i}return null}currentStateSupports(e){return!!this.supports(e)&&null!==this.findTrackFor(e)}get hlsInUse(){return"hls"===this.addon.player.currentPluginName}get hlsCtrl(){return this.hlsInUse?this.addon.player.getCtrl():null}}class g extends y{constructor(e){super(e),this.subtitleWaitingForInit=null,this.name="VTT-Track",this.onError=e=>{var t,i;const r=null===(i=null===(t=this.addon.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.mediaElement;r instanceof HTMLMediaElement&&(null==r||r.removeChild(e.target))},c.O.isEmbedded&&c.O.isDebug&&!c.O.isIOSDevice&&this.addon.warn("debug build: Allowing VTTTrack Subtitle despite isEmbedded")}get priority(){return 2}onInit(){super.onInit(),this.addon.log("vtt-track onInit",this.subtitleWaitingForInit),null!==this.subtitleWaitingForInit&&(this.addon.log("re-try adding vtt-track on stream init on next tick",this.subtitleWaitingForInit),this.addon.player.safeTimeout((()=>{null!==this.subtitleWaitingForInit?(this.showSubtitles(this.subtitleWaitingForInit),this.subtitleWaitingForInit=null):this.addon.info("vtt stream init superseded during tick!")})))}dispose(){super.dispose(),this.subtitleWaitingForInit=null}static getIdFor(e){return`vtt-synthetic-track-${String(e.languageCode)}-${String(e.kind)}`}addTrackForSubtitle(e){var t,i,r;const n=g.getIdFor(e),a=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(a&&a instanceof HTMLVideoElement){if(null===a.textTracks.getTrackById(n)){a.setAttribute("crossorigin","anonymous");const t=document.createElement("track");t.setAttribute("default","false"),t.setAttribute("id",n),t.setAttribute("label",R.displayName(e)),t.setAttribute("kind",m.Jf.textTrackKindFor(e.kind)),t.setAttribute("srclang",e.languageCode),t.setAttribute("src",null!==(r=null===(i=e.sources.find((e=>"webvtt"===e.kind&&!(0,d.z3)(e.url))))||void 0===i?void 0:i.url)&&void 0!==r?r:""),t.setAttribute("isForced",String("forced"===e.kind)),t.addEventListener("error",this.onError),a.appendChild(t)}}else this.subtitleWaitingForInit=e,this.addon.log("vtt track could not be added",this.subtitleWaitingForInit)}showSubtitles(e,t=!1){this.subtitleWaitingForInit=null,this.addTrackForSubtitle(e),super.showSubtitles(e,t)}hideSubtitles(e=!1){e||(this.subtitleWaitingForInit=null),super.hideSubtitles(e)}findTrackFor(e){var t,i;const r=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;return r instanceof HTMLMediaElement&&null!==(i=r.textTracks.getTrackById(g.getIdFor(e)))&&void 0!==i?i:null}currentStateSupports(e){var t,i,r,n,a;return this.supports(e)&&((null===(i=null===(t=this.addon.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.mediaElement)instanceof HTMLVideoElement||!c.O.isEmbedded&&null==(null!==(a=null===(n=null===(r=this.addon.player)||void 0===r?void 0:r.getCtrl())||void 0===n?void 0:n.mediaElement)&&void 0!==a?a:null))}supports(e){return(!c.O.isEmbedded||c.O.isDebug&&!c.O.isIOSDevice)&&e.sources.some((e=>"webvtt"===e.kind&&!(0,d.z3)(e.url)))}}var b,E,w,S,C,A,T,I,k,L=i(47295),P=i(75768),x=i(23720),_=i(90732),O=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},M=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class D extends L.t{constructor(){super(...arguments),b.add(this),this.configKey="internals/language",E.set(this,null),this.capabilities=[],this.currentSubtitle=null,this.prevSubtitle=null,this.currentCapability=null,this.metaSubtitles=[],this.metaAudioList=[],this.currentAudio=null,this.retryAudioTimeout=-1,w.set(this,null),this.bottomSheetOpen=!1,this.languageSelect=null,this.subtitleSelect=null,this._lastTimeCode=0,this.displaySubtitles=!1,S.set(this,!1),C.set(this,!1),A.set(this,!1),T.set(this,0),I.set(this,-2)}get ID(){return D.ID}get buttonOrder(){return 20}listAddonButtons(){return this.addonButtonVisible()?[{classList:["ardplayer-button-language","ardplayer-icon","ardplayer-icon-language"],screen:D.OVERVIEW_SCREEN,accessibilityKey:"language"}]:[]}listSecondaryAddonButtons(){return!this.player.isAudio&&0!==this.metaSubtitles.length&&this.metaSubtitles.some((e=>this.subtitleCurrentlyAvailable(e)))&&this.mc.streams.some((e=>"subtitle-burn-in"!==e.kind))?[{classList:["ardplayer-icon",null==this.currentSubtitle?"ardplayer-icon-ut":"ardplayer-icon-utactive"],accessibilityKey:"subtitle",accessibilityVariables:{pressed:null!==this.currentSubtitle}}]:[]}secondaryAddonButtonClicked(e,t){"subtitle"===t.accessibilityKey&&(this.toggleSubtitles(!1,!1,!0),e.classList.toggle("ardplayer-icon-ut",null==this.currentSubtitle),e.classList.toggle("ardplayer-icon-utactive",null!=this.currentSubtitle))}get targetAudio(){var e;return null!==(e=O(this,w,"f"))&&void 0!==e?e:this.currentAudio}get adActive(){var e;return"audio-description"===(null===(e=this.targetAudio)||void 0===e?void 0:e.kind)}describeAudio(e){return(0,d.cl)(e)?"-":`${e.languageCode} ${e.kind}${e.label?' "'+e.label+'"':""}`}debugString(){var e,t,i,r,n,a;const s=this.currentSubtitle,o=null===(e=this.player.currentStream)||void 0===e?void 0:e.videoLanguageCode;return this.describeAudio(this.player.currentAudio)+" ("+this.describeAudio(this.targetAudio)+") | "+(null==s?"-":s.languageCode+" "+s.kind+" "+(null!==(i=null===(t=this.currentCapability)||void 0===t?void 0:t.name)&&void 0!==i?i:"-"))+((0,d.z3)(o)||"main"===(null===(r=this.player.currentStream)||void 0===r?void 0:r.kind)?"":" | "+(null!==(a=null===(n=this.player.currentStream)||void 0===n?void 0:n.kind)&&void 0!==a?a:"")+" "+(0,d.OT)(o))}get player(){return super.player}register(){return!!super.register()&&(M(this,E,new _.W(this.player),"f"),this.registerPlayerEvent(r.a.EVENT_LOAD_STREAM,this.onLoadStream),this.registerPlayerEvent(r.a.EVENT_STREAM_LOADED,this.onStreamLoaded),this.registerPlayerEvent(r.a.REMOTE_PLAYBACK_CHANGED,this.onStreamLoaded),this.registerPlayerEvent(r.a.EVENT_KEYBOARD_RELEASE,this.onKeyboardRelease),this.registerPlayerEvent(r.a.SETUP_VIEW,this.onSetupView),this.registerPlayerEvent(r.a.SETUP_VIEW_COMPLETE,this.onSetupViewComplete),this.registerPlayerEvent(r.a.EVENT_PLAY_STREAM,this.onPlayStream),this.registerPlayerEvent(r.a.EVENT_PAUSE_STREAM,this.onPauseStream),this.registerPlayerEvent(r.a.EVENT_STOP_STREAM,this.onStopStream),this.registerPlayerEvent(r.a.EVENT_UPDATE_STREAM_TIME,this.onUpdateStreamTime),this.registerPlayerEvent(r.a.VIEWPORT_RESIZE,this.onViewResize),O(this,E,"f").addEventListener("AddonUntertitel.toggleSubtitles",(()=>{this.toggleSubtitles()})),O(this,E,"f").addEventListener("AddonUntertitel.showSubtitles",(()=>{this.toggleSubtitleState(!0,!1,!0)})),O(this,E,"f").addEventListener("AddonUntertitel.hideSubtitles",(()=>{this.toggleSubtitleState(!1,!1,!0)})),P.x.for(this.player).storageListeners.add(this),this.log("subtitle enabled by default",this.player.model.playerConfig.generic.isShowSubtitleAtStart,this.metaSubtitles),this.restoreSubtitleTarget(),this.restoreStreamTarget(),this.log("registered"),!0)}restoreStreamTarget(){var e,t,i,r,n,a;const s=P.x.for(this.player),o=String(s.get(P.x.VIDEO_KIND,!1,"main")),l=String(s.get(P.x.VIDEO_LANGUAGE,!1,"dgs")),c=String(s.get(P.x.AUDIO_KIND)),u=String(s.get(P.x.AUDIO_LANGUAGE,!1,"deu"));if("sign-language"===o){this.log("stream target sign-language",l,"audio kind",c);const a=this.metaAudioList.filter((e=>"sign-language"===e.metaStreamKind));if(a.length>0){const s=null!==(n=null!==(r=null!==(i=null!==(t=null!==(e=a.find((e=>e.kind===c&&(0,d.bS)(e.metaStreamLanguageCode,l)&&(0,d.bS)(e.languageCode,u))))&&void 0!==e?e:a.find((e=>(0,d.bS)(e.metaStreamLanguageCode,l)&&(0,d.bS)(e.languageCode,u))))&&void 0!==t?t:a.find((e=>(0,d.bS)(e.metaStreamLanguageCode,l))))&&void 0!==i?i:a.find((e=>e.kind===c&&(0,d.bS)(e.languageCode,u))))&&void 0!==r?r:a.find((e=>(0,d.bS)(e.languageCode,u))))&&void 0!==n?n:a[0];this.log("stream target",s);const o=this.mc.streams.find((e=>e.videoLanguageCode===s.metaStreamLanguageCode&&e.media.some((e=>e.audios.some((e=>e.kind===s.kind&&(0,d.bS)(e.languageCode,s.languageCode)))))));return void(o&&(this.player.preselectStartupStream(o),M(this,C,!0,"f")))}}if("audio-description"===c){this.log("stream target audio kind",c,"lang",u);const e=this.mc.streams.filter((e=>e.media.some((e=>e.audios.some((e=>e.kind===c))))));e.length>0&&(this.player.preselectStartupStream(1===e.length?e[0]:null!==(a=e.find((e=>e.media.some((e=>e.audios.some((e=>e.kind===c&&(0,d.bS)(e.languageCode,u))))))))&&void 0!==a?a:e[0]),M(this,C,!0,"f"))}}restoreSubtitleTarget(){var e,t,i,r,n,a,s,o,l,c,u,h;if(this.log("restoreSubtitleTarget"),!this.displaySubtitles||null==this.currentSubtitle)if(this.player.model.playerConfig.generic.isShowSubtitleAtStart||P.x.subtitleEnabled(this.player)){if(this.metaSubtitles.length>0){const s=String(null!==(t=null!==(e=P.x.for(this.player).get(P.x.SUBTITLE_LANGUAGE,!1,null))&&void 0!==e?e:P.x.for(this.player).get(P.x.AUDIO_LANGUAGE,!1,null))&&void 0!==t?t:"deu"),o=null!==(i=P.x.for(this.player).get(P.x.SUBTITLE_KIND,!1,null))&&void 0!==i?i:"normal";this.currentSubtitle=null!==(a=null!==(n=null!==(r=this.metaSubtitles.find((e=>(0,d.bS)(e.languageCode,s)&&e.kind===o&&this.subtitleCurrentlyAvailable(e))))&&void 0!==r?r:this.metaSubtitles.find((e=>(0,d.bS)(e.languageCode,s)&&this.subtitleCurrentlyAvailable(e))))&&void 0!==n?n:this.metaSubtitles.find((e=>this.subtitleCurrentlyAvailable(e))))&&void 0!==a?a:null,this.displaySubtitles=!0,this.log("restored subtitle target",s,o,this.currentSubtitle)}}else if(this.metaSubtitles.length>0){const e=null!==(o=null===(s=this.currentAudio)||void 0===s?void 0:s.languageCode)&&void 0!==o?o:P.x.for(this.player).get(P.x.AUDIO_LANGUAGE,!1,null),t=null!==(l=P.x.for(this.player).get(P.x.SUBTITLE_LANGUAGE,!1,null))&&void 0!==l?l:"deu";this.currentSubtitle=null!==(h=null!==(u=null!==(c=this.metaSubtitles.find((t=>(0,d.bS)(t.languageCode,e)&&"forced"===t.kind&&this.subtitleCurrentlyAvailable(t))))&&void 0!==c?c:this.metaSubtitles.find((e=>(0,d.bS)(e.languageCode,t)&&"forced"===e.kind&&this.subtitleCurrentlyAvailable(e))))&&void 0!==u?u:this.metaSubtitles.find((e=>"forced"===e.kind&&this.subtitleCurrentlyAvailable(e))))&&void 0!==h?h:null,this.displaySubtitles=null!==this.currentSubtitle,this.displaySubtitles?this.log("set forced subtitle target",this.currentSubtitle):this.log("no forced subtitle target")}}onScreenClosed(e){super.onScreenClosed(e),this.bottomSheetOpen=!1,this.languageSelect=null,this.subtitleSelect=null}reRenderDisplayList(){var e,t,i,r;this.bottomSheetOpen&&(null===(t=null===(e=this.bottomSheet)||void 0===e?void 0:e.activeScreen)||void 0===t?void 0:t.addon)===this&&(this.log("re-render bottom sheet with added options"),null===(i=this.bottomSheet)||void 0===i||i.nextScreen(this,null===(r=this.bottomSheet)||void 0===r?void 0:r.activeScreen.screenId,null))}renderToDisplayList(e,t){this.bottomSheetOpen=!0,e.title="Sprache",this.log("audiolist",this.metaAudioList,this.currentAudioIndex,this.currentAudio);const i=x.hc.renderSelectGroup(e);if(this.metaAudioList.length>0&&(this.languageSelect=x.hc.renderSelect(i,"Audiosprache",this.metaAudioList.map((e=>D.audioDisplayName(e))),this.currentAudioIndex,(e=>{this.setAudioConfig(this.metaAudioList[e],!0),this.updateSubtitleUi()}),((e,t,i)=>!0),c.O.isDebugVerboseUI)),!this.player.isAudio){const e=["Aus",...this.metaSubtitles.map((e=>{const t=D.displayName(e);return 1===this.metaSubtitles.length&&t.startsWith("Unbekannt")?"An":t}))];this.subtitleSelect=x.hc.renderSelect(i,"Untertitel",e,this.currentSubtitle?this.metaSubtitles.indexOf(this.currentSubtitle)+1:0,(e=>{0===e?this.hideSubtitles(!1,!1,!1):this.showSubtitles(this.metaSubtitles[e-1],!1,!1,!1),this.renderSecondaryButtons()}),((e,t,i)=>0===i?this.mc.streams.some((e=>"subtitle-burn-in"!==e.kind)):this.subtitleCurrentlyAvailable(this.metaSubtitles[i-1])),c.O.isDebugVerboseUI)}}updateSubtitleUi(){var e;this.subtitleSelect?null===(e=this.subtitleSelect)||void 0===e||e.updateSelection(this.currentSubtitle?this.metaSubtitles.indexOf(this.currentSubtitle)+1:0,!0):this.bottomSheetOpen&&this.capabilities.length>0&&this.reRenderDisplayList(),this.renderSecondaryButtons()}updateLanguageUI(){this.languageSelect?this.languageSelect.updateValues(this.metaAudioList.map((e=>D.audioDisplayName(e))),this.currentAudioIndex):this.bottomSheetOpen&&this.reRenderDisplayList()}subtitleCurrentlyAvailable(e){return this.capabilities.some((t=>t.currentStateSupports(e)))}onLoadStream(){var e,t;M(this,S,null===this.currentAudio,"f"),null===(e=this.player.getCtrl())||void 0===e||e.addSubtitleListener(this),null===(t=this.player.getCtrl())||void 0===t||t.addAudioTrackListener(this)}onStreamLoaded(){var e,t,i,r;if(O(this,S,"f")){if(!1===(null===(e=this.player.getCtrl())||void 0===e?void 0:e.getAudioTracksInitialized()))return void M(this,A,!0,"f");const n=String(P.x.for(this.player).get(P.x.AUDIO_LANGUAGE,!1,"deu")),a=String(P.x.for(this.player).get(P.x.AUDIO_KIND,!1,"standard"));this.currentAudio=null!==(r=null!==(i=null!==(t="audio-description"===a?this.metaAudioList.find((e=>"audio-description"===e.kind&&(0,d.bS)(e.languageCode,n))):null)&&void 0!==t?t:this.metaAudioList.find((e=>e.kind===a&&(0,d.bS)(e.languageCode,n))))&&void 0!==i?i:this.metaAudioList.find((e=>(0,d.bS)(e.languageCode,n))))&&void 0!==r?r:null}this.player.safeTimeoutPreservingContext((()=>{var e,t,i,r,n,a,s;const o=this.targetAudio;this.updateCurrentAudio(),this.log("stream loaded","target",o,"current",this.currentAudio),!o||(0,d.bS)(null===(e=this.currentAudio)||void 0===e?void 0:e.languageCode,o.languageCode)&&(null===(t=this.currentAudio)||void 0===t?void 0:t.kind)===o.kind||this.setAudioConfig(o,!1,!O(this,S,"f")||O(this,C,"f"),!O(this,S,"f")),this.currentSubtitle?(null===(i=this.currentCapability)||void 0===i?void 0:i.currentStateSupports(this.currentSubtitle))?(null===(r=this.currentCapability)||void 0===r||r.onInit(),null===(n=this.currentCapability)||void 0===n||n.showSubtitles(this.currentSubtitle)):this.showSubtitles(this.currentSubtitle,O(this,S,"f"),!0,!0):"subtitle-burn-in"===(null===(a=this.player.currentStream)||void 0===a?void 0:a.kind)&&(this.currentSubtitle=null!==(s=this.metaSubtitles.find((e=>e.metaStream===this.player.currentStream)))&&void 0!==s?s:null),this.updateSubtitleUi(),this.updateLanguageUI(),M(this,S,!1,"f"),M(this,C,!1,"f")}))}diableTrackSafariInitSafe(e){var t;if(!c.O.browserIsSafari||"function"!=typeof e.addEventListener||"function"!=typeof e.removeEventListener)return void(e.mode="hidden");e.mode="disabled";const i=null!==(t=Object.getOwnPropertyDescriptor(TextTrack.prototype,"mode"))&&void 0!==t?t:Object.getOwnPropertyDescriptor(Object.getPrototypeOf(TextTrack.prototype),"mode"),r=null==i?void 0:i.get,n=null==i?void 0:i.set;if(r&&n){let t;const i=()=>{this.log("cleaning up safari init handler for track",e),e.removeEventListener("cuechange",t),Object.defineProperty(e,"mode",{get:r,set:n,configurable:!0,enumerable:!0})};t=t=>{this.log("cue event for _disabled_ track",t),i(),e.mode="hidden"},e.addEventListener("cuechange",t);const a=this.log.bind(this);Object.defineProperty(e,"mode",{get(){return r.call(this)},set(e){a(`TextTrack mode target changed for ${this.label}: ${this.mode}  ${e}`),n.call(this,e),"showing"===e&&i()},configurable:!0,enumerable:!0})}}onTextTracksChanged(e){var t;if(null===e.track||(0,d.z3)(e.track.language)||"und"===e.track.language||"null"===e.track.language)return void this.log("track change with invalid track, skipping",e);"addtrack"===e.type&&e.track&&!e.track.id.startsWith("vtt-synthetic-")&&(0,d.b0)(e.track.isForced)&&("forced"===e.track.kind||"showing"===e.track.mode&&!c.O.browserIsSafari)&&(e.track.isForced=!0,this.log("track marked as forced via heuristic",e.track));const i=e.track.isForced?"forced":"captions"===e.track.kind||(0,d.Ed)(e.track.label)&&/(closed\s*captions)|(\(cc\))/i.test(e.track.label)?"closed-captions":"normal",r=this.metaSubtitles.find((t=>{var r,n;return t.kind===i&&(0,d.bS)(t.languageCode,null!==(n=null===(r=e.track)||void 0===r?void 0:r.language)&&void 0!==n?n:"")}));if("modechange"===e.type)return void("showing"===e.track.mode?r&&(this.log("external activation of subtitle",r),this.currentSubtitle=r,this.displaySubtitles=!0,this.currentCapability=null!==(t=this.capabilities.find((e=>e.currentStateSupports(r))))&&void 0!==t?t:null,this.updateCurrentAudio(),this.player.pixelController.triggerCustomPixel(n.k.SUPER_SUBTITLE_ACTIVATION,!1,{language:r.languageCode,kind:r.kind})):null!==this.currentSubtitle&&r===this.currentSubtitle&&(this.log("external deactivation of current subtitle"),this.currentCapability=null,this.hideSubtitles(!1,!1,!0)));let a=!1;if(this.log("subtitle track changed",e),"addtrack"===e.type&&e.track&&!e.track.id.startsWith("vtt-synthetic-")&&("forced"===e.track.kind||"captions"===e.track.kind||"subtitles"===e.track.kind)){if("showing"===e.track.mode&&this.diableTrackSafariInitSafe(e.track),r?r.sources.some((e=>"embedded"===e.kind))||(r.sources.push({kind:"embedded"}),a=!0):(this.metaSubtitles.push({languageCode:e.track.language,kind:i,sources:[{kind:"embedded"}]}),a=!0),a){const t={languageCode:e.track.language,kind:i,sources:[{kind:"embedded"}]};this.log("meta-subtitle added",r?"extending known":"new entry",t);const n=D.CAPABILITIES.filter((e=>!this.capabilities.some((t=>t instanceof e)))).map((e=>new e(this))).filter((e=>e.supports(t)));n.length>0&&(this.log("capabilities added",n.map((e=>e.name))),this.capabilities.push(...n),this.capabilities.sort(((e,t)=>t.priority-e.priority)),this.log("prioritized capabilities:",this.capabilities.map((e=>`${e.name} - ${e.priority}`)))),this.sortSubtitles(),this.renderButtons(),this.renderSecondaryButtons()}null!=this.currentSubtitle&&null==this.currentCapability&&0===O(this,T,"f")||0!==O(this,T,"f")||a&&null==this.currentCapability&&null==this.currentCapability&&(this.player.model.playerConfig.generic.isShowSubtitleAtStart||P.x.subtitleEnabled(this.player)||"forced"===i)?(0!==O(this,T,"f")&&clearTimeout(O(this,T,"f")),this.log("timeout to try to restore inactive current subtitle"),M(this,T,this.player.safeTimeout((()=>{null==this.currentSubtitle&&(this.restoreSubtitleTarget(),this.player.safeTimeout((()=>{this.renderSecondaryButtons()}))),this.currentSubtitle&&(this.log("try to restore inactive current subtitle"),this.showSubtitles(this.currentSubtitle,!1,!0,!0)),M(this,T,0,"f")}),150),"f")):r&&c.O.browserIsSafari&&this.currentSubtitle===r&&null==this.currentCapability&&(this.log("try to switch current subtitle renderer"),this.showSubtitles(this.currentSubtitle,!1,!0,!0))}this.subtitleSelect?this.subtitleSelect.updateEnabledOptions():this.bottomSheetOpen&&this.capabilities.length>0&&this.reRenderDisplayList()}onAudioTracksChanged(e){var t;let i=!1;e.filter((e=>!(0,d.z3)(e.language)&&"und"!==e.language&&"null"!==e.language)).forEach((e=>{var t,r,n,a,s,o,l;const c=e.isAudioDescription?"audio-description":e.isSimpleLanguage?"simple-language":e.isSpeechOptimized?"speech-optimized":"standard",u=e.channelCount?e.channelCount<=1?"mono":e.channelCount>2?"surround":"stereo":"stereo",h=this.metaAudioList.find((t=>{var i,r,n,a,s;return("sign-language"!==(null===(i=this.player.currentStream)||void 0===i?void 0:i.kind)&&!0!==t.isStreamBound||!0===t.isStreamBound&&t.metaStreamKind===(null===(r=this.player.currentStream)||void 0===r?void 0:r.kind)&&(0,d.bS)(t.metaStreamLanguageCode,null===(n=this.player.currentStream)||void 0===n?void 0:n.videoLanguageCode))&&t.kind===c&&(0,d.bS)(t.languageCode,e.language)&&((0,d.z3)(e.label)||"audio-description"===c||(0,d.z3)(t.label)||e.label===t.label||(0,d.bS)(e.label,t.languageCode))&&(u===t.channels||void 0===t.channels)&&(null!==(a=e.isAtmos)&&void 0!==a&&a)===(null!==(s=t.isAtmos)&&void 0!==s&&s)&&(e.channelCount===t.channelCount||void 0===t.channelCount||void 0===e.channelCount)}));h&&void 0===h.isAtmos&&(h.isAtmos=e.isAtmos),h?(null===(o=this.player.currentStream)||void 0===o?void 0:o.media[this.player.currentMedia||0].audios.some((e=>(0,d.bS)(e.languageCode,h.languageCode)&&e.kind===h.kind)))||(null===(l=this.player.currentStream)||void 0===l||l.media[this.player.currentMedia||0].audios.push(h),i=!0):(null===(t=this.player.currentStream)||void 0===t||t.media[this.player.currentMedia||0].audios.push({isDynamic:!0,kind:c,languageCode:e.language,nativeId:e.id,label:e.label,isAtmos:e.isAtmos,channelCount:e.channelCount,default:e.default,channels:u}),this.metaAudioList.push(Object.assign("main"===(null!==(n=null===(r=this.player.currentStream)||void 0===r?void 0:r.kind)&&void 0!==n?n:"main")?{}:{isStreamBound:!0,metaStreamKind:null===(a=this.player.currentStream)||void 0===a?void 0:a.kind,metaStreamLanguageCode:null===(s=this.player.currentStream)||void 0===s?void 0:s.videoLanguageCode},{isDynamic:!0,isAtmos:e.isAtmos,kind:c,languageCode:e.language,label:(0,d.z3)(e.label)||e.label===e.language?void 0:e.label,channelCount:e.channelCount,default:e.default,channels:u})),this.log("discovered & mapped new audio",e,this.metaAudioList[this.metaAudioList.length-1]),i=!0)})),i?(this.sortAudioOptions(),this.updateCurrentAudio(),this.renderButtons(),this.renderSecondaryButtons()):null===(t=this.languageSelect)||void 0===t||t.updateEnabledOptions(),O(this,A,"f")&&(this.log("retry audio init after audios available"),this.onStreamLoaded()),null!=O(this,w,"f")&&(this.log("retry audio switch after audios available"),this.setAudioConfig(O(this,w,"f"),!1,!0,!0),this.updateCurrentAudio())}onStorageValueChanged(e,t){e!==P.x.SUBTITLE_ENABLED||(0,d.cl)(t)||this.displaySubtitles===t||this.toggleSubtitles(!0,!0,!0)}onStopStream(){var e;null===(e=this.currentCapability)||void 0===e||e.onStop()}onPlayStream(e){var t;this.updateCurrentAudio(),null===(t=this.currentCapability)||void 0===t||t.onPlayStream(e)}onPauseStream(e){var t;null===(t=this.currentCapability)||void 0===t||t.onPauseStream(e)}onUpdateStreamTime(e){var t;this._lastTimeCode!==e.currentTime&&(this._lastTimeCode=e.currentTime,null===(t=this.currentCapability)||void 0===t||t.onUpdateStreamTime(e))}onViewResize(e){var t;null===(t=this.currentCapability)||void 0===t||t.onViewResize(e)}onSetupView(e){this.capabilities.forEach((t=>{t.onSetupView(e)}))}onKeyboardRelease(e){var t;switch(null==e?void 0:e.shortcut){case"u":case"c":this.player.pixelController.triggerPixel(this.displaySubtitles?n.k.IA_KEY_SUBTITLE_DEACTIVATION:n.k.IA_KEY_SUBTITLE_ACTIVATION),this.toggleSubtitles(!1,!1,!0);break;case"a":this.player.pixelController.triggerPixel(this.adActive?n.k.IA_KEY_AUDIODESCRIPTION_DEACTIVATION:n.k.IA_KEY_AUDIODESCRIPTION_ACTIVATION),this.setAdActive(!this.adActive);break;case"g":this.player.pixelController.triggerPixel("sign-language"!==(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind)?n.k.IA_KEY_SIGN_LANGUAGE_ACTIVATION:n.k.IA_KEY_SIGN_LANGUAGE_DEACTIVATION),this.toggleSignLanguage()}}onSetupViewComplete(){this.displaySubtitles&&null!==this.currentSubtitle?this.showSubtitles(this.currentSubtitle,!0,!0,!0):this.hideSubtitles(!0,!0,!0)}toggleSubtitleState(e,t=!1,i=!1){e!==this.displaySubtitles&&this.toggleSubtitles(t,i)}toggleSubtitles(e=!1,t=!1,i=!1){var r,a,s,o,l;if(null===(r=null==this?void 0:this.player)||void 0===r?void 0:r.getCtrl())if(0!==this.metaSubtitles.length){if(i||!this.displaySubtitles)if(this.displaySubtitles=!this.displaySubtitles,this.displaySubtitles){const i=null!==(o=null!==(s=null!==(a=this.prevSubtitle)&&void 0!==a?a:this.metaSubtitles.find((e=>{var t;return(0,d.bS)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&this.subtitleCurrentlyAvailable(e)})))&&void 0!==s?s:this.metaSubtitles.find((e=>this.subtitleCurrentlyAvailable(e))))&&void 0!==o?o:null;if(null===i)return;this.showSubtitles(i,!1,t,e||t)}else this.hideSubtitles(!1,t,e||t);else{let i=null;for(let e=this.metaSubtitles.findIndex((e=>e===this.currentSubtitle));e<this.metaSubtitles.length;e++)if(!(0,d.bS)(this.metaSubtitles[e].languageCode,null===(l=this.currentSubtitle)||void 0===l?void 0:l.languageCode)&&this.subtitleCurrentlyAvailable(this.metaSubtitles[e])){i=this.metaSubtitles[e];break}null!==i?this.showSubtitles(i,!1,t,e||t):(this.hideSubtitles(!1,t,e||t),this.prevSubtitle=this.metaSubtitles[0])}this.updateSubtitleUi()}else e||this.player.pixelController.triggerPixel(n.k.SUPER_SUBTITLE_UNAVAILABLE)}toggleSignLanguage(){var e,t;(null===(e=null==this?void 0:this.player)||void 0===e?void 0:e.getCtrl())&&("sign-language"===(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind)?this.disableSignedStream():this.player.pixelController.triggerPixel(n.k.SUPER_SIGN_LANGUAGE_UNAVAILABLE),this.updateLanguageUI(),this.updateSubtitleUi())}disableSignedStream(){var e,t,i,r;if(this.log("disableSignedStream",this.player.currentStream),"sign-language"!==(null===(e=this.player.currentStream)||void 0===e?void 0:e.kind))return;const a=this.currentAudio,s=this.mc.streams.filter((e=>"main"===e.kind));P.x.for(this.player).add(P.x.VIDEO_KIND,"main"),this.switchStream(null!==(r=null!==(i=null!==(t=s.find((e=>e.media.some((e=>e.audios.some((e=>(0,d.bS)(e.languageCode,null==a?void 0:a.languageCode)&&e.kind===(null==a?void 0:a.kind))))))))&&void 0!==t?t:s.find((e=>e.media.some((e=>e.audios.some((e=>(0,d.bS)(e.languageCode,null==a?void 0:a.languageCode))))))))&&void 0!==i?i:s.pop())&&void 0!==r?r:null),this.player.pixelController.triggerPixel(n.k.SUPER_SIGN_LANGUAGE_DEACTIVATION)}switchStream(e){var t,i;if(this.log("switchStream",e),null!==e&&e!==(null===(t=this.player)||void 0===t?void 0:t.currentStream)){const t=this.currentAudio,r=this.currentSubtitle;if(null!==r&&this.hideSubtitles(!0,!0,!0),this.player.switchStream(e),null!==r)if(this.subtitleCurrentlyAvailable(r))this.showSubtitles(r,!0,!0,!0);else{const e=this.metaSubtitles.filter((e=>(0,d.bS)(e.languageCode,r.languageCode)&&(e.isMetaStream?this.subtitleCurrentlyAvailable({languageCode:e.languageCode,kind:e.kind,sources:e.sources}):this.subtitleCurrentlyAvailable(e)))),t=null!==(i=e.find((e=>e.kind===r.kind)))&&void 0!==i?i:e.pop();t&&this.showSubtitles(t,!0,!0,!0)}this.setAudioConfig(t,!1,!0)}}hideSubtitles(e,t,i){var r;this.log("hide subtitles, current:",this.currentSubtitle,"prev:",this.prevSubtitle),this.displaySubtitles=!1,null===(r=this.currentCapability)||void 0===r||r.hideSubtitles(e),this.currentCapability=null,this.prevSubtitle=this.currentSubtitle,this.currentSubtitle=null,e||i||P.x.for(this.player).add(P.x.SUBTITLE_ENABLED,!1,!1,!t,!1),t||this.player.pixelController.triggerPixel(n.k.SUPER_SUBTITLE_DEACTIVATION)}showSubtitles(e,t=!1,i=!1,r=!1){var a,s,o;this.displaySubtitles=!0;const l=this.capabilities.find((t=>t.currentStateSupports(e)));this.log("showing subtitle using capability",e,null!==(a=null==l?void 0:l.name)&&void 0!==a?a:"NONE => hide if not init"),l?(this.currentCapability===l||(null===(s=this.currentCapability)||void 0===s||s.hideSubtitles(t),null===(o=this.currentCapability)||void 0===o||o.onStop(),this.currentCapability=l,this.currentCapability.onInit()),this.currentCapability.showSubtitles(e,t),this.currentSubtitle=e,r||(P.x.for(this.player).add(P.x.SUBTITLE_LANGUAGE,e.languageCode),P.x.for(this.player).add(P.x.SUBTITLE_KIND,e.kind),P.x.for(this.player).add(P.x.SUBTITLE_ENABLED,!0,!1,!i,!1)),i||this.player.pixelController.triggerCustomPixel(n.k.SUPER_SUBTITLE_ACTIVATION,!1,{language:this.currentSubtitle.languageCode,kind:e.kind})):t||this.hideSubtitles(t,i,r)}streamWillChangeForSubtitleActivation(){const e=this.currentAudio;this.log("try buffering current audio track before stream switch",e),e&&this.retryAudioConfigOnTracksChange(e)}retryAudioConfigOnTracksChange(e){M(this,w,e,"f"),clearTimeout(this.retryAudioTimeout),this.retryAudioTimeout=this.player.safeTimeout((()=>{null!=O(this,w,"f")&&(M(this,w,null,"f"),this.updateSubtitleUi())}),2e3)}setAudioConfig(e,t,i=!1,a=!1){var s,o,l,c,u,h,p,f,v,m,y,g,b,E,S,C,A,T,I,k,L,x;if(this.log("setAudio",e,t,a,i),!e)return;if(t&&(P.x.for(this.player).add(P.x.AUDIO_LANGUAGE,e.languageCode),P.x.for(this.player).add(P.x.AUDIO_KIND,e.kind)),M(this,w,null,"f"),!(!0!==e.isStreamBound&&"main"===(null===(s=this.player.currentStream)||void 0===s?void 0:s.kind)||(null===(o=this.player.currentStream)||void 0===o?void 0:o.kind)===e.metaStreamKind&&(0,d.bS)(null===(l=this.player.currentStream)||void 0===l?void 0:l.videoLanguageCode,e.metaStreamLanguageCode))){const i=null!==(c=e.metaStreamKind)&&void 0!==c?c:"subtitle-burn-in"===(null===(u=this.player.currentStream)||void 0===u?void 0:u.kind)?"subtitle-burn-in":"main",a=null!==(f=null!==(p=null!==(h=this.mc.streams.find((t=>t.kind===i&&("main"!==e.metaStreamKind||(0,d.bS)(t.videoLanguageCode,e.metaStreamLanguageCode))&&t.media.some((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.bS)(t.languageCode,e.languageCode))))))))&&void 0!==h?h:this.mc.streams.find((t=>t.kind===i&&("main"!==e.metaStreamKind||(0,d.bS)(t.videoLanguageCode,e.metaStreamLanguageCode))&&t.media.some((t=>t.audios.some((t=>(0,d.bS)(t.languageCode,e.languageCode))))))))&&void 0!==p?p:this.mc.streams.find((t=>t.kind===i&&("main"!==e.metaStreamKind||(0,d.bS)(t.videoLanguageCode,e.metaStreamLanguageCode))&&t.media.some((t=>t.audios.some((t=>t.kind===e.kind)))))))&&void 0!==f?f:this.mc.streams.find((t=>t.kind===i&&("main"!==e.metaStreamKind||(0,d.bS)(t.videoLanguageCode,e.metaStreamLanguageCode))));if(this.log("setAudio","stream bound audio change => stream switch",a),a){if(a!==this.player.currentStream){"sign-language"===a.kind?this.player.pixelController.triggerCustomPixel(n.k.SUPER_SIGN_LANGUAGE_ACTIVATION,!1,{language:a.videoLanguageCode}):"sign-language"===(null===(v=this.player.currentStream)||void 0===v?void 0:v.kind)&&this.player.pixelController.triggerPixel(n.k.SUPER_SIGN_LANGUAGE_DEACTIVATION),t&&(P.x.for(this.player).add(P.x.VIDEO_KIND,a.kind),P.x.for(this.player).add(P.x.VIDEO_LANGUAGE,a.videoLanguageCode)),this.player.switchStream(a);const i=()=>{this.player.loop.removeEventListener(r.a.EVENT_READY,i),this.setAudioConfig(e,!1,!0)};return void this.player.loop.addEventListener(r.a.EVENT_READY,i)}this.log("already playing correct stream, continue")}else this.info("could not find any stream satisfying constraints!")}const _=null===(m=this.player.currentStream)||void 0===m?void 0:m.media[this.player.currentMedia||0].audios.filter((t=>t.kind===e.kind&&(0,d.bS)(t.languageCode,e.languageCode))),O=null!==(E=null!==(b=null!==(g=null!==(y=null==_?void 0:_.find((t=>t.nativeId===e.nativeId&&t.label===e.label&&t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==y?y:null==_?void 0:_.find((t=>t.label===e.label&&t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==g?g:null==_?void 0:_.find((t=>t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==b?b:null==_?void 0:_.find((t=>t.channels===e.channels)))&&void 0!==E?E:null==_?void 0:_.find((e=>!0));if(O)return this.log("setAudio","track found",O),this.player.switchAudio(O)||this.retryAudioConfigOnTracksChange(e),void this.updateCurrentAudio();if(i&&a){const t=null===(S=this.player.currentStream)||void 0===S?void 0:S.media[this.player.currentMedia||0].audios.find((t=>(0,d.bS)(t.languageCode,e.languageCode)));if(this.log("setAudio","settling for",t),t)return this.player.switchAudio(t),void this.updateCurrentAudio()}if(!a){const r=null!==(A=null===(C=this.player.currentStream)||void 0===C?void 0:C.media.map(((e,t)=>({stream:e,idx:t}))).filter((t=>t.stream.audios.some((t=>t.kind===e.kind&&(0,d.bS)(t.languageCode,e.languageCode))))))&&void 0!==A?A:[];let n=1===r.length?r[0].idx:-1;if(r.length>1){const e=!1!==this.player.currentMedia&&null!==(I=null===(T=this.player.currentStream)||void 0===T?void 0:T.media[this.player.currentMedia])&&void 0!==I?I:null;if(null!=e){const t=["qualityLabel","isAdaptiveQualitySelectable","aspectRatio","maxHResolutionPx","videoCodec","isHighDynamicRange","isUltraLowLatency","hasEmbeddedSubtitles"];for(;-1===n&&t.length>0;)n=null!==(L=null===(k=r.find((i=>!t.some((t=>i.stream[t]!==e[t])))))||void 0===k?void 0:k.idx)&&void 0!==L?L:-1,t.pop();-1===n&&(n=r[0].idx)}}if(n>=0)return this.player.switchMedium(n,!0),void this.setAudioConfig(e,t,i,!0);i&&(this.log("no matching medium, stream-switch disabled, re-try later as last resort"),this.retryAudioConfigOnTracksChange(e))}if(!i){const t=null!==(x=this.mc.streams.find((t=>{var i;return t.kind===(null===(i=this.player.currentStream)||void 0===i?void 0:i.kind)&&t.media.some((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.bS)(t.languageCode,e.languageCode)))))})))&&void 0!==x?x:this.mc.streams.find((t=>t.media.some((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.bS)(t.languageCode,e.languageCode)))))));if(this.log("setAudio","streamswitch",t),t){this.player.switchStream(t);const i=()=>{this.player.loop.removeEventListener(r.a.EVENT_READY,i),this.setAudioConfig(e,!1,!0)};return void this.player.loop.addEventListener(r.a.EVENT_READY,i)}}this.updateCurrentAudio()}setAdActive(e){var t,i,r,a,s,o,l,c;if(this.log("setAdActive",e,"current:",this.currentAudio),e&&"audio-description"!==(null===(t=this.currentAudio)||void 0===t?void 0:t.kind)){const e=null!==(i=this.metaAudioList.find((e=>{var t;return"audio-description"===e.kind&&(0,d.bS)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)})))&&void 0!==i?i:this.metaAudioList.find((e=>"audio-description"===e.kind));e?(this.setAudioConfig(e,!0),this.adActive||this.player.pixelController.triggerPixel(n.k.SUPER_AUDIODESCRIPTION_UNAVAILABLE)):this.player.pixelController.triggerPixel(n.k.SUPER_AUDIODESCRIPTION_UNAVAILABLE)}else if(!e&&"audio-description"===(null===(r=this.currentAudio)||void 0===r?void 0:r.kind)){const e=this.metaAudioList.filter((e=>{var t;return(0,d.bS)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&"standard"===e.kind}));this.setAudioConfig(null!==(c=null!==(l=null!==(o=null!==(s=null!==(a=e.find((e=>{var t,i;return!0===e.default&&e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)&&e.channelCount===(null===(i=this.currentAudio)||void 0===i?void 0:i.channelCount)})))&&void 0!==a?a:e.find((e=>{var t,i;return e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)&&e.channelCount===(null===(i=this.currentAudio)||void 0===i?void 0:i.channelCount)})))&&void 0!==s?s:e.find((e=>{var t;return e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)})))&&void 0!==o?o:e.find((e=>!0)))&&void 0!==l?l:this.metaAudioList.find((e=>{var t;return(0,d.bS)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&"simple-language"===e.kind})))&&void 0!==c?c:null,!0)}}updateCurrentAudio(){var e,t,i,r,a,s;const o=this.currentAudio;this.currentAudio=this.player.currentAudio,o!==this.currentAudio&&(this.log("currentAudio",this.currentAudio),M(this,I,-2,"f"),O(this,S,"f")||null==o||o.languageCode===(null===(e=this.currentAudio)||void 0===e?void 0:e.languageCode)&&o.kind===this.currentAudio.kind||(this.player.pixelController.triggerCustomPixel(n.k.SUPER_AUDIOSTREAM_CHANGE,!1,{language:null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode,kind:null===(i=this.currentAudio)||void 0===i?void 0:i.kind}),o.kind!==(null===(r=this.currentAudio)||void 0===r?void 0:r.kind)&&("audio-description"===o.kind?this.player.pixelController.triggerPixel(n.k.SUPER_AUDIODESCRIPTION_DEACTIVATION):"audio-description"===(null===(a=this.currentAudio)||void 0===a?void 0:a.kind)&&this.player.pixelController.triggerCustomPixel(n.k.SUPER_AUDIODESCRIPTION_ACTIVATION,!1,{language:null===(s=this.currentAudio)||void 0===s?void 0:s.languageCode})))),this.updateLanguageUI(),this.updateSubtitleUi()}get currentAudioIndex(){return-2!==O(this,I,"f")||(M(this,I,O(this,b,"a",k),"f"),this.player.safeTimeout((()=>{M(this,I,-2,"f")}))),O(this,I,"f")}isSupported(){if(c.O.isEmbedded&&this.player.isAudio)return!1;if(this.metaSubtitles=this.player.model.mediaCollection.isAudioOnly?[]:this.mc.streams.filter((e=>"subtitle-burn-in"===e.kind)).map((e=>{var t,i;return{isMetaStream:!0,kind:"simple-language"===(null===(i=null===(t=e.media[0])||void 0===t?void 0:t.audios[0])||void 0===i?void 0:i.kind)?"simple-language":"normal",languageCode:e.videoLanguageCode,metaStream:e,sources:[]}})),!this.player.model.mediaCollection.isAudioOnly){const e=this.metaSubtitles.map((e=>e.languageCode));this.mc.subtitles.forEach((t=>{if(e.some((e=>(0,d.bS)(e,t.languageCode)))){const e=this.metaSubtitles.find((e=>e.kind===t.kind&&(0,d.bS)(e.languageCode,t.languageCode)));e?e.sources.push(...t.sources):this.metaSubtitles.push(t)}else this.metaSubtitles.push(t),e.push(t.languageCode)}))}return this.capabilities=D.CAPABILITIES.map((e=>new e(this))).filter((e=>this.metaSubtitles.some((t=>e.supports(t))))).sort(((e,t)=>t.priority-e.priority)),this.log("prioritized capabilities:",this.capabilities.map((e=>`${e.name} - ${e.priority}`))),this.mc.streams.forEach((e=>{e.media.forEach((t=>{var i;null===(i=t.audios)||void 0===i||i.forEach((t=>{(0,d.z3)(t.languageCode)||"und"===t.languageCode||"null"===t.languageCode||-1!==this.metaAudioList.findIndex((i=>i.kind===t.kind&&(0,d.bS)(i.languageCode,t.languageCode)&&i.channels===t.channels&&i.channelCount===t.channelCount&&i.label===t.label&&("sign-language"!==e.kind||i.isStreamBound&&i.metaStreamKind===e.kind)))||this.metaAudioList.push(Object.assign("sign-language"!==e.kind?{}:{isStreamBound:!0,metaStreamKind:e.kind,metaStreamLanguageCode:e.videoLanguageCode},t))}))}))})),this.sortAudioOptions(),this.sortSubtitles(),!0}addonButtonVisible(){return this.capabilities.length>0||this.metaAudioList.length>1}dispose(){var e;super.dispose(),null===(e=O(this,E,"f"))||void 0===e||e.dispose(),P.x.for(this.player).storageListeners.delete(this),clearTimeout(this.retryAudioTimeout),this.capabilities.forEach((e=>{e.dispose()})),this.capabilities=[],this.languageSelect=null,this.subtitleSelect=null}compareBySortList(e,t,i){if(e!==t)for(const r of i){if(e===r)return-1;if(t===r)return 1}return 0}sortAudioOptions(){this.metaAudioList.sort(((e,t)=>{var i,r,n,a;if(!(0,d.bS)(e.languageCode,t.languageCode))return(0,d.bS)(e.languageCode,"de")?-1:(0,d.bS)(t.languageCode,"de")?1:(null!==(i=e.label)&&void 0!==i?i:e.languageCode).localeCompare(null!==(r=t.label)&&void 0!==r?r:(0,d.OT)(t.languageCode));if(!0===e.isStreamBound||!0===t.isStreamBound){if(e.isStreamBound!==t.isStreamBound)return e.isStreamBound?1:-1;if(e.metaStreamLanguageCode&&t.metaStreamLanguageCode&&e.metaStreamLanguageCode!==t.metaStreamLanguageCode)return e.metaStreamLanguageCode.localeCompare(t.metaStreamLanguageCode)}return e.kind!==t.kind?this.compareBySortList(e.kind,t.kind,["standard","speech-optimized","simple-language","audio-description"]):e.channels!==t.channels?this.compareBySortList(e.channels,t.channels,["mono","stereo","surround"]):e.channelCount===t.channelCount||void 0===e.channelCount&&void 0===t.channelCount?0:(null!==(n=e.channelCount)&&void 0!==n?n:0)-(null!==(a=t.channelCount)&&void 0!==a?a:0)}))}sortSubtitles(){this.metaSubtitles.sort(((e,t)=>{if(!(0,d.bS)(e.languageCode,t.languageCode)){if((0,d.bS)(e.languageCode,"de"))return-1;if((0,d.bS)(t.languageCode,"de"))return 1}return D.displayName(e).localeCompare(D.displayName(t))}))}static getAudioPreferenceComparator(e){const t=P.x.for(e),i=String(t.get(P.x.AUDIO_LANGUAGE,!1,"deu")),r=String(t.get(P.x.AUDIO_KIND,!1,"standard"));return e.console.info(`[${this.ID}]`,"Audio Comparator preferring",r,i),(e,t)=>(t.audios.some((e=>e.kind===r&&(0,d.bS)(e.languageCode,i)))?3:t.audios.some((e=>(0,d.bS)(e.languageCode,i)))?2:t.audios.some((e=>e.kind===r))?1:0)-(e.audios.some((e=>e.kind===r&&(0,d.bS)(e.languageCode,i)))?3:e.audios.some((e=>(0,d.bS)(e.languageCode,i)))?2:e.audios.some((e=>e.kind===r))?1:0)}static audioDisplayName(e){return c.O.isDebugVerboseUI?`${!0===e.default?">":""}${e.isDynamic?"+":""}${(0,d.Ed)(e.metaStreamLanguageCode)?` [${e.metaStreamLanguageCode}] `:""}${e.languageCode} (${e.kind}) ${e.channels?e.channels+" ":""}${e.channelCount?e.channelCount+"ch ":""}${e.isAtmos?" atmos ":""}${e.label?" - "+e.label:""}`:this.audioDisplayNameBase(e)}static audioDisplayNameBase(e){if(!(0,d.z3)(e.label))return(0,d.Ed)(e.metaStreamLanguageCode)?`${e.label} - ${(0,d.OT)(e.metaStreamLanguageCode)}`:e.label;const t=[];switch((0,d.Ed)(e.metaStreamLanguageCode)&&t.push((0,d.OT)(e.metaStreamLanguageCode)),e.kind){case"audio-description":t.push("Audiodeskription");break;case"simple-language":t.push("Einfache Sprache");break;case"speech-optimized":t.push("Klare Sprache")}if(e.isAtmos)t.push("Dolby Atmos");else switch(e.channels){case"mono":t.push("Mono");break;case"surround":Number.isFinite(e.channelCount)?t.push(`${String(e.channelCount)}-Kanal`):t.push("Surround")}const i=(0,d.OT)(e.languageCode);return t.length>0?`${i} (${t.join(", ")})`:i}static displayName(e){return c.O.isDebugVerboseUI?`${e.languageCode} ${e.kind} (${e.isMetaStream?"stream":e.sources.map((e=>e.kind)).join(", ")})`:(0,d.Iv)(e)}}E=new WeakMap,w=new WeakMap,S=new WeakMap,C=new WeakMap,A=new WeakMap,T=new WeakMap,I=new WeakMap,b=new WeakSet,k=function(){const e=this.currentAudio;if(!e)return-1;const t=e=>{var t,i,r;return"main"===(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind)&&!0!==e.isStreamBound||!0===e.isStreamBound&&e.metaStreamKind===(null===(i=this.player.currentStream)||void 0===i?void 0:i.kind)&&(0,d.bS)(e.metaStreamLanguageCode,null===(r=this.player.currentStream)||void 0===r?void 0:r.videoLanguageCode)},i=(0,d.z3)(e.nativeId)?-1:this.metaAudioList.findIndex((i=>i.nativeId===e.nativeId&&t(i)));if(i>=0)return i;const r=(0,d.z3)(e.label)?-1:this.metaAudioList.findIndex((i=>i.label===e.label&&(0,d.bS)(i.languageCode,e.languageCode)&&t(i)));if(r>=0)return r;const n=this.metaAudioList.findIndex((i=>!0===i.default&&(0,d.bS)(i.languageCode,e.languageCode)&&i.channels===e.channels&&i.channelCount===e.channelCount&&i.kind===e.kind&&t(i)));if(n>=0)return n;const a=this.metaAudioList.findIndex((i=>(0,d.bS)(i.languageCode,e.languageCode)&&i.channels===e.channels&&i.channelCount===e.channelCount&&i.kind===e.kind&&t(i)));if(a>=0)return a;const s=this.metaAudioList.findIndex((i=>(0,d.bS)(i.languageCode,e.languageCode)&&i.channels===e.channels&&i.kind===e.kind&&t(i)));if(s>=0)return s;const o=this.metaAudioList.findIndex((i=>(0,d.bS)(i.languageCode,e.languageCode)&&i.kind===e.kind&&t(i)));return o>=0?o:this.metaAudioList.findIndex((t=>(0,d.bS)(t.languageCode,e.languageCode)&&t.kind===e.kind))},D.ID="AddonLanguage",D.OVERVIEW_SCREEN="overview",D.CLASS_SUBTITLE_PLACEHOLDER="ardplayer-untertitel",D.CAPABILITIES=[g,class extends y{constructor(){super(...arguments),this.name="ExternalTrack"}get priority(){return 2}supports(e){return e.sources.some((e=>"webvtt"===e.kind&&!(0,d.z3)(e.url)))}},v,class extends a{constructor(){super(...arguments),this.name="DashJS"}get priority(){return 1}get dashInUse(){return"dashVideo"===this.addon.player.currentPluginName}get dashCtrl(){return this.dashInUse?this.addon.player.getCtrl():null}supports(e){return!c.O.isEmbedded&&(!c.O.isIOSDevice||c.O.isIPadDevice)&&e.sources.some((e=>"embedded"===e.kind))&&this.addon.player.model.mediaCollection.streams.some((e=>e.media.some((e=>"application/dash+xml"===e.mimeType))))}currentStateSupports(e){var t,i;return this.dashInUse&&e.sources.some((e=>"embedded"===e.kind))&&(null!==(i=null===(t=this.dashCtrl)||void 0===t?void 0:t.getTextTrackIndex(e.languageCode,e.kind))&&void 0!==i?i:-1)>=0}showSubtitles(e,t=!1){var i;null===(i=this.dashCtrl)||void 0===i||i.setSubtitleVisible(!0,e.languageCode,e.kind)}hideSubtitles(e=!1){var t;null===(t=this.dashCtrl)||void 0===t||t.setSubtitleVisible(!1,"")}},class extends a{constructor(){super(...arguments),this.name="StreamSwitch"}get priority(){return-1}hideSubtitles(e=!1){var t;"subtitle-burn-in"===(null===(t=this.addon.player.currentStream)||void 0===t?void 0:t.kind)?(this.addon.log("disabling burn-in subtitle by stream switch"),this.switchStreamKind("main",e)):this.addon.log("skip disabling burn-in subtitle - stream already changed")}showSubtitles(e,t=!1){e.metaStream&&(this.addon.log("enabling burn-in subtitle by stream switch"),this.switchStream(e.metaStream,t))}supports(e){var t;return null!==(t=e.isMetaStream)&&void 0!==t&&t&&e.metaStream instanceof m.Z6}currentStateSupports(e){var t,i,r,n,a,s,o,l,c,u,h,p,f,v,m,y,g,b,E;const w=null!==(l=null!==(n=null!==(i=null===(t=this.addon.currentAudio)||void 0===t?void 0:t.languageCode)&&void 0!==i?i:null===(r=this.addon.player.currentAudio)||void 0===r?void 0:r.languageCode)&&void 0!==n?n:null===(o=null===(s=null===(a=this.addon.player.currentStream)||void 0===a?void 0:a.media[this.addon.player.currentMedia||0])||void 0===s?void 0:s.audios[0])||void 0===o?void 0:o.languageCode)&&void 0!==l?l:"deu",S=null!==(y=null!==(p=null!==(u=null===(c=this.addon.targetAudio)||void 0===c?void 0:c.kind)&&void 0!==u?u:null===(h=this.addon.player.currentAudio)||void 0===h?void 0:h.kind)&&void 0!==p?p:null===(m=null===(v=null===(f=this.addon.player.currentStream)||void 0===f?void 0:f.media[this.addon.player.currentMedia||0])||void 0===v?void 0:v.audios[0])||void 0===m?void 0:m.kind)&&void 0!==y?y:"standard";return this.supports(e)&&("main"===(null===(g=this.addon.player.currentStream)||void 0===g?void 0:g.kind)||this.addon.player.currentStream===e.metaStream)&&null!==(E=null===(b=e.metaStream)||void 0===b?void 0:b.media.some((e=>e.audios.some((e=>(0,d.bS)(e.languageCode,w)&&e.kind===S)))))&&void 0!==E&&E}switchStreamKind(e,t=!1){this.addon.streamWillChangeForSubtitleActivation(),this.addon.player.switchStreamKind(e,t)}switchStream(e,t=!1){this.addon.streamWillChangeForSubtitleActivation(),this.addon.player.switchStream(e,t)}suppressPlayerNotifications(){return!0}},class extends y{constructor(){super(...arguments),this.name="VTT"}get priority(){return c.O.browserIsSafari?4:0}supports(e){return e.sources.some((e=>(0,d.z3)(e.url)&&("webvtt"===e.kind||"embedded"===e.kind)))}}];const R=D},67871:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(74663),s=i(9325),o=i(4302),l=s.Map,d=s.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0),r=new l;return o(t,(function(e,n){i(e,n,t)&&d(r,n,e)})),r}})},67888:(module,e,t)=>{"use strict";var i=t(47844),r=t(17649),n=t(30429),a=t(34636),s=t(81658),o=r([].concat);module.exports=i("Reflect","ownKeys")||function(e){var t=n.f(s(e)),i=a.f;return i?o(t,i(e)):t}},67986:(e,t,i)=>{"use strict";var r=i(39501),n=i(3549),a=i(43501),s=i(47844),o=i(17649),l=i(648),d=i(38348),c=i(36767),u=i(80863),h=i(47442),p=i(20426),f=i(72909),v=i(80177),m=i(54258),y=i(37185),g=i(95024),b=a.JSON,E=a.Number,w=a.SyntaxError,S=b&&b.parse,C=s("Object","keys"),A=Object.getOwnPropertyDescriptor,T=o("".charAt),I=o("".slice),k=o(/./.exec),L=o([].push),P=/^\d$/,x=/^[1-9]$/,_=/^[\d-]$/,O=/^[\t\n\r ]$/,M=function(e,t,i,r){var n,a,s,o,d,p=e[t],v=r&&p===r.value,m=v&&"string"==typeof r.source?{source:r.source}:{};if(c(p)){var y=u(p),g=v?r.nodes:y?[]:{};if(y)for(n=g.length,s=f(p),o=0;o<s;o++)D(p,o,M(p,""+o,i,o<n?g[o]:void 0));else for(a=C(p),s=f(a),o=0;o<s;o++)d=a[o],D(p,d,M(p,d,i,h(g,d)?g[d]:void 0))}return l(i,e,t,p,m)},D=function(e,t,i){if(n){var r=A(e,t);if(r&&!r.configurable)return}void 0===i?delete e[t]:v(e,t,i)},R=function(e,t,i,r){this.value=e,this.end=t,this.source=i,this.nodes=r},N=function(e,t){this.source=e,this.index=t};N.prototype={fork:function(e){return new N(this.source,e)},parse:function(){var e=this.source,t=this.skip(O,this.index),i=this.fork(t),r=T(e,t);if(k(_,r))return i.number();switch(r){case"{":return i.object();case"[":return i.array();case'"':return i.string();case"t":return i.keyword(!0);case"f":return i.keyword(!1);case"n":return i.keyword(null)}throw new w('Unexpected character: "'+r+'" at: '+t)},node:function(e,t,i,r,n){return new R(t,r,e?null:I(this.source,i,r),n)},object:function(){for(var e=this.source,t=this.index+1,i=!1,r={},n={};t<e.length;){if(t=this.until(['"',"}"],t),"}"===T(e,t)&&!i){t++;break}var a=this.fork(t).string(),s=a.value;t=a.end,t=this.until([":"],t)+1,t=this.skip(O,t),a=this.fork(t).parse(),v(n,s,a),v(r,s,a.value),t=this.until([",","}"],a.end);var o=T(e,t);if(","===o)i=!0,t++;else if("}"===o){t++;break}}return this.node(1,r,this.index,t,n)},array:function(){for(var e=this.source,t=this.index+1,i=!1,r=[],n=[];t<e.length;){if(t=this.skip(O,t),"]"===T(e,t)&&!i){t++;break}var a=this.fork(t).parse();if(L(n,a),L(r,a.value),t=this.until([",","]"],a.end),","===T(e,t))i=!0,t++;else if("]"===T(e,t)){t++;break}}return this.node(1,r,this.index,t,n)},string:function(){var e=this.index,t=y(this.source,this.index+1);return this.node(0,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,i=t;if("-"===T(e,i)&&i++,"0"===T(e,i))i++;else{if(!k(x,T(e,i)))throw new w("Failed to parse number at: "+i);i=this.skip(P,i+1)}if(("."===T(e,i)&&(i=this.skip(P,i+1)),"e"===T(e,i)||"E"===T(e,i))&&(i++,"+"!==T(e,i)&&"-"!==T(e,i)||i++,i===(i=this.skip(P,i))))throw new w("Failed to parse number's exponent value at: "+i);return this.node(0,E(I(e,t,i)),t,i)},keyword:function(e){var t=""+e,i=this.index,r=i+t.length;if(I(this.source,i,r)!==t)throw new w("Failed to parse value at: "+i);return this.node(0,e,i,r)},skip:function(e,t){for(var i=this.source;t<i.length&&k(e,T(i,t));t++);return t},until:function(e,t){t=this.skip(O,t);for(var i=T(this.source,t),r=0;r<e.length;r++)if(e[r]===i)return t;throw new w('Unexpected character: "'+i+'" at: '+t)}};var U=m((function(){var e,t="9007199254740993";return S(t,(function(t,i,r){e=r.source})),e!==t})),V=g&&!m((function(){return 1/S("-0 \t")!=-1/0}));r({target:"JSON",stat:!0,forced:U},{parse:function(e,t){return V&&!d(t)?S(e):function(e,t){e=p(e);var i=new N(e,0,""),r=i.parse(),n=r.value,a=i.skip(O,r.end);if(a<e.length)throw new w('Unexpected extra character: "'+T(e,a)+'" after the parsed data at: '+a);return d(t)?M({"":n},"",t,r):n}(e,t)}})},68351:(e,t,i)=>{"use strict";i.d(t,{U:()=>c});var r=i(34733),n=i(98152),a=i(29183),s=i(94406),o=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},d=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let c=(()=>{let e,t,i=[s.JW],c=[];var u=t=class{constructor(e,t,i){this.console=e,this.errorCtrl=t,this.initPlayer=i,this.mc=null,this.pc=null}setPC(e){var t,i,n,s,o,l,d,c,u,h;if("string"!=typeof e){if(!(e instanceof r.yJ||"object"!=typeof e||!(0,a.mQ)(e,"_autoplay")&&!(0,a.mQ)(e,"_baseUrl")&&(0,a.mQ)(e,"pluginData")))return this.console.error("Invalid input for PlayerConfiguration",e),void(null===(t=this.errorCtrl)||void 0===t||t.throwError("PC_INVALID",!0,"invalid (legacy) PlayerConfig object"));if(e instanceof r.yJ)this.pc=e;else try{this.console.warn("cast [object] to PlayerConfig",e);const t=JSON.parse(JSON.stringify(e));t.generic&&(t.generic.imageTemplateConfig=new r.Gv(null===(n=null===(i=t.generic)||void 0===i?void 0:i.imageTemplateConfig)||void 0===n?void 0:n.width,null===(o=null===(s=t.generic)||void 0===s?void 0:s.imageTemplateConfig)||void 0===o?void 0:o.size)),t.generic=Object.assign(new r.ig,t.generic),t.web=Object.assign(new r.vM(null!==(d=null===(l=t.web)||void 0===l?void 0:l.baseUrl)&&void 0!==d?d:""),t.web),t.pluginData=null!==(c=t.pluginData)&&void 0!==c?c:{},this.pc=Object.assign(Object.create(r.yJ.prototype),t)}catch(t){return this.console.error("Invalid input for PlayerConfiguration",e,t),void(null===(u=this.errorCtrl)||void 0===u||u.throwError("PC_INVALID",!0,null!==(h=null==t?void 0:t.message)&&void 0!==h?h:null))}this.checkReady()}else if(e.startsWith("{"))try{this.setPC(JSON.parse(e))}catch(t){this.console.error("could not parse pc from string",e,t)}else fetch(e).then((t=>{t.json().then((e=>{this.setPC(e)}),(t=>{var i;this.console.error("invalid json response for pc from url",e,t),null===(i=this.errorCtrl)||void 0===i||i.throwError("PC_JSON_FILE_NOT_FOUND",!0,t.message)}))}),(t=>{var i;this.console.error("could not load pc from url",e,t),null===(i=this.errorCtrl)||void 0===i||i.throwError("PC_JSON_FILE_WRONG_URI",!0,t.message)}))}setMC(e){var t,i,r,s,o;if("string"!=typeof e){if(!(e instanceof n.Jf||"object"!=typeof e)&&(0,a.mQ)(e,"_mediaArray"))return this.console.error("Invalid input for MediaCollection",e),void(null===(t=this.errorCtrl)||void 0===t||t.throwError("MC_INVALID",!0,"invalid (legacy) MediaCollection object"));if(e instanceof n.Jf)this.mc=e;else try{this.console.warn("cast [object] to MediaCollection",e);const t=JSON.parse(JSON.stringify(e));t.subtitles=null!==(i=t.subtitles)&&void 0!==i?i:[],t.isGeoBlocked=null!==(r=t.isGeoBlocked)&&void 0!==r&&r,t.streams=t.streams.map((e=>{var t,i,r,a,s;return e.isAudioOnly=null!==(t=e.isAudioOnly)&&void 0!==t&&t,e.media=e.media.map((e=>Object.assign(new n.Nt(e.url,e.mimeType),e))),e.videoLanguageCode=null!==(s=null!==(i=e.videoLanguageCode)&&void 0!==i?i:null===(a=null===(r=e.media[0])||void 0===r?void 0:r.audios[0])||void 0===a?void 0:a.languageCode)&&void 0!==s?s:"deu",Object.assign(new n.Z6(e.media),e)})),this.mc=Object.assign(Object.create(n.Jf.prototype),t)}catch(t){return this.console.error("Invalid input for MediaCollection",t,e),void(null===(s=this.errorCtrl)||void 0===s||s.throwError("MC_INVALID",!0,null!==(o=null==t?void 0:t.message)&&void 0!==o?o:null))}this.checkReady()}else if(e.startsWith("{"))try{this.setMC(JSON.parse(e))}catch(t){this.console.error("could not parse mc from string",e,t)}else fetch(e).then((t=>{t.json().then((e=>{this.setMC(e)}),(t=>{var i;this.console.error("invalid json response for mc from url",e,t),null===(i=this.errorCtrl)||void 0===i||i.throwError("MC_JSON_FILE_NOT_FOUND",!0,t.message)}))}),(t=>{var i;this.console.error("could not load mc from url",e,t),null===(i=this.errorCtrl)||void 0===i||i.throwError("MC_JSON_FILE_WRONG_URI",!0,t.message)}))}checkReady(){var e,t,i,r;null!==this.initPlayer?null!==this.mc&&null!==this.pc&&(u.embeddedConfig&&null!==(r=null!==(t=null===(e=u.embeddedConfig)||void 0===e?void 0:e.android)&&void 0!==t?t:null===(i=u.embeddedConfig)||void 0===i?void 0:i.ios)&&void 0!==r&&r&&(this.console.info("[Loader] injecting embedded config"),Object.assign(this.pc,u.embeddedConfig)),this.mc._dvrEnabledInPc=this.pc.generic.isDvrEnabled,this.console.init("[Loader][PC]",JSON.parse(JSON.stringify(this.pc))),this.console.init("[Loader][MC]",JSON.parse(JSON.stringify(this.mc))),this.initPlayer(this.pc,this.mc),this.initPlayer=null):this.console.error("checkReady called with null callback!")}static get hasEmbeddedConfig(){return null!==u.embeddedConfig}static setEmbeddedConfig(e){var t,i;e&&null!==(i=null!==(t=null==e?void 0:e.android)&&void 0!==t?t:e.ios)&&void 0!==i&&i?(u.embeddedConfig={},e.android&&(u.embeddedConfig.android=e.android),e.ios&&(u.embeddedConfig.ios=e.ios)):u.embeddedConfig=null}};return d(t,"ConfigLoader"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;o(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,c),u=t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})})(),t.embeddedConfig=null,l(t,c),u=t})()},68517:(module,e,t)=>{"use strict";var i=t(47844),r=t(17649),n=i("Symbol"),a=n.keyFor,s=r(n.prototype.valueOf);module.exports=n.isRegisteredSymbol||function(e){try{return void 0!==a(s(e))}catch(e){return!1}}},68663:(e,t,i)=>{"use strict";var r=i(39501),n=i(95817),a=i(34620);r({target:"Set",proto:!0,real:!0,forced:!i(49735)("symmetricDifference")||!a("symmetricDifference")},{symmetricDifference:n})},68855:(module,e,t)=>{"use strict";var i=t(43501).isFinite;module.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},68933:(e,t,i)=>{"use strict";i(75928)},69234:(module,e,t)=>{"use strict";var i=t(648),r=t(36767),n=t(71088),a=t(593),s=t(60879),o=t(33050),l=TypeError,d=o("toPrimitive");module.exports=function(e,t){if(!r(e)||n(e))return e;var o,c=a(e,d);if(c){if(void 0===t&&(t="default"),o=i(c,e,t),!r(o)||n(o))return o;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},69374:(e,t,i)=>{"use strict";var r=i(3549),n=i(52051),a=i(41970),s=i(81658),o=i(72748),l=i(3633);t.f=r&&!n?Object.defineProperties:function(e,t){s(e);for(var i,r=o(t),n=l(t),d=n.length,c=0;d>c;)a.f(e,i=n[c++],r[i]);return e}},69537:(e,t,i)=>{"use strict";i(39501)({target:"JSON",stat:!0,forced:!i(37062)},{isRawJSON:i(71083)})},69741:(e,t,i)=>{"use strict";i(39501)({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:i(11434)})},69882:(e,t,i)=>{"use strict";var r=i(39501),n=i(43501),a=i(12742),s=i(80945),o=i(14292),l=i(43345),d=i(8010),c=n.Promise,u=!1;r({target:"Promise",stat:!0,forced:!c||!c.try||d((function(){c.try((function(e){u=8===e}),8)})).error||!u},{try:function(e){var t=arguments.length>1?s(arguments,1):[],i=o.f(this),r=d((function(){return a(l(e),void 0,t)}));return(r.error?i.reject:i.resolve)(r.value),i.promise}})},70150:(module,e,t)=>{"use strict";var i=t(43501),r=t(50700),n=t(33857),a=function(e){return r.slice(0,e.length)===e};module.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===n(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"},70776:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(53868),s=i(18850),o=i(39026).IteratorPrototype,l=i(22571),d=i(52197),c=i(8694)||function(){try{Iterator.from({return:null}).return()}catch(e){return!0}}(),u=l((function(){return n(this.next,this.iterator)}),!0);r({target:"Iterator",stat:!0,forced:c},{from:function(e){var t=d("string"==typeof e?a(e):e,!0);return s(o,t.iterator)?t.iterator:new u(t)}})},70856:(module,e,t)=>{"use strict";var i=t(78830);module.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},71083:(module,e,t)=>{"use strict";var i=t(36767),r=t(74606).get;module.exports=function(e){if(!i(e))return!1;var t=r(e);return!!t&&"RawJSON"===t.type}},71088:(module,e,t)=>{"use strict";var i=t(47844),r=t(38348),n=t(18850),a=t(95921),s=Object;module.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&n(t.prototype,s(e))}},71321:(module,e,t)=>{"use strict";var i=t(59805),r=t(648),n=t(81658),a=t(9430),s=t(24402),o=t(72909),l=t(18850),d=t(55726),c=t(99506),u=t(18132),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},f=p.prototype;module.exports=function(e,t,v){var m,y,g,b,E,w,S,C=v&&v.that,A=!(!v||!v.AS_ENTRIES),T=!(!v||!v.IS_RECORD),I=!(!v||!v.IS_ITERATOR),k=!(!v||!v.INTERRUPTED),L=i(t,C),P=function(e){return m&&u(m,"normal"),new p(!0,e)},x=function(e){return A?(n(e),k?L(e[0],e[1],P):L(e[0],e[1])):k?L(e,P):L(e)};if(T)m=e.iterator;else if(I)m=e;else{if(!(y=c(e)))throw new h(a(e)+" is not iterable");if(s(y)){for(g=0,b=o(e);b>g;g++)if((E=x(e[g]))&&l(f,E))return E;return new p(!1)}m=d(e,y)}for(w=T?e.next:m.next;!(S=r(w,m)).done;){try{E=x(S.value)}catch(e){u(m,"throw",e)}if("object"==typeof E&&E&&l(f,E))return E}return new p(!1)}},71351:(module,e,t)=>{"use strict";var i,r,n,a=t(91980),s=t(3549),o=t(43501),l=t(38348),d=t(36767),c=t(47442),u=t(14590),h=t(9430),p=t(89208),f=t(66693),v=t(45493),m=t(18850),y=t(77162),g=t(82014),b=t(33050),E=t(54529),w=t(74606),S=w.enforce,C=w.get,A=o.Int8Array,T=A&&A.prototype,I=o.Uint8ClampedArray,k=I&&I.prototype,L=A&&y(A),P=T&&y(T),x=Object.prototype,_=o.TypeError,O=b("toStringTag"),M=E("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",R=a&&!!g&&"Opera"!==u(o.opera),N=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},j=function(e){var t=y(e);if(d(t)){var i=C(t);return i&&c(i,D)?i[D]:j(t)}},B=function(e){if(!d(e))return!1;var t=u(e);return c(U,t)||c(V,t)};for(i in U)(n=(r=o[i])&&r.prototype)?S(n)[D]=r:R=!1;for(i in V)(n=(r=o[i])&&r.prototype)&&(S(n)[D]=r);if((!R||!l(L)||L===Function.prototype)&&(L=function(){throw new _("Incorrect invocation")},R))for(i in U)o[i]&&g(o[i],L);if((!R||!P||P===x)&&(P=L.prototype,R))for(i in U)o[i]&&g(o[i].prototype,P);if(R&&y(k)!==P&&g(k,P),s&&!c(P,O))for(i in N=!0,v(P,O,{configurable:!0,get:function(){return d(this)?this[M]:void 0}}),U)o[i]&&p(o[i],M,i);module.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:N&&M,aTypedArray:function(e){if(B(e))return e;throw new _("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!g||m(L,e)))return e;throw new _(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,r){if(s){if(i)for(var n in U){var a=o[n];if(a&&c(a.prototype,e))try{delete a.prototype[e]}catch(i){try{a.prototype[e]=t}catch(e){}}}P[e]&&!i||f(P,e,i?t:R&&T[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,i){var r,n;if(s){if(g){if(i)for(r in U)if((n=o[r])&&c(n,e))try{delete n[e]}catch(e){}if(L[e]&&!i)return;try{return f(L,e,i?t:R&&L[e]||t)}catch(e){}}for(r in U)!(n=o[r])||n[e]&&!i||f(n,e,t)}},getTypedArrayConstructor:j,isView:function(e){if(!d(e))return!1;var t=u(e);return"DataView"===t||c(U,t)||c(V,t)},isTypedArray:B,TypedArray:L,TypedArrayPrototype:P}},71933:(e,t,i)=>{"use strict";var r=i(39501),n=i(41734);r({target:"WeakSet",stat:!0,forced:!0},{of:i(29069)(n.WeakSet,n.add,!1)})},72473:(e,t,i)=>{"use strict";var r=i(39501),n=i(28148).toArray;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:function(){return n(this,void 0,[])}})},72574:(e,t,i)=>{"use strict";i(95701)},72748:(module,e,t)=>{"use strict";var i=t(98544),r=t(66293);module.exports=function(e){return i(r(e))}},72881:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=n.has,o=n.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var i=arguments.length<3?void 0:o(arguments[2]);return s(e,a(t),i)}})},72909:(module,e,t)=>{"use strict";var i=t(94027);module.exports=function(e){return i(e.length)}},72935:(e,t,i)=>{"use strict";var r=i(39501),n=i(4596);r({target:"WeakMap",stat:!0,forced:!0},{of:i(29069)(n.WeakMap,n.set,!0)})},73246:(e,t,i)=>{"use strict";i(83452)("observable")},73845:(module,e,t)=>{"use strict";var i=t(33857),r=t(72748),n=t(30429).f,a=t(80945),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(e){return s&&"Window"===i(e)?function(e){try{return n(e)}catch(e){return a(s)}}(e):n(r(e))}},73863:(e,t,i)=>{"use strict";var r=i(39501),n=i(54258),a=i(52153);r({target:"Set",proto:!0,real:!0,forced:!i(49735)("intersection",(function(e){return 2===e.size&&e.has(1)&&e.has(2)}))||n((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:a})},74130:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,forced:!0},{clamp:i(21587)})},74591:(e,t,i)=>{"use strict";var r=i(39501),n=i(53868),a=i(72909),s=i(78512),o=i(20498);r({target:"Array",proto:!0,arity:1,forced:i(54258)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=n(this),i=a(t),r=arguments.length;o(i+r);for(var l=0;l<r;l++)t[i]=arguments[l],i++;return s(t,i),i}})},74606:(module,e,t)=>{"use strict";var i,r,n,a=t(50937),s=t(43501),o=t(36767),l=t(89208),d=t(47442),c=t(63110),u=t(41256),h=t(24132),p="Object already initialized",f=s.TypeError,v=s.WeakMap;if(a||c.state){var m=c.state||(c.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,i=function(e,t){if(m.has(e))throw new f(p);return t.facade=e,m.set(e,t),t},r=function(e){return m.get(e)||{}},n=function(e){return m.has(e)}}else{var y=u("state");h[y]=!0,i=function(e,t){if(d(e,y))throw new f(p);return t.facade=e,l(e,y,t),t},r=function(e){return d(e,y)?e[y]:{}},n=function(e){return d(e,y)}}module.exports={set:i,get:r,has:n,enforce:function(e){return n(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var i;if(!o(t)||(i=r(t)).type!==e)throw new f("Incompatible receiver, "+e+" required");return i}}}},74663:(module,e,t)=>{"use strict";var i=t(9325).has;module.exports=function(e){return i(e),e}},74738:(e,t,i)=>{"use strict";var r=i(39501),n=i(28389),a=i(27970),s=i(16123);r({target:"Array",proto:!0,name:"groupToMap",forced:i(8694)||!n("groupByToMap")},{groupByToMap:s}),a("groupByToMap")},74799:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(71321),s=i(43345),o=i(81658),l=i(77474),d=i(18132),c=i(37362)("forEach",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:c},{forEach:function(e){o(this);try{s(e)}catch(e){d(this,"throw",e)}if(c)return n(c,this,e);var t=l(this),i=0;a(t,(function(t){e(t,i++)}),{IS_RECORD:!0})}})},75168:(e,t,i)=>{"use strict";i(39501)({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:i(60701)})},75494:()=>{},75768:(e,t,i)=>{"use strict";i.d(t,{x:()=>c});var r=i(29183),n=i(25775),a=i(94406),s=i(14519),o=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},l=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},d=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let c=(()=>{let e,t,i=[a.JW],c=[];var u=t=class{static get AVAILABLE(){return this._AVAILABLE}constructor(e,t){this.identifier=e,this.settingsSuffix=t,this.storageListeners=new Set,u.instances[e]=this,this.checkAvailability()}static resetSingleton(){u.instances={}}static disposeInstance(e){const t=e.getId();(0,r.z3)(t)||(e.console.log("[Storage]","disposing instance",t),delete u.instances[t])}static getInstance(e,t){var i;if((0,r.z3)(e))throw new Error("cannot access storage with blank identifier");return null!==(i=this.instances[e])&&void 0!==i?i:new u(e,t)}static invalidateInstanceFor(e){const t=this.instances[e.getId()];t&&(t.settingsSuffix=e.isAudio?u.settingsSuffixAudio:u.settingsSuffixVideo)}static for(e){return u.getInstance(e.getId(),e.isAudio?u.settingsSuffixAudio:u.settingsSuffixVideo)}checkAvailability(){if(!u._AVAILABLE)try{"undefined"!=typeof localStorage?(localStorage.setItem("ls_feature_test","available"),"available"===localStorage.getItem("ls_feature_test")&&(localStorage.removeItem("ls_feature_test"),u._AVAILABLE=!0)):u._AVAILABLE=!1}catch(e){}}static set(e,t){try{const i=Object.assign({},this.get(e),t);localStorage.setItem(this.settingsKey+e,JSON.stringify(i))}catch(e){}}static add(e,t,i,r=!1,n=!1,a=!0){if(r)try{localStorage.setItem(this.settingsKey+e+"."+t,String(i))}catch(e){}else this.set(e,{[t]:i});n&&u.notify(e,t,i,a),s.i.notifyInternalChange(t,i,e===this.settingsSuffixAudio?"audio":"video")}add(e,t,i=!1,r=!1,n=!0){u.add(this.settingsSuffix,e,t,i,r,n)}static notify(e,t,i,r=!0){n.O.isDebug&&window.console.log("[Storage]","notify",t,i,r),Object.keys(this.instances).forEach((n=>{(r||this.instances[n].settingsSuffix===e)&&this.instances[n].notify(t,i)}))}notify(e,t){this.storageListeners.forEach((i=>{i.onStorageValueChanged(e,t)}))}static get(e,t="",i=!1,n={}){var a,s;if(i)try{return null!==(a=localStorage.getItem(this.settingsKey+e+"."+t))&&void 0!==a?a:n}catch(e){}else try{const i=JSON.parse(null!==(s=localStorage.getItem(this.settingsKey+e))&&void 0!==s?s:"{}");return(0,r.z3)(t)?i:void 0!==i[t]?i[t]:n}catch(e){}return n}get(e="",t=!1,i={}){return u.get(this.settingsSuffix,e,t,i)}static remove(e,t,i=!1){if(i)try{localStorage.removeItem(this.settingsKey+e+"."+t)}catch(e){}else{let i={};(0,r.z3)(t)||(i=this.get(e),delete i[t]);try{localStorage.setItem(this.settingsKey+e,JSON.stringify(i))}catch(e){}}}static lastMime(e){const t=u.for(e).get(u.QUALITY_MIME);return"string"==typeof t?t:""}static setLastMime(e,t){u.for(e).add(u.QUALITY_MIME,t)}static lastResolution(e){const t=u.for(e).get(u.QUALITY_RESOLUTION),i=(0,r.Ed)(t)?t:"0";let n=0,a=0;if(isNaN(Number(i))){const[e,t]=i.split("x");n=isNaN(Number(e))?-1:Number(e),a=isNaN(Number(t))?-1:Number(t)}else n=parseInt(i);return{width:n,height:a,label:(0,r.a7)(n,a)}}static setLastResolution(e,t,i){const r=`${t}x${i}`;u.for(e).add(u.QUALITY_RESOLUTION,r)}static isSubtitlePreferenceSet(e){return null!==u.for(e).get(u.SUBTITLE_ENABLED,!1,null)}static subtitleEnabled(e){var t;return null!==(t=u.for(e).get(u.SUBTITLE_ENABLED,!1,!1))&&void 0!==t&&t}static muted(e){const t=u.for(e).get(u.VOLUME_MUTE,!1,!1);return"boolean"!=typeof t?null!=u._muted&&u._muted:t}static setMuted(e,t){u._muted=t,u.for(e).add(u.VOLUME_MUTE,t)}static volume(e){var t,i;if(n.O.isEmbedded)return null!==(i=null===(t=window.controller)||void 0===t?void 0:t.getVolume())&&void 0!==i?i:100;if(n.O.isMobileDevice)return 100;const r=e.model.playerConfig,a=r.web.forcedVolumePercent>=0?r.web.forcedVolumePercent:Number(u.for(e).get(u.VOLUME_VALUE,!1,r.generic.volumePercent));return isNaN(a)?null==u._volume?100:0:a>0&&a<=1?100*a:a}static setVolume(e,t){n.O.isEmbedded||(u._volume=t,u.for(e).add(u.VOLUME_VALUE,t))}enumerate(){const e={};return u.AVAILABLE&&Object.keys(localStorage).filter((e=>new RegExp(`^${u.settingsKey}${this.settingsSuffix}($|\\.)`).test(e))).forEach((t=>{var i;e[t]=null!==(i=localStorage[t])&&void 0!==i?i:""})),e}clearAll(){Object.keys(localStorage).filter((e=>new RegExp(`^${u.settingsKey}${this.settingsSuffix}($|\\.(?!debug))`).test(e))).forEach((e=>{try{localStorage.removeItem(e)}catch(e){}}))}};return d(t,"SettingsStorage"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;o(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,c),u=t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})})(),t.VOLUME_VALUE="changedVolumeValue",t.VOLUME_MUTE="changedMuteValue",t.SUBTITLE_ENABLED="showSubtitles",t.SUBTITLE_LANGUAGE="subtitleLang",t.SUBTITLE_KIND="subtitleKind",t.VIDEO_KIND="videoKind",t.VIDEO_LANGUAGE="videoLang",t.AUDIO_LANGUAGE="audioLang",t.AUDIO_KIND="audioKind",t.QUALITY_MIME="lastStreamMime",t.QUALITY_RESOLUTION="lastStreamRes",t.RECO_AUTOPLAY="recos_allow_autoplay",t.PLAYLIST_AUTOPLAY="playlistAutoplay",t.JUMP_FORWARD_VALUE="jumpForwardValue",t.JUMP_BACKWARD_VALUE="jumpBackwardValue",t.DEBUG="debug",t.CURRENT_PLAYERID="curpid",t.SUFFIX_GLOBAL="_global",t._AVAILABLE=!1,t.instances={},t.settingsKey="ard_mediathek_player_settings",t.settingsSuffixVideo="",t.settingsSuffixAudio="_audio",t._volume=null,t._muted=null,l(t,c),u=t})()},75776:module=>{"use strict";var e=TypeError;module.exports=function(t){if("number"==typeof t)return t;throw new e("Argument is not a number")}},75921:(e,t,i)=>{"use strict";i(94188)},75928:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(71321),s=i(43345),o=i(81658),l=i(77474),d=i(18132),c=i(37362)("some",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:c},{some:function(e){o(this);try{s(e)}catch(e){d(this,"throw",e)}if(c)return n(c,this,e);var t=l(this),i=0;return a(t,(function(t,r){if(e(t,i++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},75955:(module,e,t)=>{"use strict";var i=t(72909),r=t(70856),n=RangeError;module.exports=function(e,t,a,s){var o=i(e),l=r(a),d=l<0?o+l:l;if(d>=o||d<0)throw new n("Incorrect index");for(var c=new t(o),u=0;u<o;u++)c[u]=u===d?s:e[u];return c}},76433:(module,e,t)=>{"use strict";var i=t(17649),r=t(43345);module.exports=function(e,t,n){try{return i(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},76744:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(23539),s=i(65109);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return n(s,this,a(e))}})},77162:(module,e,t)=>{"use strict";var i=t(47442),r=t(38348),n=t(53868),a=t(41256),s=t(33880),o=a("IE_PROTO"),l=Object,d=l.prototype;module.exports=s?l.getPrototypeOf:function(e){var t=n(e);if(i(t,o))return t[o];var a=t.constructor;return r(a)&&t instanceof a?a.prototype:t instanceof l?d:null}},77211:(e,t,i)=>{"use strict";var r=i(39501),n=i(81658),a=i(68855),s=i(6439),o=i(45952),l=i(74606),d="Seeded Random",c=d+" Generator",u=l.set,h=l.getterFor(c),p=TypeError,f=s((function(e){u(this,{type:c,seed:e%2147483647})}),d,(function(){var e=h(this),t=e.seed=(1103515245*e.seed+12345)%2147483647;return o((1073741823&t)/1073741823,!1)}));r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=n(e).seed;if(!a(t))throw new p('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new f(t)}})},77244:(e,t,i)=>{"use strict";var r=i(49721),n=i(71351),a=n.aTypedArray,s=n.exportTypedArrayMethod,o=n.getTypedArrayConstructor;s("toReversed",(function(){return r(a(this),o(this))}))},77474:module=>{"use strict";module.exports=function(e){return{iterator:e,next:e.next,done:!1}}},78512:(module,e,t)=>{"use strict";var i=t(3549),r=t(80863),n=TypeError,a=Object.getOwnPropertyDescriptor,s=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();module.exports=s?function(e,t){if(r(e)&&!a(e,"length").writable)throw new n("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},78666:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(43345),s=i(81658),o=i(77474),l=i(22571),d=i(10348),c=i(8694),u=i(18132),h=i(211),p=i(37362),f=!c&&!h("filter",(function(){})),v=!c&&!f&&p("filter",TypeError),m=c||f||v,y=l((function(){for(var e,t,i=this.iterator,r=this.predicate,a=this.next;;){if(e=s(n(a,i)),this.done=!!e.done)return;if(t=e.value,d(i,r,[t,this.counter++],!0))return t}}));r({target:"Iterator",proto:!0,real:!0,forced:m},{filter:function(e){s(this);try{a(e)}catch(e){u(this,"throw",e)}return v?n(v,this,e):new y(o(this),{predicate:e})}})},78830:module=>{"use strict";var e=Math.ceil,t=Math.floor;module.exports=Math.trunc||function(i){var r=+i;return(r>0?t:e)(r)}},78920:(module,e,t)=>{"use strict";var i=t(17649),r=t(44136),n=t(61883),a=n.Set,s=n.proto,o=i(s.forEach),l=i(s.keys),d=l(new a).next;module.exports=function(e,t,i){return i?r({iterator:l(e),next:d},t):o(e,t)}},79315:(module,e,t)=>{"use strict";var i=t(17649),r=t(47442),n=t(72748),a=t(95410).indexOf,s=t(24132),o=i([].push);module.exports=function(e,t){var i,l=n(e),d=0,c=[];for(i in l)!r(s,i)&&r(l,i)&&o(c,i);for(;t.length>d;)r(l,i=t[d++])&&(~a(c,i)||o(c,i));return c}},79549:(e,t,i)=>{"use strict";i(39501)({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:i(60701)})},79667:(module,e,t)=>{"use strict";var i=t(70856),r=Math.max,n=Math.min;module.exports=function(e,t){var a=i(e);return a<0?r(a+t,0):n(a,t)}},79786:(e,t,i)=>{"use strict";var r=i(33050);t.f=r},79802:(e,t,i)=>{"use strict";i(73863)},80177:(module,e,t)=>{"use strict";var i=t(3549),r=t(41970),n=t(21683);module.exports=function(e,t,a){i?r.f(e,t,n(0,a)):e[t]=a}},80210:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(43345),s=i(81658),o=i(36767),l=i(77474),d=i(29574),c=i(45952),u=i(64291),h=d((function(e){var t=this,i=t.iterator,r=t.predicate;return new e((function(a,l){var d=function(e){t.done=!0,l(e)},h=function(e){u(i,d,e,d)},p=function(){try{e.resolve(s(n(t.next,i))).then((function(i){try{if(s(i).done)t.done=!0,a(c(void 0,!0));else{var n=i.value;try{var l=r(n,t.counter++),u=function(e){e?a(c(n,!1)):p()};o(l)?e.resolve(l).then(u,h):u(l)}catch(e){h(e)}}}catch(e){d(e)}}),d)}catch(e){d(e)}};p()}))}));r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:function(e){return s(this),a(e),new h(l(this),{predicate:e})}})},80313:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=n.toKey,o=n.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(i,r){o(e,t,a(i),s(r))}}})},80375:(e,t,i)=>{"use strict";var r=i(648),n=i(66693),a=i(593),s=i(47442),o=i(33050),l=i(39026).IteratorPrototype,d=o("dispose");s(l,d)||n(l,d,(function(){var e=a(this,"return");e&&r(e,this)}))},80395:(e,t,i)=>{"use strict";var r=i(39501),n=i(75955),a=i(72748),s=Array;r({target:"Array",proto:!0,forced:function(){try{[].with({valueOf:function(){throw 4}},null)}catch(e){return 4!==e}}()},{with:function(e,t){return n(a(this),s,e,t)}})},80451:module=>{"use strict";module.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},80497:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(81658),s=i(77474),o=i(44520),l=i(63851),d=i(29574),c=i(45952),u=d((function(e){var t=this;return new e((function(i,r){var s=function(e){t.done=!0,r(e)},o=function(){try{e.resolve(a(n(t.next,t.iterator))).then((function(e){try{a(e).done?(t.done=!0,i(c(void 0,!0))):t.remaining?(t.remaining--,o()):i(c(e.value,!1))}catch(e){s(e)}}),s)}catch(e){s(e)}};o()}))}));r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:function(e){a(this);var t=l(o(+e));return new u(s(this),{remaining:t})}})},80863:(module,e,t)=>{"use strict";var i=t(33857);module.exports=Array.isArray||function(e){return"Array"===i(e)}},80945:(module,e,t)=>{"use strict";var i=t(17649);module.exports=i([].slice)},80981:(module,e,t)=>{"use strict";var i=t(69234),r=TypeError;module.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw new r("Can't convert number to bigint");return BigInt(t)}},81203:(e,t,i)=>{"use strict";var r=i(39501),n=i(17649),a=i(47193),s=i(78920),o=i(20426),l=n([].join),d=n([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=a(this),i=void 0===e?",":o(e),r=[];return s(t,(function(e){d(r,e)})),l(r,i)}})},81658:(module,e,t)=>{"use strict";var i=t(36767),r=String,n=TypeError;module.exports=function(e){if(i(e))return e;throw new n(r(e)+" is not an object")}},81725:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=n.get,o=n.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var i=arguments.length<3?void 0:o(arguments[2]);return s(e,a(t),i)}})},81846:(e,t,i)=>{"use strict";i(39165)},81862:(e,t,i)=>{"use strict";i(1049)},82014:(module,e,t)=>{"use strict";var i=t(76433),r=t(36767),n=t(66293),a=t(19849);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,s={};try{(e=i(Object.prototype,"__proto__","set"))(s,[]),t=s instanceof Array}catch(e){}return function(i,s){return n(i),a(s),r(i)?(t?e(i,s):i.__proto__=s,i):i}}():void 0)},82076:(e,t,i)=>{"use strict";var r=i(39501),n=i(74663),a=i(9325),s=a.get,o=a.has,l=a.set;r({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(e,t){var i,r,a=n(this);return o(a,e)?(i=s(a,e),"update"in t&&(i=t.update(i,e,a),l(a,e,i)),i):(r=t.insert(e,a),l(a,e,r),r)}})},82121:(e,t,i)=>{"use strict";var r=i(39501),n=i(84218),a=i(64084);r({target:"Math",stat:!0,forced:!0},{fscale:function(e,t,i,r,s){return a(n(e,t,i,r,s))}})},82236:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(23539),s=i(47651);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return n(s,this,a(e))}})},82309:module=>{"use strict";var e=TypeError;module.exports=function(t,i){if(t<i)throw new e("Not enough arguments");return t}},82436:(e,t,i)=>{"use strict";i(99417)},82510:(module,e,t)=>{"use strict";var i=t(43501),r=t(90436);module.exports=function(e){if(r){try{return i.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},83009:(e,t,i)=>{"use strict";var r=i(39501),n=i(10532),a=i(41734).remove;r({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=n(this),i=!0,r=0,s=arguments.length;r<s;r++)e=a(t,arguments[r]),i=i&&e;return!!i}})},83210:(e,t,i)=>{"use strict";var r=i(39501),n=i(74663),a=i(4302);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=a(n(this),(function(t,i){if(t===e)return{key:i}}),!0);return t&&t.key}})},83383:(e,t,i)=>{"use strict";var r=i(39501),n=i(64543);r({target:"Number",stat:!0,forced:!0},{range:function(e,t,i){return new n(e,t,i,"number",0,1)}})},83452:(module,e,t)=>{"use strict";var i=t(49760),r=t(47442),n=t(79786),a=t(41970).f;module.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||a(t,e,{value:n.f(e)})}},84159:(e,t,i)=>{"use strict";var r=i(39501),n=i(67140),a=i(28389),s=i(27970);r({target:"Array",proto:!0,forced:!a("groupBy")},{groupBy:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("groupBy")},84218:module=>{"use strict";module.exports=function(e,t,i,r,n){var a=+e,s=+t,o=+i,l=+r,d=+n;return a!=a||s!=s||o!=o||l!=l||d!=d?NaN:a===1/0||a===-1/0?a:(a-s)*(d-l)/(o-s)+l}},84553:(e,t,i)=>{"use strict";var r=i(39501),n=i(43501),a=i(97138).clear;r({global:!0,bind:!0,enumerable:!0,forced:n.clearImmediate!==a},{clearImmediate:a})},84950:(e,t,i)=>{"use strict";var r=i(39501),n=i(17649),a=i(43345),s=i(72748),o=i(7831),l=i(6925),d=i(27970),c=Array,u=n(l("Array","sort"));r({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=s(this),i=o(c,t);return u(i,e)}}),d("toSorted")},85647:(e,t,i)=>{"use strict";var r=i(39501),n=i(80863),a=Object.isFrozen,s=function(e,t){if(!a||!n(e)||!a(e))return!1;for(var i,r=0,s=e.length;r<s;)if(!("string"==typeof(i=e[r++])||t&&void 0===i))return!1;return 0!==s};r({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(e){if(!s(e,!0))return!1;var t=e.raw;return t.length===e.length&&s(t,!1)}})},85774:(module,e,t)=>{"use strict";var i=t(17649),r=t(80863),n=t(38348),a=t(33857),s=t(20426),o=i([].push);module.exports=function(e){if(n(e))return e;if(r(e)){for(var t=e.length,i=[],l=0;l<t;l++){var d=e[l];"string"==typeof d?o(i,d):"number"!=typeof d&&"Number"!==a(d)&&"String"!==a(d)||o(i,s(d))}var c=i.length,u=!0;return function(e,t){if(u)return u=!1,t;if(r(this))return t;for(var n=0;n<c;n++)if(i[n]===e)return t}}}},85790:(e,t,i)=>{"use strict";var r=i(39501),n=i(47193),a=i(61883).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=n(this),t=0,i=arguments.length;t<i;t++)a(e,arguments[t]);return e}})},86332:(e,t,i)=>{"use strict";var r=i(71351),n=i(41240).filterReject,a=i(44253),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filterOut",(function(e){var t=n(s(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}),!0)},86776:(e,t,i)=>{"use strict";var r=i(3549),n=i(648),a=i(99600),s=i(21683),o=i(72748),l=i(56808),d=i(47442),c=i(98534),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=l(t),c)try{return u(e,t)}catch(e){}if(d(e,t))return s(!n(a.f,e,t),e[t])}},86792:(module,e,t)=>{"use strict";var i=t(47844),r=t(648),n=t(17649),a=t(59805),s=t(81658),o=t(43345),l=t(9918),d=t(593),c=t(33050),u=c("asyncDispose"),h=c("dispose"),p=n([].push),f=function(e,t,n){return arguments.length<3&&!l(e)&&(n=o(function(e,t){if("async-dispose"===t){var n=d(e,u);return void 0!==n||void 0===(n=d(e,h))?n:function(){var e=this;return new(i("Promise"))((function(t){r(n,e),t(void 0)}))}}return d(e,h)}(s(e),t))),void 0===n?function(){}:a(n,e)};module.exports=function(e,t,i,r){var n;if(arguments.length<4){if(l(t)&&"sync-dispose"===i)return;n=f(t,i)}else n=f(void 0,i,r);p(e.stack,n)}},86876:(e,t,i)=>{"use strict";i.d(t,{GS:()=>g,qI:()=>m,s5:()=>y});var r=i(23720),n=i(29183),a=i(25775),s=i(58743),o=i(94406),l=i(62661),d=i(11198),c=i(7239),u=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},h=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},p=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},f=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},v=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let m=(()=>{var e,t,i;let r,n,a=[o.JW],l=[],d=s.M;n=class extends d{constructor(){super(...arguments),this.BaseId="BottomSheet-DOM",e.set(this,null),t.set(this,null),i.set(this,null)}setHandler(i){f(this,e,i,"f"),null!=v(this,t,"f")&&(v(this,t,"f").callbackHandler=i)}get listRenderer(){if(null==v(this,t,"f")){const i=this.player.viewCtrl.bottomSheet,r=i._domContext;f(this,t,new y(r.content,r.contentWrapper,r.title,{addSyntheticScreen:(e,t)=>{var r,n;const a=null===(n=null===(r=i.activeScreen)||void 0===r?void 0:r.addon)||void 0===n?void 0:n.syntheticScreens;null!=a&&(a[e]={render:t})},showSyntheticScreen:e=>{var t;const r=null===(t=null==i?void 0:i.activeScreen)||void 0===t?void 0:t.addon;null!=r&&i.nextScreen(r,e,null)}},this.executionContextProvider),"f"),v(this,t,"f").callbackHandler=v(this,e,"f")}return v(this,t,"f")}createManager(e,t,r,n){return null==v(this,i,"f")&&f(this,i,new g(e,t,r,n,this),"f"),v(this,i,"f").calculateMaxSheetHeight(),v(this,i,"f")}register(){return this.registerPlayerEvent("Player.VIEWPORT_RESIZE",(()=>{var e;null===(e=v(this,i,"f"))||void 0===e||e.calculateMaxSheetHeight()})),super.register()}supportsPlatform(e){return"web"===e}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,p(n,"BottomSheetDomRenderer"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=d[Symbol.metadata])&&void 0!==e?e:null):void 0;u(null,r={value:n},a,{kind:"class",name:n.name,metadata:t},null,l),n=r.value,t&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t}),h(n,l)})(),n})();class y{constructor(e,t,i,r,n){var a;this.domRoot=e,this.contentWrapper=t,this.domTitle=i,this.context=r,this.executionContextProvider=n,this.disposables=[],this.callbackHandler=null,this.callbackHandlerInternal=(a=this,{back(){var e;a.clearDisposables(),null===(e=a.callbackHandler)||void 0===e||e.back()},close(){var e;a.clearDisposables(),null===(e=a.callbackHandler)||void 0===e||e.close()}})}clearDisposables(){this.disposables.forEach((e=>{e.dispose()})),this.disposables.splice(0)}renderDisplayList(e){this.clearDisposables(),this.domTitle.innerText=e.title,y.renderTree(e,e.focusRequest,this.domRoot,this,e._renderExtensions,this.executionContextProvider,this.callbackHandlerInternal)}updateDisplayList(e,t){var i;null===(i=this.executionContextProvider)||void 0===i||i.console.warn("updateDisplayList called - make sure dom renderers replace generic update impl with in-situ update function",t),(0,n.Ie)(this.domRoot),this.renderDisplayList(e)}updateDisplayListWithDelta(e,t){var i;t._hasBeenRendered&&(null===(i=this.executionContextProvider)||void 0===i||i.console.warn("updateDisplayListWithDelta called and ignored - make sure dom renderers replace generic update impl with in-situ update function",t))}updateDisplayListWithChildDelta(e,t,i){var r;t._hasBeenRendered&&(null===(r=this.executionContextProvider)||void 0===r||r.console.warn("updateDisplayListWithChildDelta called and ignored - make sure dom renderers replace generic update impl with in-situ update function",t,i))}replaceChildContent(e,t,i){var a,s,o,d,c;const u=document.activeElement&&e.contains(document.activeElement)&&null!==(o=null===(s=null===(a=document.activeElement)||void 0===a?void 0:a.dataset)||void 0===s?void 0:s.displayNodeId)&&void 0!==o?o:null,h=t.children,p=this.contentWrapper.scrollTop;if((0,n.Ie)(e),t.children=[],i(t),t.children.length>0)if(y.renderTree(t,null,e,this,null!==(c=null===(d=r.hc.getContaining(t))||void 0===d?void 0:d._renderExtensions)&&void 0!==c?c:null,this.executionContextProvider),(0,n.Ed)(u)){let t=e.querySelector(`[data-display-node-id="${u}"]`);if(!t){for(let i=h.findIndex((e=>(0,r.Lc)(e)&&e.id===u));i>=0&&!t;i--)t=e.querySelector(`[data-display-node-id="${h[i].id}"]`);null!=t||(t=e.querySelector("[data-display-node-id]"))}(0,l.GW)(t,!0)}else this.contentWrapper.scrollTop=p}deltaUpdateChildContent(e,t,i){var a,s,o,d,c;const u=r.hc.setChildrenRecordingDelta(t,i);if(null===u)return;const h=document.activeElement&&e.contains(document.activeElement)&&null!==(o=null===(s=null===(a=document.activeElement)||void 0===a?void 0:a.dataset)||void 0===s?void 0:s.displayNodeId)&&void 0!==o?o:null,p=t.children,f=this.contentWrapper.scrollTop,v=document.createElement("div");y.renderTree({children:u.addedChildren},null,v,this,null!==(c=null===(d=r.hc.getContaining(t))||void 0===d?void 0:d._renderExtensions)&&void 0!==c?c:null,this.executionContextProvider);const m=u.childOrder.map((t=>{var i;return null!==(i=v.querySelector(`[data-display-node-id="${t}"]`))&&void 0!==i?i:e.querySelector(`[data-display-node-id="${t}"]`)}));if((0,n.Ie)(e),m.forEach((t=>{t&&e.appendChild(t)})),(0,n.Ed)(h)){let t=e.querySelector(`[data-display-node-id="${h}"]`);if(!t){for(let i=p.findIndex((e=>(0,r.Lc)(e)&&e.id===h));i>=0&&!t;i--)t=e.querySelector(`[data-display-node-id="${p[i].id}"]`);null!=t||(t=e.querySelector("[data-display-node-id]"))}(0,l.GW)(t,!0)}else this.contentWrapper.scrollTop=f}static renderTree(e,t,i,a,s,o,l,d){e.children.forEach((c=>{var u,h,p,f;let v,m=null,g=null,b=null;switch(c.type){case"hContainer":m=y.createHorizontalContainer(i,c.cssClass);break;case"scrollingHContainer":{const e=y.renderHorizontalScroller(i,c.cssClass,c.contentSelector);m=e.container,b=()=>{e.sealContainer(a.disposables)},v=(t,i)=>{e.addImpressionTarget(t,i,a.disposables)}}break;case"vContainer":m=y.createVerticalContainer(i,c.cssClass,c.ariaLabel,c.ariaRole);break;case"updatingVContainer":{const e=y.createVerticalContainer(i,c.cssClass,c.ariaLabel,c.ariaRole);m=e,c._hasBeenRendered=!0,c.replaceContent=t=>{a.replaceChildContent(e,c,t)},c.deltaUpdateContent=t=>{a.deltaUpdateChildContent(e,c,t)};break}case"h":m=y.renderHeading(i,c.content,null!==(u=c.ariaLabel)&&void 0!==u?u:void 0,"heading",c.level);break;case"chip":m=y.renderChip(i,c.content,null!==(h=c.ariaLabel)&&void 0!==h?h:void 0,c.highlight);break;case"byline":m=y.renderByline(i,c.content,null!==(p=c.ariaLabel)&&void 0!==p?p:void 0,c.allowHtml);break;case"paragraph":m=y.renderBodyText(i,c.content,null!==(f=c.ariaLabel)&&void 0!==f?f:void 0,c.allowHtml);break;case"selectGroup":m=y.renderSelectGroup(i,a.disposables);break;case"select":{const t=y.renderSelect(a.context,o,i,c.content,c.values,c.selectedIndex,!c.showDisabledOptions,c.callbacks.optionSelected,c.callbacks.isOptionEnabled,l,(0,r.wn)(e));c.updateEnabledOptions=t.updateEnabledOptions,c.updateSelection=t.updateSelection,c.updateValues=t.updateValues}break;case"slider":{const e=y.renderSlider(i,c);m=e.elem,c.updateValue=e.updateValue}break;case"button":{let e=null;const t=()=>{var t,r;e=y.renderButton(i,c.content,null!==(t=c.icon)&&void 0!==t?t:void 0,c.primary,c.pill,null!==(r=c.endIcon)&&void 0!==r?r:void 0,e),(0,n.Af)(e,c.onClick,o)};c.updateValues=function(e){Object.assign(c,e),t()},t();break}case"teaser":m=y.renderTeaser(i,c),(0,n.Af)(m,(()=>{c.onClick()}),o);break;case"loadingIndicator":m=y.renderLoadingIndicator(i,c.content);break;case"internal":"domRenderer"===c.internalFor&&i.appendChild(c.domContent);break;default:(0,r.oC)(c)&&(null==s?void 0:s.supportsRenderingDisplayNode(c))?[m,g]=s.renderDisplayNodeToDom(i,c,a,o):m=y.renderElem(i,null,`URenderer(${c.type}): ${c.content}`,null,"p")}null!=m&&((0,r.io)(c)&&c.children.length>0&&this.renderTree(c,t,null!=g?g:m,a,s,o,void 0,v),(0,r.Lc)(c)&&(m.dataset.displayNodeId=c.id,t&&c.id===t&&(m.dataset.bsFocusRequest="true")),d&&d(c,m)),null!=b&&b()}))}static renderDomNode(e,t){const i={_container:e,type:"internal",internalFor:"domRenderer",domContent:t,children:[],content:""};return e.children.push(i),i}static renderElem(e,t,i,r,a,s=!1){const o=document.createElement(a);return s?o.innerHTML=i:o.innerText=i,null!==t&&(o.className=t),(0,n.Ed)(r)&&(o.title=r,o.setAttribute("aria-label",r)),e.appendChild(o),o}static createHorizontalContainer(e,t=null){const i=document.createElement("div");return i.classList.add("ardplayer-container-horizontal"),(0,n.Ed)(t)&&i.classList.add(...t.split(" ")),e.appendChild(i),i}static renderHorizontalScroller(e,t=null,i=":scope > :not(.ardplayer-bottom-sheet-horizontal-padding, .ardplayer-bottom-sheet-horizontal-gutter)"){var s,o,l;if(null===(l=null===(o=null===(s=e.parentElement)||void 0===s?void 0:s.classList)||void 0===o?void 0:o.contains("ardplayer-bottom-sheet-content-wrapper"))||void 0===l||!l)throw Error("horizontal scroller can only be used as top-level container");const d=document.createElement("div");d.className="ardplayer-bottom-sheet-horizontal-scroller",(0,n.Ed)(t)&&d.classList.add(...t.split(" ")),y.renderElem(d,"ardplayer-bottom-sheet-horizontal-padding","","","div"),e.appendChild(d);const c=(e=!1)=>{var t,r,n,a;const s=d.clientWidth,o=null!==(r=null===(t=d.querySelector(i))||void 0===t?void 0:t.clientWidth)&&void 0!==r?r:0;null===(a=null===(n=d.parentElement)||void 0===n?void 0:n.parentElement)||void 0===a||a.scrollBy({left:Math.floor(s/o)*(e?-o:o),behavior:"smooth"})};let u=!1;const h=[],p=()=>{try{h.forEach((e=>{var t,i;if(null!=e.elem.offsetParent){const r=e.elem.offsetLeft+e.elem.offsetWidth/2,n=null!==(t=e.elem.offsetParent.scrollLeft)&&void 0!==t?t:0,a=n+(null!==(i=e.elem.offsetParent.offsetWidth)&&void 0!==i?i:0);r>=n&&r<=a&&e.node.onImpression()}}))}catch(e){window.console.error("could not send impressions",e)}};return{container:d,addImpressionTarget:(e,t,i)=>{var n,a;if((0,r.Lc)(e)&&(0,r.Iq)(e)&&(h.push({node:e,elem:t}),!u)){u=!0;let e=-1;const t=()=>{window.clearTimeout(e),e=window.setTimeout(p,300)};null===(a=null===(n=d.parentElement)||void 0===n?void 0:n.parentElement)||void 0===a||a.addEventListener("scroll",t),i.push({dispose:()=>{d.removeEventListener("scroll",t)}})}},sealContainer:t=>{var r;if(null===(r=e.parentElement)||void 0===r||r.classList.add("ardplayer-bottom-sheet-horizontal"),t.push({dispose:()=>{var t;null===(t=e.parentElement)||void 0===t||t.classList.remove("ardplayer-bottom-sheet-horizontal")}}),y.renderElem(d,"ardplayer-bottom-sheet-horizontal-padding","","","div"),h.length>0&&window.setTimeout(p,300),!a.O.isMobileDevice){const r=y.renderElem(d,"ardplayer-icon ardplayer-icon-arrowleft ardplayer-bottom-sheet-horizontal-gutter","","","button"),a=y.renderElem(d,"ardplayer-icon ardplayer-icon-arrowright ardplayer-bottom-sheet-horizontal-gutter","","","button");r.tabIndex=-2,a.tabIndex=-2,(0,n.Af)(r,(()=>{c(!0)}),null),(0,n.Af)(a,(()=>{c(!1)}),null),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&window.setTimeout((()=>{var n;if(null==e.offsetParent)return;const s=d.querySelectorAll(i);if(s.length>1){const e=s.item(0),i=new IntersectionObserver((t=>{t.forEach((t=>{(t.target===e?r:a).style.display=t.isIntersecting?"none":""}))}),{root:null===(n=d.parentElement)||void 0===n?void 0:n.parentElement,threshold:.9});i.observe(e),i.observe(s.item(s.length-1)),t.push({dispose(){i.disconnect()}})}}))}}}}static createVerticalContainer(e,t=null,i=null,r=null){const a=document.createElement("div");return a.classList.add("ardplayer-container-vertical"),(0,n.Ed)(t)&&a.classList.add(...t.split(" ")),(0,n.Ed)(r)&&(a.role=r),(0,n.Ed)(i)&&a.setAttribute("aria-label",i),e.appendChild(a),a}static renderTeaser(e,t){var i;const r=this.renderElem(e,"ardplayer-addon-recos-teaser","",null,"div");r.tabIndex=0;this.renderElem(r,null,"",null,"img").src=t.image,(0,n.Ed)(t.duration)&&this.renderElem(r,"ardplayer-chip ardplayer-recos-teaser-time",t.duration,null,"span"),(0,n.Ed)(t.availability)&&this.renderElem(r,"ardplayer-chip-highlight ardplayer-recos-teaser-availability",t.availability,null,"span"),this.renderElem(r,"ardplayer-recos-teaser-title",t.content,null,"h3");const a=this.renderElem(r,"ardplayer-font-byline","",null,"div");return null===(i=t.byline)||void 0===i||i.forEach((e=>{this.renderByline(a,e)})),r}static renderSlider(e,t){var i;const r=document.createElement("div");if(r.className="ardplayer-bottom-sheet-slider-container",(0,n.Ed)(t.icon)){const e=document.createElement("i");e.classList.add("ardplayer-icon",t.icon),r.appendChild(e)}const a=document.createElement("div");if(a.className="ardplayer-bottom-sheet-slider",r.appendChild(a),(0,n.Ed)(t.endIcon)){const e=document.createElement("i");e.classList.add("ardplayer-icon",t.endIcon),r.appendChild(e)}(0,n.Ed)(t.content)&&r.setAttribute("aria-label",t.content);const s=c.create(a,{start:t.initial,connect:"lower",behaviour:"snap",orientation:"horizontal",direction:"ltr",keyboardSupport:!1,range:{min:t.min,max:t.max}});return s.off("update.__aria"),null===(i=a.querySelector(".noUi-handle.noUi-handle-lower"))||void 0===i||i.addEventListener("touchend",(e=>{e.preventDefault()})),s.on("update",(()=>{const e=s.get(!0);e!==t.initial&&t.onValueChange(e)})),e.appendChild(r),{elem:r,updateValue:e=>{t.initial=e,s.setHandle(0,e,!1)}}}static renderButton(e,t,i="",r=!0,a=!0,s="",o=null){const l=document.createElement("button");return l.innerText=t,l.dataset.initiatorName=`BottomSheetButton(${t})`,(0,n.Ed)(i)&&l.classList.add("ardplayer-icon",i),(0,n.Ed)(s)&&l.classList.add("ardplayer-icon-after",s.replace("ardplayer-icon-","ardplayer-icon-after-")),a?(l.classList.add("ardplayer-button-pill"),r||l.classList.add("ardplayer-button-pill-secondary")):(l.classList.add("ardplayer-button-rect"),r&&l.classList.add("ardplayer-button-underlined")),null!=o?e.replaceChild(o,l):e.appendChild(l),l}static renderCheckbox(e,t="",i=!1){const r=document.createElement("input");r.type="checkbox",r.checked=i,r.id=`ardplayer-check-${(0,n.N4)()}`,r.className="ardplayer-checkbox";const a=document.createElement("label");return a.innerText=t,a.setAttribute("for",r.id),a.className="ardplayer-checkbox-label",e.appendChild(r),e.appendChild(a),r}static renderHeading(e,t,i="",r="heading",a=2){const s=document.createElement(`h${a+1}`);return s.innerText=t,s.classList.add("ardplayer-font-title"),s.setAttribute("role",r),s.setAttribute("aria-level",String(a)),(0,n.Ed)(i)&&(s.title=i,s.setAttribute("aria-label",i)),e.appendChild(s),s}static renderLoadingIndicator(e,t){const i=document.createElement("div");return i.className="ardplayer-loading-indicator",e.appendChild(i),this.renderElem(i,"ardplayer-loading-spinner","",null,"span"),(0,n.Ed)(t)&&this.renderElem(i,null,t,null,"span"),i}static renderByline(e,t,i="",r=!1){return this.renderElem(e,"ardplayer-font-byline",t,i,"span",r)}static renderChip(e,t,i="",r=!1,n=!1){return this.renderElem(e,r?"ardplayer-chip-highlight":"ardplayer-chip",t,i,"span",n)}static renderBodyText(e,t,i="",r=!1){return this.renderElem(e,"ardplayer-font-body ardplayer-font-paragraph",t,i,"p",r)}static renderTextField(e,t="",i="",r=!1,a=!1,s=!0){const o=document.createElement("input");o.classList.add("ardplayer-input-text"),o.placeholder=t,(0,n.Ed)(i)&&(o.value=i),r&&(o.readOnly=!0),a&&(o.disabled=!0);const l=document.createElement("div");return l.className="ardplayer-input-wrapper",l.appendChild(o),e.appendChild(l),s&&l.classList.add("ardplayer-input-small"),[l,o]}static renderSelectGroup(e,t){var i,r,n,a;if(null===(n=null===(r=null===(i=e.parentElement)||void 0===i?void 0:i.classList)||void 0===r?void 0:r.contains("ardplayer-bottom-sheet-content-wrapper"))||void 0===n||!n)throw Error("select group can only be used as top-level container");null===(a=e.parentElement)||void 0===a||a.classList.add("ardplayer-bottom-sheet-no-scroll"),t.push({dispose:()=>{var t;null===(t=e.parentElement)||void 0===t||t.classList.remove("ardplayer-bottom-sheet-no-scroll")}});const s=document.createElement("div");return s.classList.add("ardplayer-select-group"),e.appendChild(s),s}static renderSelect(e,t,i,r,s,o,l,d,c,u,h=!1){const p=document.createElement("div");p.className="ardplayer-select",l&&!a.O.isDebugVerboseUI&&p.classList.add("ardplayer-select-hide-disabled"),i.appendChild(p);const f=(e,i)=>{e.setAttribute("role","listbox"),e.setAttribute("aria-label",r),s.forEach(((a,s)=>{const l=document.createElement("span");l.innerText=a,l.className="ardplayer-option",l.tabIndex=0,l.setAttribute("role","option"),l.dataset.index=String(s),l.dataset.initiatorName=`select(${r})=>${a}`,!1!==(null==c?void 0:c(a,s===o,s))?l.setAttribute("aria-selected","false"):(l.classList.add("ardplayer-option-disabled"),l.tabIndex=-1,l.setAttribute("role","presentation")),s===o&&(l.classList.add("ardplayer-option-active"),l.setAttribute("aria-selected","true")),(0,n.Af)(l,i,t),e.appendChild(l)}))},v=i=>{const l=`synthetic_select_${(0,n.N4)()}`;e.addSyntheticScreen(l,(e=>{e.title=r;const t=document.createElement("div");t.classList.add("ardplayer-container-vertical","ardplayer-option-container"),this.renderDomNode(e,t);f(t,(function(){d(Number(this.dataset.index)),null==u||u.back()}))}));const m=a.O.isMobileDevice&&!a.O.isEmbedded,y=this.createHorizontalContainer(i,"ardplayer-container-end ardplayer-show-s");y.innerHTML=`\n            <span class="ardplayer-option-label">${r}</span><span class="ardplayer-container-spacer"></span>\n            <${m?"label":"span"} class="ardplayer-option ardplayer-option-active ardplayer-option-expand" tabindex="0">\n                ${m?"":s[o]}<i class="ardplayer-icon ardplayer-icon-arrowright"></i>\n            </${m?"label":"span"}>\n        `;const g=y.lastElementChild;if(m){const e=document.createElement("select");e.title=r,s.forEach(((t,i)=>{const r=document.createElement("option");r.textContent=t,c&&!c(t,i===o,i)&&(r.disabled=!0),e.appendChild(r)})),e.selectedIndex=o,e.addEventListener("change",(()=>{o=e.selectedIndex,(0,n.Ie)(p),v(p),t.withExecutionContext({type:"other",initiator:`mobile-bottomsheet-select(${r})=>${o>=0&&o<s.length?s[o]:"-"}`},(()=>{d(o)}))})),g.insertBefore(e,g.firstChild)}else(0,n.Af)(g,(()=>{e.showSyntheticScreen(l)}),t);const b=h?this.createVerticalContainer(i,"ardplayer-hide-s"):this.createHorizontalContainer(i,"ardplayer-container-start ardplayer-hide-s");b.innerHTML=`<span class="ardplayer-option-label" aria-hidden="true">${r}</span>`;f(b,(function(){const e=b.querySelector(".ardplayer-option-active");null==e||e.classList.remove("ardplayer-option-active"),null==e||e.setAttribute("aria-selected","false"),this.classList.add("ardplayer-option-active"),this.setAttribute("aria-selected","true"),g.innerText=this.innerText,o=Number(this.dataset.index),c&&(e&&e!==this&&e.classList.toggle("ardplayer-option-disabled",!c(e.innerText,!1,Number(e.dataset.index))),this.classList.toggle("ardplayer-option-disabled",!c(this.innerText,!0,o))),d(o)}))};return v(p),{updateSelection:(e,t=!1)=>{(o!==e||t)&&i.contains(p)&&((0,n.Ie)(p),o=e,v(p))},updateValues:(e,t)=>{i.contains(p)&&((0,n.Ie)(p),s=e,o=t,v(p))},updateEnabledOptions:()=>{i.contains(p)&&((0,n.Ie)(p),v(p))}}}}let g=(()=>{let e,t,i=[o.JW],s=[],c=d.i;t=class extends c{constructor(e,t,i,r,a){super(e,t,i,r,a),this.animationEndListener=null,this.buttonMutex=!1,this.listenerDisposers=[];const s=t.querySelector(".ardplayer-bottom-sheet-container"),o=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-background"),l=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-stage"),d=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-content"),c=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-content-wrapper"),u=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-title"),h=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-close-button"),p=null==s?void 0:s.querySelector(".ardplayer-bottom-sheet-back-button");if(null==s||null==o||null==l||null==d||null==c||null==u||null==h||null==p)throw new Error("could not get dom references");this.container=s,this.background=o,this.stage=l,this.content=d,this.contentWrapper=c,this.title=u,this.btnClose=h,this.btnBack=p,this.stage.setAttribute("aria-hidden","true"),this.closeListener=()=>{this.buttonMutex||this.conceal()},this.backListener=()=>{this.buttonMutex||this.prevScreen()},this.animationStartListener=e=>{e.target===this.stage&&(this.buttonMutex=!0)},this.animationEndListenerDispatcher=e=>{e.target===this.stage&&(this.buttonMutex=!1,null!==this.animationEndListener&&(this.animationEndListener(e),this.animationEndListener=null))},this.stage.addEventListener("animationstart",this.animationStartListener),this.stage.addEventListener("animationend",this.animationEndListenerDispatcher),this.listenerDisposers.push((0,n.Af)(this.background,this.closeListener,e)),this.listenerDisposers.push((0,n.Af)(this.btnClose,this.closeListener,e)),this.listenerDisposers.push((0,n.Af)(this.btnBack,this.backListener,e)),this.updateButtons()}calculateMaxSheetHeight(){const e=(0,n.Pj)(this.contentWrapper),t=this.container.offsetHeight-this.contentWrapper.offsetTop-e.top-e.bottom;this.contentWrapper.style.setProperty("--sheet-content-max-height",`${t}px`)}get ID(){return"BottomSheetManagerDom"}dispose(){super.dispose(),this.screenStack.splice(0,this.screenStack.length),this.title.innerHTML="",this.content.innerHTML="",this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),this.stage.removeEventListener("animationend",this.animationEndListenerDispatcher),this.stage.removeEventListener("animationstart",this.animationStartListener),a.O.browserIsSafari&&document.body.classList.remove("ardplayer-safari-noscroll")}performReveal(e,t=null){var i;this.stage.setAttribute("aria-hidden","false"),this.stage.setAttribute("aria-modal","true"),this.btnBack.tabIndex=0,this.btnClose.tabIndex=0,this.performRevealInternal(e),this.markerClassTarget.classList.add("ardplayer-show-bottom-sheet"),this.animationEndListener=()=>{this.setInitialScreenFocus(),null==t||t()},a.O.browserIsSafari&&("fixed"===getComputedStyle(this.container).position&&document.body.classList.add("ardplayer-safari-noscroll"),a.O.isOldWebkit&&(null===(i=this.animationEndListener)||void 0===i||i.call(this,null),this.animationEndListener=null))}setInitialScreenFocus(){var e;const t=this.content.querySelector('[data-bs-focus-request="true"]');t&&(0,l.Fl)(t)?(t.offsetParent&&(t.offsetParent.scrollLeft=t.offsetLeft,t.offsetParent.scrollTop=t.offsetTop),(0,l.GW)(t)):(this.contentWrapper.scrollLeft=0,this.contentWrapper.scrollTop=0,(0,l.GW)(null!==(e=(0,l.Fp)(this.content))&&void 0!==e?e:(0,l.Fl)(this.btnBack)?this.btnBack:this.btnClose))}nextScreen(e,t,i=null){this.nextScreenInternal(e,t,i)||(this.setInitialScreenFocus(),null==i||i())}prevScreen(e=null){var t;this.prevScreenInternal(e)||((0,l.GW)((null!==(t=(0,l.Fp)(this.content))&&void 0!==t?t:this.screenStack.length<=1)?this.btnClose:this.btnBack),null==e||e())}conceal(e=null){var t,i;const r=null!==(t=[this.screenStack.length>0?this.screenStack[this.screenStack.length-1].addon.getFocusButton(this.screenStack[this.screenStack.length-1].screenId):null,...this.player.viewCtrl.elements.btnPlayPause,...this.player.viewCtrl.elements.btnReplay].find((e=>(0,l.Fl)(e))))&&void 0!==t?t:null;this.markerClassTarget.classList.remove("ardplayer-show-bottom-sheet"),this.concealInternal(),this.animationEndListener=()=>{this.log("bottom sheet concealed"),this.updateButtons(),(0,l.GW)(r),this.stage.setAttribute("aria-hidden","true"),this.stage.setAttribute("aria-modal","false"),this.btnBack.tabIndex=-1,this.btnClose.tabIndex=-1,this.title.innerHTML="",this.content.innerHTML="",this.renderer instanceof y&&this.renderer.clearDisposables(),null==e||e()},a.O.browserIsSafari&&(document.body.classList.remove("ardplayer-safari-noscroll"),a.O.isOldWebkit&&(null===(i=this.animationEndListener)||void 0===i||i.call(this,null),this.animationEndListener=null))}get _domContext(){return{content:this.content,contentWrapper:this.contentWrapper,title:this.title}}renderScreen(e){this.content.innerHTML="",this.title.innerHTML="",this.stage.className=this.stage.classList[0],this.content.className=this.content.classList[0];const t=this.content.parentElement;t&&(t.className=t.classList[0]);const i=this.renderer;if(null!=i){const t=new r.hc("",this.screenStack.length>1);e.addon.renderScreenInternal(e.screenId,t,i)}this.updateButtons()}updateButtons(){this.btnBack.style.display=this.screenStack.length<=1?"none":"block"}};return p(t,"BottomSheetManagerDom"),(()=>{var r;const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(r=c[Symbol.metadata])&&void 0!==r?r:null):void 0;u(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),h(t,s)})(),t})()},87183:(e,t,i)=>{"use strict";var r=i(39501),n=i(41240).filterReject,a=i(27970);r({target:"Array",proto:!0,forced:!0},{filterOut:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("filterOut")},87297:(e,t,i)=>{"use strict";var r=i(39501),n=i(67140),a=i(27970);r({target:"Array",proto:!0},{group:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("group")},87656:(e,t,i)=>{"use strict";var r=i(39501),n=i(41734);r({target:"WeakSet",stat:!0,forced:!0},{from:i(12408)(n.WeakSet,n.add,!1)})},87674:(e,t,i)=>{"use strict";i(83452)("metadata")},87771:(e,t,i)=>{"use strict";var r=i(71351),n=i(17649),a=i(43345),s=i(7831),o=r.aTypedArray,l=r.getTypedArrayConstructor,d=r.exportTypedArrayMethod,c=n(r.TypedArrayPrototype.sort);d("toSorted",(function(e){void 0!==e&&a(e);var t=o(this),i=s(l(t),t);return c(i,e)}))},87838:(e,t,i)=>{"use strict";var r=i(39501),n=i(43501),a=i(47844),s=i(21683),o=i(41970).f,l=i(47442),d=i(26910),c=i(92582),u=i(29450),h=i(33311),p=i(61516),f=i(3549),v=i(8694),m="DOMException",y=a("Error"),g=a(m),b=function(){d(this,E);var e=arguments.length,t=u(e<1?void 0:arguments[0]),i=u(e<2?void 0:arguments[1],"Error"),r=new g(t,i),n=new y(t);return n.name=m,o(r,"stack",s(1,p(n.stack,1))),c(r,this,b),r},E=b.prototype=g.prototype,w="stack"in new y(m),S="stack"in new g(1,2),C=g&&f&&Object.getOwnPropertyDescriptor(n,m),A=!(!C||C.writable&&C.configurable),T=w&&!A&&!S;r({global:!0,constructor:!0,forced:v||T},{DOMException:T?b:g});var I=a(m),k=I.prototype;if(k.constructor!==I)for(var L in v||o(k,"constructor",s(1,I)),h)if(l(h,L)){var P=h[L],x=P.s;l(I,x)||o(I,x,s(6,P.c))}},88131:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(23539),s=i(44312);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return n(s,this,a(e))}})},88172:(e,t,i)=>{"use strict";i(39501)({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:i(1526)})},88336:(e,t,i)=>{"use strict";var r=i(39501),n=180/Math.PI;r({target:"Math",stat:!0,forced:!0},{degrees:function(e){return e*n}})},88578:(module,e,t)=>{"use strict";var i=t(47844);module.exports=i("document","documentElement")},88802:(e,t,i)=>{"use strict";var r=i(39501),n=i(71321),a=i(43345),s=i(81658),o=i(77474),l=i(18132),d=i(37362),c=i(12742),u=i(54258),h=TypeError,p=u((function(){[].keys().reduce((function(){}),void 0)})),f=!p&&d("reduce",h);r({target:"Iterator",proto:!0,real:!0,forced:p||f},{reduce:function(e){s(this);try{a(e)}catch(e){l(this,"throw",e)}var t=arguments.length<2,i=t?void 0:arguments[1];if(f)return c(f,this,t?[e]:[e,i]);var r=o(this),d=0;if(n(r,(function(r){t?(t=!1,i=r):i=e(i,r,d),d++}),{IS_RECORD:!0}),t)throw new h("Reduce of empty iterator with no initial value");return i}})},89153:(e,t,i)=>{"use strict";var r=i(39501),n=i(49721),a=i(72748),s=i(27970),o=Array;r({target:"Array",proto:!0},{toReversed:function(){return n(a(this),o)}}),s("toReversed")},89208:(module,e,t)=>{"use strict";var i=t(3549),r=t(41970),n=t(21683);module.exports=i?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},89299:(e,t,i)=>{"use strict";var r=i(39501),n=i(3549),a=i(47844),s=i(43345),o=i(26910),l=i(66693),d=i(10896),c=i(45493),u=i(33050),h=i(74606),p=i(86792),f=a("SuppressedError"),v=ReferenceError,m=u("dispose"),y=u("toStringTag"),g="DisposableStack",b=h.set,E=h.getterFor(g),w="sync-dispose",S="disposed",C=function(e){var t=E(e);if(t.state===S)throw new v(g+" already disposed");return t},A=function(){b(o(this,T),{type:g,state:"pending",stack:[]}),n||(this.disposed=!1)},T=A.prototype;d(T,{dispose:function(){var e=E(this);if(e.state!==S){e.state=S,n||(this.disposed=!0);for(var t,i=e.stack,r=i.length,a=!1;r;){var s=i[--r];i[r]=null;try{s()}catch(e){a?t=new f(e,t):(a=!0,t=e)}}if(e.stack=null,a)throw t}},use:function(e){return p(C(this),e,w),e},adopt:function(e,t){var i=C(this);return s(t),p(i,void 0,w,(function(){t(e)})),e},defer:function(e){var t=C(this);s(e),p(t,void 0,w,e)},move:function(){var e=C(this),t=new A;return E(t).stack=e.stack,e.stack=[],e.state=S,n||(this.disposed=!0),t}}),n&&c(T,"disposed",{configurable:!0,get:function(){return E(this).state===S}}),l(T,m,T.dispose,{name:"dispose"}),l(T,y,g,{nonWritable:!0}),r({global:!0,constructor:!0},{DisposableStack:A})},89709:(module,e,t)=>{"use strict";var i=t(43501),r=t(17649),n=t(76433),a=t(98515),s=t(55700),o=t(26401),l=t(946),d=t(28867),c=i.structuredClone,u=i.ArrayBuffer,h=i.DataView,p=Math.min,f=u.prototype,v=h.prototype,m=r(f.slice),y=n(f,"resizable","get"),g=n(f,"maxByteLength","get"),b=r(v.getInt8),E=r(v.setInt8);module.exports=(d||l)&&function(e,t,i){var r,n=o(e),f=void 0===t?n:a(t),v=!y||!y(e);if(s(e),d&&(e=c(e,{transfer:[e]}),n===f&&(i||v)))return e;if(n>=f&&(!i||v))r=m(e,0,f);else{var w=i&&!v&&g?{maxByteLength:g(e)}:void 0;r=new u(f,w);for(var S=new h(e),C=new h(r),A=p(f,n),T=0;T<A;T++)E(C,T,b(S,T))}return d||l(e),r}},90436:(module,e,t)=>{"use strict";var i=t(70150);module.exports="NODE"===i},90732:(e,t,i)=>{"use strict";i.d(t,{W:()=>h});var r=i(94406),n=i(25775),a=i(57809),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},o=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},l=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let u=(()=>{var e,t;let i,n,u=[r.JW],h=[];n=class{constructor(i){this.console=i,e.set(this,{}),t.set(this,void 0)}on(e,t){this.addEventListener(e,t)}off(t,i){void 0!==d(this,e,"f")&&(null==t||i?null==t?c(this,e,{},"f"):i&&this.removeEventListener(t,i):delete d(this,e,"f")[t])}dispatchEvent(e,t){this.dispatchEventInternal(Object.assign({type:e},t))}addEventListener(t,i){var r;void 0===d(this,e,"f")[t]&&(d(this,e,"f")[t]=new a.w),null===(r=d(this,e,"f")[t])||void 0===r||r.add(i)}hasEventListener(t,i){var r,n;return null!==(n=null===(r=d(this,e,"f")[t])||void 0===r?void 0:r.has(i))&&void 0!==n&&n}removeEventListener(t,i){var r;null===(r=d(this,e,"f")[t])||void 0===r||r.delete(i)}addBroadcastListener(e){void 0===d(this,t,"f")&&c(this,t,new a.w,"f"),d(this,t,"f").add(e)}removeBroadcastListener(e){var i;null===(i=d(this,t,"f"))||void 0===i||i.delete(e)}dispatchEventInternal(i){var r,n;null===(r=d(this,e,"f")[i.type])||void 0===r||r.forEach((e=>{try{e.call(this,i)}catch(t){this.console.error(`Error in event listener for '${String(i.type)}' - ${e.name} -`,t,e)}})),null===(n=d(this,t,"f"))||void 0===n||n.forEach((e=>{try{e.call(this,i)}catch(t){this.console.error(`Error in broadcast event listener for '${String(i.type)}' - ${e.name} -`,t,e)}}))}};return e=new WeakMap,t=new WeakMap,l(n,"TypeSafeEventDispatcher"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,i={value:n},u,{kind:"class",name:n.name,metadata:e},null,h),n=i.value,e&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e}),o(n,h)})(),n})(),h=(()=>{let e,t,i=[r.JW],a=[],d=u;t=class extends d{constructor(e){super(e.console),this.eventDispatcherDelegate=e,this.eventDispatcherDelegate.registerDelegate(this)}dispatchEvent(e,t){const i=Object.assign({type:e},t);n.O.isDebugPlayerEvent&&this.console.log("[EVENT]",i.type,i),this.eventDispatcherDelegate.withOptionalExecutionContext(this.eventDispatcherDelegate.getPreservedExecutionContext(i.type),(()=>{this.dispatchEventInternal(i),this.eventDispatcherDelegate.dispatchEventInternal(i)}))}dispose(){this.eventDispatcherDelegate.disposeDelegate(this)}};return l(t,"DelegatingEventDispatcher"),(()=>{var r;const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(r=d[Symbol.metadata])&&void 0!==r?r:null):void 0;s(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,a),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),o(t,a)})(),t})()},90791:(module,e,t)=>{"use strict";var i=t(74606),r=t(6439),n=t(45952),a=t(47442),s=t(3633),o=t(53868),l="Object Iterator",d=i.set,c=i.getterFor(l);module.exports=r((function(e,t){var i=o(e);d(this,{type:l,mode:t,object:i,keys:s(i),index:0})}),"Object",(function(){for(var e=c(this),t=e.keys;;){if(null===t||e.index>=t.length)return e.object=e.keys=null,n(void 0,!0);var i=t[e.index++],r=e.object;if(a(r,i)){switch(e.mode){case"keys":return n(i,!1);case"values":return n(r[i],!1)}return n([i,r[i]],!1)}}}))},91103:(e,t,i)=>{"use strict";var r=i(39501),n=i(37030),a=i(47844),s=i(12742);r({global:!0,forced:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?a("Symbol").for(arguments[0]):s(n,null,arguments).get("symbol",a("Symbol"))}})},91459:(e,t,i)=>{"use strict";i(5434)},91775:(module,e,t)=>{"use strict";var i=t(44489),r=t(45493),n=t(10896),a=t(59805),s=t(26910),o=t(9918),l=t(71321),d=t(96337),c=t(45952),u=t(58140),h=t(3549),p=t(51814).fastKey,f=t(74606),v=f.set,m=f.getterFor;module.exports={getConstructor:function(e,t,d,c){var u=e((function(e,r){s(e,f),v(e,{type:t,index:i(null),first:null,last:null,size:0}),h||(e.size=0),o(r)||l(r,e[c],{that:e,AS_ENTRIES:d})})),f=u.prototype,y=m(t),g=function(e,t,i){var r,n,a=y(e),s=b(e,t);return s?s.value=i:(a.last=s={index:n=p(t,!0),key:t,value:i,previous:r=a.last,next:null,removed:!1},a.first||(a.first=s),r&&(r.next=s),h?a.size++:e.size++,"F"!==n&&(a.index[n]=s)),e},b=function(e,t){var i,r=y(e),n=p(t);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key===t)return i};return n(f,{clear:function(){for(var e=y(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=i(null),h?e.size=0:this.size=0},delete:function(e){var t=this,i=y(t),r=b(t,e);if(r){var n=r.next,a=r.previous;delete i.index[r.index],r.removed=!0,a&&(a.next=n),n&&(n.previous=a),i.first===r&&(i.first=n),i.last===r&&(i.last=a),h?i.size--:t.size--}return!!r},forEach:function(e){for(var t,i=y(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:i.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),n(f,d?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),h&&r(f,"size",{configurable:!0,get:function(){return y(this).size}}),u},setStrong:function(e,t,i){var r=t+" Iterator",n=m(t),a=m(r);d(e,t,(function(e,t){v(this,{type:r,target:e,state:n(e),kind:t,last:null})}),(function(){for(var e=a(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?c("keys"===t?i.key:"values"===t?i.value:[i.key,i.value],!1):(e.target=null,c(void 0,!0))}),i?"entries":"values",!i,!0),u(t)}}},91941:(e,t,i)=>{"use strict";var r=i(39501),n=i(81658),a=i(4185),s=i(32123),o=i(77474);r({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:function(){return new s(o(new a(o(n(this)))))}})},91980:module=>{"use strict";module.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},92024:(e,t,i)=>{"use strict";var r=i(39501),n=i(17649),a=i(66293),s=i(20426),o=n("".charCodeAt);r({target:"String",proto:!0},{isWellFormed:function(){for(var e=s(a(this)),t=e.length,i=0;i<t;i++){var r=o(e,i);if(55296==(63488&r)&&(r>=56320||++i>=t||56320!=(64512&o(e,i))))return!1}return!0}})},92187:(e,t,i)=>{"use strict";var r=i(39501),n=i(27970),a=i(20498),s=i(72909),o=i(79667),l=i(72748),d=i(70856),c=Array,u=Math.max,h=Math.min;r({target:"Array",proto:!0},{toSpliced:function(e,t){var i,r,n,p,f=l(this),v=s(f),m=o(e,v),y=arguments.length,g=0;for(0===y?i=r=0:1===y?(i=0,r=v-m):(i=y-2,r=h(u(d(t),0),v-m)),n=a(v+i-r),p=c(n);g<m;g++)p[g]=f[g];for(;g<m+i;g++)p[g]=arguments[g-m+2];for(;g<n;g++)p[g]=f[g+r-i];return p}}),n("toSpliced")},92483:(e,t,i)=>{"use strict";var r=i(39501),n=i(10532),a=i(41734).add;r({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=n(this),t=0,i=arguments.length;t<i;t++)a(e,arguments[t]);return e}})},92582:(module,e,t)=>{"use strict";var i=t(38348),r=t(36767),n=t(82014);module.exports=function(e,t,a){var s,o;return n&&i(s=t.constructor)&&s!==a&&r(o=s.prototype)&&o!==a.prototype&&n(e,o),e}},93061:(e,t,i)=>{"use strict";i(83452)("patternMatch")},93101:(module,e,t)=>{"use strict";var i=t(54258),r=t(33050),n=t(3549),a=t(8694),s=r("iterator");module.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),r+=i+e})),i.delete("a",2),i.delete("b",void 0),a&&(!e.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!t.size&&(a||!n)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}))},93609:(e,t,i)=>{"use strict";var r=i(39501),n=i(59805),a=i(74663),s=i(4302);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=a(this),i=n(e,arguments.length>1?arguments[1]:void 0);return!0===s(t,(function(e,r){if(i(e,r,t))return!0}),!0)}})},94027:(module,e,t)=>{"use strict";var i=t(70856),r=Math.min;module.exports=function(e){var t=i(e);return t>0?r(t,9007199254740991):0}},94188:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(43345),s=i(81658),o=i(77474),l=i(52197),d=i(22571),c=i(18132),u=i(8694),h=i(211),p=i(37362),f=!u&&!h("flatMap",(function(){})),v=!u&&!f&&p("flatMap",TypeError),m=u||f||v,y=d((function(){for(var e,t,i=this.iterator,r=this.mapper;;){if(t=this.inner)try{if(!(e=s(n(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){c(i,"throw",e)}if(e=s(n(this.next,i)),this.done=!!e.done)return;try{this.inner=l(r(e.value,this.counter++),!1)}catch(e){c(i,"throw",e)}}}));r({target:"Iterator",proto:!0,real:!0,forced:m},{flatMap:function(e){s(this);try{a(e)}catch(e){c(this,"throw",e)}return v?n(v,this,e):new y(o(this),{mapper:e,inner:null})}})},94406:(e,t,i)=>{"use strict";function r(e,t){t.addInitializer((function(){Object.seal(e),Object.seal(e.prototype)}))}i.d(t,{$z:()=>s,C6:()=>f,Ee:()=>a,JW:()=>r,MY:()=>u,NJ:()=>c,NR:()=>d,Nf:()=>h,Rc:()=>o,kF:()=>p,nF:()=>l});const n=Symbol("Memo_Val_None");function a(e,t){let i=n;return function(){return i===n&&(i=e.call(this),window.queueMicrotask((()=>{i=n}))),i}}function s(e,t){return function(){const i=e.call(this);return Object.defineProperty(this,t.name,{value:i,enumerable:!1}),i}}function o(e,t){let i=!1;return function(){i||(i=!0,window.queueMicrotask((()=>{i=!1,e.call(this)})))}}function l(e){return function(t,i){let r=!1;return function(){var i;r||(r=!0,null===(i=this.executionContextProvider)||void 0===i||i.safeTimeout((()=>{r=!1,t.call(this)}),e))}}}function d(e){return function(t,i){return function(...r){var n,a,s;return null!==(a=null===(n=this.executionContextProvider)||void 0===n?void 0:n._isShard)&&void 0!==a&&a?(null===(s=this.executionContextProvider)||void 0===s||s.console.log(`skipping call to ${String(i.name)}`),e):t.call(this,...r)}}}function c(e,t){return function(...i){var r,n;const a=`${String(t.name)}(${i.join(", ")})`;(null!==(n=null===(r=this.executionContextProvider)||void 0===r?void 0:r.console.info)&&void 0!==n?n:window.console.info)("[Player][API]",a);const s=this.executionContextProvider;return null==s?e.call(this,...i):s.withExecutionContext({type:"api",initiator:a},(()=>e.call(this,...i)))}}function u(e){return function(t,i){return function(...r){var n,a,s,o;const l=`${String(i.name)}(${r.join(", ")})`;if(!e(...r)){const e=`Invalid args - ${l}`;throw(null!==(a=null===(n=this.executionContextProvider)||void 0===n?void 0:n.console.error)&&void 0!==a?a:window.console.error)("[Player][API]",e),Error(e)}(null!==(o=null===(s=this.executionContextProvider)||void 0===s?void 0:s.console.info)&&void 0!==o?o:window.console.info)("[Player][API]",l);const d=this.executionContextProvider;return null==d?t.call(this,...r):d.withExecutionContext({type:"api",initiator:l},(()=>t.call(this,...r)))}}}function h(e,t){return function(...i){var r;if(null==(null===(r=this.executionContextProvider)||void 0===r?void 0:r.executionContext))throw new Error(`Invalid access to ${String(t.name)} without context`);return e.call(this,...i)}}function p(e){return function(t,i){return function(...i){const r=this.executionContextProvider;return null==r||null==e?t.call(this,...i):r.withExecutionContext(e,(()=>t.call(this,...i)))}}}function f(e,t=null){return function(i,r){return function(...r){var n;const a=this.executionContextProvider;return null==a?i.call(this,...r):a.withOptionalExecutionContext(null!==(n=a.getPreservedExecutionContext(e))&&void 0!==n?n:t,(()=>i.call(this,...r)))}}}},94470:(e,t,i)=>{"use strict";i(74799)},94480:(e,t,i)=>{"use strict";i.d(t,{U:()=>c});var r=i(25775),n=i(29183),a=i(60484),s=i(25734),o=i(75768),l=i(46819);const d={isBlank:n.z3,isNotBlank:n.Ed,nullish:n.cl,isUndefined:n.b0,isNonNullObject:n.UU,resolveStringTemplate:a.e_,formatDate:l.Yq,formatTime:l.fU};class c{constructor(e,t){this.template=e,t?(this.playerId=t.getId(),this.strings=t.StringConfig.Strings,this.console=t.console,this.storage=o.x.for(t)):(this.playerId="invalid",this.strings=s.r.Strings,this.storage=o.x.getInstance("invalid",""),this.console=window.console)}static select(e){return t=>{const i=t.querySelector(e);if(i)return i;throw new Error(`Unable to select element: ${e}`)}}static selectOptional(e){return t=>t.querySelector(e)}static selectAll(e){return t=>Array.from(t.querySelectorAll(e))}renderTemplateAsHolder(e,t,i=!1){const r=this.renderTemplateInElementAsHolder(e,t,i);return{node:r.parent.firstElementChild,elements:r.elements}}renderTemplateInElementAsHolder(e,t,i=!1,r){const n=this.renderTemplateInElement(e,i,r);try{return{parent:n,elements:c.resolveElementLookup(n,t)}}catch(e){throw this.console.error("[TemplateLoader]","could not render in holder\n",this.template,"\nreason:\n",e.message),e}}static resolveElementLookup(e,t){let i="";try{const r=Object.entries(t).map((t=>(i=t[0],[t[0],t[1](e)])));return Object.fromEntries(r)}catch(e){throw new Error(`[TemplateLoader] could not resolve lookup for '${i}': ${e.message}`)}}renderTemplateAsElement(e,t=!1){return this.renderTemplateInElement(e,t).firstElementChild}renderTemplateInElement(e,t=!1,i=document.createElement("div")){return i.innerHTML=this.renderTemplate(e,t),i}renderTemplate(e,t=!1){const i=Object.assign({playerID:this.playerId,Utils:d,Environment:r.O,Strings:this.strings,storage:this.storage,SettingsStorage:o.x},e);try{if(r.O.isDebug&&"undefined"!=typeof Proxy&&!t){const t=this.console,r={get(e,i){if(i in e){const t=e[i];return"object"==typeof t&&null!==t?t instanceof Date||t instanceof RegExp||t instanceof Array||t instanceof Map||t instanceof Set||t instanceof WeakMap||t instanceof WeakSet||t instanceof Promise||t instanceof Error?t:new Proxy(t,r):t}t.warn("[TemplateLoader]","reading undefined variable:",i)}};t.groupCollapsed("[TemplateLoader]"),t.info("[TemplateLoader]","render",this.template,"using",e);const n=this.template(new Proxy(i,r));return t.groupEnd(),n}return this.template(i)}catch(t){throw this.console.error("[TemplateLoader]","could not render template\n",this.template,"\nusing vars\n",e),t}}}},94581:(e,t,i)=>{"use strict";i.d(t,{a:()=>Zn});var r=i(8055),n=i(29183),a=i(94406),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},o=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},l=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let u=(()=>{var e,t,i,r,u,h;let p,f,v=[a.JW],m=[];var y=f=class{_freezeContext(){return{contextStack:d(this,i,"f").slice(),keyedContext:new Map(d(this,r,"f"))}}_withFrozenContext(t,i,n){return i&&(d(this,r,"f").clear(),t.keyedContext.forEach(((e,t)=>{d(this,r,"f").set(t,e)}))),d(this,e,"m",u).call(this,t.contextStack,n)}get _isShard(){return!1}constructor(n){e.add(this),this.console=n,t.set(this,null),i.set(this,[]),r.set(this,new Map),this.__disposedAt=!1}get executionContextProvider(){return this}get executionContext(){return 0===d(this,i,"f").length?null:d(this,i,"f")[d(this,i,"f").length-1]}get lastExecutionContext(){return d(this,t,"f")}withExecutionContext(e,r){if(d(this,i,"f").length>0&&d(this,i,"f")[d(this,i,"f").length-1].initiator===e.initiator&&d(this,i,"f")[d(this,i,"f").length-1].type===e.type&&d(this,i,"f")[d(this,i,"f").length-1].data===e.data)return r();c(this,t,e,"f"),d(this,i,"f").push(e),this.console.group("[EX]",`${String(e.type)}:${String(e.initiator)}${"preserved"in e&&e.preserved?"(cont)":""}`);try{return r()}finally{this.console.groupEnd(),d(this,i,"f").pop()}}withOptionalExecutionContext(e,t){return null!=e?this.withExecutionContext(e,t):t()}setExecutionContext(e,t,i=500){(0,n.z3)(e)||((0,n.cl)(t)?d(this,r,"f").delete(e):d(this,r,"f").set(e,Object.assign({},t,{preserved:!0,keyedContextValidUntil:i<=0?-1:performance.now()+i})))}clearExecutionContext(...e){e.forEach((e=>{this.setExecutionContext(e,null)}))}preserveExecutionContext(e,t=500){return d(this,i,"f").length>0&&(this.setExecutionContext(e,d(this,i,"f")[d(this,i,"f").length-1],t),!0)}preserveExecutionContextAlias(e,t,...i){const r=this.getPreservedExecutionContext(e);r&&i.forEach((e=>{this.setExecutionContext(e,r,t)}))}getPreservedExecutionContext(e){const t=d(this,r,"f").get(e);return(0,n.UU)(t)&&(-1===t.keyedContextValidUntil||t.keyedContextValidUntil>=performance.now())?t:null}getExecutionContext(e){return d(this,i,"f").length>0?d(this,i,"f")[d(this,i,"f").length-1]:this.getPreservedExecutionContext(e)}safeTimeout(e,t,...i){return this.safeTimeoutWithContext({type:"timeout",initiator:t?`safeTimeout(${t})`:"stackBust"},e,t,...i)}safeTimeoutPreservingContext(e,t,...i){return this.safeTimeoutWithContext(this.executionContext,e,t,...i)}safeTimeoutWithContext(t,i,r,...a){d(this,e,"m",h).call(this);try{this.checkStateStrict()}catch(e){return this.console.warn("skipping timeout",e),-1}const s=y.__timersFrozenPreserveContext&&t?(0,n.YQ)():null;return window.setTimeout((()=>{d(this,e,"m",h).call(this);try{this.checkStateStrict()}catch(e){return void this.console.warn("aborting timeout",e)}y.__timersFrozen?(this.console.info("timers frozen, deferring execution"),y.__deferrals.push({context:y.__timersFrozenPreserveContext&&t?Object.assign(t,{stack:null!=s?s:(0,n.YQ)()}):null,timer:()=>{const e=this.console;this.withOptionalExecutionContext(t,(function(){try{i(...a)}catch(t){e.error("Error in safeTimeout call",t)}}))}})):this.withOptionalExecutionContext(t,(()=>{try{i(...a)}catch(e){this.console.error("Error in safeTimeout call",e)}}))}),r)}safeIdleCallback(e,t){return this.safeIdleCallbackWithContext({type:"timeout",initiator:(null==t?void 0:t.timeout)?`idleCallback(${t.timeout})`:"idleCallback"},e,t)}safeIdleCallbackWithContext(t,i,r){var n;d(this,e,"m",h).call(this);const a=()=>{try{i()}catch(e){this.console.error("Error in safeIdleCallback call",e)}};return window.requestIdleCallback&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback((()=>{d(this,e,"m",h).call(this);try{this.checkStateStrict()}catch(e){return void this.console.warn("aborting idle callback",e)}this.withOptionalExecutionContext(t,a)}),r):this.safeTimeoutWithContext(t,a,Math.min((null!==(n=null==r?void 0:r.timeout)&&void 0!==n?n:500)/3,300))}static cancelIdleCallback(e){window.cancelIdleCallback&&"function"==typeof window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}safeInterval(t,i,...r){d(this,e,"m",h).call(this);try{this.checkStateStrict()}catch(e){return this.console.warn("skipping interval",e),-1}const n=window.setInterval((()=>{d(this,e,"m",h).call(this);try{this.checkStateStrict()}catch(e){return this.console.warn("aborting interval",e),void window.clearInterval(n)}y.__timersFrozen?this.console.info("timers frozen, skipping execution"):t(...r)}),i);return n}static pauseTimers(e=!1){y.__timersFrozen=!0,y.__timersFrozenPreserveContext=e}static resumeTimers(){y.__deferrals.forEach((e=>{try{e.timer()}catch(t){window.console.error("Exception while resuming timers",t,e.context)}})),y.__deferrals.splice(0),y.__timersFrozen=!1,y.__timersFrozenPreserveContext=!1}};return t=new WeakMap,i=new WeakMap,r=new WeakMap,e=new WeakSet,u=function t(i,r,n=0){return n===i.length?r():this.withExecutionContext(i[n],(()=>d(this,e,"m",t).call(this,i,r,n+1)))},h=function(){if(this.__disposedAt&&performance.now()-this.__disposedAt>=5e3)throw new Error("Execution Context held long after disposal, this is a memory leak! Check callstack and ensure cleanup of all handles!")},l(f,"ExecutionContextProviderImpl"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,p={value:f},v,{kind:"class",name:f.name,metadata:e},null,m),y=f=p.value,e&&Object.defineProperty(f,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e})})(),f.__timersFrozen=!1,f.__timersFrozenPreserveContext=!1,f.__deferrals=[],o(f,m),y=f})();const h=u;var p=i(57809),f=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},v=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},m=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},y=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},g=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let b=(()=>{var e,t;let i,r,s=[a.JW],o=[],l=h;r=class extends l{constructor(){super(...arguments),e.set(this,{}),t.set(this,void 0)}registerDelegate(e){y(this,t,"f")||g(this,t,new p.w,"f"),y(this,t,"f").add(e)}disposeDelegate(e){var i;null===(i=y(this,t,"f"))||void 0===i||i.delete(e)}on(e,t){this.addEventListener(e,t)}off(t="",i){void 0!==y(this,e,"f")&&((0,n.z3)(t)||i?(0,n.z3)(t)?g(this,e,{},"f"):i&&this.removeEventListener(t,i):delete y(this,e,"f")[t])}dispatchEvent(e,t){this.sendEvent(Object.assign(Object.assign({},t),{type:e}))}sendEvent(e){var i;(0,n.UU)(e)&&(0,n.Ed)(null==e?void 0:e.type)?(this.dispatchEventInternal(e),null===(i=y(this,t,"f"))||void 0===i||i.forEach((t=>{t.dispatchEventInternal(e)}))):this.console.error("invalid input for sendEvent",e)}addEventListener(t,i){var r;void 0===y(this,e,"f")[t]&&(y(this,e,"f")[t]=new p.w),null===(r=y(this,e,"f")[t])||void 0===r||r.add(i)}hasEventListener(t,i){var r,n;return null!==(n=null===(r=y(this,e,"f")[t])||void 0===r?void 0:r.has(i))&&void 0!==n&&n}removeEventListener(t,i){var r;null===(r=y(this,e,"f")[t])||void 0===r||r.delete(i)}dispatchEventInternal(t){this.withOptionalExecutionContext(this.getPreservedExecutionContext(t.type),(()=>{var i,r;null===(i=y(this,e,"f")[t.type])||void 0===i||i.forEach((e=>{try{e.call(this,t)}catch(i){this.console.error(`Error in event listener for '${String(t.type)}' - ${e.name} -`,i,e)}})),null===(r=y(this,e,"f")["*"])||void 0===r||r.forEach((e=>{try{e.call(this,t)}catch(i){this.console.error(`Error in broadcast event listener for '${String(t.type)}' - ${e.name} -`,i,e)}}))}))}};return e=new WeakMap,t=new WeakMap,m(r,"EventDispatcher"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=l[Symbol.metadata])&&void 0!==e?e:null):void 0;f(null,i={value:r},s,{kind:"class",name:r.name,metadata:t},null,o),r=i.value,t&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t}),v(r,o)})(),r})();var E=i(75768),w=i(2292),S=i(33694),C=i(25775),A=i(45984),T=i(7239),I=i(98152),k=i(62661),L=i(23720),P=i(47295),x=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},_=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},O=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},M=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},D=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let R=(()=>{var e,t;let i,r,s=[a.JW],o=[],l=P.t;var d=r=class extends l{constructor(){super(...arguments),this.configKey="internals/addonButtons",this.ID="AddonButtonCentral",this.buttonContainer=null,this.secondaryButtonContainer=null,this.addonList=[],this.setupDone=!1,this.onKeyRelease=e=>{var t,i,r,n,a;e.shiftKey||e.ctrlKey||"contextmenu"!==e.shortcut||(null===(i=null===(t=this.bottomSheet)||void 0===t?void 0:t.activeScreen)||void 0===i?void 0:i.addon)===this&&(null===(n=null===(r=this.bottomSheet)||void 0===r?void 0:r.activeScreen)||void 0===n?void 0:n.screenId)===d.OverviewScreen||null===(a=this.bottomSheet)||void 0===a||a.reveal(this,d.OverviewScreen,!0)},e.set(this,null),t.set(this,-1)}listAddonButtons(){return[]}getFocusButton(e=null){return(0,k.Fl)(this.player.viewCtrl.elements.btnMore)?this.player.viewCtrl.elements.btnMore:super.getFocusButton(e)}registerAddon(e){this.addonList.push(e),this.setupDone&&(this.addonList.sort(((e,t)=>e.buttonOrder-t.buttonOrder)),e.renderButtons(),e.renderSecondaryButtons(),this.updateButtonList())}register(){return!!super.register()&&(this.registerPlayerEvent(Zn.EVENT_KEYBOARD_RELEASE,this.onKeyRelease),!0)}eventSetupView(e){super.eventSetupView(e),this.buttonContainer=e.container,this.secondaryButtonContainer=e.secondaryContainer,this.addonList.sort(((e,t)=>e.buttonOrder-t.buttonOrder)),this.addonList.forEach((e=>{e.renderButtons()})),this.addonList.forEach((e=>{e.renderSecondaryButtons()})),this.setupDone=!0,this.updateButtonList(),this.updateSecondaryButtonList(),this.registerPlayerEvent(Zn.VIEWPORT_RESIZE,this.updateHeaderSize)}renderToDisplayList(t,i){t.title="",M(this,e,L.hc.createUpdatingVerticalContainer(t),"f"),this.renderListToContainer(D(this,e,"f"))}onScreenClosed(t){super.onScreenClosed(t),M(this,e,null,"f")}renderListToContainer(e){this.addonList.forEach((t=>{t.buttons.forEach((t=>{var i,r,n;const a=L.hc.renderButton(e,null!==(r=null!==(i=t.button.dataset.displayTitle)&&void 0!==i?i:t.button.title)&&void 0!==r?r:"",(()=>{const e=t.button.tabIndex;t.button.tabIndex=-2,t.button.click(),t.button.tabIndex=e}),null!==(n=t.classList.find((e=>e.startsWith("ardplayer-icon-"))))&&void 0!==n?n:"",!1,!1,"ardplayer-icon-arrowright");L.hc.copyAria(a,t.button)}))}))}updateButtonList(){if(this.setupDone&&null!==this.buttonContainer){(0,n.Ie)(this.buttonContainer);const t=[];this.addonList.forEach((e=>{e.buttons.forEach((e=>{var i;null===(i=this.buttonContainer)||void 0===i||i.appendChild(e.button),void 0!==e.heroPriority&&t.push(e)}))})),this.player.viewCtrl.singleMenuButtonIsHero&&this.buttonContainer.childElementCount<=1?this.player.viewCtrl.setMenuState(this.buttonContainer.querySelector("button"),!1):t.length>0?(t.sort(((e,t)=>{var i,r;return(null!==(i=t.heroPriority)&&void 0!==i?i:0)-(null!==(r=e.heroPriority)&&void 0!==r?r:0)})),this.player.viewCtrl.setMenuState(t[0].button,this.buttonContainer.childElementCount>1)):this.player.viewCtrl.setMenuState(null,this.buttonContainer.childElementCount>0),null!==D(this,e,"f")&&D(this,e,"f").replaceContent((e=>{this.renderListToContainer(e)}))}}updateSecondaryButtonList(){var e;if(this.setupDone&&null!==this.secondaryButtonContainer){(0,n.Ie)(this.secondaryButtonContainer);const t=[];this.addonList.forEach((e=>t.push(...e.secondaryButtons))),t.sort(((e,t)=>{var i,r;return(null!==(i=e.positionPriority)&&void 0!==i?i:0)-(null!==(r=t.positionPriority)&&void 0!==r?r:0)})),null===(e=this.secondaryButtonContainer)||void 0===e||e.append(...t.map((e=>e.button))),this.updateHeaderSize()}}updateHeaderSize(){-1===D(this,t,"f")&&M(this,t,this.player.safeIdleCallback((()=>{if(M(this,t,-1,"f"),this.secondaryButtonContainer){const e=window.getComputedStyle(this.secondaryButtonContainer),t=this.secondaryButtonContainer.offsetWidth+parseInt(e.marginLeft,10)+parseInt(e.marginRight,10);this.player.getTarget().style.setProperty("--headline-right-margin",`${t}px`)}})),"f")}dispose(){super.dispose(),-1!==D(this,t,"f")&&Zn.cancelIdleCallback(D(this,t,"f")),this.buttonContainer=null,this.secondaryButtonContainer=null,M(this,e,null,"f"),this.addonList=[]}isSupported(){return!0}};return e=new WeakMap,t=new WeakMap,O(r,"ButtonCentralSheetAddon"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=l[Symbol.metadata])&&void 0!==e?e:null):void 0;x(null,i={value:r},s,{kind:"class",name:r.name,metadata:t},null,o),d=r=i.value,t&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),r.OverviewScreen="overview",_(r,o),d=r})();var N=i(60484),U=i(45041);const V=function(e){var t="";return t+='<div class="ardplayer-controlbar" tabindex="0" data-vertical-nav-abs-pos="true"><div class="ardplayer-controlbar-hover" aria-live="off" role="tooltip" aria-atomic="true" aria-hidden="true">00:00</div><div class="ardplayer-controlbar-thumb-input"><span class="ardplayer-controlbar-seek-indicator"></span><span class="ardplayer-controlbar-buffer"></span></div></div>'};var j,B=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},F=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class H{constructor(e,t,i,r,a,s){this.player=e,this.container=t,this.handler=i,this.windowStart=r,this.windowEnd=a,this.listenerDisposers=[],this.hoverListeners=new Set,j.set(this,-1),this.confirmKeyboardSeek=()=>{B(this,j,"f")>=0&&(window.clearTimeout(B(this,j,"f")),this.player.withExecutionContext({type:"synthetic",initiator:"programmatic-seek"},(()=>{F(this,j,-1,"f"),this.hoverListeners.forEach((e=>{var t;return null===(t=e.handleTimelinePreviewEnd)||void 0===t?void 0:t.call(e,!0)})),this.handler.seekTo(this.currentPosition),this.handler.setHovered(!1,!0),this.handler.setHandleHovered(!1,!0)})))},this.rendersPOI=!1,(0,n.Ie)(t),this.addEventListener(t,"mouseenter",(e=>{this.handleEnter(e)})),this.addEventListener(t,"mousemove",(e=>{this.handleMove(e)})),this.addEventListener(t,"mouseleave",(e=>{this.handleLeave(e)})),this.addEventListener(t,"click",(e=>{this.handleClick(e)})),this.addEventListener(t,"touchstart",(e=>{this.handleEnter(e)}),{passive:!0}),this.addEventListener(t,"touchmove",(e=>{this.handleMove(e)}),{passive:!0}),this.addEventListener(t,"touchend",(e=>{this.handleLeave(e)})),this.addEventListener(t,"touchcancel",(e=>{this.handleLeave(e)})),this.addEventListener(t,"touchend",(e=>{this.handleClick(e)})),this.addEventListener(t,"touchcancel",(e=>{this.handleClick(e)}))}addEventListener(e,t,i,r){this.listenerDisposers.push((0,n.MR)(e,t,i,this.player,r))}dispose(){this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),(0,n.Ie)(this.container),this.hoverListeners.clear()}handleEnter(e){this.handler.setHovered(!0,!1)}handleMove(e){this.handler.setHovered(!0,!1)}handleLeave(e){this.handler.setHovered(!1,!1)}handleClick(e){this.handler.setHovered(!1,!1)}log(...e){this.player.log("[Timeline]",...e)}addHoverListener(e){this.hoverListeners.add(e)}removeHoverListener(e){this.hoverListeners.delete(e)}get isKeyboardSeeking(){return-1!==B(this,j,"f")}keyboardSeek(e,t=10){window.clearTimeout(B(this,j,"f")),F(this,j,this.player.safeTimeout(this.confirmKeyboardSeek,1500),"f"),this.handler.setHovered(!0,!0),this.handler.setHandleHovered(!0,!0),this.setTimeInternal(this.windowStart,this.windowEnd,this.currentPosition+(e?1:-1)*t)}isSeeking(){return this.isKeyboardSeeking||this.isDragging()}setTime(e,t,i){this.isKeyboardSeeking||this.setTimeInternal(e,t,i)}setCurrentTime(e){this.isKeyboardSeeking||this.setCurrentTimeInternal(e)}setPOI(e){}applyTheme(){}getPreviewDimensions(){return null}setPreviewContent(e){}focusElement(e,t=!0){e.dataset.noControlsOnFocus=String(!t),e.focus({preventScroll:!0});const i=this.player.viewCtrl;i&&(i.lastFocusElement=e),e.dataset.noControlsOnFocus="false"}}j=new WeakMap;var W=i(94480);class z{static preventNestedScrollForTouch(e){var t;if(C.O.isEmbedded&&(e.preventDefault(),null===z.nestedScrollResetTouch)){null===(t=window.controller)||void 0===t||t.setPreventNativeScroll(!0,"touchEvent");const e=t=>{var i;document.documentElement.removeEventListener("touchend",e,{capture:!0}),document.documentElement.removeEventListener("touchcancel",e,{capture:!0}),document.documentElement.removeEventListener("mouseup",e,{capture:!0}),window.console.log("enable native scrolling"),null===(i=window.controller)||void 0===i||i.setPreventNativeScroll(!1,"touchEvent"),z.nestedScrollResetTouch=null};z.nestedScrollResetTouch=e,window.console.log("disable native scrolling"),document.documentElement.addEventListener("touchend",e,{capture:!0}),document.documentElement.addEventListener("touchcancel",e,{capture:!0}),document.documentElement.addEventListener("mouseup",e,{capture:!0})}}}z.nestedScrollResetTouch=null;var G,$=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},Y=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class K extends H{get currentPosition(){return this.actualCurrentPosition}constructor(e,t,i,r,n,a){super(e,t,i,r,n,a),this.actualCurrentPosition=a,this.controlBarThumb=null,this.controlBarIsDragging=!1,G.set(this,0);const s=new W.U(V,e).renderTemplateAsHolder({},{bufferedBar:W.U.select(".ardplayer-controlbar-buffer"),seekIndicatorBar:W.U.select(".ardplayer-controlbar-seek-indicator"),thumbInput:W.U.select(".ardplayer-controlbar-thumb-input"),hoverLabel:W.U.select(".ardplayer-controlbar-hover")});if(null===s)throw Error("could not render template");t.appendChild(s.node),this.controlBar=s.node,this.bufferedBar=s.elements.bufferedBar,this.seekIndicatorBar=s.elements.seekIndicatorBar,this.controlBarThumbInput=s.elements.thumbInput,this.controlBarLabel=s.elements.hoverLabel,C.O.isEmbedded&&(this.addEventListener(this.controlBarThumbInput,"touchstart",z.preventNestedScrollForTouch,{capture:!0,passive:!1}),this.addEventListener(this.controlBarThumbInput,"touchmove",z.preventNestedScrollForTouch,{capture:!0,passive:!1})),this.slider=T.create(this.controlBarThumbInput,{start:Math.min(Math.max((a-r)/(n-r)*100,0),100),connect:"lower",behaviour:"snap",orientation:"horizontal",direction:"ltr",keyboardSupport:!1,range:{min:0,max:100}}),this.slider.off("update.__aria"),this.controlBarThumb=this.controlBarThumbInput.querySelector(".noUi-handle.noUi-handle-lower"),(0,U.$)(e,this.controlBarThumbInput,"progressbar",{assetType:this.player.isAudio?"Audio":"Video"}),this.controlBarThumbInput.addEventListener("touchend",(e=>{e.preventDefault()})),this.slider.on("start",(()=>{this.controlBarIsDragging=!0,this.handler.setHandleHovered(!0,!1),this.updateControlBarLabel(null)})),this.slider.on("end",(()=>{this.player.withExecutionContext({type:"synthetic",initiator:"controlbar-end"},(()=>{this.handler.setHandleHovered(!1,!1),this.controlBarIsDragging=!1;const e=this.windowEnd-this.windowStart,t=this.slider.get(!0)/100;this.handler.seekTo(t*e+this.windowStart)}))})),this.slider.on("slide",(()=>{this.controlBarIsDragging=!0})),this.slider.on("update",(()=>{this.controlBarIsDragging&&this.player.withExecutionContext({type:"synthetic",initiator:"controlbar-update"},(()=>{this.setBufferProgress(0),this.handleMove(null)}))})),(0,U.$)(this.player,this.controlBarThumb,"progressbar-thumb",{duration:0,position:0,positionlabel:"",assetType:this.player.isAudio?"Audio":"Video"})}handleEnter(e){super.handleEnter(e),this.updateControlBarLabel(e)}handleMove(e){super.handleMove(e),this.updateControlBarLabel(e)}handleLeave(e){super.handleLeave(e),this.updateControlBarLabel(e)}handleClick(e){super.handleClick(e),this.updateControlBarLabel(e)}dispose(){var e;super.dispose(),null===(e=this.slider)||void 0===e||e.destroy(),this.controlBarThumb=null}setDisabled(e){e?this.slider.disable():this.slider.enable()}focus(e){this.focusElement(this.controlBar,e)}setBufferProgress(e){this.bufferedBar.style.width=`${Math.min(Math.max(e,0),100)}%`}setCurrentTimeInternal(e){this.setTime(this.windowStart,this.windowEnd,e)}setTimeInternal(e,t,i){this.windowStart=e,this.windowEnd=t,this.actualCurrentPosition=Math.max(e,Math.min(t,i));const r=t-e;if(!this.controlBarIsDragging){const t=Math.min(Math.max((i-e)/r*100,0),100);this.slider.setHandle(0,t,!1)}(0,U.$)(this.player,this.controlBarThumb,"progressbar-thumb",{duration:r|0,position:i|0,positionlabel:(0,N.v5)(i,r),assetType:this.player.isAudio?"Audio":"Video"}),this.isKeyboardSeeking&&this.updateControlBarLabel(null)}isDragging(){return this.controlBarIsDragging}setHoverLabelHidden(e){this.controlBarLabel.style.display=e?"none":""}getPreviewDimensions(){return{width:this.controlBarLabel.offsetWidth,paddingTop:getComputedStyle(this.controlBarLabel).paddingTop}}setPreviewContent(e){var t;const i=this.controlBarLabel;null===(t=i.firstElementChild)||void 0===t||t.remove(),i.classList.toggle("ardplayer-hover-preview-content",null!=e),null!=e&&i.appendChild(e),this.updateControlBarLabelPosition()}updateControlBarLabel(e){var t,i,r,a;let s=0;const o=this.controlBar.offsetWidth;if(this.controlBarIsDragging||this.isKeyboardSeeking)s=this.slider.get(!0)/100*o;else{if(null===e)return;{const t=(0,n.ku)(e,this.controlBar);s=Math.min(Math.max(t.left,0),o)}}const l=s/o,d=(null!==(i=null===(t=this.player)||void 0===t?void 0:t.model.duration)&&void 0!==i?i:0)*l;let c=d;if(this.player.isLive){const e=null!==(a=null===(r=this.player.getCtrl())||void 0===r?void 0:r.getCurrentUnixTimeWindowStart())&&void 0!==a?a:0;e>0&&(c+=e)}this.hoverListeners.forEach((e=>{e.handleTimelinePreview(l,c,this.isKeyboardSeeking)}));const u=this.controlBarLabel.firstChild;u&&(u.textContent=this.handler.formatPointInTime(d)),this.seekIndicatorBar.style.width=100*l+"%",$(this,G,s,"f"),this.updateControlBarLabelPosition()}updateControlBarLabelPosition(){const e=this.controlBarLabel.offsetWidth,t=this.controlBar.offsetWidth;if(e>0){const i=Math.max(0,Math.min(t-e,Y(this,G,"f")-e/2));this.controlBarLabel.style.transform=`translateX(${i}px)`}}}G=new WeakMap;var q=i(14654),J=i(11198),Q=i(90732),Z=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},X=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},ee=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},te=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},ie=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let re=(()=>{var e,t,i,r,s,o,l,d,c,u,h;let p,f,v=[a.JW],m=[];f=class{constructor(a){this.viewController=a,this.attached=!1,this.embedded=!1,this.isKeyboardNavigating=!1,this.preemptNavigationInputs=!1,e.set(this,-1),t.set(this,-1),i.set(this,10),r.set(this,60),s.set(this,ie(this,i,"f")),o.set(this,null),l.set(this,null),d.set(this,void 0),c.set(this,[]),u.set(this,!1),h.set(this,!1),this.handleKeyDown=a=>{var o,c,p,f,v,m,y,g,b;let E=(null!==(o=null==a?void 0:a.key)&&void 0!==o?o:"").toLowerCase();if(ie(this,d,"f").console.info("[ARDP][KeyboardCtrl]","keydown",E),"shift"===E||"control"===E)return;const w=a.shiftKey,S=a.ctrlKey,A=ie(this,d,"f").getCtrl(),T=this.viewController.controlsVisible||this.viewController.posterFrameVisible||this.viewController.presentingExclusiveUI;if(!this.embedded&&!this.attached&&"tab"===E)return void ie(this,d,"f").safeTimeout((()=>{var e,t,i;null!==(null!==(t=null===(e=this.viewController)||void 0===e?void 0:e.lastFocusElement)&&void 0!==t?t:null)&&(this.showFocusOutlines(),(0,k.GW)(null===(i=this.viewController)||void 0===i?void 0:i.lastFocusElement))}));const I=null!==(c=document.activeElement)&&void 0!==c?c:null;if(null!==I){const e=I.nodeName.toLowerCase();if("textarea"===e||"input"===e&&"checkbox"!==I.type||!this.embedded&&!(0,n.Ee)(ie(this,d,"f").getTarget(),I))return}if(this.embedded)switch(E){case"enter":T||(null==I?void 0:I.classList.contains("ardplayer-always-visible-control"))||this.isControlbar(this.viewController.lastFocusElement)||(E="mediaplaypause",this.viewController.focusPlayPauseButton()),this.isControlbar(this.viewController.lastFocusElement)&&(-1!==ie(this,t,"f")&&(window.clearTimeout(ie(this,t,"f")),te(this,t,-1,"f")),-1!==ie(this,e,"f")&&(window.clearTimeout(ie(this,e,"f")),te(this,e,-1,"f"),te(this,s,ie(this,i,"f"),"f")),null===(p=this.viewController.timeline)||void 0===p||p.confirmKeyboardSeek(),ie(this,d,"f").isPlaying||(E="mediaplaypause"));break;case"mediafastforward":case"mediarewind":case"tab":this.showFocusOutlines(),T||(null==I?void 0:I.classList.contains("ardplayer-always-visible-control"))||this.viewController.focusControlBar(),("tab"!==E||this.isControlbar(this.viewController.lastFocusElement))&&("tab"===E?null===(f=this.viewController.timeline)||void 0===f||f.keyboardSeek(!a.shiftKey,ie(this,s,"f")):null===(v=this.viewController.timeline)||void 0===v||v.keyboardSeek("mediafastforward"===E,ie(this,r,"f")),-1===ie(this,t,"f")&&te(this,t,ie(this,d,"f").safeTimeout((()=>{te(this,s,Math.min(ie(this,r,"f"),ie(this,s,"f")+ie(this,i,"f")/2),"f"),te(this,t,-1,"f")}),1500),"f"),window.clearTimeout(ie(this,e,"f")),te(this,e,ie(this,d,"f").safeTimeout((()=>{te(this,e,-1,"f"),te(this,s,ie(this,i,"f"),"f")}),250),"f"),a.stopImmediatePropagation(),a.preventDefault())}if(null!==I&&I instanceof HTMLElement&&I.tabIndex>=0&&(T||I.classList.contains("ardplayer-always-visible-control"))&&!I.classList.contains("ardplayer-controlbar")&&("enter"===E||" "===E&&!I.classList.contains("ardplayer-button-fullscreen")))return a.stopImmediatePropagation(),a.preventDefault(),void I.click();if("escape"===E){if(ie(this,l,"f"))return a.stopImmediatePropagation(),a.preventDefault(),void ie(this,l,"f").handleBackNavigation();const e=(0,k.H1)(this.viewController.playerView);if(e)return a.stopImmediatePropagation(),a.preventDefault(),void e.click()}switch((this.embedded||"tab"!==E)&&this.viewController.setOver(),E){case"0":case"home":if(S)break;this.handleSeek(0);break;case"f8":case"mediaplaypause":case"k":case" ":if(S)break;a.stopImmediatePropagation(),a.preventDefault(),this.handlePlayPause(a);break;case"mediaplay":a.stopImmediatePropagation(),a.preventDefault(),this.viewController.posterFrameVisible?this.viewController.handlePosterFrame(a):ie(this,d,"f").playInternal();break;case"mediapause":a.stopImmediatePropagation(),a.preventDefault(),ie(this,d,"f").pauseInternal();break;case"mediastop":a.stopImmediatePropagation(),a.preventDefault(),ie(this,d,"f").stopInternal();break;case"j":case"arrowleft":if(a.stopImmediatePropagation(),a.preventDefault(),w)return void ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:a.key.toLowerCase(),shiftKey:a.shiftKey,ctrlKey:a.ctrlKey});A&&!S&&this.handleSeek(A.getCurrentTime()-Math.max(10,Math.floor(.01*A.getDuration())));break;case"l":case"arrowright":if(a.stopImmediatePropagation(),a.preventDefault(),w)return void ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:a.key.toLowerCase(),shiftKey:a.shiftKey,ctrlKey:a.ctrlKey});A&&!S&&this.handleSeek(A.getCurrentTime()+Math.max(10,Math.floor(.01*A.getDuration())));break;case"arrowup":if(a.ctrlKey&&a.shiftKey){if(te(this,h,!0,"f"),a.stopImmediatePropagation(),a.preventDefault(),this.showFocusOutlines(),!T&&(this.viewController.setOver(),null===(m=null==I?void 0:I.classList.contains("ardplayer-always-visible-control"))||void 0===m||!m))return;return void(this.preemptNavigationInputs||ie(this,d,"f").safeTimeout((()=>{(0,k.YR)(this.viewController.playerView,!1,!1,null,!0,C.O.isEmbedded)})))}case"audiovolumeup":a.stopImmediatePropagation(),a.preventDefault(),this.handleVolume(10);break;case"arrowdown":if(a.ctrlKey&&a.shiftKey){if(te(this,u,!0,"f"),a.stopImmediatePropagation(),a.preventDefault(),this.showFocusOutlines(),!T&&(this.viewController.setOver(),null===(y=null==I?void 0:I.classList.contains("ardplayer-always-visible-control"))||void 0===y||!y))return;return void(this.preemptNavigationInputs||ie(this,d,"f").safeTimeout((()=>{(0,k.YR)(this.viewController.playerView,!0,!1,null,!0,C.O.isEmbedded)})))}case"audiovolumedown":a.stopImmediatePropagation(),a.preventDefault(),this.handleVolume(-10);break;case"audiovolumemute":case"m":if(a.shiftKey&&a.ctrlKey&&a.altKey)return a.stopImmediatePropagation(),a.preventDefault(),void ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!1});S||this.handleMuteToggle();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":A&&!S&&this.handleSeek(A.getDuration()*(Number(a.key)/10));break;case"end":A&&!S&&this.handleSeek(A.getDuration());break;case"+":if(S)break;this.handleQuality(1);break;case"-":if(S)break;this.handleQuality(-1);break;case"f":if(S)break;ie(this,d,"f").setFullscreenInternal(!ie(this,d,"f").isFullscreen);break;case"tab":if(S)break;if(this.showFocusOutlines(),!this.embedded&&null!==(null!==(b=null===(g=this.viewController)||void 0===g?void 0:g.lastFocusElement)&&void 0!==b?b:null)&&!this.viewController.posterFrameVisible&&this.viewController.isOut&&!this.viewController.presentingExclusiveUI)return a.stopImmediatePropagation(),a.preventDefault(),this.viewController.setOver(),void ie(this,d,"f").safeTimeout((()=>{(0,k.GW)(this.viewController.lastFocusElement)}),500);null==this.viewController.bottomSheet.activeScreen&&(this.preemptNavigationInputs||(0,k.YR)(this.viewController.playerView,!w,!0,null,!0,C.O.isEmbedded))&&(a.stopImmediatePropagation(),a.preventDefault());break;case":":if(S)break;ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:w?".":":",shiftKey:w,ctrlKey:a.ctrlKey});break;case";":if(S)break;ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:w?",":";",shiftKey:w,ctrlKey:a.ctrlKey});break;default:ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:E,shiftKey:!1,ctrlKey:a.ctrlKey})}},this.handleKeyUp=e=>{var t,i;if(this.embedded||this.attached){const r=null!==(t=document.activeElement)&&void 0!==t?t:null;if(null!==r){const e=r.nodeName.toLowerCase();if("textarea"===e||"input"===e&&"checkbox"!==r.type||!this.embedded&&!(0,n.Ee)(ie(this,d,"f").getTarget(),r))return}switch((null!==(i=null==e?void 0:e.key)&&void 0!==i?i:"").toLowerCase()){case" ":e.preventDefault();break;case"arrowdown":ie(this,u,"f")&&ie(this,h,"f")&&ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!0}),te(this,u,!1,"f");break;case"arrowup":ie(this,u,"f")&&ie(this,h,"f")&&ie(this,d,"f").loop.dispatchEvent(Zn.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!0}),te(this,h,!1,"f")}}},te(this,d,a.player,"f"),this.embedded=C.O.isEmbedded;const p=e=>{const t=[...e.ctrlKey?["ctrl"]:[],...e.altKey?["alt"]:[],...e.shiftKey?["shift"]:[]];ie(this,d,"f").withExecutionContext({type:"keydown",initiator:t.length>0?`${e.code}(${t.join("-")})`:e.code},(()=>{this.handleKeyDown(e)}))};document.addEventListener("keydown",p),ie(this,c,"f").push((()=>{document.removeEventListener("keydown",p)}));const f=e=>{ie(this,d,"f").withExecutionContext({type:"keyup",initiator:e.code},(()=>{this.handleKeyUp(e)}))};if(document.addEventListener("keyup",f),ie(this,c,"f").push((()=>{document.removeEventListener("keyup",f)})),C.O.isEmbedded){te(this,o,new Q.W(ie(this,d,"f")),"f"),ie(this,o,"f").addEventListener("NavControl.backPressed",(()=>{var e;null===(e=ie(this,l,"f"))||void 0===e||e.handleBackNavigation()}));const e=()=>{var e;null===(e=window.controller)||void 0===e||e.updateStateBool("willHandleBackNav",!1),te(this,l,null,"f")};ie(this,d,"f").loop.addEventListener("Player.RECONFIGURE",e),ie(this,c,"f").push((()=>{ie(this,d,"f").loop.removeEventListener("Player.RECONFIGURE",e)}))}}attach(){this.attached=!0}detach(){this.attached=!1}showFocusOutlines(){var e,t;null===(t=null===(e=this.viewController)||void 0===e?void 0:e.playerView)||void 0===t||t.classList.add("ardplayer-show-focus-outlines"),this.isKeyboardNavigating=!0}handlePlayPause(e){this.viewController.posterFrameVisible?this.viewController.handlePosterFrame(e):this.viewController.handlePlayPauseBtn(e)}handleSeek(e){const t=ie(this,d,"f").getCtrl();if(!t)return;const i=t.getCurrentTime();e=Math.min(Math.max(e,0),t.getDuration());const r=this.viewController,n={seekto:e,current:i};e>i?(ie(this,d,"f").pixelController.triggerCustomPixel(S.k.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,n),ie(this,d,"f").pixelController.triggerCustomPixel(S.k.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,n),r.showAnimation("seekfwd")):(ie(this,d,"f").model.mediaCollection.isLive?ie(this,d,"f").pixelController.triggerCustomPixel(S.k.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,n):ie(this,d,"f").pixelController.triggerCustomPixel(S.k.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND,!1,n),ie(this,d,"f").pixelController.triggerCustomPixel(S.k.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,n),r.showAnimation("seekback")),ie(this,d,"f").seekToInternal(e)}handleVolume(e){if(0!==e){const t=Math.max(Math.min(ie(this,d,"f").getVolume()+e,100),0),i=t<1;ie(this,d,"f").pixelController.triggerCustomPixel(S.k.IA_KEY_VOLUME_CHANGE,!0,{volume:t/100,muted:i}),ie(this,d,"f").isMuted!==i&&(ie(this,d,"f").pixelController.triggerPixel(i?S.k.IA_KEY_VOLUME_MUTE:S.k.IA_KEY_VOLUME_UNMUTE),ie(this,d,"f").setMutedInternal(i,!0,!1,!0,!0)),ie(this,d,"f").setVolumeInternal(t,!0)}}handleMuteToggle(){const e=ie(this,d,"f").getVolume(),t=!ie(this,d,"f").isMuted;ie(this,d,"f").pixelController.triggerCustomPixel(S.k.IA_KEY_VOLUME_CHANGE,!0,{volume:e/100,muted:t}),t?ie(this,d,"f").pixelController.triggerPixel(S.k.IA_KEY_VOLUME_MUTE):ie(this,d,"f").pixelController.triggerPixel(S.k.IA_KEY_VOLUME_UNMUTE),ie(this,d,"f").setMutedInternal(t,!0)}handleQuality(e){const t=ie(this,d,"f").qualityList;if(t.length<=1)return;const i=ie(this,d,"f").currentQuality,r=ie(this,d,"f").qualityList.findIndex((e=>e.level===i));if(-1===r)return;let n=i;e>0?r<t.length-1&&(n=t[r+1].level):r>0&&(n=t[r-1].level),n!==i&&(ie(this,d,"f").pixelController.triggerQualityChanged(S.k.IA_KEY_QUALITY_CHANGE),ie(this,d,"f").switchQuality(n))}setBackNavigationHandler(e){var t;te(this,l,e,"f"),C.O.isEmbedded&&(null===(t=window.controller)||void 0===t||t.updateStateBool("willHandleBackNav",!0))}removeBackNavigationHandler(e){var t;ie(this,l,"f")===e&&(te(this,l,null,"f"),C.O.isEmbedded&&(null===(t=window.controller)||void 0===t||t.updateStateBool("willHandleBackNav",!1)))}isControlbar(e){return null!==e&&("ardplayer-controlbar"===e.className||"progress"===e.getAttribute("role")||"slider"===e.getAttribute("role"))}dispose(){var i,r;this.detach(),ie(this,c,"f").forEach((e=>{e()})),null===(i=ie(this,o,"f"))||void 0===i||i.dispose(),te(this,o,null,"f"),C.O.isEmbedded&&(null===(r=window.controller)||void 0===r||r.updateStateBool("willHandleBackNav",!1)),te(this,l,null,"f"),window.clearTimeout(ie(this,t,"f")),window.clearTimeout(ie(this,e,"f")),delete this.player,delete this.viewController}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,r=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,ee(f,"KeyboardPlayerController"),(()=>{const e="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;Z(null,p={value:f},v,{kind:"class",name:f.name,metadata:e},null,m),f=p.value,e&&Object.defineProperty(f,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:e}),X(f,m)})(),f})();var ne=i(29894),ae=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},se=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},oe=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},le=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},de=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let ce=(()=>{var e,t,i,r,s,o,l,d,c,u,h,p,f,v,m,y,g,b,E,w,A,T,I,L;let P,x,_=[a.JW],O=[],M=q.U;var D=x=class extends M{get isSticky(){return le(this,t,"f")}set isSticky(e){de(this,t,e,"f")}get supportsFullscreen(){return!1}static supportsViewForConfigOf(e){return!1}constructor(a,k){var P,x;super(),this.player=a,this.timeline=null,e.set(this,null),this.addonButtonsVisible=!0,t.set(this,!1),this.BASE_ID="ViewController",i.set(this,[]),r.set(this,-1),s.set(this,[]),o.set(this,-1),l.set(this,-1),d.set(this,-1),c.set(this,-1),u.set(this,!1),this.bottomSheetOpened=!1,this.controlsVisible=!1,this.isOut=!0,h.set(this,new Set),p.set(this,new Set),f.set(this,new Set),this.setOver=()=>{this.forcedControlsHidden||(this.isOut=!1,this.posterFrameVisible||this.showControls())},v.set(this,-1),m.set(this,""),this.setOut=(e=!1)=>{var t,i,r,n,a,s,o,l;if(this.forcedOver&&!this.forcedControlsHidden)return this.log("setOut preempted: forcedOver"),void de(this,m,"","f");if(this.isOut=!0,!this.forcedControlsHidden&&(!e&&!(null===(i=null===(t=this.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.isPlaying())||null!==(n=null===(r=this.timeline)||void 0===r?void 0:r.isSeeking())&&void 0!==n&&n||this.bottomSheetOpened||!this.controlsVisible||this.forcedControlsVisible)){this.setOutDelayed();const t=[e||(null===(s=null===(a=this.player)||void 0===a?void 0:a.getCtrl())||void 0===s?void 0:s.isPlaying())?"":"playing ",null!==(l=null===(o=this.timeline)||void 0===o?void 0:o.isSeeking())&&void 0!==l&&l?"ctrlBarDragging ":"",this.bottomSheetOpened?"bottomSheetOpened ":"",this.controlsVisible?"":"controlsVisible ",this.forcedControlsVisible?`forcedControlsVisible (${[...le(this,h,"f")].join(", ")}) `:""].join("");le(this,m,"f")!==t&&(de(this,m,t,"f"),this.log("setOut prevented - ",t))}else this.log(`setOut! forcedHidden clients: ${[...le(this,p,"f")].join(", ")}`),de(this,m,"","f"),this.controlsVisible=!1,this.playerView.classList.remove("ardplayer-show-controls"),this.player.loop.dispatchEvent(Zn.EVENT_CTRLBAR_FADEOUT,{})},y.set(this,null),g.set(this,{handleBackNavigation:()=>{null!==le(this,y,"f")&&this.stopPresentingExclusiveUI(le(this,y,"f"))}}),this.dvrState={enabled:!1,isLive:!0,window:-1,enabledAndRequested:!1,showDVRTimeAsWallClock:!1},b.set(this,-1),this.handlePlayPauseBtn=e=>{var t,i;const r=null===(t=this.player)||void 0===t?void 0:t.getCtrl();this.player&&null!==r?r.isPlaying()?((e instanceof MouseEvent||"undefined"!=typeof TouchEvent&&e instanceof TouchEvent)&&this.player.pixelController.triggerPixel(S.k.IA_MOUSE_PAUSE_BUTTON),this.player.pixelController.triggerPixel(S.k.SUPER_PAUSE),r.pause(),this.showAnimation("pause"),this.showPlayBtn()):((e instanceof MouseEvent||"undefined"!=typeof TouchEvent&&e instanceof TouchEvent)&&this.player.pixelController.triggerPixel(S.k.IA_MOUSE_PLAY_BUTTON),this.player.pixelController.triggerPixel(S.k.SUPER_PLAY),r.play(),this.showAnimation("play"),this.showPauseBtn()):null===(i=this.player)||void 0===i||i.playInternal()},this.posterFrameVisible=!1,this.handlePosterFrame=e=>{e.stopImmediatePropagation(),e.preventDefault(),this.player&&(this.player.loop.dispatchEvent(Zn.POSTER_FRAME_PRESSED,{}),this.handleInitialPlay(),e instanceof KeyboardEvent?this.player.pixelController.triggerPixel(S.k.IA_KEY_PLAY):this.player.pixelController.triggerPixel(S.k.IA_MOUSE_PLAY_VIEWPORT),this.player.pixelController.triggerPixel(S.k.SUPER_PLAY),this.player.playInternal())},this.lastFocusElement=null,E.set(this,-1),this.focusHandler=e=>{var t;if(this.hotfixActiveElement(e),(0,n.Ee)(this.playerView,document.activeElement)){if(document.activeElement===this.playerView)return void(this.posterFrameVisible?this.lastFocusElement=this.elements.btnPlayPausePosterframe:this.lastFocusElement=null);this.lastFocusElement=document.activeElement,(!C.O.isEmbedded||C.O.isIOSDevice||C.O.isAndroidTV)&&"true"!==(null===(t=this.lastFocusElement)||void 0===t?void 0:t.dataset.noControlsOnFocus)&&(clearTimeout(le(this,E,"f")),de(this,E,this.player.safeTimeout((()=>{this.setOver()})),"f")),this.keyboardCtrl.attach()}},this.blurHandler=e=>{this.hotfixActiveElement(e),(0,n.Ee)(this.playerView,this.lastFocusElement)||(this.lastFocusElement=null,this.setOutDelayed(),this.keyboardCtrl.detach())},this.mediaCanvas=null,w.set(this,[]),A.set(this,void 0),T.set(this,null),I.set(this,!1),this.handleResize=()=>{this.applyMediaQueries()},this.listenerDisposers=[],this[L]="ViewController",this.restoreFromParcel(k),this.playerView=this.player.getTarget();const _=this.playerView,O=[];_.classList.forEach((e=>{e.startsWith("ardplayer-")&&O.push(e)})),this.log("removing state classes",O),_.classList.remove(...O),_.setAttribute("style",""),O.includes("ardplayer-state-audio-sticky")&&document.documentElement.classList.remove("ardplayer-sticky-visible"),this.elements=this.constructBaseDOM(a,_,this.templateLookupDefinition()),_.classList.add("ardplayer","ardplayer-init"),_.dataset.initiatorName="player-container",_.tabIndex=-2,this.player.model.mediaCollection.isLive&&(_.classList.add("ardplayer-state-live"),this.player.model.mediaCollection.isDvrEnabled||_.classList.add("ardplayer-state-live-nodvr"));const M=a.model.mediaCollection.meta.ciBranding;if(M&&(null!==(P=M.appliesToOnDemand)&&void 0!==P&&P||this.player.model.mediaCollection.isLive)&&(0,n.Ed)(M.backgroundColor)&&(_.classList.add("ardplayer-state-ci-branding"),_.style.setProperty("--ci-color",M.backgroundColor),(0,n.Ed)(M.textColor)&&_.style.setProperty("--ci-text-color",M.textColor),_.classList.toggle("ardplayer-state-ci-branding-color-bleed",null===(x=M.backgroundColorBleed)||void 0===x||x),_.classList.toggle("ardplayer-state-ci-dark","dark"===M.preferredColorScheme)),C.O.isEmbedded&&_.classList.add("ardplayer-state-embedded"),C.O.isAndroidTV&&_.classList.add("ardplayer-android-tv"),C.O.isFrame&&_.classList.add("ardplayer-framed"),C.O.isOldWebkit&&_.classList.add("ardplayer-old-webkit"),C.O.browserIsSafari&&_.classList.add("ardplayer-safari"),C.O.isMobileDevice)_.classList.add("ardplayer-state-mobile");else try{const e=document.createElement("video");e.volume=.42,.42!==e.volume&&_.classList.add("ardplayer-state-mobile")}catch(e){_.classList.add("ardplayer-state-mobile")}this.bottomSheet=this.getBottomSheetManager(),this.keyboardCtrl=new re(this),this.observeTabIndex()}continueConstructingAfterDOMComplete(){this.applyLightMode(),this.createPosterFrame(),"function"==typeof ResizeObserver?(de(this,A,new ResizeObserver((()=>{this.handleResize()})),"f"),de(this,T,document.createElement("div"),"f"),le(this,T,"f").className="ardplayer-safearea-canary",this.playerView.appendChild(le(this,T,"f")),le(this,A,"f").observe(le(this,T,"f"))):window.addEventListener("resize",this.handleResize),this.registerMediaQuery(this.playerView,this.playerBreakpoints),requestAnimationFrame((()=>{this.playerView.classList.remove("ardplayer-init")}));const t=this.player.Extensions.core;"release"===t.verb&&/^\d+\.\d+\.\d+(-\d+)?$/.test(t.version)||(de(this,e,document.createElement("div"),"f"),le(this,e,"f").className="ardplayer-prerelease-warning",le(this,e,"f").innerText=`${t.version} - ${t.verb} - ${t.rev}`,this.playerView.append(le(this,e,"f")))}get executionContextProvider(){return this.player}enterInteractiveErrorState(){return!1}dispose(t=!1){var i,n,a,d,c,u,h,p,f;if(this.mediaCanvas=null,null===(i=this.elements.viewport)||void 0===i||i.remove(),null===(n=le(this,T,"f"))||void 0===n||n.remove(),de(this,T,null,"f"),null===(a=le(this,e,"f"))||void 0===a||a.remove(),de(this,e,null,"f"),window.removeEventListener("resize",this.handleResize),null===(d=this.keyboardCtrl)||void 0===d||d.dispose(),null===(c=this.bottomSheet)||void 0===c||c.dispose(),clearTimeout(le(this,b,"f")),clearTimeout(le(this,v,"f")),clearTimeout(le(this,E,"f")),clearTimeout(le(this,o,"f")),clearTimeout(le(this,l,"f")),de(this,s,[],"f"),window.cancelAnimationFrame(le(this,r,"f")),de(this,r,-1,"f"),this.stopObservingTabIndex(),this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),this.playerView&&!t){const e=[],t=[];if(le(this,w,"f").forEach((e=>{e.definitions.forEach((e=>t.push(e.className)))})),this.playerView.classList.forEach((i=>{i.startsWith("ardplayer-")&&!t.includes(i)&&e.push(i)})),this.log("removing non-responsive state classes",e),this.playerView.classList.remove(...e),null!==(p=null===(h=null===(u=this.player)||void 0===u?void 0:u.errorCtrl)||void 0===h?void 0:h.criticalError)&&void 0!==p&&p){if(le(this,A,"f")){const e=le(this,A,"f"),t=()=>{e.disconnect(),this.player.loop.removeEventListener("Player.EVENT_DISPOSING",t),this.player.loop.removeEventListener("Player.RECONFIGURE",t)};this.player.loop.addEventListener("Player.EVENT_DISPOSING",t),this.player.loop.addEventListener("Player.RECONFIGURE",t)}}else null===(f=le(this,A,"f"))||void 0===f||f.disconnect(),de(this,A,void 0,"f"),e.includes("ardplayer-state-audio-sticky")&&document.documentElement.classList.remove("ardplayer-sticky-visible")}}get ID(){return this.BASE_ID+"_"+this.CONTROLLER_NAME}writeToParcel(e,t){super.writeToParcel(e,t),this.bottomSheet.writeToParcel(e,t),e[this.BASE_ID]=this.parcelBaseData(t)}restoreFromParcel(e){e&&(super.restoreFromParcel(e),this.player.safeTimeout((()=>{var t;null!=e[this.BASE_ID]&&this.restoreParceledBaseData(e[this.BASE_ID]),null===(t=this.bottomSheet)||void 0===t||t.restoreFromParcel(e)})))}parcelData(){return null}parcelBaseData(e){return{isKeyboardNavigating:this.keyboardCtrl.isKeyboardNavigating,zombies:e?[]:le(this,i,"f")}}restoreParceledData(e){}restoreParceledBaseData(e){var t;de(this,i,e.zombies,"f"),e.isKeyboardNavigating&&(null===(t=this.keyboardCtrl)||void 0===t||t.showFocusOutlines())}addUIZombie(e){le(this,i,"f").push(e),this.playerView.append(e.element),e.reApplyState()}removeUIZombie(e){de(this,i,le(this,i,"f").filter((t=>t!==e)),"f"),this.playerView.removeChild(e.element)}constructBaseDOM(e,t,r){const n=this.templateLoader().renderTemplateInElementAsHolder({PC:e.model.playerConfig,MC:e.model.mediaCollection},r,!1,t);if(le(this,i,"f").length>0){const e=[];le(this,i,"f").forEach((i=>{e.push(i.element),t.append(i.element),i.reApplyState()})),de(this,i,[],"f"),this.player.loop.addEventListener(Zn.SETUP_VIEW_COMPLETE,(()=>{e.forEach((e=>{e.remove()}))}))}return n.elements}marquee(e){return!(null==e?void 0:e.parentElement)||le(this,s,"f").includes(e)?null:(e.parentElement.classList.add("ardplayer-marquee-container"),e.classList.add("ardplayer-marquee"),e.style.transform="none",e.style.opacity="1",le(this,s,"f").push(e),{dispose:()=>{e.classList.contains("ardplayer-marquee")&&e.classList.remove("ardplayer-marquee");const t=le(this,s,"f").indexOf(e);t>=0&&le(this,s,"f").splice(t,1),e.style.transform="none",e.style.opacity="1"},pause:()=>{e.dataset.marqueePaused="true"},resume:()=>{delete e.dataset.marqueePaused}})}stopMarquee(){-1!==le(this,r,"f")&&(window.cancelAnimationFrame(le(this,r,"f")),de(this,r,-1,"f"))}startMarquee(){var e;this.stopMarquee();const t=.03;for(const t of le(this,s,"f"))t.dataset.marqueeText!==t.textContent&&(t.style.transform="translate3d(0, 0, 0)",t.style.opacity="1",t.dataset.marqueeAlpha="1",t.dataset.marqueeOffset=String(-75),t.dataset.marqueeText=null!==(e=t.textContent)&&void 0!==e?e:""),t.dataset.marqueeFitting=(null==t?void 0:t.scrollWidth)>(null==t?void 0:t.offsetWidth)?"false":"true";let i=performance.now();const n=e=>{var a,o,l,d;if(-1===le(this,r,"f"))return;de(this,r,-1,"f");const c=e-i;if(i=e,c>0)for(const e of le(this,s,"f")){if("true"===e.dataset.marqueePaused||"true"===e.dataset.marqueeFitting)continue;const i=e.scrollWidth,r=null!==(o=null===(a=e.parentElement)||void 0===a?void 0:a.offsetWidth)&&void 0!==o?o:0;let n=parseFloat(null!==(l=e.dataset.marqueeAlpha)&&void 0!==l?l:"1"),s=parseFloat(null!==(d=e.dataset.marqueeOffset)&&void 0!==d?d:"0");s+=c*t,(s>i||n<=0)&&(s=-99),i-s<=.6*r?(n=Math.max(0,n-c/800),e.style.opacity!==String(n)&&(e.style.opacity=String(n)),e.dataset.marqueeAlpha=String(n)):n<1&&(n=Math.min(1,n+c/800),e.style.opacity!==String(n)&&(e.style.opacity=String(n)),e.dataset.marqueeAlpha=String(n));const u=`translate3d(${-Math.max(0,s)}px, 0, 0)`;e.style.transform!==u&&(e.style.transform=u),e.dataset.marqueeOffset=String(s)}de(this,r,window.requestAnimationFrame(n),"f")};de(this,r,window.requestAnimationFrame(n),"f")}getBottomSheetManager(){return J.i.getImpl(this.player,this.playerView,(()=>{this.setOver(),this.bottomSheetOpened=!0,this.updateAccessibleVisibility()}),(()=>{this.bottomSheetOpened=!1,this.updateAccessibleVisibility(),this.setOver()}))}applyLightMode(){var e;this.playerView.classList.toggle("ardplayer-light-mode",this.player.model.lightMode),null===(e=this.timeline)||void 0===e||e.applyTheme()}showPlayAgain(){this.playerView.classList.add("ardplayer-state-completed")}hidePlayAgain(){this.playerView.classList.remove("ardplayer-state-completed")}showPlayBtn(){this.elements.btnPlayPause.forEach((e=>{e.classList.remove("ardplayer-icon-pause"),e.classList.add("ardplayer-icon-play"),(0,U.$)(this.player,e,"play")}))}showPauseBtn(){this.elements.btnPlayPause.forEach((e=>{e.classList.add("ardplayer-icon-pause"),e.classList.remove("ardplayer-icon-play"),(0,U.$)(this.player,e,"pause")}))}setLiveInitialBufferState(){if(this.player.isLive&&this.player.model.mediaCollection.isDvrEnabled&&!this.playerView.classList.contains("ardplayer-state-live-initial-buffer")){this.playerView.classList.toggle("ardplayer-state-live-initial-buffer",!0),this.info("entering initial buffer ui state");let e=null;const t=t=>{this.info(`leaving initial buffer ui state: ${t.type}`),null==e||e(),this.playerView.classList.toggle("ardplayer-state-live-initial-buffer",!1)};e=()=>{this.player.loop.removeEventListener(Zn.EVENT_INITIAL_FRAME,t),this.player.loop.removeEventListener(Zn.EVENT_AUTOPLAY_STREAM_PROHIBITED,t),this.setOver();const i=this.listenerDisposers.findIndex((t=>t===e));i>=0&&(this.listenerDisposers[i]=null)},this.listenerDisposers.push(e),this.registerPlayerEvent(Zn.EVENT_INITIAL_FRAME,t),this.registerPlayerEvent(Zn.EVENT_AUTOPLAY_STREAM_PROHIBITED,t)}}showBufferingIndicator(){var e;(null===(e=this.player.model)||void 0===e?void 0:e.time)>0?-1===le(this,o,"f")&&de(this,o,this.player.safeTimeout((()=>{de(this,o,-1,"f"),this.playerView.classList.add("ardplayer-state-buffering"),this.checkBufferingIndicator()}),150),"f"):(this.playerView.classList.add("ardplayer-state-buffering"),this.checkBufferingIndicator())}checkBufferingIndicator(){var e,t,i,r,n,a;if(window.clearTimeout(le(this,l,"f")),null===(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.isSeeking())||void 0===t||t)de(this,d,-1,"f"),de(this,c,-1,"f");else{if(le(this,c,"f")>0&&le(this,d,"f")>0&&1e3*((null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.getCurrentTime())&&void 0!==r?r:0)-le(this,c,"f"))>.9*(performance.now()-le(this,d,"f")))return void this.hideBufferingIndicator();de(this,c,null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.getCurrentTime())&&void 0!==a?a:-1,"f"),de(this,d,performance.now(),"f")}de(this,l,this.player.safeTimeout((()=>{this.checkBufferingIndicator()}),600),"f")}hideBufferingIndicator(){window.clearTimeout(le(this,o,"f")),de(this,o,-1,"f"),window.clearTimeout(le(this,l,"f")),de(this,l,-1,"f"),de(this,d,-1,"f"),de(this,c,-1,"f"),this.playerView.classList.remove("ardplayer-state-buffering")}get isPiP(){return le(this,u,"f")}setIsPiP(e){de(this,u,e,"f"),C.O.isEmbedded?(this.playerView.classList.toggle("ardplayer-state-native-pip",e),e||(this.controlsVisible?this.player.loop.dispatchEvent(Zn.EVENT_CTRLBAR_FADEIN,{}):this.setOver())):(this.playerView.classList.toggle("ardplayer-state-pip",e),this.toggleForceControlsVisible(this.ID,e),e||this.setOutDelayed())}toggleUIElementHidden(e,t){switch(e){case"BackButton":this.toggleTitleWidgetHidden(t);break;case"FullscreenButton":this.playerView.classList.toggle("ardplayer-no-fullscreen",t)}}showControls(){var e;this.bottomSheetOpened||(this.controlsVisible||(this.controlsVisible=!0,this.playerView.classList.add("ardplayer-show-controls"),null===(e=this.player)||void 0===e||e.loop.dispatchEvent(Zn.EVENT_CTRLBAR_FADEIN,{})),this.setOutDelayed())}toggleForceOver(e,t){t?(le(this,f,"f").add(e),this.setOver()):(le(this,f,"f").delete(e),this.setOutDelayed()),this.log(`forceOver clients: ${[...le(this,h,"f")].join(", ")}`)}get forcedOver(){return le(this,f,"f").size>0}setOutDelayed(){clearTimeout(le(this,v,"f")),de(this,v,this.player.safeTimeout(this.setOut,D.UI_AUTOHIDE_DELAY),"f")}toggleForceControlsVisible(e,t){const i=le(this,h,"f").size;t?(le(this,h,"f").add(e),this.setOver()):(le(this,h,"f").delete(e),this.setOutDelayed()),i!==le(this,h,"f").size&&this.log(`forceControlsVisible clients: ${[...le(this,h,"f")].join(", ")}`)}get forcedControlsVisible(){return le(this,h,"f").size>0}toggleForceControlsHidden(e,t){t?(le(this,p,"f").add(e),this.setOut(!0)):(le(this,p,"f").delete(e),this.setOver()),this.playerView.classList.toggle("ardplayer-force-hide-controls",le(this,p,"f").size>0),this.log(`forceControlsHidden clients: ${[...le(this,p,"f")].join(", ")}`)}get forcedControlsHidden(){return le(this,p,"f").size>0}get presentingExclusiveUI(){return null!==le(this,y,"f")}presentExclusiveUI(e){null!==le(this,y,"f")&&this.stopPresentingExclusiveUI(le(this,y,"f")),de(this,y,e,"f"),this.playerView.classList.add("ardplayer-state-exclusive-ui"),this.toggleForceControlsHidden("exclusiveUI-"+e.ID,!0),this.keyboardCtrl.setBackNavigationHandler(le(this,g,"f")),e.presentExclusiveOverlay()}stopPresentingExclusiveUI(e){le(this,y,"f")===e&&(this.toggleForceControlsHidden("exclusiveUI-"+e.ID,!1),this.playerView.classList.remove("ardplayer-state-exclusive-ui"),this.keyboardCtrl.removeBackNavigationHandler(le(this,g,"f")),e.relinquishExclusiveOverlay(),de(this,y,null,"f"))}handleBackNavigation(){null!==le(this,y,"f")&&this.stopPresentingExclusiveUI(le(this,y,"f"))}onDVRCallback(e,t,i){var r;if(!this.player||isNaN(t))return;const n=this.dvrState.isLive;this.dvrState.enabled=e,this.dvrState.isLive=i,this.dvrState.window=t,this.dvrState.enabledAndRequested=e&&this.player.model.mediaCollection.isDvrEnabled,this.playerView.classList.toggle("ardplayer-state-live-nodvr",this.player.model.mediaCollection.isLive&&!this.dvrState.enabledAndRequested),this.dvrState.enabledAndRequested&&(-1!==le(this,b,"f")&&clearTimeout(le(this,b,"f")),n!==i&&!i&&(null===(r=this.player.getCtrl())||void 0===r?void 0:r.isPlaying())&&de(this,b,this.player.safeTimeout((()=>{var e,t,i;de(this,b,-1,"f"),(null===(t=null===(e=this.player)||void 0===e?void 0:e.getCtrl())||void 0===t?void 0:t.isSeeking())||null===(i=this.player)||void 0===i||i.pixelController.triggerPixel(S.k.SUPER_DVR_ACTIVE,!1)}),500),"f"))}get posterframeIsTransparent(){var e,t;return!!this.player&&(null!==(e=this.player.model.playerConfig.web.disablePosterImage)&&void 0!==e&&e&&(!this.player.isAudio||null!==(t=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==t&&t))}createPosterFrame(){var e;if(!this.player)return;const t=this.player.model;this.posterframeIsTransparent&&this.playerView.classList.add("ardplayer-posterframe-transparent"),this.preparePosterBackdrop(),null!==(e=t.autoplay)&&void 0!==e&&e||this.showPosterFrame()}showPosterFrame(){this.posterFrameVisible||(this.shouldRenderPosterframe&&(this.posterframeIsTransparent||this.setPosterImageType(this.POSTER_IMAGE_TYPE_DEFAULT),this.onClick(this.playerView.querySelector(".ardplayer-posterframe"),this.handlePosterFrame),this.playerView.classList.add("ardplayer-show-posterframe")),this.playerView.classList.add("ardplayer-state-inactive"),this.posterFrameVisible=!0,this.updateAccessibleVisibility())}setPosterImageType(e){var t,i,r,n;(0,ne.Lm)(this.elements.posterFramePicture,e,this.player.model);const a=(0,ne.t_)([e],this.player.model);a.title=null!==(r=null!==(t=a.title)&&void 0!==t?t:null===(i=this.player)||void 0===i?void 0:i.model.mediaCollection.meta.title)&&void 0!==r?r:"",a.alt=null!==(n=a.alt)&&void 0!==n?n:a.title,(0,U.$)(this.player,this.elements.posterFrameImage,"posterframe",a)}hidePosterFrame(){this.posterFrameVisible&&(this.shouldRenderPosterframe&&this.focusPlayPauseButton(),this.playerView.classList.remove("ardplayer-state-inactive","ardplayer-show-posterframe"),this.posterFrameVisible=!1,this.updateAccessibleVisibility(),this.setOutDelayed())}createPosterBackdropDeferred(){let e=null;const t=t=>{(t.type===Zn.EVENT_INITIAL_FRAME||t.type===Zn.REMOTE_PLAYBACK_CHANGED&&t.isRemote)&&(null==e||e(),this.createPosterBackdrop())};e=()=>{this.player.loop.removeEventListener(Zn.EVENT_INITIAL_FRAME,t),this.player.loop.removeEventListener(Zn.REMOTE_PLAYBACK_CHANGED,t);const i=this.listenerDisposers.findIndex((t=>t===e));i>=0&&(this.listenerDisposers[i]=null)},this.listenerDisposers.push(e),this.player.loop.addEventListener(Zn.EVENT_INITIAL_FRAME,t),this.player.loop.addEventListener(Zn.REMOTE_PLAYBACK_CHANGED,t)}createPosterBackdrop(){var e,t,i,r;const n=this.player.isAudio?"audio":"preview";(0,ne.Lm)(this.elements.posterPicture,n,this.player.model);const a=this.elements.posterImage;if(a){a.crossOrigin="anonymous";const s=(0,ne.t_)([n],this.player.model);s.title=null!==(i=null!==(e=s.title)&&void 0!==e?e:null===(t=this.player)||void 0===t?void 0:t.model.mediaCollection.meta.title)&&void 0!==i?i:"",s.alt=null!==(r=s.alt)&&void 0!==r?r:s.title,(0,U.$)(this.player,a,"posterbackdrop",s)}}handleInitialPlay(){var e;if(this.hidePosterFrame(),!this.player.isAudio&&(this.setLiveInitialBufferState(),!this.posterframeIsTransparent)){this.elements.posterBackdropView.style.display="block";const e=()=>{var t;null===(t=this.player)||void 0===t||t.loop.removeEventListener(Zn.EVENT_INITIAL_FRAME,e),this.elements.posterBackdropView.style.display=""};this.player.loop.addEventListener(Zn.EVENT_INITIAL_FRAME,e)}null===(e=this.player)||void 0===e||e.pixelController.triggerTrackingPixelInitialPlay(),this.showPauseBtn()}focusControlBar(e=!0){var t;null===(t=this.timeline)||void 0===t||t.focus(e)}focusPlayPauseButton(){(0,n.Ee)(this.playerView,document.activeElement)&&this.player.safeTimeout((()=>{(0,k.GW)(this.elements.btnPlayPause.find((e=>e.scrollWidth>0||e.scrollHeight>0)))}))}observeTabIndex(){document.addEventListener("focus",this.focusHandler,!0),document.addEventListener("blur",this.blurHandler,!0)}stopObservingTabIndex(){document.removeEventListener("focus",this.focusHandler,!0),document.removeEventListener("blur",this.blurHandler,!0)}hotfixActiveElement(e){var t;if(void 0!==(null==e?void 0:e.target))try{null!==(t=document.activeElement)&&void 0!==t||(document.activeElement=e.target===document?null:e.target)}catch(e){}}setMediaCanvas(e){this.removeMediaCanvas(),null!=e&&(this.mediaCanvas=e,this.elements.viewport.appendChild(e),this.mediaCanvas.classList.add("ardplayer-mediacanvas"))}removeMediaCanvas(){null!==this.mediaCanvas&&(this.mediaCanvas.remove(),this.mediaCanvas=null)}get playerBreakpoints(){return[{maxWidth:413,className:"ardplayer-xs"},{maxWidth:474,className:"ardplayer-s"},{maxWidth:850,className:"ardplayer-m"},{minWidth:1441,className:"ardplayer-xl"}]}get playerFillsWindow(){return!1}registerMediaQuery(e,t,i){var r;le(this,w,"f").push({target:e,definitions:t,measureTarget:i}),null===(r=le(this,A,"f"))||void 0===r||r.observe(null!=i?i:e),this.applyMediaQueries()}applyMediaQueries(){var e;le(this,I,"f")||(de(this,I,!0,"f"),null===(e=this.player)||void 0===e||e.safeTimeoutWithContext({type:"synthetic",initiator:"media-query"},(()=>{var e;de(this,I,!1,"f"),null===(e=this.player)||void 0===e||e.loop.dispatchEvent(Zn.VIEWPORT_RESIZE,{})})));const t=(this.playerFillsWindow||this.player.isFullscreen)&&C.O.isEmbedded?(0,n.Pj)(this.playerView):{top:0,left:0,right:0,bottom:0},i=t.left+t.right,r=t.top+t.bottom;le(this,w,"f").forEach((e=>{var n,a;const s=e.target,o=Math.max(0,(this.playerFillsWindow&&e.target===this.playerView&&window.parent===window?window.outerWidth-t.left-t.right:(null!==(n=e.measureTarget)&&void 0!==n?n:e.target).offsetWidth)-i),l=Math.max(0,(this.playerFillsWindow&&e.target===this.playerView&&window.parent===window?window.outerHeight-t.top-t.bottom:(null!==(a=e.measureTarget)&&void 0!==a?a:e.target).offsetHeight)-r),d=[],c=[],u=[];e.definitions.forEach((e=>{var t,i,r,n;(null!==(t=e.minWidth)&&void 0!==t?t:0)<=o&&o<=(null!==(i=e.maxWidth)&&void 0!==i?i:Number.MAX_VALUE)&&(null!==(r=e.minHeight)&&void 0!==r?r:0)<=l&&l<=(null!==(n=e.maxHeight)&&void 0!==n?n:Number.MAX_VALUE)?(d.push(e.className),s.classList.contains(e.className)||u.push(e.className)):s.classList.contains(e.className)&&c.push(e.className)})),(c.length>0||u.length>0)&&(s.classList.add("ardplayer-init-mq"),c.length>0&&s.classList.remove(...c),u.length>0&&s.classList.add(...u),e.target===this.playerView&&this.player.loop.dispatchEvent("Player.VIEWPORT_BREAKPOINT_CHANGE",{activated:u,deactivated:c,active:d}),requestAnimationFrame((()=>{s.classList.remove("ardplayer-init-mq")}))),s.dataset.size=String(o)}))}addEventListener(e,t,i,r){this.listenerDisposers.push((0,n.MR)(e,t,i,this.player,r))}registerPlayerEvent(e,t){const i=t.bind(this);this.listenerDisposers.push((()=>{this.player.loop.removeEventListener(e,i)})),this.player.loop.addEventListener(e,i)}onClick(e,t,i=!0){this.listenerDisposers.push((0,n.Af)(e,t,this.player,i))}log(...e){this.player.console.log(`[VIEWCTRL][${this.CONTROLLER_NAME}]`,...e)}info(...e){this.player.console.info(`[VIEWCTRL][${this.CONTROLLER_NAME}]`,...e)}warn(...e){this.player.console.warn(`[VIEWCTRL][${this.CONTROLLER_NAME}]`,...e)}error(...e){this.player.console.error(`[VIEWCTRL][${this.CONTROLLER_NAME}]`,...e)}toJSON(){return`[object ${this.CONTROLLER_NAME}-${this[Symbol.toStringTag]}]`}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,r=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,w=new WeakMap,A=new WeakMap,T=new WeakMap,I=new WeakMap,L=Symbol.toStringTag,oe(x,"ViewController"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=M[Symbol.metadata])&&void 0!==e?e:null):void 0;ae(null,P={value:x},_,{kind:"class",name:x.name,metadata:t},null,O),D=x=P.value,t&&Object.defineProperty(x,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),x.UI_AUTOHIDE_DELAY=3e3,se(x,O),D=x})();var ue=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},he=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},pe=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},fe=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},ve=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let me=(()=>{var e;let t,i,r,s=[a.JW],o=[],l=ce,d=[];i=class extends l{constructor(t,i){if(super(t,i),this.storage=ue(this,d),e.set(this,null),this.volumeIsOut=!0,this.controlBarMouseOver=!1,this.volumeIsDragging=!1,this.volumeThumbSlider=[],this.volumeThumb=[],this.handleMouseMove=()=>{this.setOver()},this.handleMouseLeave=()=>{this.setOut()},this.handleReplayBtn=()=>{var e,t,i;null===(e=this.player)||void 0===e||e.pixelController.triggerPixel(S.k.IA_MOUSE_PLAY_AGAIN_BUTTON),this.hidePlayAgain(),null===(i=null===(t=this.player)||void 0===t?void 0:t.getCtrl())||void 0===i||i.restartMedia()},this.handleStatus=e=>{switch(e.status){case"play":this.hidePlayAgain(),this.showPauseBtn(),this.setOver();break;case"pause":this.showPlayBtn(),this.setOver()}},this.handleVolumeEnter=()=>{this.bottomSheetOpened||(this.volumeIsOut=!1,this.playerView.classList.add("ardplayer-volume-open"))},this.handleVolumeLeave=()=>{this.volumeIsOut=!0,this.volumeIsDragging||this.playerView.classList.remove("ardplayer-volume-open")},this.handleVolumeClick=()=>{const e=this.player.getVolume();this.elements.volumeBtn.length>0&&this.elements.volumeBtn[0].classList.contains("ardplayer-icon-volume-mute")?this.setVolumeLevel(0===e?100:e,!0,!1):this.setVolumeLevel(e,!0,!0)},this.storage=E.x.for(t),this.elements.btnPlayPause.forEach((e=>{this.onClick(e,this.handlePlayPauseBtn)})),this.elements.btnReplay.forEach((e=>{this.onClick(e,this.handleReplayBtn)})),this.onClick(this.elements.btnPlayPausePosterframe,this.handlePosterFrame),this.onClick(this.elements.btnMore,(()=>{var e;const t=this.player.addons.find((e=>e instanceof R));t&&(null===(e=this.bottomSheet)||void 0===e||e.reveal(t,R.OverviewScreen))})),this.elements.btnSeekBackward.forEach((e=>{this.onClick(e,(()=>{const e=this.storage.get(E.x.JUMP_BACKWARD_VALUE,!1,10);this.player.seekToInternal(Math.max(this.player.model.time-e,0)),this.showAnimation("seekback"),this.setOutDelayed()}))})),this.elements.btnSeekForward.forEach((e=>{this.onClick(e,(()=>{const e=this.storage.get(E.x.JUMP_FORWARD_VALUE,!1,10);this.player.seekToInternal(Math.min(this.player.model.time+e,this.player.model.duration)),this.showAnimation("seekfwd"),this.setOutDelayed()}))})),this.player.isLive){const e=[...this.elements.btnSeekBackward,...this.elements.btnSeekForward];e.forEach((e=>{e.classList.add("ardplayer-button-disabled")}));const t=()=>{e.forEach((e=>{e.classList.remove("ardplayer-button-disabled")})),this.player.loop.removeEventListener(Zn.EVENT_PLAY_STREAM,t)};this.listenerDisposers.push(t),this.player.loop.addEventListener(Zn.EVENT_PLAY_STREAM,t)}this.registerPlayerEvent(Zn.EVENT_STATUS_CHANGE,this.handleStatus),this.registerPlayerEvent(Zn.REMOTE_PLAYBACK_CHANGED,(e=>{this.playerView.classList.toggle("ardplayer-state-casting",e.isRemote),this.elements.castLabel.classList.toggle("ardplayer-hidden",!e.isRemote),e.isRemote?(0,n.z3)(e.device.displayName)?this.elements.castLabel.innerHTML=`Wiedergabe mit <b>${"airplay"===e.device.kind?"AirPlay":"Chromecast"}</b>`:this.elements.castLabel.innerHTML=`Wiedergabe auf <b>${e.device.displayName}</b>`:this.elements.castLabel.innerHTML=""})),this.registerPlayerEvent("Player.EXTERNAL_VOLUME_UPDATE",(e=>{this.updateVolumeUI(e.volume,!0,e.muted),e.track&&this.player.pixelController.triggerPixelVolumeChange(e.volume,e.muted,!1)})),this.registerPlayerEvent(Zn.SPATIAL_AUDIO_SUPPORT_CHANGED,this.updateAtmosAudioState),this.registerPlayerEvent(Zn.CURRENT_AUDIO_TRACK_CHANGED,this.updateAtmosAudioState),this.timeline=this.createTimeline(),this.storage.storageListeners.add(this),this.listenerDisposers.push((()=>{this.storage.storageListeners.delete(this)}))}continueConstructingAfterDOMComplete(){var t;super.continueConstructingAfterDOMComplete(),this.updateTime(this.player.model.time),this.setupTitleWidget(),this.setupAccessibility(),this.elements.btnJumpToLive.forEach((e=>{this.onClick(e,(()=>{var e;!this.dvrState.isLive&&this.dvrState.enabledAndRequested&&(this.player.pixelController.triggerPixel(S.k.SUPER_BACK_TO_LIVE),this.player.seekToLiveInternal(),this.player.isPlaying||null===(e=this.player.getCtrl())||void 0===e||e.play())}))})),"function"==typeof MutationObserver&&(fe(this,e,new MutationObserver((e=>{e.forEach((e=>{"class"===e.attributeName&&this.updateTransportButtonAccessibleVisibility()}))})),"f"),ve(this,e,"f").observe(this.playerView,{attributes:!0,attributeFilter:["class"]}),this.updateTransportButtonAccessibleVisibility()),C.O.isMobileDevice||(this.addEventListener(this.playerView,"mousemove",this.handleMouseMove),this.addEventListener(this.playerView,"mouseleave",this.handleMouseLeave),C.O.isEmbedded||null===(t=this.playerView.querySelectorAll(".ardplayer-footer, .ardplayer-center, .ardplayer-title-container"))||void 0===t||t.forEach((e=>{e&&(this.addEventListener(e,"mouseenter",(()=>{this.toggleForceOver("controlHover",!0)})),this.addEventListener(e,"mouseleave",(()=>{this.toggleForceOver("controlHover",!1)})))}))),this.elements.volumeThumbInput.forEach((e=>this.volumeThumbSlider.push(this.createVolumeSlider(e)))),this.elements.volumeBtn.forEach((e=>{this.addEventListener(e,"mouseenter",this.handleVolumeEnter)})),this.elements.volumeContainer.forEach((e=>{this.addEventListener(e,"mouseleave",this.handleVolumeLeave)})),this.elements.volumeBtn.forEach((e=>{this.onClick(e,this.handleVolumeClick)})),this.player.safeTimeoutWithContext({type:"lifecycle",initiator:"base-dom-complete"},(()=>{this.player&&(this.player.loop.dispatchEvent(Zn.SETUP_VIEW,{controller:this,viewport:this.elements.addonOverlayContainer,container:this.elements.addonButtons,secondaryContainer:this.elements.addonButtonsSecondary}),this.finishSetupAfterAddonsLoaded(),this.player.loop.dispatchEvent(Zn.SETUP_VIEW_COMPLETE,{controller:this}),this.updateAccessibleVisibility(),C.O.isEmbedded&&this.focusPlayButton())}))}updateAtmosAudioState(){var e,t;const i=this.player.getCtrl();this.playerView.classList.toggle("ardplayer-state-atmos",null!=i&&i.isPlayingSpatialAudio&&null!==(t=null===(e=i.getAudioTrack())||void 0===e?void 0:e.isAtmos)&&void 0!==t&&t)}writeToParcel(e,t){(0,n.Ie)(this.elements.addonOverlayContainer),super.writeToParcel(e,t)}setupTitleWidget(){var e,t,i,r;const n=null!==(t=null===(e=this.player.model.mediaCollection.meta.embed)||void 0===e?void 0:e.enabled)&&void 0!==t&&t;n||null!==(i=this.player.model.playerConfig.web.enableBackButton)&&void 0!==i&&i?this.renderTitleWidget(!n):null===(r=this.playerView.querySelector(".ardplayer-title-widget"))||void 0===r||r.remove()}renderTitleWidget(e){var t,i,r,a,s,o,l,d,c,u,h,p,f,v,m,y;const g=this.player.model.mediaCollection.meta,b=g.embed;try{if(this.playerView.classList.add(e?"ardplayer-showback":"ardplayer-embedded"),!0===this.player.model.playerConfig.web.allowBackButtonInFullscreen&&this.playerView.classList.add("ardplayer-showback-fullscreen"),e&&!0===this.player.model.playerConfig.web.disableBackButtonTitle)null===(t=this.playerView.querySelector(".ardplayer-title-widget-text"))||void 0===t||t.remove();else{const e=this.playerView.querySelector(".ardplayer-title-widget-main");e&&(e.innerText=null!==(r=null!==(i=null==b?void 0:b.title)&&void 0!==i?i:g.title)&&void 0!==r?r:"");let t=null!==(a=g.subHeading)&&void 0!==a?a:"";(0,n.z3)(g.seriesTitle)||(t=null!==(s=g.seriesTitle)&&void 0!==s?s:t,(0,n.z3)(null===(o=g.publicationService)||void 0===o?void 0:o.name)||(t+=` | ${null!==(d=null===(l=g.publicationService)||void 0===l?void 0:l.name)&&void 0!==d?d:""}`));const u=this.playerView.querySelector(".ardplayer-title-widget-byline");u&&(u.innerText=t);const h=this.playerView.querySelector(".ardplayer-title-widget-link span");h&&(h.innerText=null!==(c=null==b?void 0:b.linkText)&&void 0!==c?c:"Zur Mediathek")}if(e){const e=e=>{e.preventDefault(),e.stopPropagation(),this.player.loop.dispatchEvent(Zn.BACK_BUTTON_PRESSED,{})};this.onClick(this.playerView.querySelector(".ardplayer-title-widget"),e);const t=this.playerView.querySelector(".ardplayer-title-widget .ardplayer-icon-arrowleft");this.onClick(t,e),!0===this.player.model.playerConfig.web.showBackButtonAsClose?(null==t||t.classList.remove("ardplayer-icon-arrowleft"),null==t||t.classList.add("ardplayer-icon-close"),(0,U.$)(this.player,t,"title-close")):(0,U.$)(this.player,t,"title-back")}else{if(""!==(null!==(u=null==b?void 0:b.link)&&void 0!==u?u:"")){const e=this.playerView.querySelector(".ardplayer-title-widget");null==e||e.setAttribute("href",null!==(h=null==b?void 0:b.link)&&void 0!==h?h:"#"),null==e||e.setAttribute("target","_blank"),(0,U.$)(this.player,e,"title-deeplink",{title:null!==(p=null==b?void 0:b.linkText)&&void 0!==p?p:"Zur Mediathek"}),this.onClick(e,(()=>{this.player.loop.dispatchEvent(Zn.EMBED_BUTTON_PRESSED,{})}),!1)}const e=this.playerView.querySelector(".ardplayer-title-widget-img");e&&(e.className=`ardplayer-title-widget-img ardplayer-publisher-${null!==(y=null!==(v=null===(f=g.publicationService)||void 0===f?void 0:f.partner)&&void 0!==v?v:(0,I.UQ)(null===(m=g.publicationService)||void 0===m?void 0:m.id))&&void 0!==y?y:"default"}`)}}catch(e){this.error("EmbedSetup Error: ",e)}}setupAccessibility(){this.elements.viewport.setAttribute("id",(0,U.b)(this.player)),this.elements.btnPlayPause.forEach((e=>{(0,U.$)(this.player,e,2===this.player.model.playstate?"pause":"play")})),this.elements.btnReplay.forEach((e=>{(0,U.$)(this.player,e,"replay")})),this.elements.btnJumpToLive.forEach((e=>{(0,U.$)(this.player,e,"jump-to-live")})),this.elements.volumeBtn.forEach((e=>{(0,U.$)(this.player,e,"volume")})),(0,U.$)(this.player,this.elements.btnPlayPausePosterframe,"posterplay"),(0,U.$)(this.player,this.elements.btnMore,"metasettings",{pressed:this.bottomSheetOpened}),this.updateStorageSensitiveAccessibility()}onStorageValueChanged(e,t){this.updateStorageSensitiveAccessibility()}updateStorageSensitiveAccessibility(){const e=E.x.for(this.player);this.elements.btnSeekBackward.forEach((t=>{(0,U.$)(this.player,t,"seekbackward",{value:e.get(E.x.JUMP_BACKWARD_VALUE,!1,10)})})),this.elements.btnSeekForward.forEach((t=>{(0,U.$)(this.player,t,"seekforward",{value:e.get(E.x.JUMP_FORWARD_VALUE,!1,10)})}))}updateTransportButtonAccessibleVisibility(){this.elements.ariaComponentsTransportButtonContainer.forEach((e=>{e.querySelectorAll("[tabindex]").forEach((e=>{e.setAttribute("aria-hidden",String(!(0,k.Fl)(e)))}))}))}updateAccessibleVisibility(){(0,U.$)(this.player,this.elements.btnMore,"metasettings",{pressed:this.bottomSheetOpened});const e=this.isModalViewShown;this.elements.bottomSheetAriaModals.forEach((t=>{t.setAttribute("aria-hidden",e?"true":"false"),t.querySelectorAll('[tabindex]:not([tabindex="-2"]):not(.noUi-handle)').forEach((t=>{t.tabIndex=e?-1:0}))})),this.playerView.querySelectorAll(".ardplayer-control").forEach((t=>{t.setAttribute("aria-hidden",e?"true":"false"),t.tabIndex>=-1&&(t.tabIndex=e?-1:0),t.querySelectorAll('[tabindex]:not([tabindex="-2"]):not(.noUi-handle)').forEach((t=>{t.tabIndex=e?-1:0}))}));const t=this.isMainButtonBarObscured;this.elements.addonButtonsAriaModals.forEach((e=>{e.setAttribute("aria-hidden",t?"true":"false"),e.querySelectorAll("[tabindex]:not(.noUi-handle)").forEach((e=>{e.tabIndex=t?-1:0}))}));const i=!this.addonButtonsVisible||e;this.elements.addonButtons.setAttribute("aria-hidden",i?"true":"false"),this.elements.addonButtons.querySelectorAll("[tabindex]:not(.noUi-handle)").forEach((e=>{e.tabIndex=i?-1:0}))}dispose(t=!1){var i,r;super.dispose(),null===(i=this.player)||void 0===i||i.loop.removeEventListener(Zn.EVENT_STATUS_CHANGE,this.handleStatus),null===(r=ve(this,e,"f"))||void 0===r||r.disconnect(),fe(this,e,null,"f"),this.timeline.dispose(),this.volumeThumbSlider.forEach((e=>{e.destroy()})),this.volumeThumbSlider.splice(0),this.volumeThumb.splice(0)}focusPlayButton(){this.posterFrameVisible?(0,k.GW)(this.elements.btnPlayPausePosterframe):(this.setOver(),(0,k.GW)(this.elements.btnPlayPause.find((e=>(0,k.Fl)(e)))))}createVolumeSlider(e){const t=T.create(e,{start:0,connect:"lower",behaviour:"snap",orientation:"horizontal",direction:"ltr",keyboardSupport:!1,range:{min:0,max:100}});t.off("update.__aria");const i=e.querySelector(".noUi-handle.noUi-handle-lower");return i&&(this.volumeThumb.push(i),(0,U.$)(this.player,i,"volumeslider-thumb",{isMuted:this.player.isMuted,volume:Math.round(this.player.getVolume())})),(0,U.$)(this.player,e,"volumeslider"),t.on("start",(()=>{this.toggleForceControlsVisible("volumeDragging",!0),this.volumeIsDragging=!0})),t.on("end",(()=>{this.player.withExecutionContext({type:"synthetic",initiator:"volumebar-end"},(()=>{this.volumeIsDragging=!1,this.toggleForceControlsVisible("volumeDragging",!1),this.volumeIsOut&&this.handleVolumeLeave(),this.setVolumeLevel(t.get(!0),!1)}))})),t.on("slide",(()=>{this.player.withExecutionContext({type:"synthetic",initiator:"volumebar-slide"},(()=>{this.setVolumeLevel(t.get(!0),!1)}))})),t}updateVolumeUI(e,t=!0,i=!1){if(!this.player)return;let r="ardplayer-icon-volume-low";0===e||i?r="ardplayer-icon-volume-mute":e>=50&&(r="ardplayer-icon-volume-high"),this.elements.volumeBtn.forEach((e=>{e.classList.remove("ardplayer-icon-volume-high","ardplayer-icon-volume-low","ardplayer-icon-volume-mute"),e.classList.add(r)})),t&&this.volumeThumbSlider.forEach((t=>{t.setHandle(0,e,!1)})),this.volumeThumb.forEach((t=>{(0,U.$)(this.player,t,"volumeslider-thumb",{isMuted:0===e||i,volume:Math.round(e)})}))}setVolumeLevel(e,t=!0,i=!1){i=i||0===e,this.updateVolumeUI(e,t,i),this.player.pixelController.triggerCustomPixel(S.k.IA_MOUSE_VOLUME_CHANGE,!0,{volume:e/100,muted:i}),E.x.muted(this.player)!==i&&(this.player.pixelController.triggerPixel(i?S.k.IA_MOUSE_VOLUME_MUTE:S.k.IA_MOUSE_VOLUME_UNMUTE),this.player.setMutedInternal(i,!0,!1,!0,!0)),this.player.setVolumeInternal(e,!0,!1,!0)}formatPointInTime(e){return this.formatPointInTimeString(e)}seekTo(e){var t;this.setOutDelayed();const i=null===(t=this.player)||void 0===t?void 0:t.getCtrl();if(!i)return void(this.player&&this.player.seekToInternal(e));const r=i.getCurrentTime();i.setCurrentTime(e);const n=i.getCurrentTime(),a=this.player.pixelController,s=this.player.model.mediaCollection.isLive,o={seekto:n,current:r};n>=r?(a.triggerCustomPixel(S.k.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,o),a.triggerCustomPixel(S.k.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,o)):(s?a.triggerCustomPixel(S.k.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,o):a.triggerCustomPixel(S.k.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND,!1,o),a.triggerCustomPixel(S.k.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,o))}setHovered(e,t){this.playerView.classList.toggle("ardplayer-show-controlbar-hover",e),C.O.isEmbedded||C.O.isMobileDevice?e?this.controlsVisible&&!this.isOut||this.setOver():this.setOutDelayed():this.toggleForceControlsVisible("controlBarMouseOver",e)}setHandleHovered(e,t){this.playerView.classList.toggle("ardplayer-show-controlbar-thumb-hover",e),e?this.controlsVisible||this.setOver():(C.O.isMobileDevice||t)&&this.setOutDelayed()}createTimeline(){return new K(this.player,this.elements.timelineContainer,this,this.player.model.duration>0?this.player.model.time/this.player.model.duration:0,this.player.model.duration,this.player.model.time)}updateTimeline(e,t){this.timeline.setTime(0,t,e)}updateTime(e){var t,i,r,n,a,s,o,l,d,c,u,h,p,f;e=Math.round(e);let v=null!==(i=null===(t=this.player)||void 0===t?void 0:t.model.duration)&&void 0!==i?i:0;v=Math.round(0!==v&&isFinite(v)?v:null!==(a=null===(n=null===(r=this.player)||void 0===r?void 0:r.model)||void 0===n?void 0:n.mediaCollection.meta.durationSeconds)&&void 0!==a?a:0),null!==(o=null===(s=this.player)||void 0===s?void 0:s.isLive)&&void 0!==o&&o||(this.elements.timePlayheadLabel.textContent=(0,N.a7)(e),this.timeline.container.classList.toggle("ardplayer-controlbar-long-time",this.elements.timePlayheadLabel.textContent.length>5));const m=v-e;if(null!==(d=null===(l=this.player)||void 0===l?void 0:l.isLive)&&void 0!==d&&d){let t=!1;if(m<(null!==(h=null===(u=null===(c=this.player)||void 0===c?void 0:c.getCtrl())||void 0===u?void 0:u.minDisplayedLiveOffset)&&void 0!==h?h:-1))this.elements.timeRemainingLabel.textContent=this.dvrState.showDVRTimeAsWallClock?this.formatPointInTimeString(e):"00:00",(0,U.$)(this.player,this.elements.timeRemainingLabel,"time-remaining",{label:"Live-Wiedergabe",timeString:"Kein Zeitversatz"}),t=!0;else{const i=(0,N.a7)(m);t="00:00"===i,this.elements.timeRemainingLabel.textContent=this.dvrState.showDVRTimeAsWallClock?this.formatPointInTimeString(e):t?i:`-${i}`,(0,U.$)(this.player,this.elements.timeRemainingLabel,"time-remaining",{label:"Live-Wiedergabe Zeitversatz:",timeString:(0,N.wu)(m)})}this.playerView.classList.toggle("ardplayer-state-live-dvr-active",!t&&this.dvrState.enabledAndRequested),this.elements.btnJumpToLive.forEach((e=>{e.classList.toggle("ardplayer-button-disabled",t||0===this.player.model.playstate||3===this.player.model.playstate)}))}else null!==(f=null===(p=this.player)||void 0===p?void 0:p.model.playerConfig.generic.isTimeRemainingDisplay)&&void 0!==f&&f?(this.elements.timeRemainingLabel.textContent=`-${(0,N.a7)(m)}`,(0,U.$)(this.player,this.elements.timeRemainingLabel,"time-remaining",{label:"Verbleibend:",timeString:(0,N.wu)(m)})):(this.elements.timeRemainingLabel.textContent=(0,N.a7)(v),(0,U.$)(this.player,this.elements.timeRemainingLabel,"time-remaining",{label:"Gesamtdauer:",timeString:(0,N.wu)(v)}));(0,U.$)(this.player,this.elements.timePlayheadLabel,"time-playhead",{label:this.player.isLive?"Live-Wiedergabe":"Wiedergabefortschritt: ",timeString:this.player.isLive?"":(0,N.wu)(e)})}formatPointInTimeString(e,t=!1,i=!1,r=!0){return this.dvrState.enabledAndRequested?(0,N.J9)(this.player.getCtrl(),e,t,i,r):(0,N.a7)(e,t,!i,t)}};return e=new WeakMap,pe(i,"BaseViewController"),(()=>{var e;const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=l[Symbol.metadata])&&void 0!==e?e:null):void 0;r=[(0,a.nF)(50)],he(i,null,r,{kind:"method",name:"updateTransportButtonAccessibleVisibility",static:!1,private:!1,access:{has:e=>"updateTransportButtonAccessibleVisibility"in e,get:e=>e.updateTransportButtonAccessibleVisibility},metadata:n},null,d),he(null,t={value:i},s,{kind:"class",name:i.name,metadata:n},null,o),i=t.value,n&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})})(),i.MULTI_CLICK_DELAY=300,ue(i,o),i})();class ye extends me{constructor(){super(...arguments),this.handleMouseMove=()=>{},this.handleMouseLeave=()=>{},this.setOut=e=>{this.log("setOut skipped - AudioView")}}toggleTitleWidgetHidden(e){}setVideoScale(e){this.log("ignored setVideoScale")}setOutDelayed(){this.log("setOutDelayed skipped - AudioView")}showPlayBtn(){this.elements.btnPlayPause.forEach((e=>{e.classList.remove("ardplayer-icon-pause","ardplayer-icon-stop"),e.classList.add("ardplayer-icon-play"),(0,U.$)(this.player,e,"play")}))}showPauseBtn(){this.elements.btnPlayPause.forEach((e=>{!this.player.model.mediaCollection.isLive||this.player.model.mediaCollection.isDvrEnabled&&(this.dvrState.enabledAndRequested||-1===this.dvrState.window)?(e.classList.remove("ardplayer-icon-play","ardplayer-icon-stop"),e.classList.add("ardplayer-icon-pause"),(0,U.$)(this.player,e,"pause")):(e.classList.remove("ardplayer-icon-play","ardplayer-icon-pause"),e.classList.add("ardplayer-icon-stop"),(0,U.$)(this.player,e,"stop"))}))}onDVRCallback(e,t,i){if(!this.player||isNaN(t))return;super.onDVRCallback(e,t,i);const r=this.player.model.mediaCollection.isLive&&this.dvrState.enabledAndRequested;this.elements.btnPlayPause.forEach((e=>{e.classList.contains("ardplayer-icon-play")||(e.classList.toggle("ardplayer-icon-stop",!r),e.classList.toggle("ardplayer-icon-pause",r))}))}}const ge={viewport:W.U.select(".ardplayer-viewport"),addonOverlayContainer:W.U.select(".ardplayer-viewport-addon-overlays"),addonButtons:W.U.select(".ardplayer-footer .ardplayer-addons-container"),addonButtonsSecondary:W.U.selectOptional(".ardplayer-header .ardplayer-addons-container"),posterBackdropView:W.U.select(".ardplayer-posterbackdrop"),posterPicture:W.U.selectOptional(".ardplayer-posterbackdrop > picture"),posterImage:W.U.selectOptional(".ardplayer-posterbackdrop > picture img"),posterFramePicture:W.U.selectOptional(".ardplayer-posterframe>picture"),posterFrameImage:W.U.selectOptional(".ardplayer-posterframe>picture img"),timelineContainer:W.U.select(".ardplayer-timeline-container"),timePlayheadLabel:W.U.select(".ardplayer-time-playhead"),timeRemainingLabel:W.U.select(".ardplayer-time-remaining"),volumeBtn:W.U.selectAll(".ardplayer-button-volume button"),volumeThumbInput:W.U.selectAll(".ardplayer-volume-fader-input"),volumeContainer:W.U.selectAll(".ardplayer-button-volume"),btnSeekForward:W.U.selectAll(".ardplayer-button-jumpforward"),btnSeekBackward:W.U.selectAll(".ardplayer-button-jumpbackward"),castLabel:W.U.select(".ardplayer-cast-label"),bottomSheetAriaModals:W.U.selectAll(".ardplayer-header, .ardplayer-center, .ardplayer-footer"),addonButtonsAriaModals:W.U.selectAll(".ardplayer-footer .ardplayer-buttons-main"),btnPlayPause:W.U.selectAll(".ardplayer-button-playpause"),btnReplay:W.U.selectAll(".ardplayer-button-replay"),btnJumpToLive:W.U.selectAll(".ardplayer-button-jumptolive"),btnPlayPausePosterframe:W.U.selectOptional(".ardplayer-button-posterframe"),btnMore:W.U.selectOptional(".ardplayer-button-settings-small"),ariaComponentsTransportButtonContainer:W.U.selectAll(".ardplayer-buttons-main")};function be(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=we(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Ee(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",n="",a=Array.isArray(t),s=0;s<e.length;s++)(i=Ee(e[s]))&&(a&&t[s]&&(i=we(i)),r=r+n+i,n=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var r in e)r&&e[r]&&Se.call(e,r)&&(t=t+i+r,i=" ");return t}(e):e||""}function we(e){var t=""+e,i=Ce.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Se=Object.prototype.hasOwnProperty,Ce=/["&<>]/;const Ae=function(e){var t="",i={},r=e||{};return function(e,r,n,a,s,o,l,d,c){t+='<div class="ardplayer-posterbackdrop">',(!0!==n.web.disablePosterImage||r.isAudioOnly&&(e.isEmbedded||!0!==n.web.isForcedVideoView))&&0!==r.meta.images.length&&(t=t+"<picture><img"+be("alt",s.posterFrame.imgAlt,!0,!0)+' draggable="false"></picture>'),t+='</div><div class="ardplayer-viewport" tabindex="-2" data-initiator-name="viewport"></div><div class="ardplayer-cast-label ardplayer-hidden"></div><div class="ardplayer-viewport-addon-overlays"></div><div class="ardplayer-background"></div><div class="ardplayer-title-container"><div class="ardplayer-title-sizer"><a class="ardplayer-title-widget" tabindex="-2" data-initiator-name="title-widget"><div class="ardplayer-title-widget-img" tabindex="0"><i></i></div><div class="ardplayer-title-widget-link"><span class="ardplayer-icon ardplayer-icon-arrowright"></span></div><i class="ardplayer-icon ardplayer-icon-arrowleft" tabindex="0" data-vertical-nav-offset="-1" data-vertical-nav-abs-pos="true" data-initiator-name="title-widget-button" aria-label="Zurck" role="button"></i><div class="ardplayer-title-widget-text"><p class="ardplayer-title-widget-main"></p><p class="ardplayer-title-widget-byline"></p></div></a></div></div><div class="ardplayer-header"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-center"><div class="ardplayer-buttons-main">',i.centerButtons=function(e=!1){this&&this.block,this&&this.attributes;t+='<button class="error-interactive ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-prevclip"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-skipbackward"></button>',o=c.get(a.JUMP_BACKWARD_VALUE,!1,10),t=t+'<button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" tabindex="0"'+be("data-value",o,!0,!0)+be("data-initiator-name","quick_seek_"+o,!0,!0)+"></button><button"+be("class",Ee([["ardplayer-button-replay","ardplayer-button-big","ardplayer-icon","ardplayer-icon-return",e?"ardplayer-button-hero":void 0]],[!0]),!1,!0)+' tabindex="0" data-initiator-name="button-center-replay"></button><button'+be("class",Ee([["ardplayer-button-playpause","ardplayer-button-big","ardplayer-icon","ardplayer-icon-play",e?"ardplayer-button-hero":void 0]],[!0]),!1,!0)+' tabindex="0" data-initiator-name="button-center-playpause"></button>',l=c.get(a.JUMP_FORWARD_VALUE,!1,10),t=t+'<button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" tabindex="0"'+be("data-value",l,!0,!0)+be("data-initiator-name","quick_seek_"+l,!0,!0)+'></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-skipforward"></button><button class="error-interactive ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-nextclip"></button>'},i.centerButtons(),t=t+'</div></div><div class="ardplayer-audio"><h3 class="ardplayer-audio-subtitle"></h3><h2 class="ardplayer-audio-title"></h2></div><div class="ardplayer-footer"><span class="ardplayer-time-playhead" aria-live="off" aria-atomic="true">00:00</span><span class="ardplayer-button ardplayer-time-seek-to-live ardplayer-icon-after ardplayer-icon-after-live-indicator" tabindex="0" data-initiator-name="button-timelabel-jumptolive">LIVE&nbsp;</span><span class="ardplayer-time-remaining" aria-live="off" aria-atomic="true">00:00</span><div class="ardplayer-timeline-container"></div><div class="ardplayer-buttons-main ardplayer-button-big"><button class="ardplayer-button-replay ardplayer-icon ardplayer-icon-return" tabindex="0" data-initiator-name="button-footer-replay"></button><button class="ardplayer-button-playpause ardplayer-icon ardplayer-icon-play" tabindex="0" data-initiator-name="button-footer-playpause"></button>\x3c!--button.ardplayer-button-skipbackward.ardplayer-icon.ardplayer-icon-skipbackward.ardplayer-button-disabled(tabindex=\'0\', data-initiator-name=\'button-footer-skipbackward\')--\x3e\x3c!--button.ardplayer-button-skipforward.ardplayer-icon.ardplayer-icon-skipforward.ardplayer-button-disabled(tabindex=\'0\', data-initiator-name=\'button-footer-skipforward\')--\x3e<button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" tabindex="0"'+be("data-value",o,!0,!0)+be("data-initiator-name","quick_seek_"+o,!0,!0)+'></button><button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" tabindex="0"'+be("data-value",l,!0,!0)+be("data-initiator-name","quick_seek_"+l,!0,!0)+'></button><button class="ardplayer-button-jumptolive ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" tabindex="0" data-initiator-name="button-footer-jumptolive"></button><div class="ardplayer-button-volume"><button class="ardplayer-icon ardplayer-icon-volume-low" tabindex="0" data-initiator-name="button-volume"></button><div class="ardplayer-volume-fader"><div class="slider-wrapper"><div class="ardplayer-volume-fader-input"></div></div></div></div></div><div class="ardplayer-addons-container-big ardplayer-button-big"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-button-fullscreen-container ardplayer-button-big" data-vertical-nav-offset="2"><button class="ardplayer-button-settings-small ardplayer-icon ardplayer-icon-addons" tabindex="0" data-initiator-name="button-addons"></button><button class="ardplayer-button-settings-reveal ardplayer-icon ardplayer-icon-more" tabindex="0" data-initiator-name="button-settings-reveal"></button><button class="ardplayer-button-fullscreen ardplayer-icon ardplayer-icon-fullscreen" tabindex="0" data-initiator-name="button-fullscreen"></button></div></div><div class="ardplayer-playstate-zoom ardplayer-icon"></div>',"web"===e.platform&&(t=t+'<div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-initiator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+be("aria-labelledby",`ardplayer-bottom-sheet-title-${d}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+be("title",s.bottomSheet.backTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+be("id",`ardplayer-bottom-sheet-title-${d}`,!0,!0)+'>Men</h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+be("title",s.bottomSheet.closeTitle,!0,!0)+be("aria-label",s.bottomSheet.closeTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div>'),t+="\x3c!-- skip rendering posterframe--\x3e"}.call(this,"Environment"in r?r.Environment:"undefined"!=typeof Environment?Environment:void 0,"MC"in r?r.MC:"undefined"!=typeof MC?MC:void 0,"PC"in r?r.PC:"undefined"!=typeof PC?PC:void 0,"SettingsStorage"in r?r.SettingsStorage:"undefined"!=typeof SettingsStorage?SettingsStorage:void 0,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"backwardValue"in r?r.backwardValue:"undefined"!=typeof backwardValue?backwardValue:void 0,"forwardValue"in r?r.forwardValue:"undefined"!=typeof forwardValue?forwardValue:void 0,"playerID"in r?r.playerID:"undefined"!=typeof playerID?playerID:void 0,"storage"in r?r.storage:"undefined"!=typeof storage?storage:void 0),t};function Te(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Ie(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Ie(e){var t=""+e,i=ke.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var ke=/["&<>]/;const Le=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,o){i=i+'<div class="ardplayer-playlist-dragdrop-item ardplayer-playlist-item" tabindex="-1"'+Te("data-playlist-index",a,!0,!0)+Te("data-playlist-item",r,!0,!0)+' role="row" aria-hidden="false"><label class="ardplayer-playlist-item-checkbox" tabindex="-2"><input class="ardplayer-icon ardplayer-icon-radiobutton" type="checkbox"'+Te("aria-label",e.playlist.selectForEdit,!0,!0)+' aria-haspopup="menu"></label><img class="ardplayer-playlist-item-img"'+Te("src",n,!0,!0)+' fetchpriority="low" decoding="async" loading="lazy" draggable="false" alt="" role="presentation"><div class="ardplayer-playlist-item-text"><h5 class="ardplayer-playlist-main-title">'+Ie(null==(t=o)?"":t)+'</h5><h6 class="ardplayer-playlist-subtitle">'+Ie(null==(t=s)?"":t)+'</h6></div><div class="ardplayer-playlist-item-clicktarget" tabindex="0"></div><div class="ardplayer-playlist-item-drag-handle"><i class="ardplayer-icon-drag ardplayer-icon"></i></div></div>'}.call(this,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"image"in r?r.image:"undefined"!=typeof image?image:void 0,"index"in r?r.index:"undefined"!=typeof index?index:void 0,"subtitle"in r?r.subtitle:"undefined"!=typeof subtitle?subtitle:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),i};function Pe(e){var t=""+e,i=xe.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var xe=/["&<>]/;const _e=function(e){var t,i="",r=e||{};return function(e,r,n,a){i=i+'<h2 class="ardplayer-playlist-block-title ardplayer-playlist-dragdrop-item block-secondary" role="divider"'+function(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Pe(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("id",n+"-pldivider",!0,!0)+">"+Pe(null==(t=r.resolveStringTemplate(e.playlist.dividerTitle,{seriesTitle:a}))?"":t)+"</h2>"}.call(this,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"playerID"in r?r.playerID:"undefined"!=typeof playerID?playerID:void 0,"seriesTitle"in r?r.seriesTitle:"undefined"!=typeof seriesTitle?seriesTitle:void 0),i};var Oe,Me,De,Re,Ne,Ue,Ve,je,Be,Fe,He,We,ze,Ge,$e,Ye,Ke,qe,Je,Qe,Ze,Xe,et,tt,it,rt,nt,at,st=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},ot=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class lt extends q.U{get ID(){return"Playlist"}constructor(e,t,i,r=!1){var a;if(super(),this.player=e,this.mainContainer=t,this.playlistChangedCallback=i,this.headless=r,Oe.set(this,new W.U(Le,this.player)),Me.set(this,new W.U(_e,this.player)),De.set(this,null),Re.set(this,[]),Ne.set(this,void 0),Ue.set(this,null),Ve.set(this,null),je.set(this,null),Be.set(this,null),Fe.set(this,null),He.set(this,null),We.set(this,null),ze.set(this,null),Ge.set(this,null),$e.set(this,""),Ye.set(this,0),Ke.set(this,-1),qe.set(this,new Set),Je.set(this,new Set),Qe.set(this,[]),Ze.set(this,[]),Xe.set(this,"192"),et.set(this,-1),tt.set(this,null),it.set(this,0),rt.set(this,-1),this.toggleItemSelection=()=>{const e=ot(this,qe,"f").size+ot(this,Ke,"f")+1!==ot(this,Ye,"f");ot(this,Re,"f").slice(0,Math.min(ot(this,Ye,"f"),ot(this,Re,"f").length)).forEach((t=>{var i;const r=null===(i=t.elements)||void 0===i?void 0:i.checkbox;r&&r.checked!==e&&r.click()}))},this.addSelectedItems=()=>{var e;if(this.headless||null==ot(this,Ue,"f"))return;const t=Array.from(ot(this,Je,"f").values()),i=new Set,r=t.map((e=>{var t;e.dataset.playlistIndex&&i.add(parseInt(e.dataset.playlistIndex));const r=e.cloneNode(!0);null===(t=ot(this,Ue,"f"))||void 0===t||t.replaceChild(r,e);const n=e.querySelector("input");return n&&(n.checked=!1,n.classList.add("ardplayer-icon-radiobutton"),n.classList.remove("ardplayer-icon-checkmark")),r}));ot(this,Je,"f").clear(),this.updatePlaylistButtons();const n=[],a=[],s=[];ot(this,Re,"f").forEach(((e,t)=>{t<ot(this,Ye,"f")?n.push(e):i.has(t)?s.push(e):a.push(e)})),st(this,Re,[...n,...s,...a],"f"),st(this,Ye,ot(this,Ye,"f")+s.length,"f"),this.updateItemIndices(),null===(e=ot(this,De,"f"))||void 0===e||e.dispatchEvent("Playlist.updated",{items:ot(this,Re,"f").map((e=>e.item)),currentIndex:ot(this,Ke,"f"),dividerPosition:ot(this,Ye,"f")}),requestAnimationFrame((()=>{t.forEach((e=>{var t;e.classList.add("ardplayer-playlist-item-deleted"),null===(t=ot(this,Ue,"f"))||void 0===t||t.insertBefore(e,ot(this,ze,"f"))})),requestAnimationFrame((()=>{r.forEach((e=>{e.classList.add("ardplayer-playlist-item-deleted")})),this.player.safeTimeout((()=>{var e,t,i,n;r.forEach((e=>{e.remove()})),this.updateItemVisibility();const a=null!==(t=null===(e=ot(this,Ve,"f"))||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0,s=null!==(n=null===(i=ot(this,Re,"f").find((e=>{var t,i;return(null!==(i=null===(t=e.view)||void 0===t?void 0:t.offsetTop)&&void 0!==i?i:-1)>a})))||void 0===i?void 0:i.view)&&void 0!==n?n:ot(this,We,"f");(0,k.GW)(s)}),500),t.forEach((e=>{e.classList.remove("ardplayer-playlist-item-deleted")})),this.updatePlaylistEmptyState()}))}))},this.removeSelectedItems=()=>{var e;const t=[...Array.from(ot(this,qe,"f").values()),...Array.from(ot(this,Je,"f").values())],i=ot(this,qe,"f").size;ot(this,qe,"f").clear(),ot(this,Je,"f").clear(),this.updatePlaylistButtons();const r=new Set;t.forEach((e=>{var t;if(e.dataset.playlistIndex){const i=parseInt(e.dataset.playlistIndex);r.add(i),i<=ot(this,Ke,"f")&&st(this,Ke,(t=ot(this,Ke,"f"),--t),"f")}})),st(this,Re,ot(this,Re,"f").filter(((e,t)=>!r.has(t))),"f"),st(this,Ye,ot(this,Ye,"f")-i,"f"),this.updateItemIndices(),null===(e=ot(this,De,"f"))||void 0===e||e.dispatchEvent("Playlist.updated",{items:ot(this,Re,"f").map((e=>e.item)),currentIndex:ot(this,Ke,"f"),dividerPosition:ot(this,Ye,"f")}),this.animatePlaylistItemRemoval(t,(()=>{var e,t,i,r;const n=null!==(t=null===(e=ot(this,Ve,"f"))||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0,a=null!==(r=null===(i=ot(this,Re,"f").find((e=>{var t,i;return(null!==(i=null===(t=e.view)||void 0===t?void 0:t.offsetTop)&&void 0!==i?i:-1)>n})))||void 0===i?void 0:i.view)&&void 0!==r?r:ot(this,We,"f");(0,k.GW)(a)}))},this.animatePlaylistItemRemoval=(e,t)=>{e.forEach((e=>{e.classList.add("ardplayer-playlist-item-deleted"),e.dataset.playlistIndex="-1"})),this.updatePlaylistEmptyState(),this.player.safeTimeout((()=>{e.forEach((e=>{e.remove()})),this.updateItemVisibility(),null==t||t()}),250)},nt.set(this,-1),at.set(this,0),this.updatePlaylistEmptyState=()=>{var e,t,i;this.headless||(null===(t=null===(e=ot(this,Ge,"f"))||void 0===e?void 0:e.classList)||void 0===t||t.toggle("playlist-item-placeholder-visible",null===(null===(i=ot(this,Ue,"f"))||void 0===i?void 0:i.querySelector(".ardplayer-playlist-item:not(.ardplayer-playlist-item-deleted)"))),requestAnimationFrame((()=>{var e,t;null===(t=null===(e=ot(this,ze,"f"))||void 0===e?void 0:e.classList)||void 0===t||t.toggle("playlist-block-title-hidden",ot(this,Re,"f").length-1<=ot(this,Ke,"f")||ot(this,Ye,"f")>=ot(this,Re,"f").length)})))},!r){const i=null==t?void 0:t.querySelector(".ardplayer-playlist-item-list"),r=null!==(a=null==i?void 0:i.parentElement)&&void 0!==a?a:null,s=e.getTarget().querySelector(".ardplayer-playlist-actions"),o=null==s?void 0:s.querySelector(".ardplayer-playlist-add"),l=null==s?void 0:s.querySelector(".ardplayer-playlist-select-toggle"),d=null==s?void 0:s.querySelector(".ardplayer-playlist-delete"),c=null==i?void 0:i.querySelector(".playlist-item-placeholder"),u=null==t?void 0:t.querySelector(".ardplayer-playlist-next-episode-toggle input");if(null==i||null==r||null==s||null==l||null==o||null==c||null==u||null==d)throw new Error("could not get playlist dom references");st(this,Ue,i,"f"),st(this,Ve,r,"f"),st(this,We,u,"f"),st(this,je,s,"f"),st(this,He,d,"f"),st(this,Fe,l,"f"),st(this,Be,o,"f"),st(this,ze,null==i?void 0:i.querySelector(".ardplayer-playlist-block-title"),"f"),st(this,Ge,c,"f"),ot(this,Ze,"f").push((0,n.Af)(ot(this,He,"f"),this.removeSelectedItems,this.player)),ot(this,Ze,"f").push((0,n.Af)(ot(this,Fe,"f"),this.toggleItemSelection,this.player)),ot(this,Ze,"f").push((0,n.Af)(ot(this,Be,"f"),this.addSelectedItems,this.player))}const s=E.x.for(this.player);st(this,Ne,!0===s.get(E.x.PLAYLIST_AUTOPLAY,!1,!0),"f"),s.storageListeners.add(this),r||(this.setupAutoplayToggle(),this.setupOffScreenRenderingListener()),this.setupEventLoop()}parcelData(){return{playlistActiveSelection:[...Array.from(ot(this,qe,"f")).map((e=>{var t;return parseInt(null!==(t=e.dataset.playlistIndex)&&void 0!==t?t:"-1")})),...Array.from(ot(this,Je,"f")).map((e=>{var t;return parseInt(null!==(t=e.dataset.playlistIndex)&&void 0!==t?t:"-1")}))],currentIndex:ot(this,Ke,"f"),playlistItems:ot(this,Re,"f").map((e=>e.item)),playlistDividerPosition:ot(this,Ye,"f"),playlistDividerTitle:ot(this,$e,"f")}}restoreParceledData(e){if(!this.headless)throw Error("Playlist cannot be restored before DOM is complete, call rehydrateDomState after construction");this.rehydrateParcelAndDomState(e,!1)}onStorageValueChanged(e,t){e===E.x.PLAYLIST_AUTOPLAY&&t!==ot(this,Ne,"f")&&(st(this,Ne,t,"f"),ot(this,We,"f")&&(ot(this,We,"f").checked=t))}rehydrateParcelAndDomState(e,t){var i,r;if(null===e)return void(this.headless||this.render());st(this,Ye,e.playlistDividerPosition,"f"),st(this,$e,e.playlistDividerTitle,"f"),st(this,Ke,e.currentIndex,"f");const n=this.headless?null:null!==(r=null===(i=ot(this,Ve,"f"))||void 0===i?void 0:i.querySelectorAll(".ardplayer-playlist-item"))&&void 0!==r?r:null;st(this,Re,e.playlistItems.map(((e,t)=>new ct(e,n&&t>ot(this,Ke,"f")?n[t-ot(this,Ke,"f")-1]:void 0))),"f"),this.headless||(t?this.render():this.setupPlaylistHandlers(),this.updateItemVisibility(),e.playlistActiveSelection.map((e=>{var t;return null===(t=ot(this,Ue,"f"))||void 0===t?void 0:t.querySelector(`[data-playlist-index="${e}"]`)})).forEach((e=>{e&&this.updateSelectionForItemContainer(e,!0)})))}dispose(){var e;-1!==ot(this,et,"f")&&Zn.cancelIdleCallback(ot(this,et,"f")),E.x.for(this.player).storageListeners.delete(this),ot(this,Qe,"f").forEach((e=>null==e?void 0:e())),ot(this,Ze,"f").forEach((e=>null==e?void 0:e())),null===(e=ot(this,De,"f"))||void 0===e||e.dispose(),st(this,De,null,"f"),st(this,Re,[],"f")}setupEventLoop(){st(this,De,new Q.W(this.player),"f"),ot(this,De,"f").addEventListener("Playlist.setPlaylist",(e=>{var t,i,r,n;st(this,Re,null!==(t=e.items.map((e=>new ct(e))))&&void 0!==t?t:[],"f"),st(this,Ye,null!==(i=e.dividerPosition)&&void 0!==i?i:0,"f"),st(this,$e,null!==(r=e.dividerTitle)&&void 0!==r?r:"","f"),st(this,Ke,null!==(n=e.currentIndex)&&void 0!==n?n:Math.max(0,ot(this,Re,"f").findIndex((e=>e.item.id===this.player.model.mediaCollection.id))),"f"),this.render()})),ot(this,De,"f").addEventListener("Playlist.setCurrentIndex",(e=>{if(e.currentIndex!==ot(this,Ke,"f")){if(e.currentIndex<0||e.currentIndex>=ot(this,Re,"f").length)return void this.warn("invalid currentIndex supplied, ignoring",e.currentIndex);if(ot(this,Ke,"f")>e.currentIndex)st(this,Ke,e.currentIndex,"f"),this.render();else{const t=[];for(let i=ot(this,Ke,"f");i<=e.currentIndex;i++){const e=ot(this,Re,"f")[i].view;e&&t.push(e)}st(this,Ke,e.currentIndex,"f"),this.animatePlaylistItemRemoval(t)}}})),ot(this,De,"f").addEventListener("Playlist.skipToItem",(e=>{var t;const i=ot(this,Re,"f").findIndex((t=>t.item.id===e.id));i>=0&&(null===(t=ot(this,De,"f"))||void 0===t||t.dispatchEvent("Playlist.itemSelected",{item:ot(this,Re,"f")[i].item,index:i,autoplay:!1,afterDivider:i>=ot(this,Ye,"f")}))})),ot(this,De,"f").addEventListener("Playlist.skip",(e=>{this.performSkip(e.forward)}))}getView(e){return!this.headless&&ot(this,Re,"f").length>e?ot(this,Re,"f")[e].getView(ot(this,Oe,"f"),e,ot(this,Xe,"f"),this.player.getId()):null}render(){if(!this.headless&&null!=ot(this,Ue,"f")){ot(this,qe,"f").clear(),ot(this,Je,"f").clear(),this.updatePlaylistButtons(),st(this,Xe,this.player.getTarget().classList.contains("ardplayer-m")?"192":"256","f"),st(this,ze,ot(this,Me,"f").renderTemplateAsElement({seriesTitle:ot(this,$e,"f")}),"f"),ot(this,Ue,"f").querySelectorAll(".ardplayer-playlist-item-list > .ardplayer-playlist-dragdrop-item").forEach((e=>{e.remove()})),ot(this,Ke,"f")>=ot(this,Ye,"f")&&null!=ot(this,ze,"f")&&ot(this,Ue,"f").append(ot(this,ze,"f"));for(let e=0,t=ot(this,Re,"f").length;e<t;e++)if(e>ot(this,Ke,"f")){e===ot(this,Ye,"f")&&null!=ot(this,ze,"f")&&ot(this,Ue,"f").append(ot(this,ze,"f"));const t=this.getView(e);null!=t&&ot(this,Ue,"f").append(t)}ot(this,Ye,"f")>=ot(this,Re,"f").length&&null!=ot(this,ze,"f")&&ot(this,Ue,"f").append(ot(this,ze,"f")),this.updatePlaylistEmptyState(),this.setupPlaylistHandlers(),this.playlistChangedCallback(),this.updateItemVisibility()}}updateItemVisibility(){var e,t;if(this.headless||null==ot(this,Ve,"f"))return;const i=ot(this,Ve,"f").offsetHeight,r=ot(this,Ve,"f").scrollTop;let n=!1,a=0,s=null;for(let o=0,l=ot(this,Re,"f").length;o<l;o++)s=ot(this,Re,"f")[o],null!==ot(this,tt,"f")&&s.view===ot(this,tt,"f")||(a=null!==(t=null===(e=s.view)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0,n=a>r-i&&a<r+2*i,null==s||s.toggleVisibility(n))}setupOffScreenRenderingListener(){var e;const t=()=>{this.updateItemVisibility()};null===(e=ot(this,Ve,"f"))||void 0===e||e.addEventListener("scroll",t),ot(this,Ze,"f").push((()=>{var e;null===(e=ot(this,Ve,"f"))||void 0===e||e.removeEventListener("scroll",t)}))}setupAutoplayToggle(){if(this.headless||null==ot(this,We,"f"))return;ot(this,We,"f").checked=ot(this,Ne,"f"),ot(this,Ze,"f").push((0,n.MR)(ot(this,We,"f"),"change",(()=>{var e,t,i;this.log("autoplay toggled",null===(e=ot(this,We,"f"))||void 0===e?void 0:e.checked),st(this,Ne,null!==(i=null===(t=ot(this,We,"f"))||void 0===t?void 0:t.checked)&&void 0!==i?i:ot(this,Ne,"f"),"f"),E.x.for(this.player).add(E.x.PLAYLIST_AUTOPLAY,ot(this,Ne,"f"))}),this.player));const e=()=>{ot(this,Ne,"f")&&ot(this,Ke,"f")<ot(this,Re,"f").length-1&&this.skipToIndex(ot(this,Ke,"f")+1,!0)};this.player.loop.addEventListener(Zn.EVENT_END_STREAM,e),ot(this,Ze,"f").push((()=>{this.player.loop.removeEventListener(Zn.EVENT_END_STREAM,e)}))}setupPlaylistHandlers(){this.headless||null==ot(this,Ue,"f")||-1===ot(this,et,"f")&&(ot(this,Qe,"f").forEach((e=>null==e?void 0:e())),st(this,Qe,[],"f"),st(this,et,this.player.safeIdleCallback((()=>{st(this,et,-1,"f"),ot(this,Re,"f").forEach((e=>{var t,i,r,a;if(this.makeDragDropHandle(null!==(i=null===(t=e.elements)||void 0===t?void 0:t.dragHandle)&&void 0!==i?i:null,e.view),ot(this,Qe,"f").push((0,n.Af)(null===(r=e.elements)||void 0===r?void 0:r.clickTarget,(t=>{var i;z.preventNestedScrollForTouch(t);const r=null===(i=e.view)||void 0===i?void 0:i.dataset.playlistIndex;this.log("playlist item selected",r),(0,n.z3)(r)||this.skipToIndex(parseInt(r))}),this.player)),null===(a=e.elements)||void 0===a?void 0:a.checkbox){const t=e.elements.checkbox;ot(this,Qe,"f").push((0,n.MR)(t,"change",(()=>{t.classList.toggle("ardplayer-icon-radiobutton",!t.checked),t.classList.toggle("ardplayer-icon-checkmark",t.checked),e.view&&this.updateSelectionForItemContainer(e.view,t.checked)}),this.player))}}))}),{timeout:500}),"f"))}makeDragDropHandle(e,t){null!==e&&null!==t&&ot(this,Qe,"f").push((0,n.MR)(e,"touchstart",(e=>{this.startItemDrag(t,e)}),this.player),(0,n.MR)(t,"touchmove",(e=>{this.itemDrag(t,e)}),this.player),(0,n.MR)(t,"touchend",(e=>{this.stopItemDrag(t,e)}),this.player),(0,n.MR)(t,"touchcancel",(e=>{this.stopItemDrag(t,e)}),this.player),(0,n.MR)(e,"mousedown",(e=>{this.startItemDrag(t,e)}),this.player),(0,n.MR)(t,"mousemove",(e=>{this.itemDrag(t,e)}),this.player),(0,n.MR)(t,"mouseup",(e=>{this.stopItemDrag(t,e)}),this.player),(0,n.MR)(t,"mouseleave",(e=>{this.stopItemDrag(t,e)}),this.player))}startItemDrag(e,t){var i,r;st(this,tt,e,"f"),z.preventNestedScrollForTouch(t),t.stopPropagation(),t.stopImmediatePropagation(),e.classList.add("ardplayer-playlist-item-dragging"),st(this,it,(0,n.ku)(t,e.offsetParent).top+(null!==(r=null===(i=e.offsetParent)||void 0===i?void 0:i.scrollTop)&&void 0!==r?r:0),"f")}itemDrag(e,t){var i,r,a,s;if(-1!==ot(this,rt,"f")&&(window.clearTimeout(ot(this,rt,"f")),st(this,rt,-1,"f")),ot(this,tt,"f")===e){z.preventNestedScrollForTouch(t),t.stopPropagation(),t.stopImmediatePropagation();const o=(0,n.ku)(t,e.offsetParent).top+(null!==(r=null===(i=e.offsetParent)||void 0===i?void 0:i.scrollTop)&&void 0!==r?r:0)-ot(this,it,"f");e.style.transform=`translateY(${o}px)`;let l=!0;const d=e.offsetTop+o;for(let t=null!==(s=null===(a=e.parentElement)||void 0===a?void 0:a.firstElementChild)&&void 0!==s?s:null;null!==t;t=t.nextElementSibling)t!==e?(t.classList.toggle("ardplayer-playlist-item-move-down",l&&d<t.offsetTop),t.classList.toggle("ardplayer-playlist-item-move-up",!l&&d>t.offsetTop)):l=!1;if(e.offsetParent){const i=e.offsetParent;i.scrollHeight>i.offsetHeight&&(d-.5*e.offsetHeight<i.scrollTop?(i.scrollTop-=.1*e.offsetHeight,st(this,rt,this.player.safeTimeout((()=>{this.itemDrag(e,t)}),15),"f")):d+1.5*e.scrollHeight>i.scrollTop+i.offsetHeight&&(i.scrollTop=Math.min(i.scrollTop+.1*e.offsetHeight,i.scrollHeight-i.offsetHeight),st(this,rt,this.player.safeTimeout((()=>{this.itemDrag(e,t)}),15),"f")))}}}stopItemDrag(e,t){var i;-1!==ot(this,rt,"f")&&(window.clearTimeout(ot(this,rt,"f")),st(this,rt,-1,"f")),e===ot(this,tt,"f")&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),null===(i=e.parentElement)||void 0===i||i.classList.add("items-settling"),requestAnimationFrame((()=>{var i,r,a,s,o,l,d,c,u,h,p,f,v;const m=(0,n.ku)(t,e.offsetParent).top-ot(this,it,"f")+(null!==(r=null===(i=e.offsetParent)||void 0===i?void 0:i.scrollTop)&&void 0!==r?r:0);e.style.transform=`translateY(${m}px)`;let y=!0;const g=e.offsetTop+m;let b=null,E=!1;for(let t=null!==(s=null===(a=e.parentElement)||void 0===a?void 0:a.firstElementChild)&&void 0!==s?s:null;null!==t;t=t.nextElementSibling)t.classList.contains("ardplayer-playlist-dragdrop-item")&&(t!==e?(null===b&&(y&&g<t.offsetTop||!y&&g<=t.offsetTop?b=t:t.classList.contains("ardplayer-playlist-block-title")&&(E=!0)),t.classList.remove("ardplayer-playlist-item-move-down","ardplayer-playlist-item-move-up")):y=!1);null!==b?null===(o=e.parentElement)||void 0===o||o.insertBefore(e,b):null===(l=e.parentElement)||void 0===l||l.appendChild(e),ot(this,Ye,"f")>=ot(this,Re,"f").length&&null!=ot(this,ze,"f")&&(null===(d=e.parentElement)||void 0===d||d.appendChild(ot(this,ze,"f")));const w=parseInt(null!==(c=e.dataset.playlistIndex)&&void 0!==c?c:"-1");if(w>=0){const e=null!==(h=null===(u=(null==b?void 0:b.classList.contains("ardplayer-playlist-item"))?b:null==b?void 0:b.nextElementSibling)||void 0===u?void 0:u.dataset.playlistIndex)&&void 0!==h?h:null;let t=null===e?ot(this,Re,"f").length:parseInt(e);t>w&&t--;const i=ot(this,Re,"f").splice(w,1);ot(this,Re,"f").splice(t,0,i[0]),ot(this,Ye,"f")<ot(this,Re,"f").length&&(w<ot(this,Ye,"f")&&E?st(this,Ye,(f=ot(this,Ye,"f"),--f),"f"):w>=ot(this,Ye,"f")&&!E&&st(this,Ye,(v=ot(this,Ye,"f"),++v),"f")),this.updateItemIndices(),null===(p=ot(this,De,"f"))||void 0===p||p.dispatchEvent("Playlist.updated",{items:ot(this,Re,"f").map((e=>e.item)),currentIndex:ot(this,Ke,"f"),dividerPosition:ot(this,Ye,"f")})}this.updateSelectionForItemContainer(e,ot(this,qe,"f").has(e)||ot(this,Je,"f").has(e)),this.updatePlaylistEmptyState(),e.style.transform="",st(this,tt,null,"f"),requestAnimationFrame((()=>{var t;e.classList.remove("ardplayer-playlist-item-dragging"),null===(t=e.parentElement)||void 0===t||t.classList.remove("items-settling")}))})))}skipToIndex(e,t=!1){var i,r,n;if(st(this,Ke,e,"f"),e>=0){let a=this.headless?null:null===(i=ot(this,Ue,"f"))||void 0===i?void 0:i.querySelector(`[data-playlist-index="${e}"]`);if(a){const i=[];for(;a;)a.dataset.playlistItem&&(i.push(a),ot(this,qe,"f").delete(a),ot(this,Je,"f").delete(a)),a=a.previousElementSibling;const r=this.player.executionContext;this.player.safeTimeout((()=>{var n;this.updatePlaylistButtons(),this.animatePlaylistItemRemoval(i,(()=>{const i=ot(this,Re,"f")[e];this.player.withOptionalExecutionContext(r,(()=>{var r,n;null===(r=ot(this,De,"f"))||void 0===r||r.dispatchEvent("Playlist.itemSelected",{item:i.item,index:e,autoplay:t,afterDivider:e>=ot(this,Ye,"f")}),null===(n=ot(this,De,"f"))||void 0===n||n.dispatchEvent("Playlist.currentIndexChanged",{currentIndex:ot(this,Ke,"f")})}))})),null===(n=ot(this,Ve,"f"))||void 0===n||n.scrollTo({top:0,behavior:"smooth"})}))}else null===(r=ot(this,De,"f"))||void 0===r||r.dispatchEvent("Playlist.itemSelected",{item:ot(this,Re,"f")[e].item,index:e,autoplay:t,afterDivider:e>=ot(this,Ye,"f")}),null===(n=ot(this,De,"f"))||void 0===n||n.dispatchEvent("Playlist.currentIndexChanged",{currentIndex:ot(this,Ke,"f")})}else this.warn("no match in data for selected item",ot(this,Re,"f"))}performSkip(e,t=!1){var i,r,n,a,s,o,l;if(t)return st(this,at,(s=ot(this,at,"f"),++s),"f"),-1!==ot(this,nt,"f")&&clearTimeout(ot(this,nt,"f")),void st(this,nt,this.player.safeTimeoutPreservingContext((()=>{st(this,nt,-1,"f"),this.performSkip(e,!1)}),300),"f");if(ot(this,at,"f")>0&&e){let e=ot(this,Ke,"f")+ot(this,at,"f");return e>=ot(this,Re,"f").length-1&&(e=ot(this,Re,"f").length-1),this.skipToIndex(e),void st(this,at,0,"f")}if(e){if(ot(this,Ke,"f")<ot(this,Re,"f").length-1){st(this,Ke,(o=ot(this,Ke,"f"),++o),"f");const e=ot(this,Re,"f")[ot(this,Ke,"f")];e.view&&(ot(this,qe,"f").delete(e.view),ot(this,Je,"f").delete(e.view),e.view.remove(),e.holder=null),null===(i=ot(this,De,"f"))||void 0===i||i.dispatchEvent("Playlist.itemSelected",{item:e.item,index:ot(this,Ke,"f"),autoplay:!1,afterDivider:ot(this,Ke,"f")>=ot(this,Ye,"f")}),null===(r=ot(this,De,"f"))||void 0===r||r.dispatchEvent("Playlist.currentIndexChanged",{currentIndex:ot(this,Ke,"f")})}}else if(ot(this,Ke,"f")>0&&(this.player.getCurrentTime()<=5||this.player.errorCtrl.criticalError)){st(this,Ke,(l=ot(this,Ke,"f"),--l),"f");const e=ot(this,Re,"f")[ot(this,Ke,"f")];this.render(),null===(n=ot(this,De,"f"))||void 0===n||n.dispatchEvent("Playlist.itemSelected",{item:e.item,index:ot(this,Ke,"f"),autoplay:!1,afterDivider:ot(this,Ke,"f")>=ot(this,Ye,"f")}),null===(a=ot(this,De,"f"))||void 0===a||a.dispatchEvent("Playlist.currentIndexChanged",{currentIndex:ot(this,Ke,"f")})}else this.player.seekToInternal(0)}updatePlaylistButtons(){if(this.headless)return;const e=ot(this,qe,"f").size>0||ot(this,Je,"f").size>0,t=ot(this,Je,"f").size>0&&0===ot(this,qe,"f").size,i=0===ot(this,Je,"f").size&&ot(this,qe,"f").size>0;ot(this,Be,"f")&&(ot(this,Be,"f").classList.toggle("ardplayer-action-unavailable",!t),ot(this,Be,"f").tabIndex=t?0:-1),ot(this,He,"f")&&(ot(this,He,"f").classList.toggle("ardplayer-action-unavailable",!e),ot(this,He,"f").tabIndex=e?0:-1),ot(this,Fe,"f")&&(ot(this,Fe,"f").classList.toggle("ardplayer-action-unavailable",!i),ot(this,Fe,"f").tabIndex=i?0:-1,ot(this,Fe,"f").innerText=ot(this,qe,"f").size+ot(this,Ke,"f")+1===ot(this,Ye,"f")?this.player.StringConfig.Strings.playlist.selectNone:this.player.StringConfig.Strings.playlist.selectAll),ot(this,je,"f")&&(ot(this,je,"f").classList.toggle("ardplayer-playlist-actions-available",e||t),ot(this,je,"f").setAttribute("aria-hidden",e||t?"false":"true"))}updateItemIndices(){ot(this,Re,"f").forEach(((e,t)=>{e.updateView(t)}))}updateSelectionForItemContainer(e,t){var i,r;t?e.offsetTop>(null!==(r=null===(i=ot(this,ze,"f"))||void 0===i?void 0:i.offsetTop)&&void 0!==r?r:Number.POSITIVE_INFINITY)?(ot(this,qe,"f").delete(e),ot(this,Je,"f").add(e)):(ot(this,qe,"f").add(e),ot(this,Je,"f").delete(e)):(ot(this,qe,"f").delete(e),ot(this,Je,"f").delete(e)),this.updatePlaylistButtons()}log(...e){this.player.console.log("[Playlist]",...e)}warn(...e){this.player.console.warn("[Playlist]",...e)}get size(){return ot(this,Re,"f").length}get currentIndex(){return ot(this,Ke,"f")}}Oe=new WeakMap,Me=new WeakMap,De=new WeakMap,Re=new WeakMap,Ne=new WeakMap,Ue=new WeakMap,Ve=new WeakMap,je=new WeakMap,Be=new WeakMap,Fe=new WeakMap,He=new WeakMap,We=new WeakMap,ze=new WeakMap,Ge=new WeakMap,$e=new WeakMap,Ye=new WeakMap,Ke=new WeakMap,qe=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,Xe=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,rt=new WeakMap,nt=new WeakMap,at=new WeakMap;const dt={checkbox:W.U.select(".ardplayer-playlist-item-checkbox input"),img:W.U.select("img"),dragHandle:W.U.select(".ardplayer-playlist-item-drag-handle"),clickTarget:W.U.select(".ardplayer-playlist-item-clicktarget")};class ct{get view(){var e,t;return null!==(t=null===(e=this.holder)||void 0===e?void 0:e.node)&&void 0!==t?t:null}get elements(){var e,t;return null!==(t=null===(e=this.holder)||void 0===e?void 0:e.elements)&&void 0!==t?t:null}updateView(e){this.view&&(this.view.dataset.playlistIndex=String(e))}getView(e,t,i,r){var n,a,s;return this.view?this.updateView(t):(this.holder=e.renderTemplateAsHolder({index:t,id:this.item.id,image:(0,ne.$o)(this.item.image,i),title:this.item.title,subtitle:this.item.subtitle},dt),this.toggleVisibility(!1),(0,ne.rO)(null!==(s=null===(a=null===(n=this.holder)||void 0===n?void 0:n.elements)||void 0===a?void 0:a.img)&&void 0!==s?s:null)),this.view}toggleVisibility(e){this.view&&(this.view.style.visibility=e?"":"hidden")}constructor(e,t){if(this.item=e,this.holder=null,t){const e=W.U.resolveElementLookup(t,dt);e&&(this.holder={node:t,elements:e})}}}var ut=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},ht=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},pt=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let ft=(()=>{let e,t,i=[a.JW],r=[],s=ye;t=class extends s{parcelData(){var e,t;return{playlistParcel:null!==(t=null===(e=this.playlist)||void 0===e?void 0:e.parcelData())&&void 0!==t?t:null}}restoreParceledData(e){var t;null===(t=this.playlist)||void 0===t||t.restoreFromParcel(e)}templateLookupDefinition(){return ge}constructor(e,t){super(e,t),this.playlist=null;const i=this.playerView;this.playlist=new lt(this.player,null,(()=>{}),!0),this.controlsVisible=!0,this.addonButtonsVisible=!1,i.classList.add("ardplayer-show-controls","ardplayer-state-audio"),this.player.model.playerConfig.web.isAudioSticky&&this.setSticky(!0);const r=i.querySelector(".ardplayer-button-settings-reveal");r&&this.onClick(r,(()=>{this.addonButtonsVisible=!this.addonButtonsVisible,this.playerView.classList.toggle("ardplayer-reveal-settings",this.addonButtonsVisible),r.classList.toggle("ardplayer-icon-minus",this.addonButtonsVisible),r.classList.toggle("ardplayer-icon-more",!this.addonButtonsVisible),(0,U.$)(this.player,r,"metasettings",{pressed:this.addonButtonsVisible}),this.updateAccessibleVisibility()})),super.continueConstructingAfterDOMComplete()}dispose(e=!1){var t,i,r;const n=null!==(r=null===(i=null===(t=this.player)||void 0===t?void 0:t.errorCtrl)||void 0===i?void 0:i.criticalError)&&void 0!==r&&r;super.dispose(e),!e&&this.playerView&&n&&(this.playerView.classList.add("ardplayer-state-audio"),this.isSticky&&this.playerView.classList.add("ardplayer-state-audio-sticky"))}templateLoader(){return new W.U(Ae,this.player)}get POSTER_IMAGE_TYPE_DEFAULT(){return"audio"}static supportsViewForConfigOf(e){var t,i;return e.isAudio&&null!==(t=e.model.playerConfig.web.isAudioSticky)&&void 0!==t&&t&&!(null!==(i=e.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i)&&!C.O.isEmbedded}finishSetupAfterAddonsLoaded(){this.setupTitleDeeplink()}setupTitleWidget(){this.setupAudioTitle(),super.setupTitleWidget()}setupAudioTitle(){var e,t;const i=this.player.model.mediaCollection.meta,r=i.embed,a=this.playerView.querySelector(".ardplayer-audio-subtitle");a&&(a.innerText=(0,n.z3)(i.seriesTitle)?null!==(e=i.subHeading)&&void 0!==e?e:"":i.seriesTitle);const s=this.playerView.querySelector(".ardplayer-audio-title");s&&(s.innerText=(0,n.z3)(i.title)?null!==(t=null==r?void 0:r.title)&&void 0!==t?t:"":i.title)}setupTitleDeeplink(){const e=e=>{e.stopImmediatePropagation(),this.player.loop.dispatchEvent(Zn.TITLE_TEXT_CLICKED,{})},t=this.playerView.querySelector(".ardplayer-audio");t&&(t.tabIndex=-2),(0,n.Af)(t,e,this.player),this.elements.posterBackdropView.tabIndex=-2,(0,n.Af)(this.elements.posterBackdropView,e,this.player)}get isModalViewShown(){return this.bottomSheetOpened}get isMainButtonBarObscured(){return this.addonButtonsVisible||this.isModalViewShown}setSticky(e){return this.player.model.playerConfig.web.isAudioSticky=e,e?!!this.isSticky||!document.documentElement.classList.contains("ardplayer-sticky-visible")&&(this.playerView.classList.add("ardplayer-state-audio-sticky"),document.documentElement.classList.add("ardplayer-sticky-visible"),this.isSticky=!0,this.player.loop.dispatchEvent(Zn.STICKY_STATE_CHANGED,{sticky:this.isSticky}),!0):(this.isSticky&&(this.playerView.classList.remove("ardplayer-state-audio-sticky"),document.documentElement.classList.remove("ardplayer-sticky-visible"),this.isSticky=!1,this.player.loop.dispatchEvent(Zn.STICKY_STATE_CHANGED,{sticky:this.isSticky})),!0)}showAnimation(e){}get singleMenuButtonIsHero(){return!0}setMenuState(e,t){var i,r,a,s,o,l;const d=null!==(r=null===(i=this.playerView)||void 0===i?void 0:i.querySelector("[ardplayer-menu-hero]"))&&void 0!==r?r:null;null==d||d.removeAttribute("ardplayer-menu-hero"),this.playerView.classList.toggle("ardplayer-menu-none",!t&&null==e),this.playerView.classList.toggle("ardplayer-menu-collapse",!t&&null!==e),this.playerView.classList.toggle("ardplayer-menu-hero",t&&null!==e);const c=this.playerView.querySelector(".ardplayer-button-settings-reveal");if(c&&(d&&(null===(a=c.parentElement)||void 0===a?void 0:a.contains(d))&&(null===(s=c.parentElement)||void 0===s||s.removeChild(d)),null!==e))if(t){const t=e.cloneNode(!0);null===(o=c.parentElement)||void 0===o||o.insertBefore(t,c),t.setAttribute("ardplayer-menu-hero",""),(0,n.Af)(t,(()=>{const t=e.tabIndex;e.tabIndex=-2,e.click(),e.tabIndex=t}),this.player)}else null===(l=c.parentElement)||void 0===l||l.insertBefore(e,c),e.setAttribute("ardplayer-menu-hero","")}get shouldRenderPosterframe(){return!1}preparePosterBackdrop(){this.createPosterBackdrop(),this.elements.posterBackdropView.style.display="block"}get CONTROLLER_NAME(){return"AUDIOSTICKY"}};return pt(t,"AudioStickyViewController"),(()=>{var n;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(n=s[Symbol.metadata])&&void 0!==n?n:null):void 0;ut(null,e={value:t},i,{kind:"class",name:t.name,metadata:a},null,r),t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),ht(t,r)})(),t})();function vt(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=mt(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function mt(e){var t=""+e,i=yt.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var yt=/["&<>]/;const gt=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,o,l,d,c,u,h){if(i+='<div class="ardplayer-posterbackdrop">',(!0!==a.web.disablePosterImage||r.isAudioOnly&&(e.isEmbedded||!0!==a.web.isForcedVideoView))&&0!==r.meta.images.length&&(i=i+"<picture><img"+vt("alt",o.posterFrame.imgAlt,!0,!0)+' draggable="false"></picture>'),i+='</div><div class="ardplayer-audio"><h3 class="ardplayer-audio-subtitle"></h3><h2 class="ardplayer-audio-title"></h2></div><div class="ardplayer-buffering"><div class="ardplayer-loader"><div class="ardplayer-loader-inner ardplayer-ball-scale-multiple"><div class="allow-init-animation"></div><div class="allow-init-animation"></div><div class="allow-init-animation"></div></div></div></div><div class="ardplayer-viewport" tabindex="-2" data-initiator-name="viewport"></div><div class="ardplayer-cast-label ardplayer-hidden"></div><div class="ardplayer-viewport-addon-overlays"></div><div class="ardplayer-background"></div><div class="ardplayer-title-container"><div class="ardplayer-title-sizer"><a class="ardplayer-title-widget" tabindex="-2" data-initiator-name="title-widget"><div class="ardplayer-title-widget-img" tabindex="0"><i></i></div><div class="ardplayer-title-widget-link"><span class="ardplayer-icon ardplayer-icon-arrowright"></span></div><i class="ardplayer-icon ardplayer-icon-arrowleft" tabindex="0" data-vertical-nav-offset="-1" data-vertical-nav-abs-pos="true" data-initiator-name="title-widget-button" aria-label="Zurck" role="button"></i><div class="ardplayer-title-widget-text"><p class="ardplayer-title-widget-main"></p><p class="ardplayer-title-widget-byline"></p></div></a></div></div><div class="ardplayer-header"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-center"><div class="ardplayer-buttons-main"><button class="ardplayer-button-replay ardplayer-button-big ardplayer-icon ardplayer-icon-return" tabindex="0" data-initiator-name="button-audioinline-replay"></button><button class="ardplayer-button-playpause ardplayer-button-big ardplayer-icon ardplayer-icon-play" tabindex="0" data-initiator-name="button-audioinline-playpause"></button>',d=h.get(s.JUMP_BACKWARD_VALUE,!1,10),c=h.get(s.JUMP_FORWARD_VALUE,!1,10),i=i+'<button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" tabindex="0"'+vt("data-value",d,!0,!0)+vt("data-initiator-name","quick_seek_"+d,!0,!0)+'></button><button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" tabindex="0"'+vt("data-value",c,!0,!0)+vt("data-initiator-name","quick_seek_"+c,!0,!0)+'></button><button class="ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" tabindex="0" data-initiator-name="button-audioinline-prevclip"></button><button class="ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" tabindex="0" data-initiator-name="button-audioinline-nextclip"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" tabindex="0" data-initiator-name="button-audioinline-skipbackward"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" tabindex="0" data-initiator-name="button-audioinline-skipforward"></button></div></div><div class="ardplayer-footer"><span class="ardplayer-time-playhead" aria-live="off" aria-atomic="true">00:00</span><span class="ardplayer-button ardplayer-time-seek-to-live ardplayer-icon-after ardplayer-icon-after-live-indicator" tabindex="0" data-initiator-name="button-timelabel-jumptolive">LIVE&nbsp;</span><span class="ardplayer-time-remaining" aria-live="off" aria-atomic="true">00:00</span><div class="ardplayer-timeline-container"></div><div class="ardplayer-buttons-main ardplayer-button-big"><div class="ardplayer-button-volume"><button class="ardplayer-icon ardplayer-icon-volume-low" tabindex="0" data-initiator-name="button-volume"></button><div class="ardplayer-volume-fader"><div class="slider-wrapper"><div class="ardplayer-volume-fader-input"></div></div></div></div></div><div class="ardplayer-addons-container-big ardplayer-button-big"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-button-fullscreen-container ardplayer-button-big" data-vertical-nav-offset="2"><button class="ardplayer-button-settings-small ardplayer-icon ardplayer-icon-addons" tabindex="0" data-initiator-name="button-addons"></button><button class="ardplayer-button-settings-reveal ardplayer-icon ardplayer-icon-more" tabindex="0" data-initiator-name="button-settings-reveal"></button><button class="ardplayer-button-fullscreen ardplayer-icon ardplayer-icon-fullscreen" tabindex="0" data-initiator-name="button-fullscreen"></button></div></div><div class="ardplayer-playstate-zoom ardplayer-icon"></div>',"web"===e.platform&&(i=i+'<div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-initiator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+vt("aria-labelledby",`ardplayer-bottom-sheet-title-${u}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+vt("title",o.bottomSheet.backTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+vt("id",`ardplayer-bottom-sheet-title-${u}`,!0,!0)+'>Men</h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+vt("title",o.bottomSheet.closeTitle,!0,!0)+vt("aria-label",o.bottomSheet.closeTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div>'),i+="\x3c!-- only render posterframe dom if needed--\x3e",a.web.isForcedVideoView){i+='<div class="ardplayer-posterframe" tabindex="-2" data-initiator-name="posterframe">',!0!==a.web.disablePosterImage&&0!==r.meta.images.length&&(i=i+"<picture><img"+vt("alt",o.posterFrame.imgAlt,!0,!0)+' draggable="false"></picture>'),!0===a.web.disablePosterTitle||l.isBlank(r.meta.title)||(i=i+'<span class="ardplayer-posterframe-title">'+mt(null==(t=r.meta.title)?"":t)+"</span>"),i+='<div class="ardplayer-posterframe-chips">';const e=r.meta.maturityContentRating;if(l.isNonNullObject(e)&&!0!==e.isBLocked&&(i=i+"<span"+(vt("title",o.metaInfo.ageRestrictionLabel,!0,!0)+vt("aria-label",o.metaInfo.ageRestrictionLabel,!0,!0))+">"+mt(null==(t=`${"fsk"===e.type?"FSK":"AB"} ${e.age}`)?"":t)+"</span>"),!0!==r.meta.hideDuration){const e=r.meta.durationSeconds;l.nullish(e)||e<=0||(i=i+"<span"+(vt("title",o.metaInfo.durationLabel,!0,!0)+vt("aria-label",o.metaInfo.durationLabel,!0,!0))+">"+mt(null==(t=e>=60?n.round(e/60):`${e<10?"00:0":"00:"}${e}`)?"":t)+" Min</span>")}i+='</div><div class="ardplayer-posterframe-buttons"><button class="ardplayer-button-posterframe ardplayer-button-big ardplayer-button-hero ardplayer-icon ardplayer-icon-play" tabindex="0" data-initiator-name="posterframe-button"></button></div></div>'}}.call(this,"Environment"in r?r.Environment:"undefined"!=typeof Environment?Environment:void 0,"MC"in r?r.MC:"undefined"!=typeof MC?MC:void 0,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"PC"in r?r.PC:"undefined"!=typeof PC?PC:void 0,"SettingsStorage"in r?r.SettingsStorage:"undefined"!=typeof SettingsStorage?SettingsStorage:void 0,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"backwardValue"in r?r.backwardValue:"undefined"!=typeof backwardValue?backwardValue:void 0,"forwardValue"in r?r.forwardValue:"undefined"!=typeof forwardValue?forwardValue:void 0,"playerID"in r?r.playerID:"undefined"!=typeof playerID?playerID:void 0,"storage"in r?r.storage:"undefined"!=typeof storage?storage:void 0),i};var bt=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Et=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},wt=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let St=(()=>{let e,t,i=[a.JW],r=[],s=ye;t=class extends s{parcelData(){var e,t;return{playlistParcel:null!==(t=null===(e=this.playlist)||void 0===e?void 0:e.parcelData())&&void 0!==t?t:null}}restoreParceledData(e){var t;null===(t=this.playlist)||void 0===t||t.restoreFromParcel(e)}templateLookupDefinition(){return ge}constructor(e,t){var i,r;super(e,t),this.playlist=null;const n=this.playerView;this.playlist=new lt(this.player,null,(()=>{}),!0),this.controlsVisible=!0,this.addonButtonsVisible=!1,n.classList.add("ardplayer-show-controls","ardplayer-state-audio","ardplayer-state-audio-inline"),null!==(i=e.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i&&n.classList.add("ardplayer-state-audio-forced-video");const a=n.querySelector(".ardplayer-button-settings-reveal");a&&this.onClick(a,(()=>{this.addonButtonsVisible=!this.addonButtonsVisible,this.playerView.classList.toggle("ardplayer-reveal-settings",this.addonButtonsVisible),a.classList.toggle("ardplayer-icon-minus",this.addonButtonsVisible),a.classList.toggle("ardplayer-icon-more",!this.addonButtonsVisible),(0,U.$)(this.player,a,"metasettings",{pressed:this.addonButtonsVisible}),this.updateAccessibleVisibility()})),super.continueConstructingAfterDOMComplete(),this.playerView.classList.add("ardplayer-bs-break"),this.registerMediaQuery(this.playerView,[{maxWidth:413,className:"ardplayer-bs-xs"},{maxWidth:474,className:"ardplayer-bs-s"},{maxWidth:850,className:"ardplayer-bs-m"},{minWidth:1441,className:"ardplayer-bs-xl"}],null!==(r=this.playerView.querySelector(".ardplayer-bottom-sheet-container"))&&void 0!==r?r:void 0)}get playerBreakpoints(){return[{maxWidth:250,className:"ardplayer-xxs"},{maxWidth:320,className:"ardplayer-xs"},{maxWidth:560,className:"ardplayer-s"},{maxWidth:655,className:"ardplayer-m"},{minWidth:1441,className:"ardplayer-xl"},{minHeight:240,className:"ardplayer-vh-l"},{minHeight:275,className:"ardplayer-vh-xl"}]}templateLoader(){return new W.U(gt,this.player)}get POSTER_IMAGE_TYPE_DEFAULT(){return"audio"}static supportsViewForConfigOf(e){var t;return e.isAudio&&(!(null!==(t=e.model.playerConfig.web.isAudioSticky)&&void 0!==t&&t)||C.O.isEmbedded)}finishSetupAfterAddonsLoaded(){}setupTitleWidget(){var e,t,i,r,n,a,s;!(null!==(t=null===(e=this.player.model.mediaCollection.meta.embed)||void 0===e?void 0:e.enabled)&&void 0!==t&&t)||null!==(i=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i?null===(r=this.playerView.querySelector(".ardplayer-title-widget"))||void 0===r||r.remove():(super.renderTitleWidget(!1),null===(n=this.playerView.querySelector(".ardplayer-title-widget-text"))||void 0===n||n.remove()),null!==(a=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==a&&a?null===(s=this.playerView.querySelector(".ardplayer-audio"))||void 0===s||s.remove():this.setupAudioTitle()}setupAudioTitle(){var e,t,i;const r=this.player.model.mediaCollection.meta,a=r.embed,s=this.playerView.querySelector(".ardplayer-audio-subtitle");if(s&&(s.innerText=(0,n.z3)(r.seriesTitle)?null!==(e=r.subHeading)&&void 0!==e?e:"":r.seriesTitle,(0,n.Ed)(r.availableToDateTime))){const e=864e5,t=14*e,i=new Date(r.availableToDateTime).getTime()-Date.now();if(i<=t&&i>0){const t=document.createElement("span");t.className="ardplayer-chip-highlight",t.innerText=`Noch ${Math.ceil(i/e)} Tag${i>e?"e":""}`,s.prepend(t)}}const o=this.playerView.querySelector(".ardplayer-audio-title");o&&(o.innerText=r.embed&&null!==(t=r.embed.enabled)&&void 0!==t&&t&&(0,n.Ed)(r.embed.title)?r.embed.title:(0,n.z3)(r.title)?null!==(i=null==a?void 0:a.title)&&void 0!==i?i:"":r.title)}setSticky(e){return!1}get isModalViewShown(){return this.bottomSheetOpened}get isMainButtonBarObscured(){return this.addonButtonsVisible||this.isModalViewShown}setMenuState(e,t){var i,r,a,s,o,l;const d=null!==(r=null===(i=this.playerView)||void 0===i?void 0:i.querySelector("[ardplayer-menu-hero]"))&&void 0!==r?r:null;null==d||d.removeAttribute("ardplayer-menu-hero"),this.playerView.classList.toggle("ardplayer-menu-none",!t&&null==e),this.playerView.classList.toggle("ardplayer-menu-collapse",!t&&null!==e),this.playerView.classList.toggle("ardplayer-menu-hero",t&&null!==e);const c=this.playerView.querySelector(".ardplayer-button-settings-reveal");if(c&&(d&&(null===(a=c.parentElement)||void 0===a?void 0:a.contains(d))&&(null===(s=c.parentElement)||void 0===s||s.removeChild(d)),null!==e))if(t){const t=e.cloneNode(!0);null===(o=c.parentElement)||void 0===o||o.insertBefore(t,c),t.setAttribute("ardplayer-menu-hero",""),(0,n.Af)(t,(()=>{const t=e.tabIndex;e.tabIndex=-2,e.click(),e.tabIndex=t}),this.player)}else null===(l=c.parentElement)||void 0===l||l.insertBefore(e,c),e.setAttribute("ardplayer-menu-hero","")}showAnimation(e){}get singleMenuButtonIsHero(){return!0}get shouldRenderPosterframe(){var e;return null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e}preparePosterBackdrop(){this.createPosterBackdrop(),this.elements.posterBackdropView.style.display="block"}get CONTROLLER_NAME(){return"AUDIOINLINE"}};return wt(t,"AudioInlineViewController"),(()=>{var n;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(n=s[Symbol.metadata])&&void 0!==n?n:null):void 0;bt(null,e={value:t},i,{kind:"class",name:t.name,metadata:a},null,r),t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),Et(t,r)})(),t})();function Ct(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Tt(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function At(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",n="",a=Array.isArray(t),s=0;s<e.length;s++)(i=At(e[s]))&&(a&&t[s]&&(i=Tt(i)),r=r+n+i,n=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var r in e)r&&e[r]&&It.call(e,r)&&(t=t+i+r,i=" ");return t}(e):e||""}function Tt(e){var t=""+e,i=kt.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var It=Object.prototype.hasOwnProperty,kt=/["&<>]/;const Lt=function(e){var t,i="",r={},n=e||{};return function(e,n,a,s,o,l,d,c,u,h,p){i+='<div class="ardplayer-posterbackdrop">',(!0!==s.web.disablePosterImage||n.isAudioOnly&&(e.isEmbedded||!0!==s.web.isForcedVideoView))&&0!==n.meta.images.length&&(i=i+"<picture><img"+Ct("alt",l.posterFrame.imgAlt,!0,!0)+' draggable="false"></picture>'),i+='</div><div class="ardplayer-viewport" tabindex="-2" data-initiator-name="viewport"></div><div class="ardplayer-cast-label ardplayer-hidden"></div><div class="ardplayer-viewport-addon-overlays"></div><div class="ardplayer-background"></div><div class="ardplayer-title-container"><div class="ardplayer-title-sizer"><a class="ardplayer-title-widget" tabindex="-2" data-initiator-name="title-widget"><div class="ardplayer-title-widget-img" tabindex="0"><i></i></div><div class="ardplayer-title-widget-link"><span class="ardplayer-icon ardplayer-icon-arrowright"></span></div><i class="ardplayer-icon ardplayer-icon-arrowleft" tabindex="0" data-vertical-nav-offset="-1" data-vertical-nav-abs-pos="true" data-initiator-name="title-widget-button" aria-label="Zurck" role="button"></i><div class="ardplayer-title-widget-text"><p class="ardplayer-title-widget-main"></p><p class="ardplayer-title-widget-byline"></p></div></a></div></div><div class="ardplayer-header"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-center"><div class="ardplayer-buttons-main">',r.centerButtons=t=function(e=!1){this&&this.block,this&&this.attributes;i+='<button class="error-interactive ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-prevclip"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-skipbackward"></button>',c=p.get(o.JUMP_BACKWARD_VALUE,!1,10),i=i+'<button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" tabindex="0"'+Ct("data-value",c,!0,!0)+Ct("data-initiator-name","quick_seek_"+c,!0,!0)+"></button><button"+Ct("class",At([["ardplayer-button-replay","ardplayer-button-big","ardplayer-icon","ardplayer-icon-return",e?"ardplayer-button-hero":void 0]],[!0]),!1,!0)+' tabindex="0" data-initiator-name="button-center-replay"></button><button'+Ct("class",At([["ardplayer-button-playpause","ardplayer-button-big","ardplayer-icon","ardplayer-icon-play",e?"ardplayer-button-hero":void 0]],[!0]),!1,!0)+' tabindex="0" data-initiator-name="button-center-playpause"></button>',u=p.get(o.JUMP_FORWARD_VALUE,!1,10),i=i+'<button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" tabindex="0"'+Ct("data-value",u,!0,!0)+Ct("data-initiator-name","quick_seek_"+u,!0,!0)+'></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-skipforward"></button><button class="error-interactive ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-nextclip"></button>'},r.centerButtons(),i=i+'</div></div><div class="ardplayer-footer"><span class="ardplayer-time-playhead" aria-live="off" aria-atomic="true">00:00</span><span class="ardplayer-button ardplayer-time-seek-to-live ardplayer-icon-after ardplayer-icon-after-live-indicator" tabindex="0" data-initiator-name="button-timelabel-jumptolive">LIVE&nbsp;</span><span class="ardplayer-time-remaining" aria-live="off" aria-atomic="true">00:00</span><div class="ardplayer-timeline-container"></div><div class="ardplayer-buttons-main ardplayer-button-big"><button class="ardplayer-button-replay ardplayer-icon ardplayer-icon-return" tabindex="0" data-initiator-name="button-footer-replay"></button><button class="ardplayer-button-playpause ardplayer-icon ardplayer-icon-play" tabindex="0" data-initiator-name="button-footer-playpause"></button>\x3c!--button.ardplayer-button-skipbackward.ardplayer-icon.ardplayer-icon-skipbackward.ardplayer-button-disabled(tabindex=\'0\', data-initiator-name=\'button-footer-skipbackward\')--\x3e\x3c!--button.ardplayer-button-skipforward.ardplayer-icon.ardplayer-icon-skipforward.ardplayer-button-disabled(tabindex=\'0\', data-initiator-name=\'button-footer-skipforward\')--\x3e<button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" tabindex="0"'+Ct("data-value",c,!0,!0)+Ct("data-initiator-name","quick_seek_"+c,!0,!0)+'></button><button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" tabindex="0"'+Ct("data-value",u,!0,!0)+Ct("data-initiator-name","quick_seek_"+u,!0,!0)+'></button><button class="ardplayer-button-jumptolive ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" tabindex="0" data-initiator-name="button-footer-jumptolive"></button><div class="ardplayer-button-volume"><button class="ardplayer-icon ardplayer-icon-volume-low" tabindex="0" data-initiator-name="button-volume"></button><div class="ardplayer-volume-fader"><div class="slider-wrapper"><div class="ardplayer-volume-fader-input"></div></div></div></div></div><div class="ardplayer-addons-container-big ardplayer-button-big"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-button-fullscreen-container ardplayer-button-big" data-vertical-nav-offset="2"><button class="ardplayer-button-settings-small ardplayer-icon ardplayer-icon-addons" tabindex="0" data-initiator-name="button-addons"></button><button class="ardplayer-button-settings-reveal ardplayer-icon ardplayer-icon-more" tabindex="0" data-initiator-name="button-settings-reveal"></button><button class="ardplayer-button-fullscreen ardplayer-icon ardplayer-icon-fullscreen" tabindex="0" data-initiator-name="button-fullscreen"></button></div></div><div class="ardplayer-seeking-indicator"><div><div><div></div></div></div></div><div class="ardplayer-playstate-zoom ardplayer-icon"></div><div class="ardplayer-video-zoom"></div><div class="ardplayer-buffering"><div class="ardplayer-loader"><div class="ardplayer-loader-inner ardplayer-ball-scale-multiple"><div class="allow-init-animation"></div><div class="allow-init-animation"></div><div class="allow-init-animation"></div></div></div></div>',"web"===e.platform&&(i=i+'<div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-initiator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+Ct("aria-labelledby",`ardplayer-bottom-sheet-title-${h}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+Ct("title",l.bottomSheet.backTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+Ct("id",`ardplayer-bottom-sheet-title-${h}`,!0,!0)+'>Men</h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+Ct("title",l.bottomSheet.closeTitle,!0,!0)+Ct("aria-label",l.bottomSheet.closeTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div>'),i+='<div class="ardplayer-posterframe" tabindex="-2" data-initiator-name="posterframe">',!0!==s.web.disablePosterImage&&0!==n.meta.images.length&&(i=i+"<picture><img"+Ct("alt",l.posterFrame.imgAlt,!0,!0)+' draggable="false"></picture>'),!0===s.web.disablePosterTitle||d.isBlank(n.meta.title)||(i=i+'<span class="ardplayer-posterframe-title">'+Tt(null==(t=n.meta.title)?"":t)+"</span>"),i+='<div class="ardplayer-posterframe-chips">';const f=n.meta.maturityContentRating;if(d.isNonNullObject(f)&&!0!==f.isBLocked&&(i=i+"<span"+(Ct("title",l.metaInfo.ageRestrictionLabel,!0,!0)+Ct("aria-label",l.metaInfo.ageRestrictionLabel,!0,!0))+">"+Tt(null==(t=`${"fsk"===f.type?"FSK":"AB"} ${f.age}`)?"":t)+"</span>"),!0!==n.meta.hideDuration){const e=n.meta.durationSeconds;d.nullish(e)||e<=0||(i=i+"<span"+(Ct("title",l.metaInfo.durationLabel,!0,!0)+Ct("aria-label",l.metaInfo.durationLabel,!0,!0))+">"+Tt(null==(t=e>=60?a.round(e/60):`${e<10?"00:0":"00:"}${e}`)?"":t)+" Min</span>")}i+='</div><div class="ardplayer-posterframe-buttons"><button class="ardplayer-button-posterframe ardplayer-button-big ardplayer-button-hero ardplayer-icon ardplayer-icon-play" tabindex="0" data-initiator-name="posterframe-button"></button></div></div>'}.call(this,"Environment"in n?n.Environment:"undefined"!=typeof Environment?Environment:void 0,"MC"in n?n.MC:"undefined"!=typeof MC?MC:void 0,"Math"in n?n.Math:"undefined"!=typeof Math?Math:void 0,"PC"in n?n.PC:"undefined"!=typeof PC?PC:void 0,"SettingsStorage"in n?n.SettingsStorage:"undefined"!=typeof SettingsStorage?SettingsStorage:void 0,"Strings"in n?n.Strings:"undefined"!=typeof Strings?Strings:void 0,"Utils"in n?n.Utils:"undefined"!=typeof Utils?Utils:void 0,"backwardValue"in n?n.backwardValue:"undefined"!=typeof backwardValue?backwardValue:void 0,"forwardValue"in n?n.forwardValue:"undefined"!=typeof forwardValue?forwardValue:void 0,"playerID"in n?n.playerID:"undefined"!=typeof playerID?playerID:void 0,"storage"in n?n.storage:"undefined"!=typeof storage?storage:void 0),i};var Pt=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},xt=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},_t=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},Ot=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},Mt=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let Dt=(()=>{var e,t,i;let r,s,o=[a.JW],l=[],d=me;s=class extends d{constructor(r,a){super(r,a),this.viewportMultiClick=!1,this.viewportMultiTimeout=-1,e.set(this,"CONTAIN"),t.set(this,0),i.set(this,0),this.handleViewportClick=e=>{var t;if("dblclick"!==e.type)if(this.player&&C.O.isMobileDevice&&(!this.player.model.mediaCollection.isLive||this.dvrState.enabledAndRequested)){e.stopImmediatePropagation(),e.preventDefault(),clearTimeout(this.viewportMultiTimeout);const t=this.player.model.duration;if(this.viewportMultiClick&&t>0){const i=(0,n.ku)(e,this.playerView),r=this.playerView.offsetWidth,a=this.player.model.time;i.left<.5*r?(this.player.seekToInternal(Math.max(a-10,0)),this.showAnimation("seekback")):(this.player.seekToInternal(Math.min(a+10,t)),this.showAnimation("seekfwd")),this.setOutDelayed(),this.viewportMultiTimeout=this.player.safeTimeout((()=>{this.viewportMultiClick=!1}),me.MULTI_CLICK_DELAY)}else this.viewportMultiClick=!0,this.viewportMultiTimeout=this.player.safeTimeoutWithContext(this.player.executionContext,(()=>{this.handleViewportClickNow()}),me.MULTI_CLICK_DELAY)}else C.O.isMobileDevice?this.handleViewportClickNow():(e.stopImmediatePropagation(),e.preventDefault(),clearTimeout(this.viewportMultiTimeout),this.viewportMultiClick?(this.viewportMultiClick=!1,null===(t=this.player.pixelController)||void 0===t||t.triggerFullscreenToggleMouse(),this.player.setFullscreenInternal(!this.player.isFullscreen)):(this.viewportMultiClick=!0,this.viewportMultiTimeout=this.player.safeTimeoutWithContext(this.player.executionContext,(()=>{this.handleViewportClickNow()}),me.MULTI_CLICK_DELAY)))};const s=this.playerView,o=s.querySelector(".ardplayer-playstate-zoom"),l=s.querySelector(".ardplayer-footer .ardplayer-buttons-main"),d=s.querySelector(".ardplayer-button-fullscreen"),c=s.querySelector(".ardplayer-seeking-indicator"),u=s.querySelector(".ardplayer-video-zoom"),h=s.querySelector(".ardplayer-time-seek-to-live");if(null==o||null==l||null==d||null==c||null==u||null==h)throw new Error("template dom invalid");if(this.playstateZoom=o,this.mainButtons=l,this.btnFullscreen=d,this.seekIndicator=c,this.zoomIndicator=u,this.timeSeekToLiveLabel=h,this.onClick(this.btnFullscreen,(()=>{var e;null===(e=this.player.pixelController)||void 0===e||e.triggerFullscreenToggleMouse(),this.player.setFullscreenInternal(!this.player.isFullscreen)})),this.elements.btnJumpToLive.push(h),this.registerPlayerEvent(Zn.TOGGLE_FULLSCREEN,(e=>{this.applyFullscreenState(e.fullscreen)})),this.onClick(this.elements.viewport,this.handleViewportClick),this.addEventListener(this.elements.viewport,"dblclick",this.handleViewportClick),this.addEventListener(this.playstateZoom,"animationend",(function(){this.classList.remove("ardplayer-icon-play","ardplayer-icon-pause")})),this.addEventListener(this.seekIndicator,"animationend",(function(){this.classList.remove("ardplayer-seek-anim-forward","ardplayer-seek-anim-back")})),this.addEventListener(this.zoomIndicator,"animationend",(function(){this.classList.remove("ardplayer-video-zoom-inward","ardplayer-video-zoom-outward")})),this.player.model.playerConfig.web.isForcedVideoView&&!C.O.isMobileDevice){const e=document.createElement(this.elements.volumeContainer[0].tagName);e.className=this.elements.volumeContainer[0].className,e.innerHTML=this.elements.volumeContainer[0].innerHTML,e.classList.add("ardplayer-show-s","ardplayer-control"),e.style.position="absolute";const t=e.querySelector(".ardplayer-button-volume button"),i=e.querySelector(".ardplayer-volume-fader-input");if(null==t||null==i)return;this.elements.volumeBtn.push(t),this.elements.volumeThumbInput.push(i),s.insertBefore(e,s.querySelector(".ardplayer-title-container, .ardplayer.header, .ardplayer-center")),this.elements.volumeContainer.push(e),this.elements.bottomSheetAriaModals.push(e)}super.continueConstructingAfterDOMComplete()}templateLookupDefinition(){return ge}get playerBreakpoints(){return(!C.O.isEmbedded&&!C.O.isMobileDevice||C.O.isAndroidTV?super.playerBreakpoints:[{maxWidth:413,className:"ardplayer-xs"},{maxWidth:599,className:"ardplayer-s"},{minWidth:600,className:"ardplayer-sm"}]).concat([{maxHeight:370,className:"ardplayer-vh-xs"},{maxHeight:465,className:"ardplayer-vh-s"},{maxHeight:540,className:"ardplayer-vh-m"},{maxHeight:680,className:"ardplayer-vh-l"},{minHeight:770,className:"ardplayer-vh-xl"}])}static supportsViewForConfigOf(e){return!e.isAudio}get supportsFullscreen(){return!0}templateLoader(){return new W.U(Lt,this.player)}get POSTER_IMAGE_TYPE_DEFAULT(){return"preview"}get isModalViewShown(){return this.bottomSheetOpened||this.posterFrameVisible}get isMainButtonBarObscured(){return this.isModalViewShown}parcelData(){let e="";if(this.mediaCanvas instanceof HTMLVideoElement){const t=document.createElement("canvas");t.width=this.mediaCanvas.videoWidth,t.height=this.mediaCanvas.videoHeight;const i=t.getContext("2d");i&&(i.globalAlpha=.7,i.drawImage(this.mediaCanvas,0,0,t.width,t.height)),e=t.toDataURL("image/png"),(0,n.Ed)(e)&&(this.playerView.style.backgroundImage=`url('${e}')`)}return{showingLastVideoFrame:(0,n.Ed)(e)}}restoreParceledData(e){if(e.showingLastVideoFrame){const e=()=>{this.playerView.style.backgroundImage="none",this.player.loop.removeEventListener(Zn.EVENT_INITIAL_FRAME,e);const t=this.listenerDisposers.indexOf(e);t>=0&&(this.listenerDisposers[t]=null)};this.player.loop.addEventListener(Zn.EVENT_INITIAL_FRAME,e),this.listenerDisposers.push(e)}this.player.isFullscreen&&this.player.safeTimeout((()=>{this.applyFullscreenState(!0)}))}finishSetupAfterAddonsLoaded(){if(C.O.isMobileDevice&&!C.O.isEmbedded){let e=0,t=-1;this.addEventListener(this.playerView,"touchstart",(t=>{e=Math.max(e,t.touches.length)})),this.addEventListener(this.playerView,"touchmove",(i=>{if(2===e&&2===i.touches.length){const e=Math.abs(i.touches[0].clientX-i.touches[1].clientX),r=Math.abs(i.touches[0].clientY-i.touches[1].clientY),n=Math.sqrt(e*e+r*r);-1!==t?Math.abs(n-t)>50&&(n<t?this.player.setVideoScaleInternal("CONTAIN"):this.player.setVideoScaleInternal("COVER"),t=n):t=n}})),this.addEventListener(this.playerView,"touchend",(i=>{0===i.touches.length&&(e=0,t=-1)})),this.addEventListener(this.playerView,"touchcancel",(i=>{0===i.touches.length&&(e=0,t=-1)}))}}setVideoScale(t){if(Ot(this,e,t,"f"),this.player.isFullscreen){const e=this.player.getCtrl();if(null!=e){const i=this.player.model.videoScaleMode!==t;e.videoScale=t,i&&this.showAnimation("COVER"===t?"scale_cover":"scale_contain")}else this.player.model.videoScaleMode=t}}setSticky(e){return!1}toggleTitleWidgetHidden(e){var t,i,r;null!==(i=null===(t=this.player.model.mediaCollection.meta.embed)||void 0===t?void 0:t.enabled)&&void 0!==i&&i?this.playerView.classList.toggle("ardplayer-embedded",!e):null!==(r=this.player.model.playerConfig.web.enableBackButton)&&void 0!==r&&r&&this.playerView.classList.toggle("ardplayer-showback",!e)}updateTime(e){var t,i;super.updateTime(e),null!==(i=null===(t=this.player)||void 0===t?void 0:t.isLive)&&void 0!==i&&i&&(this.timeSeekToLiveLabel.classList.toggle("ardplayer-icon-after-live-indicator",this.timeSeekToLiveLabel.classList.contains("ardplayer-button-disabled")),this.timeSeekToLiveLabel.classList.toggle("ardplayer-icon-after-nextclip",!this.timeSeekToLiveLabel.classList.contains("ardplayer-button-disabled")))}showAnimation(e){switch(e){case"play":this.playstateZoom.classList.remove("ardplayer-icon-pause"),this.playerView.classList.contains("ardplayer-s")||this.playstateZoom.classList.add("ardplayer-icon-play");break;case"pause":this.playstateZoom.classList.remove("ardplayer-icon-play"),this.playerView.classList.contains("ardplayer-s")||this.playstateZoom.classList.add("ardplayer-icon-pause");break;case"seekfwd":{const e=performance.now();if(e-Mt(this,t,"f")<300)return;Ot(this,t,e,"f"),requestAnimationFrame((()=>{this.seekIndicator.classList.remove("ardplayer-seek-anim-forward","ardplayer-seek-anim-back"),requestAnimationFrame((()=>{this.seekIndicator.classList.add("ardplayer-seek-anim-forward")}))}));break}case"seekback":{const e=performance.now();if(e-Mt(this,i,"f")<300)return;Ot(this,i,e,"f"),requestAnimationFrame((()=>{this.seekIndicator.classList.remove("ardplayer-seek-anim-forward","ardplayer-seek-anim-back"),requestAnimationFrame((()=>{this.seekIndicator.classList.add("ardplayer-seek-anim-back")}))}));break}case"scale_contain":case"scale_cover":this.zoomIndicator.classList.toggle("ardplayer-video-zoom-inward","scale_contain"===e),this.zoomIndicator.classList.toggle("ardplayer-video-zoom-outward","scale_contain"!==e)}}get singleMenuButtonIsHero(){return!1}setMenuState(e,t){var i,r;const n=null!==(r=null===(i=this.playerView)||void 0===i?void 0:i.querySelector("[ardplayer-menu-hero]"))&&void 0!==r?r:null;null==n||n.removeAttribute("ardplayer-menu-hero"),this.timeline.container.parentElement&&(e&&e.setAttribute("ardplayer-menu-hero",""),C.O.isAndroidTV?(n&&this.mainButtons.contains(n)&&this.mainButtons.removeChild(n),e&&this.mainButtons.appendChild(e)):(n&&n!==e&&(delete n.dataset.verticalNavAfter,delete n.dataset.verticalNavAbsPos,this.timeline.container.parentElement.contains(n)&&n.remove()),this.timeline.container.parentElement.classList.toggle("ardplayer-controlbar-hero",null!==e),e&&(e.dataset.verticalNavAfter=".ardplayer-controlbar",e.dataset.verticalNavAbsPos="true",e.classList.add("ardplayer-button-big"),this.timeline.container.nextElementSibling?this.timeline.container.parentElement.insertBefore(e,this.timeline.container.nextElementSibling):this.timeline.container.parentElement.appendChild(e))))}setupAccessibility(){super.setupAccessibility(),(0,U.$)(this.player,this.btnFullscreen,this.player.isFullscreen?"fullscreen-off":"fullscreen-on",{pressed:!1})}handleViewportClickNow(){var e;clearTimeout(this.viewportMultiTimeout),this.viewportMultiClick=!1;const t=null===(e=this.player)||void 0===e?void 0:e.getCtrl();if(this.player&&null!==t){if(C.O.isEmbedded||C.O.isMobileDevice)return void(this.isOut&&!this.controlsVisible?this.setOver():this.setOut(!0));t.isPlaying()?C.O.isMobileDevice&&!this.controlsVisible?this.setOver():(this.player.pixelController.triggerPixel(S.k.IA_MOUSE_PAUSE_VIEWPORT),this.player.pixelController.triggerPixel(S.k.SUPER_PAUSE),t.pause(),this.showAnimation("pause")):(t.isAtEnd?this.player.pixelController.triggerPixel(S.k.IA_MOUSE_PLAY_AGAIN_VIEWPORT):(this.player.pixelController.triggerPixel(S.k.IA_MOUSE_PLAY_VIEWPORT),this.player.pixelController.triggerPixel(S.k.SUPER_PLAY)),t.play(),this.showAnimation("play"))}}applyFullscreenState(t){this.playerView.classList.toggle("ardplayer-state-fullscreen",t),this.btnFullscreen.classList.toggle("ardplayer-icon-smallscreen",t),this.btnFullscreen.classList.toggle("ardplayer-icon-fullscreen",!t),(0,U.$)(this.player,this.btnFullscreen,t?"fullscreen-off":"fullscreen-on",{pressed:!1});const i=this.player.getCtrl(),r=t?Mt(this,e,"f"):"CONTAIN";i?i.videoScale=r:this.player.model.videoScaleMode=r,this.setOver()}get shouldRenderPosterframe(){return!0}preparePosterBackdrop(){this.createPosterBackdropDeferred()}get CONTROLLER_NAME(){return"VIDEO"}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,_t(s,"VideoViewController"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=d[Symbol.metadata])&&void 0!==e?e:null):void 0;Pt(null,r={value:s},o,{kind:"class",name:s.name,metadata:t},null,l),s=r.value,t&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t}),xt(s,l)})(),s})();function Rt(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Ut(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Nt(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",n="",a=Array.isArray(t),s=0;s<e.length;s++)(i=Nt(e[s]))&&(a&&t[s]&&(i=Ut(i)),r=r+n+i,n=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var r in e)r&&e[r]&&Vt.call(e,r)&&(t=t+i+r,i=" ");return t}(e):e||""}function Ut(e){var t=""+e,i=jt.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Vt=Object.prototype.hasOwnProperty,jt=/["&<>]/;const Bt=function(e){var t,i="",r={},n=e||{};return function(e,n,a,s,o,l,d,c,u){i+='<canvas class="ardplayer-image-background" style="opacity:0" aria-hidden="true"></canvas><div class="ardplayer-ci-background"></div><div class="ardplayer-posterbackdrop">',(!0!==a.web.disablePosterImage||n.isAudioOnly&&(e.isEmbedded||!0!==a.web.isForcedVideoView))&&0!==n.meta.images.length&&(i=i+"<picture><img"+Rt("alt",o.posterFrame.imgAlt,!0,!0)+' draggable="false"></picture>'),i=i+'</div><div class="ardplayer-viewport" tabindex="-2" data-initiator-name="viewport"></div><div class="ardplayer-cast-label ardplayer-hidden"></div><div class="ardplayer-viewport-addon-overlays"></div><div class="ardplayer-background"></div><div class="ardplayer-audio-top-row ardplayer-color-bleed-ci-contrast"><button class="ardplayer-icon-arrow-minimize ardplayer-icon" tabindex="0"></button><span class="ardplayer-top-row-station">\x3c!-- filled dynamically with publicationService.name--\x3e</span></div><div class="ardplayer-mini-player ardplayer-ci-contrast ardplayer-mini-player-bottom error-interactive" tabindex="0"><picture class="ardplayer-mini-player-poster"><img'+Rt("alt",o.posterFrame.imgAlt,!0,!0)+'></picture><div class="ardplayer-mini-player-top-row-container"><div class="ardplayer-mini-player-title-container error-interactive"><div class="ardplayer-mini-player-title-line-container">\x3c!-- .ardplayer-title-chip Live - inserted dynamically by controller--\x3e<div class="ardplayer-marquee-container"><h2 class="ardplayer-mini-player-title"></h2></div></div><div class="ardplayer-marquee-container"><h3 class="ardplayer-mini-player-subtitle"></h3></div></div><div class="ardplayer-mini-player-controls"><button class="ardplayer-button-jumpbackward ardplayer-icon-jumpbackward ardplayer-icon" tabindex="0" data-initiator-name="button-mini-jumpbackward"></button><button class="ardplayer-button-playpause ardplayer-icon ardplayer-icon-play" tabindex="0" data-initiator-name="button-mini-playpause"></button><button class="ardplayer-button-replay ardplayer-icon ardplayer-icon-return" tabindex="0" data-initiator-name="button-mini-replay"></button><button class="error-interactive ardplayer-button-nextclip ardplayer-icon-nextclip ardplayer-icon" tabindex="0" data-initiator-name="button-mini-nextclip"></button></div></div><div class="ardplayer-mini-player-progress"><div class="ardplayer-mini-player-progress-bar"></div></div><div class="ardplayer-mini-player-close error-interactive" tabindex="-2" data-initiator-name="button-mini-close" role="button"><span class="ardplayer-mini-player-close-title">'+Ut(null==(t=o.audioApp.closePlayer)?"":t)+'</span></div></div><div class="ardplayer-audio-title-container"><div class="ardplayer-title-chips-container">\x3c!-- filled dynamically from metadata--\x3e</div><h2 class="ardplayer-audio-title error-interactive"></h2><h3 class="ardplayer-audio-subtitle error-interactive"></h3></div><div class="ardplayer-dynamic-menu-button-container"><button class="ardplayer-dynamic-menu-button"><i class="ardplayer-icon-more ardplayer-icon"></i></button></div>\x3c!-- empty--\x3e<div class="ardplayer-center"><div class="ardplayer-buttons-main"><button class="ardplayer-button-skipbackward ardplayer-button-skipbackward-labeled ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-skipbackward"></button>',r.centerButtons=t=function(e=!1){this&&this.block,this&&this.attributes;i+='<button class="error-interactive ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-prevclip"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-skipbackward"></button>',l=u.get(s.JUMP_BACKWARD_VALUE,!1,10),i=i+'<button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" tabindex="0"'+Rt("data-value",l,!0,!0)+Rt("data-initiator-name","quick_seek_"+l,!0,!0)+"></button><button"+Rt("class",Nt([["ardplayer-button-replay","ardplayer-button-big","ardplayer-icon","ardplayer-icon-return",e?"ardplayer-button-hero":void 0]],[!0]),!1,!0)+' tabindex="0" data-initiator-name="button-center-replay"></button><button'+Rt("class",Nt([["ardplayer-button-playpause","ardplayer-button-big","ardplayer-icon","ardplayer-icon-play",e?"ardplayer-button-hero":void 0]],[!0]),!1,!0)+' tabindex="0" data-initiator-name="button-center-playpause"></button>',d=u.get(s.JUMP_FORWARD_VALUE,!1,10),i=i+'<button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" tabindex="0"'+Rt("data-value",d,!0,!0)+Rt("data-initiator-name","quick_seek_"+d,!0,!0)+'></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-skipforward"></button><button class="error-interactive ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" title="" tabindex="0" data-initiator-name="button-center-nextclip"></button>'},r.centerButtons(!0),i=i+'<button class="ardplayer-button-jumptolive ardplayer-button-jumptolive-labeled ardplayer-icon-after ardplayer-icon-after-nextclip ardplayer-button-disabled" tabindex="0" data-initiator-name="button-center-jumptolive"></button></div></div><div class="ardplayer-addons-container-big ardplayer-button-big"><div class="ardplayer-addons-container"></div></div><div class="ardplayer-footer"><span class="ardplayer-time-playhead" aria-live="off" aria-atomic="true">00:00</span><span class="ardplayer-button ardplayer-time-seek-to-live ardplayer-icon-after ardplayer-icon-after-live-indicator" tabindex="0" data-initiator-name="button-timelabel-jumptolive">LIVE&nbsp;</span><span class="ardplayer-time-remaining" aria-live="off" aria-atomic="true">00:00</span><div class="ardplayer-timeline-container"></div>\x3c!-- empty--\x3e\x3c!-- empty--\x3e\x3c!-- empty--\x3e</div><div class="ardplayer-drawer"><div class="ardplayer-drawer-handle"></div><h1 class="ardplayer-drawer-heading" tabindex="0" role="button" aria-pressed="false"'+Rt("id",`ardplayer-drawer-sheet-title-${c}`,!0,!0)+Rt("aria-controls",`ardplayer-drawer-sheet-${c}`,!0,!0)+'></h1><div class="ardplayer-drawer-content" role="dialog" aria-modal="false"'+Rt("id",`ardplayer-drawer-sheet-${c}`,!0,!0)+Rt("aria-labelledby",`ardplayer-drawer-sheet-title-${c}`,!0,!0)+'></div></div><div class="ardplayer-buffering"><div class="ardplayer-loader"><div class="ardplayer-loader-inner ardplayer-ball-scale-multiple"><div class="allow-init-animation"></div><div class="allow-init-animation"></div><div class="allow-init-animation"></div></div></div></div>',"web"===e.platform&&(i=i+'<div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-initiator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+Rt("aria-labelledby",`ardplayer-bottom-sheet-title-${c}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+Rt("title",o.bottomSheet.backTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+Rt("id",`ardplayer-bottom-sheet-title-${c}`,!0,!0)+'>Men</h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+Rt("title",o.bottomSheet.closeTitle,!0,!0)+Rt("aria-label",o.bottomSheet.closeTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div>'),i+="\x3c!-- - empty--\x3e"}.call(this,"Environment"in n?n.Environment:"undefined"!=typeof Environment?Environment:void 0,"MC"in n?n.MC:"undefined"!=typeof MC?MC:void 0,"PC"in n?n.PC:"undefined"!=typeof PC?PC:void 0,"SettingsStorage"in n?n.SettingsStorage:"undefined"!=typeof SettingsStorage?SettingsStorage:void 0,"Strings"in n?n.Strings:"undefined"!=typeof Strings?Strings:void 0,"backwardValue"in n?n.backwardValue:"undefined"!=typeof backwardValue?backwardValue:void 0,"forwardValue"in n?n.forwardValue:"undefined"!=typeof forwardValue?forwardValue:void 0,"playerID"in n?n.playerID:"undefined"!=typeof playerID?playerID:void 0,"storage"in n?n.storage:"undefined"!=typeof storage?storage:void 0),i};function Ft(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Ht(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Ht(e){var t=""+e,i=Wt.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Wt=/["&<>]/;const zt=function(e){var t,i="",r=e||{};return function(e){i=i+'<div class="ardplayer-playlist-next-episode"><span aria-hidden="true">'+Ht(null==(t=e.playlist.autoplay)?"":t)+'</span><label class="ardplayer-playlist-next-episode-toggle"'+Ft("title",e.playlist.autoplay,!0,!0)+Ft("aria-label",e.playlist.autoplay,!0,!0)+'><div class="ardplayer-playlist-next-episode-toggle-container"><input type="checkbox" data-initiator-name="playlist-autoplay-toggle"><div class="ardplayer-playlist-next-episode-toggle-thumb"></div></div></label></div><h2 class="ardplayer-playlist-block-title" aria-hidden="true">'+Ht(null==(t=e.playlist.listTitle)?"":t)+'</h2><div class="ardplayer-playlist-item-list" role="grid" aria-multiselectable="true"'+Ft("aria-label",e.playlist.listTitle,!0,!0)+'><p class="playlist-item-placeholder"><span>'+Ht(null==(t=e.playlist.emptyStateHeading)?"":t)+"</span><span>"+Ht(null==(t=e.playlist.emptyState)?"":t)+"</span></p></div>"}.call(this,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0),i};function Gt(e){var t=""+e,i=$t.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var $t=/["&<>]/;const Yt=function(e){var t,i="",r=e||{};return function(e){i=i+'<div class="ardplayer-playlist-actions allow-init-animation" aria-hidden="true" role="menu" aria-live="polite"><button class="ardplayer-playlist-delete allow-init-animation" tabindex="-1" role="menuitem">'+Gt(null==(t=e.playlist.deleteItem)?"":t)+'</button><button class="ardplayer-playlist-select-toggle allow-init-animation" tabindex="-1" role="menuitem">'+Gt(null==(t=e.playlist.selectAll)?"":t)+'</button><button class="ardplayer-playlist-add allow-init-animation" tabindex="-1" role="menuitem">'+Gt(null==(t=e.playlist.addItem)?"":t)+"</button></div>"}.call(this,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0),i};function Kt(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=qt(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function qt(e){var t=""+e,i=Jt.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Jt=/["&<>]/;const Qt=function(e){var t,i="",r=e||{};return function(e,r,n,a){i=i+'<div tabindex="-2" data-initiator-name="stationTitle"'+Kt("title",a,!0,!0)+">",i=e.isBlank(r)?i+"<span>"+qt(null==(t=a)?"":t)+"</span>":i+"<img"+(Kt("src",r,!0,!0)+Kt("alt",a,!0,!0))+' draggable="false">',n&&(i+='<i class="ardplayer-icon ardplayer-icon-arrowdown"></i>'),i+="</div>"}.call(this,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"iconUrl"in r?r.iconUrl:"undefined"!=typeof iconUrl?iconUrl:void 0,"showFavoritesButton"in r?r.showFavoritesButton:"undefined"!=typeof showFavoritesButton?showFavoritesButton:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),i};class Zt{constructor(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=this}}const Xt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],ei=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];var ti=i(86876);class ii{static get isNative(){var e;return C.O.isEmbedded&&"function"==typeof(null===(e=window.controller)||void 0===e?void 0:e.performHaptics)}static get isAvailable(){return ii.isNative||"function"==typeof navigator.vibrate}static perform(e){var t;this.isNative?null===(t=window.controller)||void 0===t||t.performHaptics(e):this.isAvailable&&navigator.vibrate(this.lookupPattern(e))}static lookupPattern(e){switch(e){case"SELECT_TICK":return[3];case"CLICK":return[5]}}}var ri,ni,ai,si,oi,li,di,ci,ui,hi,pi,fi,vi,mi,yi=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},gi=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};const bi=44,Ei=4,wi=6,Si=3,Ci=26,Ai=31,Ti=40,Ii=4,ki=2,Li=60,Pi=20,xi=.75,_i=2,Oi=4,Mi=4,Di=2,Ri=30,Ni=2,Ui=2,Vi=2,ji=16,Bi=18,Fi=6,Hi=16,Wi=600,zi=300,Gi=-2.3,$i=.2;class Yi extends H{get currentPosition(){return this.actualCurrentPosition}get positionAnimating(){return this._positionAnimating}set positionAnimating(e){this._positionAnimating=e,e||(this.positionAnimatingForExternalChange||this.hoverListeners.forEach((e=>{var t;null===(t=e.handleTimelinePreviewEnd)||void 0===t||t.call(e,this.isKeyboardSeeking)})),this.positionAnimatingForExternalChange=!1)}get animatedCurrentPosition(){return this._animatedCurrentPosition}set animatedCurrentPosition(e){this._animatedCurrentPosition=e,this.positionAnimating&&!this.positionAnimatingForExternalChange&&this.hoverListeners.forEach((t=>{t.handleTimelinePreview(100*(e-this.windowStart)/(this.windowEnd-this.windowStart),e,this.isKeyboardSeeking)}))}get currentRenderedPosition(){return this.positionAnimating?this.animatedCurrentPosition:this.actualCurrentPosition}constructor(e,t,i,r,a,s){super(e,t,i,r,a,s),this.actualCurrentPosition=s,this.pipTimeIncrementSeconds=ki+Si,this.canvasSizeObserver=null,this.fontFamily="sans-serif",this.colorLightest="",this.colorLightest50="",this.colorLive="",this.isDisabled=!1,this.windowIndicatorAlpha=0,this.poi=[],this.poiImageCache=new Map,this._positionAnimating=!1,this.positionAnimatingForExternalChange=!1,this._animatedCurrentPosition=-1,this.rendersPOI=!0,ri.set(this,!1),ni.set(this,!1),ai.set(this,-1),si.set(this,-1),oi.set(this,-1),li.set(this,-1),di.set(this,-1),ci.set(this,0),this.startSeekDrag=e=>{if(this.isDisabled)return;this.showWindowIndicator(),this.endPositionFling(),this.endRubberBandDecay(),this.endSeekAnimation(),yi(this,ri,!0,"f"),yi(this,ci,0,"f"),z.preventNestedScrollForTouch(e);const t=(0,n.ku)(e,this.canvas);yi(this,ai,t.left,"f"),yi(this,si,t.top,"f"),yi(this,li,e.timeStamp,"f"),yi(this,di,gi(this,ai,"f"),"f")},this.seekDrag=e=>{if(gi(this,ri,"f")&&!this.isDisabled){z.preventNestedScrollForTouch(e);const t=(0,n.ku)(e,this.canvas),i=t.left,r=gi(this,ai,"f")-i;if(!gi(this,ni,"f")){if(Math.hypot(r,t.top-gi(this,si,"f"))<8)return;yi(this,oi,this.currentRenderedPosition,"f"),this.animatedCurrentPosition=this.currentRenderedPosition,this.positionAnimating=!0,yi(this,ni,!0,"f")}const a=this.rubberBandPositionUpdate(gi(this,oi,"f"),r);a.position!==this.animatedCurrentPosition&&this.performHapticsForRange(this.animatedCurrentPosition,a.position),this.animatedCurrentPosition=a.position,e.timeStamp-gi(this,li,"f")>50&&(yi(this,ci,(gi(this,di,"f")-i)/(e.timeStamp-gi(this,li,"f")),"f"),yi(this,li,e.timeStamp,"f"),yi(this,di,i,"f")),this.render()}},this.endSeekDrag=e=>{if(gi(this,ri,"f")&&!this.isDisabled){if(yi(this,ri,!1,"f"),z.preventNestedScrollForTouch(e),!gi(this,ni,"f"))return this.positionAnimating&&(this.log("end fling with click"),this.endPositionAnimationAndSeek()),void this.hideWindowIndicator();yi(this,ni,!1,"f");const t=(0,n.ku)(e,this.canvas).left,i=gi(this,ai,"f")-t,r=this.rubberBandPositionUpdate(gi(this,oi,"f"),i);this.animatedCurrentPosition=r.position,(e.timeStamp-gi(this,li,"f")>50||0===gi(this,ci,"f"))&&(yi(this,ci,(gi(this,di,"f")-t)/(e.timeStamp-gi(this,li,"f")),"f"),yi(this,li,e.timeStamp,"f"),yi(this,di,t,"f")),0!==r.overscroll?(this.log("start rubber band decay from",r),this.startRubberBandDecay(r.overscroll)):Number.isFinite(gi(this,ci,"f"))&&e.timeStamp-gi(this,li,"f")<=80?(this.log("start fling with velocity",gi(this,ci,"f")),this.startPositionFling(gi(this,ci,"f"))):(this.log("end drag without overscroll or velocity"),this.endPositionAnimationAndSeek())}},this.frameCallback=-1,this.activeAnimations=new Set,this.animationTick=e=>{0!==this.activeAnimations.size?(this.activeAnimations.forEach((t=>{t(e)})),this.render(),window.requestAnimationFrame(this.animationTick)):this.frameCallback=-1},ui.set(this,-1),hi.set(this,-1),this.seekAnimator=e=>{if(gi(this,ui,"f")<0)return yi(this,ui,e,"f"),void yi(this,hi,this.animatedCurrentPosition,"f");const t=(e-gi(this,ui,"f"))/zi,i=this.easeOutCubic(t);this.animatedCurrentPosition=gi(this,hi,"f")+(this.actualCurrentPosition-gi(this,hi,"f"))*i,t>=1&&(this.endSeekAnimation(),this.positionAnimating=!1)},pi.set(this,0),fi.set(this,-1),this.flingAnimator=e=>{if(gi(this,fi,"f")<0)return void yi(this,fi,e,"f");const t=e-gi(this,fi,"f");yi(this,fi,e,"f");const i=gi(this,pi,"f")*t,r=this.rubberBandPositionUpdate(this.animatedCurrentPosition,i),n=Math.abs(r.position-this.animatedCurrentPosition);this.performHapticsForRange(this.animatedCurrentPosition,r.position),this.animatedCurrentPosition=r.position,n/t*16<.3&&(this.endAnimation(this.flingAnimator),0!==r.overscroll?this.startRubberBandDecay(r.overscroll):(this.endAnimation(this.flingAnimator),this.endPositionAnimationAndSeek())),yi(this,pi,gi(this,pi,"f")*Math.exp(t/1e3*Gi),"f")},vi.set(this,0),mi.set(this,-1),this.rubberBandDecayAnimator=e=>{gi(this,mi,"f")<0&&yi(this,mi,e,"f");const t=(e-gi(this,mi,"f"))/zi,i=this.easeOutCubic(t);this.animatedCurrentPosition=(gi(this,vi,"f")<0?this.windowStart:this.windowEnd)+gi(this,vi,"f")*(1-i),t>=1&&(this.endRubberBandDecay(),this.endPositionAnimationAndSeek())},this.windowIndicatorVisible=!1,this.windowIndicatorAnimationStart=-1,this.windowIndicatorVisibilityAnimator=e=>{this.windowIndicatorAnimationStart<0&&(this.windowIndicatorAnimationStart=e,this.windowIndicatorVisible?this.windowIndicatorAnimationStart-=this.windowIndicatorAlpha*zi:this.windowIndicatorAnimationStart+=Wi);const t=Math.max(0,(e-this.windowIndicatorAnimationStart)/zi);this.windowIndicatorAlpha=this.windowIndicatorVisible?t:1-t,t>=1&&(this.windowIndicatorAnimationStart=-1,this.endAnimation(this.windowIndicatorVisibilityAnimator))},this.showWindowIndicator=()=>{this.windowIndicatorVisible||(this.windowIndicatorVisible=!0,this.windowIndicatorAnimationStart=-1,this.startAnimation(this.windowIndicatorVisibilityAnimator))},this.hideWindowIndicator=()=>{this.windowIndicatorVisible&&(this.windowIndicatorVisible=!1,this.windowIndicatorAnimationStart=-1,this.startAnimation(this.windowIndicatorVisibilityAnimator))},this.resize=()=>{this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.setSize(),this.poiMaskGradient=this.createPOIMaskGradient(),this.timelineMaskGradient=this.createTimelineMaskGradient(),this.render()},this.canvas=document.createElement("canvas"),this.canvas.className="ardplayer-infinite-timeline",this.canvas.tabIndex=0,this.canvas.dataset.initiatorName="infinite-timeline",t.append(this.canvas);const o=this.canvas.getContext("2d",{alpha:!0,willReadFrequently:!1,desynchronized:!1});if(null===o)throw Error("could not get drawing context");this.ctx=o,this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.handleTopOffset=Oi+Pi+Mi,this.highlightPipTopOffset=this.handleTopOffset+bi/2-Ti/2,this.largePipTopOffset=this.handleTopOffset+bi/2-Ai/2,this.smallPipTopOffset=this.largePipTopOffset+Ii,this.canvasHeight=this.handleTopOffset+bi+wi+Bi,this.canvasWidth=this.canvas.offsetWidth,this.setSize(),"undefined"!=typeof ResizeObserver&&(this.canvasSizeObserver=new ResizeObserver((()=>{this.canvas.getBoundingClientRect().width!==this.canvasWidth&&this.resize()})),this.canvasSizeObserver.observe(this.canvas)),this.canvas.addEventListener("resize",this.resize),this.poiMaskGradient=this.createPOIMaskGradient(),this.timelineMaskGradient=this.createTimelineMaskGradient(),this.setupPOIClick(),this.setupSeekDrag(),this.setupAccessibility(),this.applyTheme()}dispose(){var e;super.dispose(),null===(e=this.canvasSizeObserver)||void 0===e||e.disconnect()}focus(e){this.focusElement(this.canvas,e)}setTimeInternal(e,t,i){const r=this.player.isLive?0===this.windowStart:0===this.windowStart&&0===this.windowEnd&&0===this.currentPosition;this.windowStart=e,this.windowEnd=t,!r&&(!this.positionAnimating||this.activeAnimations.has(this.seekAnimator))&&Math.abs(this.actualCurrentPosition-i)>1?(this.animatedCurrentPosition=this.actualCurrentPosition,this.actualCurrentPosition=i,this.animateSeek()):(this.actualCurrentPosition=i,this.render()),this.updateAccessibility(i)}setCurrentTimeInternal(e){this.setTime(this.windowStart,this.windowEnd,e)}setPOI(e){const t=e.filter((e=>e.priority!==Number.POSITIVE_INFINITY)),i=Pi+Di;for(let e=0;e<t.length-1;e++)t[e].position+i>=t[e+1].position&&(t[e].priority>=t[e+1].priority?t.splice(e,1):t.splice(e+1,1),e--);this.poi=t;const r=new Set(this.poiImageCache.keys());this.poi.forEach((e=>{if(r.delete(e.icon),!this.poiImageCache.has(e.icon)){const t=new Image;t.src=e.icon,t.addEventListener("load",(()=>{this.render()})),this.poiImageCache.set(e.icon,t)}})),r.forEach((e=>{this.poiImageCache.delete(e)})),this.render()}setBufferProgress(e){}setHoverLabelHidden(e){}setDisabled(e){this.isDisabled=e,e&&this.positionAnimating&&(this.endSeekAnimation(),this.endRubberBandDecay(),this.endPositionFling(),this.hideWindowIndicator(),yi(this,ri,!1,"f"),this.animatedCurrentPosition=this.actualCurrentPosition,this.positionAnimating=!1),e?this.canvas.setAttribute("disabled",""):this.canvas.removeAttribute("disabled"),this.updateAccessibility(this.actualCurrentPosition),this.render()}isDragging(){return this.positionAnimating}setupAccessibility(){this.updateAccessibility(this.actualCurrentPosition),this.addEventListener(this.canvas,"keydown",(e=>{var t;if(!this.isDisabled){switch((null!==(t=null==e?void 0:e.key)&&void 0!==t?t:"").toLowerCase()){case"home":this.handler.seekTo(this.windowStart);break;case"end":this.handler.seekTo(this.windowEnd);break;case"arrowup":case"arrowleft":this.handler.seekTo(Math.max(this.windowStart,this.actualCurrentPosition-10));break;case"arrowdown":case"arrowright":this.handler.seekTo(Math.min(this.windowEnd,this.actualCurrentPosition+10));break;case"pageup":this.handler.seekTo(Math.max(this.windowStart,this.actualCurrentPosition-Math.max(30,(this.windowEnd-this.windowStart)/10)));break;case"pagedown":this.handler.seekTo(Math.min(this.windowEnd,this.actualCurrentPosition+Math.max(30,(this.windowEnd-this.windowStart)/10)));break;default:return}e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}))}updateAccessibility(e){const t=this.windowEnd-this.windowStart,i=e-this.windowStart;(0,U.$)(this.player,this.canvas,"progressbar-thumb",{duration:t|0,position:i|0,positionlabel:(0,N.v5)(i,t),assetType:this.player.isAudio?"Audio":"Video"})}endPositionAnimationAndSeek(){this.hideWindowIndicator(),this.positionAnimating&&(this.actualCurrentPosition=this.animatedCurrentPosition,this.positionAnimating=!1,this.player.withExecutionContext({type:"synthetic",initiator:"infinite-timeline-end"},(()=>{this.handler.seekTo(this.actualCurrentPosition)}))),this.updateAccessibility(this.actualCurrentPosition)}performHapticsForRange(e,t){if(ii.isAvailable){const i=this.findPoiWithPredicate(Math.max(this.windowStart,Math.min(e,t)),Math.min(this.windowEnd,Math.max(e,t)),(e=>!1!==e.haptic));i&&!1!==i.haptic&&ii.perform(i.haptic)}}setupPOIClick(){(0,n.Af)(this.canvas,(e=>{var t;const i=(0,n.ku)(e,this.canvas);if(this.isDisabled||i.top>=this.handleTopOffset+bi||Math.abs(this.canvasWidth/2-i.left)<=Ri/3)return;const r=this.currentRenderedPosition-this.canvasWidth/2,a=this.findPoiWithPredicate(r+i.left-Ri/2,r+i.left+Ri/2,(e=>e.clickable));a&&(this.log("clicked poi =>",a.position,a.debug),!1!==a.haptic&&ii.isAvailable&&ii.perform(a.haptic),null===(t=a.trackActivation)||void 0===t||t.call(a,this.player.pixelController),yi(this,ri,!1,"f"),e.stopImmediatePropagation(),this.handler.seekTo(a.position))}),this.player)}setupSeekDrag(){C.O.isEmbedded&&(this.addEventListener(this.canvas,"touchstart",z.preventNestedScrollForTouch,{capture:!0,passive:!1}),this.addEventListener(this.canvas,"touchmove",z.preventNestedScrollForTouch,{capture:!0,passive:!1})),this.addEventListener(this.canvas,"touchstart",this.startSeekDrag),this.addEventListener(this.canvas,"touchmove",this.seekDrag),this.addEventListener(this.canvas,"touchend",this.endSeekDrag),this.addEventListener(this.canvas,"touchcancel",this.endSeekDrag),this.addEventListener(this.canvas,"mousedown",this.startSeekDrag),this.addEventListener(this.canvas,"mousemove",this.seekDrag),this.addEventListener(this.canvas,"mouseup",this.endSeekDrag),this.addEventListener(this.canvas,"mouseleave",this.endSeekDrag)}rubberBandPositionUpdate(e,t){const i=e+t;if(i>this.windowEnd||i<this.windowStart){const e=i>this.windowEnd?i-this.windowEnd:i-this.windowStart,t=Math.abs(e),r=this.canvasWidth*$i,n=(1-1/(.55*t/r+1))*r;return{position:e<0?this.windowStart-n:this.windowEnd+n,overscroll:e<0?-n:n}}return{position:i,overscroll:0}}startAnimation(e){this.activeAnimations.add(e),-1===this.frameCallback&&(this.frameCallback=window.requestAnimationFrame(this.animationTick))}endAnimation(e){this.activeAnimations.delete(e),0===this.activeAnimations.size&&(window.cancelAnimationFrame(this.frameCallback),this.frameCallback=-1,this.render())}easeOutCubic(e){return Math.max(0,Math.min(1,1-Math.pow(1-e,3)))}easeInOutSine(e){return-(Math.cos(Math.PI*e)-1)/2}endSeekAnimation(){yi(this,ui,-1,"f"),this.endAnimation(this.seekAnimator)}animateSeek(){yi(this,ui,-1,"f"),this.positionAnimatingForExternalChange=!0,this.positionAnimating=!0,this.startAnimation(this.seekAnimator),this.endRubberBandDecay(),this.endPositionFling()}startPositionFling(e){this.showWindowIndicator(),this.endRubberBandDecay(),this.endSeekAnimation(),this.positionAnimating=!0,yi(this,pi,e,"f"),yi(this,fi,-1,"f"),this.startAnimation(this.flingAnimator)}endPositionFling(){yi(this,pi,0,"f"),this.endAnimation(this.flingAnimator)}startRubberBandDecay(e){yi(this,vi,e,"f"),yi(this,mi,-1,"f"),this.positionAnimating=!0,this.showWindowIndicator(),this.endPositionFling(),this.endSeekAnimation(),this.startAnimation(this.rubberBandDecayAnimator)}endRubberBandDecay(){yi(this,mi,-1,"f"),this.endAnimation(this.rubberBandDecayAnimator)}fillRoundRect(e,t,i,r,n){this.ctx.beginPath(),this.ctx.moveTo(e+n,t),this.ctx.lineTo(e+i-n,t),this.ctx.quadraticCurveTo(e+i,t,e+i,t+n),this.ctx.lineTo(e+i,t+r-n),this.ctx.quadraticCurveTo(e+i,t+r,e+i-n,t+r),this.ctx.lineTo(e+n,t+r),this.ctx.quadraticCurveTo(e,t+r,e,t+r-n),this.ctx.lineTo(e,t+n),this.ctx.quadraticCurveTo(e,t,e+n,t),this.ctx.closePath(),this.ctx.fill()}findPoiWithPredicate(e,t,i){const r=(0,n.g9)(this.poi,null,((i,r)=>t>=r.position&&e<r.position?0:t-r.position));if(r<0)return null;for(let e=r;e<this.poi.length&&this.poi[e].position<=t;e++)if(i(this.poi[e]))return this.poi[e];return null}findPoi(e){const t=this.pipTimeIncrementSeconds/2;return(0,n.Uk)(this.poi,e,((e,i)=>{const r=e-i.position;return Math.abs(r)<=t?0:r}))}drawPOI(e,t){const i=this.findPoi(t);if(null==i)return null;const r=this.poiImageCache.get(i.icon);if(!0!==(null==r?void 0:r.complete))return null;const a=Math.max(0,Math.abs(Math.max(-1,Math.min(1,(e-this.canvasWidth/2)/(this.canvasWidth/4))))),s=Oi+Mi*this.easeInOutSine(a);this.ctx.fillStyle=this.colorLightest50,i.clickable&&(this.ctx.beginPath(),this.ctx.arc(e,s+Pi/2,Pi/2,0,2*Math.PI),this.ctx.fill(),i.monochrome&&(this.ctx.globalCompositeOperation="destination-out"));try{let t=0!==r.naturalHeight&&0!==r.naturalWidth?Math.min(1,r.naturalHeight/r.naturalWidth):1,n=0!==r.naturalHeight&&0!==r.naturalWidth?Math.min(1,r.naturalWidth/r.naturalHeight):1;!0===i.trimWhitespace&&(t*=_i,n*=_i),this.ctx.drawImage(r,e-Pi*xi*n/2,s+Pi/2*(1-xi*t),Pi*xi*n,Pi*xi*t)}catch(e){this.log("broken poi imange, removing"),this.poiImageCache.delete(i.icon),queueMicrotask((()=>{this.render()}))}if(!i.clickable&&i.monochrome&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(e-Pi/2,s,Pi,Pi),this.ctx.clip(),this.ctx.globalCompositeOperation="source-in",this.ctx.fillRect(e-Pi/2,s,Pi,Pi),this.ctx.restore()),this.ctx.globalCompositeOperation="source-over",C.O.isDebugVerboseUI&&(0,n.Ed)(i.debug)){this.ctx.fillStyle=this.colorLightest,this.ctx.font="10px "+this.fontFamily;const t=this.ctx.measureText(i.debug);this.ctx.fillText(i.debug,e-t.width/2,s+Pi)}return i}drawPip(e,t){var i,r;const n=t-t%this.pipTimeIncrementSeconds,a=this.drawPOI(e,n),s=t%Li<this.pipTimeIncrementSeconds,o=!0===(null==a?void 0:a.highlight)?Ti:s?Ai:Ci,l=!0===(null==a?void 0:a.highlight)?this.highlightPipTopOffset:s?this.largePipTopOffset:this.smallPipTopOffset;if(this.ctx.fillStyle=null!==a?a.highlight?this.colorLive:this.colorLightest:this.colorLightest50,e>this.canvasWidth/2){const e=this.player.isLive?3*(null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.minDisplayedLiveOffset)&&void 0!==r?r:-1):-1;if(e>0){const t=this.windowEnd-n;this.ctx.globalAlpha=t<e?t/e:1}}if(this.fillRoundRect(e,l,ki,o,2),this.ctx.globalAlpha=1,C.O.isDebugVerboseUI&&s){const t=String(n);this.ctx.fillStyle=this.colorLightest,this.ctx.font="10px "+this.fontFamily;const i=this.ctx.measureText(t),r=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;this.ctx.fillText(t,e-i.width/2,l+o+r)}}drawPips(){const e=Math.floor(this.canvasWidth/2),t=this.windowStart%this.pipTimeIncrementSeconds,i=e-(this.currentRenderedPosition-this.windowStart)-t,r=Math.floor(i<0?i%this.pipTimeIncrementSeconds:i),n=e+(this.windowEnd-this.currentRenderedPosition),a=Math.min(this.canvasWidth+this.pipTimeIncrementSeconds,n);for(let i=r;i<=a;i+=this.pipTimeIncrementSeconds)this.drawPip(i,Math.ceil(this.currentRenderedPosition+(i-e))+t)}createPOIMaskGradient(){if(this.canvasWidth<=1)return this.poiMaskGradient;const e=this.ctx.createLinearGradient(0,0,this.canvasWidth,0);return e.addColorStop(0,"rgba(255, 255, 255, 1.0)"),e.addColorStop(Hi/this.canvasWidth,"rgba(255, 255, 255, 0.0)"),e.addColorStop(.5+Pi/2/this.canvasWidth,"rgba(255, 255, 255, 0.0)"),e.addColorStop(.5+(2*Hi+Pi/2)/this.canvasWidth,"rgba(255, 255, 255, 0.7)"),e.addColorStop(1-Hi/this.canvasWidth,"rgba(255, 255, 255, 0.7)"),e.addColorStop(1,"rgba(255, 255, 255, 1.0)"),e}createTimelineMaskGradient(){if(this.canvasWidth<=1)return this.timelineMaskGradient;const e=this.ctx.createLinearGradient(0,0,this.canvasWidth,0);return e.addColorStop(0,"rgba(255, 255, 255, 1.0)"),e.addColorStop(Hi/this.canvasWidth,"rgba(255, 255, 255, 0.0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.0)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.7)"),e.addColorStop(1-Hi/this.canvasWidth,"rgba(255, 255, 255, 0.7)"),e.addColorStop(1,"rgba(255, 255, 255, 1.0)"),e}applyMasking(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle=this.poiMaskGradient,this.ctx.fillRect(0,0,this.canvasWidth,this.handleTopOffset),this.ctx.fillStyle=this.timelineMaskGradient,this.ctx.fillRect(0,this.handleTopOffset,this.canvasWidth,this.canvasHeight-this.handleTopOffset),this.ctx.globalCompositeOperation="source-over"}drawHandle(){var e,t;this.ctx.fillStyle=this.player.isLive&&(null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.minDisplayedLiveOffset)&&void 0!==t?t:-1)+this.currentRenderedPosition>=this.windowEnd?this.colorLive:this.colorLightest,this.fillRoundRect(this.canvasWidth/2-Ei/2,this.handleTopOffset,Ei,bi,2)}formatWindowSize(){return`-${Math.floor((this.windowEnd-this.windowStart)/3600)}h`}drawWindowIndicator(){if(this.windowIndicatorAlpha<=0)return;this.ctx.globalAlpha=this.windowIndicatorAlpha;const e=this.canvasWidth-2*Hi,t=this.handleTopOffset+bi-Ni-Ui,i=Hi;this.ctx.fillStyle=this.colorLightest50,this.fillRoundRect(i,t,e,Ni,Ni);const r=this.formatWindowSize();(0,n.Ed)(r)&&(this.ctx.textBaseline="top",this.ctx.font=`500 ${ji}px ${this.fontFamily}`,this.ctx.fillText(r,i,t+Ni+Vi));const a=Math.min(1,e/(this.windowEnd-this.windowStart)),s=(this.currentRenderedPosition-this.windowStart)/(this.windowEnd-this.windowStart)-a/2,o=i+Math.max(0,s)*e;let l=a*e;s<0&&(l+=s*e),l=Math.max(0,Math.min(i+e-o,l)),this.ctx.fillStyle=this.colorLightest,this.fillRoundRect(o,t,l,Ni,Ni),this.ctx.globalAlpha=1}drawClock(){if(this.isDisabled)return;const e=this.handler.formatPointInTime(Math.max(this.windowStart,this.currentRenderedPosition));if((0,n.Ed)(e)){this.ctx.fillStyle=this.colorLightest,this.ctx.textBaseline="top",this.ctx.font=`700 ${Bi}px ${this.fontFamily}`;const t=this.ctx.measureText(e);this.ctx.fillText(e,(this.canvasWidth-t.width)/2,this.handleTopOffset+bi+Fi)}}applyDisabledMask(){this.isDisabled&&(this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle="rgba(255, 255, 255, 0.4)",this.ctx.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.globalCompositeOperation="source-over")}render(){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawPips(),this.applyMasking(),this.drawWindowIndicator(),this.drawHandle(),this.drawClock(),this.applyDisabledMask()}applyTheme(){const e=getComputedStyle(this.canvas);this.fontFamily=e.fontFamily,this.colorLightest=e.getPropertyValue("--ardplayer-color-lightest"),this.colorLightest50=e.getPropertyValue("--ardplayer-color-lightest-transparent-50"),this.colorLive=e.getPropertyValue("--ardplayer-color-primary-live"),this.render()}setSize(){const e=window.devicePixelRatio;this.canvasWidth=this.canvas.getBoundingClientRect().width,this.canvas.setAttribute("width",this.canvasWidth*e+"px"),this.canvas.setAttribute("height",this.canvasHeight*e+"px"),this.ctx.scale(e,e),this.canvas.style.height=`${this.canvasHeight}px`}}ri=new WeakMap,ni=new WeakMap,ai=new WeakMap,si=new WeakMap,oi=new WeakMap,li=new WeakMap,di=new WeakMap,ci=new WeakMap,ui=new WeakMap,hi=new WeakMap,pi=new WeakMap,fi=new WeakMap,vi=new WeakMap,mi=new WeakMap;var Ki=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},qi=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Ji=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},Qi=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},Zi=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};const Xi=Object.assign(Object.assign({},ge),{topRow:W.U.select(".ardplayer-audio-top-row"),miniPlayer:W.U.select(".ardplayer-mini-player"),miniPlayerCloseButton:W.U.select(".ardplayer-mini-player .ardplayer-mini-player-close"),miniProgressBar:W.U.select(".ardplayer-mini-player-progress-bar"),miniTitle:W.U.select(".ardplayer-mini-player-title-container .ardplayer-mini-player-title"),miniSubtitle:W.U.select(".ardplayer-mini-player-title-container .ardplayer-mini-player-subtitle"),titleChipsContainer:W.U.select(".ardplayer-title-chips-container"),title:W.U.select(".ardplayer-audio-title"),subtitle:W.U.select(".ardplayer-audio-subtitle"),drawerSheet:W.U.select(".ardplayer-drawer"),drawerContentContainer:W.U.select(".ardplayer-drawer .ardplayer-drawer-content"),drawerHeading:W.U.select(".ardplayer-drawer-heading"),backgroundCanvas:W.U.select("canvas.ardplayer-image-background"),miniPosterPicture:W.U.select("picture.ardplayer-mini-player-poster"),miniPosterImage:W.U.select("picture.ardplayer-mini-player-poster img"),btnPlayPauseMain:W.U.select(".ardplayer-button-playpause.ardplayer-button-hero"),btnSkipForward:W.U.selectAll(".ardplayer-button-nextclip"),btnSkipBackward:W.U.selectAll(".ardplayer-button-prevclip"),addonButtons:W.U.select(".ardplayer-addons-container-big .ardplayer-addons-container"),posterPicture:W.U.select(".ardplayer-posterbackdrop > picture"),posterImage:W.U.select(".ardplayer-posterbackdrop > picture img"),ariaComponentsMaxiPlayer:W.U.selectAll(".ardplayer-header, .ardplayer-center, .ardplayer-footer, .ardplayer-audio-title-container, .ardplayer-audio-top-row, .ardplayer-dynamic-menu-button-container, .ardplayer-addons-container-big")});let er=(()=>{var e,t,i,r,s,o,l,d,c,u,h,p,f,v,m,y,g,b,E,w,S,A,T,I,P,x,_,O,M,D,R,V,j,B,F,H,G,$,Y;let K,q,J,Z=[a.JW],X=[],ee=ye,te=[];q=class extends ee{constructor(a,C){var L,N,z,K,q;super(a,C),e.set(this,(Ki(this,te),!1)),t.set(this,!1),i.set(this,{top:0,left:0,right:0,bottom:0}),r.set(this,-1),s.set(this,0),o.set(this,0),l.set(this,0),d.set(this,0),c.set(this,0),u.set(this,0),h.set(this,null),this.playlist=null,p.set(this,null),f.set(this,null),v.set(this,null),m.set(this,!1),y.set(this,!1),g.set(this,0),b.set(this,!1),E.set(this,0),w.set(this,0),S.set(this,-1),A.set(this,70),T.set(this,0),I.set(this,0),P.set(this,null),x.set(this,!1),_.set(this,!1),O.set(this,0),M.set(this,-1),D.set(this,-1),R.set(this,0),V.set(this,!1),j.set(this,150+Zi(this,i,"f").right),B.set(this,null),F.set(this,!1),H.set(this,!1),this.drawPosterBackdropBlurTimeout=-2,G.set(this,null),$.set(this,-1),this.updateBackgroundBlurIntermediate=()=>{var e,t;if(this.elements.backgroundCanvas.removeEventListener("transitioncancel",this.updateBackgroundBlurIntermediate),this.elements.backgroundCanvas.removeEventListener("transitionend",this.updateBackgroundBlurIntermediate),window.clearTimeout(Zi(this,$,"f")),null===(e=this.elements.backgroundCanvas.getContext("2d",{willReadFrequently:!0}))||void 0===e||e.clearRect(0,0,this.elements.backgroundCanvas.width,this.elements.backgroundCanvas.height),this.elements.posterImage.complete)return void this.drawPosterBackdropBlur();null===(t=Zi(this,G,"f"))||void 0===t||t.call(this),Qi(this,G,(0,n.MR)(this.elements.posterImage,"load",(()=>{this.player.safeIdleCallback((()=>{var e;null===(e=Zi(this,G,"f"))||void 0===e||e.call(this),Qi(this,G,null,"f"),this.drawPosterBackdropBlur()}))}),this.player),"f")},Y.set(this,!1),Qi(this,p,new Q.W(a),"f");const J=this.playerView;this.dvrState.showDVRTimeAsWallClock=!0,this.controlsVisible=!0,this.addonButtonsVisible=!0,J.classList.add("ardplayer-show-controls","ardplayer-state-audio","ardplayer-state-audio-app","ardplayer-iconset-audio"),null===(N=null===(L=J.querySelector(".ardplayer-buttons-main .ardplayer-button-replay"))||void 0===L?void 0:L.classList)||void 0===N||N.add("ardplayer-button-big"),this.setupSwipeToDismiss(),this.registerPlayerEvent(Zn.VIEWPORT_RESIZE,this.onViewportResize),this.registerPlayerEvent(Zn.VIEWPORT_BREAKPOINT_CHANGE,this.onViewportBreakpointChange),super.continueConstructingAfterDOMComplete(),this.onClick(this.elements.miniPlayerCloseButton,(()=>{var e;this.player.stopInternal(),this.player.preserveExecutionContext(Zn.BROADCAST_STICKY_SHEET_STATE,500),this.player.loop.dispatchEvent("Player.REQUEST_STICKY_SHEET_STATE",{state:"hidden"}),this.settleDismissState(!1),null===(e=Zi(this,p,"f"))||void 0===e||e.dispatchEvent("AudioApp.dismissButtonPressed",{})})),(0,U.$)(this.player,this.elements.miniPlayerCloseButton,"miniplayer-dismiss"),this.onClick(this.elements.miniPlayer,(()=>{Zi(this,b,"f")?this.settleDrawerState(!1):this.player.loop.dispatchEvent(Zn.MINI_PLAYER_PRESSED,{}),(0,k.GW)(this.elements.btnPlayPauseMain)})),(0,U.$)(this.player,this.elements.miniPlayer,"miniplayer-open"),this.elements.miniPlayer.querySelectorAll("[tabindex]").forEach((e=>{this.onClick(e,(e=>{e.stopPropagation()}))})),this.elements.posterImage.tabIndex=-2,this.elements.posterImage.dataset.initiatorName="coverImage",this.onClick(this.elements.posterImage,(()=>{var e;Zi(this,b,"f")?this.settleDrawerState(!1):(this.player.loop.dispatchEvent(Zn.POSTER_FRAME_PRESSED,{}),null===(e=Zi(this,p,"f"))||void 0===e||e.dispatchEvent("AudioApp.goTo",{target:"episode"}))}));const Z=J.querySelector(".ardplayer-audio-top-row .ardplayer-icon-arrow-minimize");this.onClick(Z,(()=>{this.player.loop.dispatchEvent(Zn.MINIMIZE_BUTTON_PRESSED,{}),(0,k.GW)(this.elements.miniPlayer)})),(0,U.$)(this.player,Z,"maxiplayer-close"),this.registerPlayerEvent(Zn.BROADCAST_STICKY_SHEET_STATE,(t=>{Qi(this,e,"collapsed"===t.state||"hidden"===t.state,"f"),this.playerView.classList.toggle("ardplayer-native-sheet-state-collapsed",Zi(this,e,"f")),"expanded"!==t.state&&Zi(this,b,"f")&&this.settleDrawerState(!1),"collapsed"!==t.state&&(Zi(this,V,"f")||Zi(this,_,"f"))&&this.settleDismissState(!1),this.updateAccessibilityVisibility(),this.updateInvisibleMaqueesPausedState()})),this.registerPlayerEvent(Zn.EPG_DATA_CHANGED,this.setEPGData),this.setupDrawerNestedScrollInterop(),this.setupDrawerDrag(),this.setupSkipHandlers(),this.updateAccessibilityVisibility();const X=J.querySelector(".ardplayer-playlist-actions"),ee=this.elements.drawerSheet.querySelector(".ardplayer-playlist-item-list");this.elements.drawerContentContainer.classList.toggle("ardplayer-playlist-content",!this.player.model.mediaCollection.isLive);let ie=!1===(0,n.$N)(this.player.model.playerConfig.getPluginData("playlist"),this.player.model.mediaCollection.getPluginData("playlist")).isEnabled;if(this.player.model.mediaCollection.isLive){ie=!0,Qi(this,h,new ti.s5(this.elements.drawerContentContainer,this.elements.drawerSheet,this.elements.drawerHeading,{addSyntheticScreen(e,t){throw Error("addSyntheticScreen not implemented for drawer")},showSyntheticScreen(e){throw Error("showSyntheticScreen not implemented for drawer")}},this.player),"f");const e=()=>{this.settleDrawerState(!1)};Zi(this,h,"f").callbackHandler={close:e,back(){this.close()}}}else if(ie)J.classList.add("ardplayer-state-no-drawer","ardplayer-state-no-playlist");else{if(this.elements.drawerHeading.innerText=this.player.StringConfig.Strings.playlist.drawerTitle,ee||(this.elements.drawerContentContainer.innerHTML=new W.U(zt,this.player).renderTemplate({})),!X){const e=new W.U(Yt,this.player).renderTemplateAsElement({});e&&(null===(z=this.elements.drawerContentContainer.parentElement)||void 0===z||z.appendChild(e))}this.playlist=new lt(a,this.elements.drawerSheet,(()=>{this.updateSkipButtons()}))}ie&&(null==X||X.remove(),ee&&(0,n.Ie)(this.elements.drawerContentContainer),this.playlist=new lt(a,null,(()=>{this.updateSkipButtons()}),!0)),this.restoreFromDOM=null!==(K=this.restoreFromDOM)&&void 0!==K?K:null,this.parcelShadow=null!==(q=this.parcelShadow)&&void 0!==q?q:null,this.rehydrateDomState(this.parcelShadow),this.parcelShadow=null}parcelDataForErrorState(){return Qi(this,t,!0,"f"),this.parcelData()}parcelData(){var i,r;const a={hadDom:!Zi(this,t,"f"),nativeSheetCollapsed:Zi(this,e,"f"),drawerOpen:Zi(this,b,"f"),playlistParcel:null!==(r=null===(i=this.playlist)||void 0===i?void 0:i.parcelData())&&void 0!==r?r:null};if(Zi(this,t,"f"))return a;const s=document.createDocumentFragment();for(;this.playerView.hasChildNodes();)s.appendChild(this.playerView.firstChild);return Zi(this,h,"f")&&(0,n.Ie)(this.elements.drawerContentContainer),s.querySelectorAll('[data-is-transient="true"]').forEach((e=>{e.remove()})),this.elements.btnPlayPause.forEach((e=>{e.classList.add("allow-init-animation")})),window.APP_DOM=s,window.setTimeout((()=>{delete window.APP_DOM}),1e3),this.elements.viewport=document.createElement("div"),a}restoreParceledData(e){e.hadDom&&void 0!==window.APP_DOM?(this.restoreFromDOM=window.APP_DOM,delete window.APP_DOM):e.hadDom=!1,this.parcelShadow=e}rehydrateDomState(t){var i,r,n;t&&(this.player.model.autoplay||(this.updateMiniPlayerTimeline(this.player.model.time,this.player.model.duration),this.showPlayBtn()),Qi(this,b,t.drawerOpen,"f"),Qi(this,e,t.nativeSheetCollapsed,"f"),this.playerView.classList.toggle("ardplayer-drawer-open",Zi(this,b,"f")),this.playerView.classList.toggle("ardplayer-native-sheet-state-collapsed",Zi(this,e,"f"))),null===(i=this.playlist)||void 0===i||i.rehydrateParcelAndDomState(null!==(r=null==t?void 0:t.playlistParcel)&&void 0!==r?r:null,!(null!==(n=null==t?void 0:t.hadDom)&&void 0!==n&&n)),this.updateSkipButtons(),this.updateAccessibilityVisibility()}onDVRCallback(e,i,r){this.player&&!isNaN(i)&&(super.onDVRCallback(e,i,r),e&&!Zi(this,t,"f")&&this.timeline.setDisabled(!1))}createTimeline(){if(this.player.isLive){const e=new Yi(this.player,this.elements.timelineContainer,this,0,this.player.model.duration>0?this.player.model.duration:0,this.player.model.time>0?this.player.model.time:this.player.model.duration);return e.setDisabled(!0),e.addHoverListener(this),e}return this.updateMiniPlayerTimeline(this.player.model.time,this.player.model.duration),super.createTimeline()}formatPointInTime(e){var t;return this.dvrState.enabledAndRequested&&!0!==(null===(t=this.player.getCtrl())||void 0===t?void 0:t.canCalculateDvrUnixTime())?"":super.formatPointInTimeString(e)}handleTimelinePreview(e,t,i){Qi(this,m,!0,"f")}handleTimelinePreviewEnd(e){Qi(this,m,!1,"f")}updateMiniPlayerTimeline(e,t){if(this.player.model.mediaCollection.isLive&&!this.dvrState.enabledAndRequested)this.elements.miniProgressBar.style.width=this.player.isPlaying?"100%":"0%";else{const i=Math.min(Math.max(e/t*100,0),100).toFixed(1);this.elements.miniProgressBar.style.width=`${i}%`}}updateTimeline(e,t){var i,r;if(this.updateMiniPlayerTimeline(e,t),this.player.isLive){const e=this.player.getCtrl();if(e){const t=e.getCurrentUnixTimeWindowStart()+(null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.minDisplayedLiveOffset)&&void 0!==r?r:0),n=e.getCurrentUnixTime(),a=e.getCurrentUnixTimeWindowEnd();t>0&&a>0&&n>0&&this.timeline.setTime(t,a,n)}if(this.timeline instanceof Yi)return}super.updateTimeline(e,t)}setupSkipHandlers(){this.elements.btnSkipBackward.forEach((e=>{(0,U.$)(this.player,e,"playlistPrev"),this.onClick(e,(()=>{var e;null===(e=this.playlist)||void 0===e||e.performSkip(!1)}))})),this.elements.btnSkipForward.forEach((e=>{(0,U.$)(this.player,e,"playlistNext"),this.onClick(e,(()=>{var e;null===(e=this.playlist)||void 0===e||e.performSkip(!0,Zi(this,b,"f"))}))}))}updateSkipButtons(){this.elements.btnSkipBackward.forEach((e=>{e.tabIndex=0,e.classList.remove("ardplayer-button-disabled")}));const e=this.playlist&&this.playlist.size>0&&this.playlist.currentIndex+1<this.playlist.size;this.elements.btnSkipForward.forEach((t=>{t.tabIndex=e?0:-1,t.classList.toggle("ardplayer-button-disabled",!e)}))}setupDrawerNestedScrollInterop(){var e,t,i,r,n;if(C.O.isEmbedded){let a=!1;const s=e=>{var t;a||(a=!0,null===(t=window.controller)||void 0===t||t.setPreventNativeScroll(!0,"drawerScroll"))},o=()=>{var e;a=!1,null===(e=window.controller)||void 0===e||e.setPreventNativeScroll(!1,"drawerScroll")};null===(e=this.elements.drawerSheet)||void 0===e||e.addEventListener("touchstart",s,{capture:!0}),null===(t=this.elements.drawerSheet)||void 0===t||t.addEventListener("touchend",o,{capture:!0}),null===(i=this.elements.drawerSheet)||void 0===i||i.addEventListener("touchcancel",o,{capture:!0}),null===(r=this.elements.drawerContentContainer)||void 0===r||r.addEventListener("scroll",s,{capture:!0}),null===(n=this.elements.drawerContentContainer)||void 0===n||n.addEventListener("scrollend",o,{capture:!0}),this.listenerDisposers.push((()=>{var e,t,i,r,n,a;null===(e=this.elements.drawerContentContainer)||void 0===e||e.removeEventListener("scroll",s,{capture:!0}),null===(t=this.elements.drawerContentContainer)||void 0===t||t.removeEventListener("scrollend",o,{capture:!0}),null===(i=this.elements.drawerSheet)||void 0===i||i.removeEventListener("touchstart",s,{capture:!0}),null===(r=this.elements.drawerSheet)||void 0===r||r.removeEventListener("touchend",o,{capture:!0}),null===(n=this.elements.drawerSheet)||void 0===n||n.removeEventListener("touchcancel",o,{capture:!0}),null===(a=window.controller)||void 0===a||a.setPreventNativeScroll(!1,"drawerScroll")}))}}setupDrawerDrag(){const e=this.elements.drawerSheet.querySelector(".ardplayer-drawer-heading");if(null==e)throw new Error("could not get dom references");this.addEventListener(e,"click",(e=>{Zi(this,y,"f")||0!==e.clientX||0!==e.clientY||0!==e.pageX||0!==e.pageY||0!==e.pageX||0!==e.pageY||this.settleDrawerState(!Zi(this,b,"f"))})),this.addEventListener(e,"touchstart",(e=>{this.startDrawerDrag(e)})),null!==this.elements.drawerContentContainer&&this.addEventListener(this.elements.drawerContentContainer,"touchstart",(e=>{if(e.target===this.elements.drawerContentContainer)z.preventNestedScrollForTouch(e);else if(this.elements.drawerContentContainer.scrollHeight<=this.elements.drawerContentContainer.offsetHeight){for(const t of e.composedPath()){if("LABEL"===t.nodeName)return;if(t===this.elements.drawerContentContainer)break}z.preventNestedScrollForTouch(e)}})),this.addEventListener(this.elements.drawerSheet,"touchmove",(e=>{this.dragDrawer(e)})),this.addEventListener(this.elements.drawerSheet,"touchend",(e=>{this.stopDrawerDrag(e)})),this.addEventListener(this.elements.drawerSheet,"touchcancel",(e=>{this.stopDrawerDrag(e)})),this.addEventListener(e,"mousedown",(e=>{this.startDrawerDrag(e)})),this.addEventListener(this.elements.drawerSheet,"mousemove",(e=>{this.dragDrawer(e)})),this.addEventListener(this.elements.drawerSheet,"mouseup",(e=>{this.stopDrawerDrag(e)})),this.addEventListener(this.elements.drawerSheet,"mouseleave",(e=>{this.stopDrawerDrag(e)}))}animateDrawerStep(e){Qi(this,P,e,"f"),Zi(this,x,"f")||(Qi(this,x,!0,"f"),requestAnimationFrame((()=>{var e;Qi(this,x,!1,"f"),null===(e=Zi(this,P,"f"))||void 0===e||e.call(this),Qi(this,P,null,"f")})))}startDrawerDrag(e){var t,r;null===(t=Zi(this,f,"f"))||void 0===t||t.forEach((e=>null==e?void 0:e.pause())),null===(r=Zi(this,v,"f"))||void 0===r||r.forEach((e=>null==e?void 0:e.pause())),Qi(this,y,!0,"f"),z.preventNestedScrollForTouch(e),Qi(this,g,performance.now(),"f"),Qi(this,i,(0,n.Pj)(this.playerView),"f"),Qi(this,E,(0,n.ku)(e,this.playerView).top,"f"),this.playerView.classList.add("ardplayer-drawer-dragging")}dragDrawer(e){if(Zi(this,y,"f")){z.preventNestedScrollForTouch(e);let t=(0,n.ku)(e,this.playerView).top-Zi(this,E,"f");t+=Zi(this,T,"f");let r=1,a=0;if(t<0){if(-t>Zi(this,w,"f")){const e=Zi(this,w,"f")+t;r=1+Math.min(.02,-e/Zi(this,w,"f")),t=-Zi(this,w,"f")}const e=Zi(this,i,"f").bottom+t;a=e<=0?1:1-e/Zi(this,i,"f").bottom}Qi(this,I,t,"f"),this.animateDrawerStep((()=>{this.elements.drawerSheet.style.transform=`translateY(${t}px) scaleY(${r})`,this.elements.drawerContentContainer.style.opacity=a.toFixed(2),this.animatePosterAndMiniPlayer(Math.min(1,-Math.min(0,t)/Zi(this,w,"f")))}))}}stopDrawerDrag(e){if(Zi(this,y,"f")){Qi(this,y,!1,"f"),this.playerView.classList.remove("ardplayer-drawer-dragging");const e=performance.now()-Zi(this,g,"f")<=150&&Math.abs(Zi(this,I,"f")-Zi(this,T,"f"))<=20?!Zi(this,b,"f"):Math.abs(Zi(this,I,"f"))>Zi(this,w,"f")*(Zi(this,b,"f")?.75:.33);this.settleDrawerState(e)}}updateInvisibleMaqueesPausedState(){var t,i;null===(t=Zi(this,f,"f"))||void 0===t||t.forEach((t=>Zi(this,b,"f")||Zi(this,e,"f")?null==t?void 0:t.resume():null==t?void 0:t.pause())),null===(i=Zi(this,v,"f"))||void 0===i||i.forEach((t=>Zi(this,b,"f")||Zi(this,e,"f")?null==t?void 0:t.pause():null==t?void 0:t.resume()))}settleDrawerState(e,t=!0){Zi(this,b,"f")!==e&&(Qi(this,b,e,"f"),this.player.loop.dispatchEvent("Player.DRAWER_SHEET_STATE",{open:e})),Qi(this,T,e?-Zi(this,w,"f"):0,"f"),Qi(this,I,0,"f"),Qi(this,y,!1,"f"),this.updateAccessibilityVisibility();const i=()=>{this.elements.drawerContentContainer.style.opacity="",this.elements.drawerSheet.style.transform=`translateY(${Zi(this,T,"f")}px) scaleY(1)`,this.animatePosterAndMiniPlayer(e?1:0),this.player.safeTimeout((()=>{this.updateAccessibilityVisibility(),this.updateInvisibleMaqueesPausedState()}),100)};t?this.animateDrawerStep(i):(Qi(this,P,null,"f"),i())}animatePosterAndMiniPlayer(e){if(this.playerView.classList.toggle("ardplayer-drawer-open",e>=1),e<=0)return Qi(this,r,-1,"f"),this.elements.posterImage.style.transform="",this.elements.posterImage.style.borderRadius="",this.elements.posterImage.style.opacity="",this.elements.miniPlayer.style.transform="",this.elements.backgroundCanvas.style.opacity="",this.elements.topRow.style.opacity="",this.elements.topRow.style.pointerEvents="",void this.player.safeTimeout((()=>{Zi(this,y,"f")||Zi(this,b,"f")||(this.elements.miniPlayer.style.opacity="",this.elements.miniPlayer.style.top="",this.elements.miniPlayer.style.right="",this.elements.miniPlayer.classList.add("ardplayer-mini-player-bottom"),this.elements.miniPlayer.classList.remove("ardplayer-mini-player-top"))}),500);-1===Zi(this,r,"f")&&this.setupPosterAndMiniPlayerAnimation();const i=1-Zi(this,o,"f")*e,n=-1*Zi(this,l,"f")*e,a=-1*Zi(this,d,"f")*e,s=-1*Zi(this,c,"f")*e,h=-1*Zi(this,u,"f")*e;this.elements.posterImage.style.transform=`translate(${a}px, ${n}px) scale(${i})`,this.elements.posterImage.style.borderRadius=`${Math.round(4/i)}px`,(Zi(this,t,"f")||this.playerView.classList.contains("ardplayer-vh-l"))&&(this.elements.posterImage.style.opacity=e.toString()),this.elements.miniPlayer.style.transform=`translate(${h}px, ${s}px)`,this.elements.miniPlayer.style.opacity=e.toString(),this.elements.backgroundCanvas.style.opacity=(1-e).toString(),this.elements.topRow.style.opacity=(1-e).toString()}setupPosterAndMiniPlayerAnimation(){var e;Qi(this,r,this.elements.posterPicture.offsetWidth,"f"),Qi(this,s,54/Zi(this,r,"f"),"f"),Qi(this,o,1-Zi(this,s,"f"),"f");const t=this.elements.topRow.getBoundingClientRect(),i=this.elements.posterPicture.getBoundingClientRect();Qi(this,l,i.top-t.top-16,"f"),Qi(this,d,i.left-t.left,"f"),this.elements.miniPlayer.classList.remove("ardplayer-mini-player-bottom"),this.elements.miniPlayer.classList.add("ardplayer-mini-player-top");const n=i.top+(null===(e=this.elements.posterPicture)||void 0===e?void 0:e.offsetHeight)/2-this.elements.miniPlayer.offsetHeight/2;this.elements.miniPlayer.style.top=`${n}px`,this.elements.miniPlayer.style.right="-100%",this.elements.miniPlayer.style.opacity="0",Qi(this,c,n-t.top-16,"f"),Qi(this,u,t.width-54,"f")}updateAccessibilityVisibility(){const t=Zi(this,e,"f")||Zi(this,b,"f"),i=!Zi(this,e,"f")&&!Zi(this,b,"f"),r=!Zi(this,e,"f")&&(Zi(this,b,"f")||Zi(this,H,"f")),n=r||i;this.elements.miniPlayer.setAttribute("aria-hidden",t?"false":"true"),this.elements.miniPlayer.tabIndex=t?0:-1,this.elements.miniPlayer.querySelectorAll('[tabindex]:not([tabindex="-2"])').forEach((e=>{e.tabIndex=t?0:-1,e.setAttribute("aria-hidden",(0,k.Fl)(e)?"false":"true")})),this.elements.ariaComponentsMaxiPlayer.forEach((e=>{e.setAttribute("aria-hidden",i?"false":"true"),e.querySelectorAll('[tabindex]:not([tabindex="-2"])').forEach((e=>{e.tabIndex=i?0:-1}))})),this.elements.drawerSheet.setAttribute("aria-hidden",n?"false":"true"),this.elements.drawerHeading.tabIndex=n?0:-1,this.elements.drawerHeading.setAttribute("aria-hidden",Zi(this,H,"f")?"true":"false"),this.elements.drawerHeading.setAttribute("aria-pressed",r?"true":"false"),this.elements.drawerContentContainer.setAttribute("aria-hidden",r?"false":"true"),this.elements.drawerContentContainer.querySelectorAll('[tabindex]:not([tabindex="-2"])').forEach((e=>{e.tabIndex=r?0:-1}))}setupSwipeToDismiss(){this.addEventListener(this.elements.miniPlayer,"touchstart",(e=>{this.startDismissDrag(e)})),this.addEventListener(this.elements.miniPlayer,"touchmove",(e=>{this.dismissDrag(e)})),this.addEventListener(this.elements.miniPlayer,"touchend",(e=>{this.stopDismissDrag(e)})),this.addEventListener(this.elements.miniPlayer,"touchcancel",(e=>{this.stopDismissDrag(e)})),this.addEventListener(this.elements.miniPlayer,"mousedown",(e=>{this.startDismissDrag(e)})),this.addEventListener(this.elements.miniPlayer,"mousemove",(e=>{this.dismissDrag(e)})),this.addEventListener(this.elements.miniPlayer,"mouseup",(e=>{this.stopDismissDrag(e)})),this.addEventListener(this.elements.miniPlayer,"mouseleave",(e=>{this.stopDismissDrag(e)}));const e=()=>{document.body.scrollLeft=0,document.body.scrollTop=0,this.playerView.scrollLeft=0,this.playerView.scrollTop=0;const e=performance.now(),t=this.player.safeInterval((()=>{0!==document.body.scrollTop||0!==document.body.scrollLeft||0!==this.playerView.scrollTop||0!==this.playerView.scrollLeft?(document.body.scrollLeft=0,document.body.scrollTop=0,this.playerView.scrollLeft=0,this.playerView.scrollTop=0,clearInterval(t)):performance.now()-e>=250&&clearInterval(t)}),1)};this.addEventListener(this.elements.miniPlayerCloseButton,"focus",(()=>{Zi(this,V,"f")||(this.settleDismissState(!0),e())})),this.addEventListener(this.elements.miniPlayerCloseButton,"blur",(()=>{Zi(this,V,"f")&&(this.settleDismissState(!1),e())}))}startDismissDrag(t){if(!Zi(this,e,"f"))return;Qi(this,_,!0,"f"),Qi(this,O,performance.now(),"f"),this.elements.miniPlayer.classList.add("dismiss-dragging");const i=(0,n.ku)(t,this.playerView);Qi(this,M,i.left,"f"),Qi(this,D,i.top,"f")}dismissDrag(e){if(Zi(this,_,"f")){const t=(0,n.ku)(e,this.playerView),i=t.left-Zi(this,M,"f");let r=i;Zi(this,V,"f")&&(r-=Zi(this,j,"f")),r=Math.min(0,r),Qi(this,R,r,"f"),r=Math.max(r,-Zi(this,j,"f")),(Zi(this,D,"f")-t.top>=10||Zi(this,D,"f")<10&&t.top<Zi(this,D,"f"))&&Math.abs(i)<30?this.settleDismissState(!1):(z.preventNestedScrollForTouch(e),e.stopPropagation(),e.stopImmediatePropagation(),this.animateDismissStep((()=>{this.elements.miniPlayer.style.transform=`translateX(${r}px)`})))}}stopDismissDrag(e){if(Zi(this,_,"f")){this.elements.miniPlayer.classList.remove("dismiss-dragging"),Qi(this,_,!1,"f");const t=Math.abs(Zi(this,V,"f")?Zi(this,R,"f")+Zi(this,j,"f"):Zi(this,R,"f"));if(t<=10||performance.now()-Zi(this,O,"f")<=150&&t<=20)return void this.settleDismissState(Zi(this,V,"f"),!1);if(this.settleDismissState(Math.abs(Zi(this,R,"f"))>Zi(this,j,"f")*(Zi(this,V,"f")?.75:.33)),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),e instanceof MouseEvent){const e=t=>{t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.elements.miniPlayer.removeEventListener("click",e,{capture:!0})};this.elements.miniPlayer.addEventListener("click",e,{capture:!0})}}}settleDismissState(e,t=!0){Qi(this,V,e,"f"),Qi(this,_,!1,"f"),Qi(this,R,e?-Zi(this,j,"f"):0,"f"),this.elements.miniPlayer.classList.remove("dismiss-dragging");const i=()=>{this.elements.miniPlayer.classList.toggle("dismiss-open",e),this.elements.miniPlayer.style.transform=""};t?this.animateDismissStep(i):(Qi(this,B,null,"f"),i())}animateDismissStep(e){Qi(this,B,e,"f"),Zi(this,F,"f")||(Qi(this,F,!0,"f"),requestAnimationFrame((()=>{var e;Qi(this,F,!1,"f"),null===(e=Zi(this,B,"f"))||void 0===e||e.call(this),Qi(this,B,null,"f")})))}onViewportBreakpointChange(e){e.activated.includes("ardplayer-vh-m")||e.activated.includes("ardplayer-xl")?(Qi(this,H,!0,"f"),this.settleDrawerState(!1,!1)):e.active.includes("ardplayer-vh-m")||e.active.includes("ardplayer-xl")||(Qi(this,H,!1,"f"),this.updateAccessibilityVisibility())}onViewportResize(){Qi(this,i,(0,n.Pj)(this.playerView),"f"),Qi(this,j,150+Zi(this,i,"f").right,"f"),Zi(this,H,"f")||(Qi(this,S,this.elements.drawerSheet.offsetHeight,"f"),Qi(this,w,Zi(this,S,"f")-Zi(this,A,"f")-Zi(this,i,"f").bottom,"f"),Zi(this,b,"f")&&(this.playerView.classList.add("ardplayer-drawer-dragging"),requestAnimationFrame((()=>{this.setupPosterAndMiniPlayerAnimation(),this.settleDrawerState(!0,!1),requestAnimationFrame((()=>{this.playerView.classList.remove("ardplayer-drawer-dragging")}))})))),-2===this.drawPosterBackdropBlurTimeout?this.drawPosterBackdropBlurTimeout=-1:(cancelAnimationFrame(this.drawPosterBackdropBlurTimeout),this.drawPosterBackdropBlurTimeout=requestAnimationFrame((()=>{this.drawPosterBackdropBlur()}))),this.startMarquee()}get playerBreakpoints(){return[{maxWidth:389,className:"ardplayer-xs"},{maxWidth:474,className:"ardplayer-s"},{maxWidth:650,className:"ardplayer-m"},{minWidth:1200,minHeight:466,className:"ardplayer-xl"},{maxHeight:170,className:"ardplayer-vh-xxxs"},{maxHeight:215,className:"ardplayer-vh-xxs"},{maxHeight:this.player.isLive?330:230,className:"ardplayer-vh-xs"},{maxHeight:this.player.isLive?355:255,className:"ardplayer-vh-s"},{maxHeight:this.player.isLive?395:330,className:"ardplayer-vh-sm"},{maxHeight:465,className:"ardplayer-vh-m"},{maxHeight:540,className:"ardplayer-vh-l"},{minHeight:600,className:"ardplayer-vh-xl"}]}setupTitleWidget(){var e,t,i,r,a,s,o,l,d;const c=this.player.model.mediaCollection.meta,u=null===(e=this.elements.topRow)||void 0===e?void 0:e.querySelector(".ardplayer-top-row-station");if(u){(0,n.Ie)(u);const e={title:(0,n.Ed)(null===(t=c.publicationService)||void 0===t?void 0:t.name)&&null!==(r=null===(i=c.publicationService)||void 0===i?void 0:i.name)&&void 0!==r?r:"",iconUrl:null,showFavoritesButton:null!==(a=this.player.model.playerConfig.web.showFavoriteSelector)&&void 0!==a&&a},o=(0,ne.ll)(["publisherLogo"],this.player.model,!0,null===(s=c.ciBranding)||void 0===s?void 0:s.preferredColorScheme);if(o.length>0){const t=e=>{var t,i;return null!==(i=null===(t=e.mimeType)||void 0===t?void 0:t.includes("svg"))&&void 0!==i?i:e.url.endsWith(".svg")};o.sort(((e,i)=>t(e)?t(i)?0:-1:t(i)?1:0));const i=this.player.model.playerConfig.generic.imageTemplateConfig.resolveTemplate(o[0].url);e.iconUrl=i[0].url}const l=new W.U(Qt,this.player).renderTemplateAsElement(e);l&&(u.appendChild(l),this.onClick(l,(()=>{var t;null===(t=Zi(this,p,"f"))||void 0===t||t.dispatchEvent("AudioApp.goTo",{target:e.showFavoritesButton?"favorites":"station"})})))}const h=(0,n.z3)(c.seriesTitle)?null!==(o=c.subHeading)&&void 0!==o?o:"":c.seriesTitle;this.elements.miniSubtitle.innerText=h,this.elements.subtitle.innerText=h,this.elements.subtitle.tabIndex=-2,this.elements.subtitle.dataset.initiatorName="showTitle",this.onClick(this.elements.subtitle,(()=>{var e;null===(e=Zi(this,p,"f"))||void 0===e||e.dispatchEvent("AudioApp.goTo",{target:"show"})}));const m=(0,n.z3)(c.title)?null!==(d=null===(l=c.embed)||void 0===l?void 0:l.title)&&void 0!==d?d:"":c.title;this.elements.miniTitle.innerText=m,this.elements.title.innerText=m,this.elements.title.tabIndex=-2,this.elements.title.dataset.initiatorName="episodeTitle",this.onClick(this.elements.title,(()=>{var e;null===(e=Zi(this,p,"f"))||void 0===e||e.dispatchEvent("AudioApp.goTo",{target:"episode"})})),Qi(this,f,[this.marquee(this.elements.miniTitle),this.marquee(this.elements.miniSubtitle)],"f"),Qi(this,v,[this.marquee(this.elements.title),this.marquee(this.elements.subtitle)],"f"),this.updateInvisibleMaqueesPausedState(),this.startMarquee(),this.renderTitleChips()}renderTitleChips(){(0,n.Ie)(this.elements.titleChipsContainer),this.player.isLive&&this.renderTitleChip("LIVE","Livebertragung").classList.add("ardplayer-title-chip-live")}renderTitleChip(e,t,i=!1){const r=document.createElement("div");return r.classList.add("ardplayer-title-chip"),r.innerText=e,(0,n.z3)(t)||(r.title=t,r.setAttribute("aria-label",t)),i?this.elements.titleChipsContainer.prepend(r):this.elements.titleChipsContainer.appendChild(r),r}drawPosterBackdropBlur(){if(this.playerView.classList.contains("ardplayer-state-ci-branding-color-bleed"))return;const e=this.elements.backgroundCanvas,t=e.getContext("2d",{willReadFrequently:!0});if(!t)return;t.clearRect(0,0,e.width,e.height),e.width=e.offsetWidth+280,e.height=e.offsetHeight+280;const i=this.elements.posterImage.offsetWidth,r=this.elements.posterImage.offsetHeight,n=Math.max(e.width,e.height,i,r);try{t.drawImage(this.elements.posterImage,-(n-e.width)/2,-(n-e.height)/2+140,n,n),function(e,t=0){if(t<=0)return e;const{height:i,width:r}=e.canvas,n=e.getImageData(0,0,r,i),a=n.data,s=2*t+1,o=r-1,l=i-1,d=t+1,c=d*(d+1)/2,u=new Zt;let h=u,p=u;for(let e=1;e<s;e++)h=h.next=new Zt,e===d&&(p=h);h.next=u;let f=null,v=null,m=0,y=0;const g=Xt[t],b=ei[t];for(let e=0;e<i;e++){h=u;const e=a[y],i=a[y+1],n=a[y+2],s=a[y+3];for(let t=0;t<d;t++)h.r=e,h.g=i,h.b=n,h.a=s,h=h.next;let l=0,E=0,w=0,S=0,C=d*e,A=d*i,T=d*n,I=d*s,k=c*e,L=c*i,P=c*n,x=c*s;for(let e=1;e<d;e++){const t=y+((o<e?o:e)<<2),i=a[t],r=a[t+1],n=a[t+2],s=a[t+3],c=d-e;k+=(h.r=i)*c,L+=(h.g=r)*c,P+=(h.b=n)*c,x+=(h.a=s)*c,l+=i,E+=r,w+=n,S+=s,h=h.next}f=u,v=p;for(let e=0;e<r;e++){const i=x*g>>>b;if(a[y+3]=i,0!==i){const e=255/i;a[y]=(k*g>>>b)*e,a[y+1]=(L*g>>>b)*e,a[y+2]=(P*g>>>b)*e}else a[y]=a[y+1]=a[y+2]=0;k-=C,L-=A,P-=T,x-=I,C-=f.r,A-=f.g,T-=f.b,I-=f.a;let r=e+t+1;r=m+(r<o?r:o)<<2,l+=f.r=a[r],E+=f.g=a[r+1],w+=f.b=a[r+2],S+=f.a=a[r+3],k+=l,L+=E,P+=w,x+=S,f=f.next;const{r:n,g:s,b:d,a:c}=v;C+=n,A+=s,T+=d,I+=c,l-=n,E-=s,w-=d,S-=c,v=v.next,y+=4}m+=r}for(let e=0;e<r;e++){y=e<<2;let n=a[y],s=a[y+1],o=a[y+2],m=a[y+3],E=d*n,w=d*s,S=d*o,C=d*m,A=c*n,T=c*s,I=c*o,k=c*m;h=u;for(let e=0;e<d;e++)h.r=n,h.g=s,h.b=o,h.a=m,h=h.next;let L=r,P=0,x=0,_=0,O=0;for(let i=1;i<=t;i++){y=L+e<<2;const t=d-i;A+=(h.r=n=a[y])*t,T+=(h.g=s=a[y+1])*t,I+=(h.b=o=a[y+2])*t,k+=(h.a=m=a[y+3])*t,O+=n,P+=s,x+=o,_+=m,h=h.next,i<l&&(L+=r)}y=e,f=u,v=p;for(let t=0;t<i;t++){let i=y<<2;a[i+3]=m=k*g>>>b,m>0?(m=255/m,a[i]=(A*g>>>b)*m,a[i+1]=(T*g>>>b)*m,a[i+2]=(I*g>>>b)*m):a[i]=a[i+1]=a[i+2]=0,A-=E,T-=w,I-=S,k-=C,E-=f.r,w-=f.g,S-=f.b,C-=f.a,i=e+((i=t+d)<l?i:l)*r<<2,A+=O+=f.r=a[i],T+=P+=f.g=a[i+1],I+=x+=f.b=a[i+2],k+=_+=f.a=a[i+3],f=f.next,E+=n=v.r,w+=s=v.g,S+=o=v.b,C+=m=v.a,O-=n,P-=s,x-=o,_-=m,v=v.next,y+=r}}e.putImageData(n,0,0)}(t,80),function(e,t=1,i=1){if(1===t&&1===i)return e;t<0&&(t=0);const{height:r,width:n}=e.canvas,a=e.getImageData(0,0,n,r),{data:s}=a,o=.3086*(1-t),l=.6094*(1-t),d=.082*(1-t),c=n<<2;for(let e=0;e<r;e++){const r=e*c;for(let e=0;e<n;e++){const n=r+(e<<2),a=s[n],c=s[n+1],u=s[n+2];s[n]=(o+t)*a+l*c+d*u,s[n+1]=o*a+(l+t)*c+d*u,s[n+2]=o*a+l*c+(d+t)*u,s[n+3]*=i}}e.putImageData(a,0,0)}(t,1.7,.4)}catch(i){return this.warn("cannot create blur",i.message),void t.clearRect(0,0,e.width,e.height)}let a=t.createLinearGradient(0,0,e.width,0);a.addColorStop(0,"rgba(255, 255, 255, 1)"),a.addColorStop(.25,"rgba(255, 255, 255, 0)"),a.addColorStop(.75,"rgba(255, 255, 255, 0)"),a.addColorStop(1,"rgba(255, 255, 255, 1)"),t.globalCompositeOperation="destination-out",t.fillStyle=a,t.fillRect(0,0,e.width,e.height),a=t.createLinearGradient(0,0,0,e.height),a.addColorStop(.5,"rgba(255, 255, 255, 0)"),a.addColorStop(1,"rgba(255, 255, 255, 1)"),t.fillStyle=a,t.fillRect(0,0,e.width,e.height);const s=.5*e.height,o=.5*e.height-140;a=t.createRadialGradient(s,o,.33*e.height,s,o,.5*e.height+90),a.addColorStop(0,"rgba(255, 255, 255, 0)"),a.addColorStop(1,"rgba(255, 255, 255, 1)"),t.scale(e.width/e.height,1),t.fillStyle=a,t.fillRect(0,0,e.height,e.height),t.globalCompositeOperation="source-over",t.scale(1,1),requestAnimationFrame((()=>{Zi(this,y,"f")||Zi(this,b,"f")||(e.style.opacity="1")}))}setEPGData(e){var t,i,r,a,s,o,l,d,c,u,h,p,f,v,y,g,b,E,w,S,C;if(e.isSeeking!==Zi(this,m,"f"))return;if(null==e.epg&&null==e.clip)this.setupTitleWidget();else{let u=null!==(i=null===(t=e.epg)||void 0===t?void 0:t.title)&&void 0!==i?i:"",h=null!==(a=null===(r=e.epg)||void 0===r?void 0:r.subtitle)&&void 0!==a?a:"";(null!=e.clip||e.isSeeking)&&(u=(0,n.z3)(h)?u:u+" | "+h,h=null!==(o=null===(s=e.clip)||void 0===s?void 0:s.title)&&void 0!==o?o:"");const p=this.player.model.mediaCollection.meta,f=e.isSeeking||!(0,n.z3)(h)?h:(0,n.z3)(p.seriesTitle)?null!==(l=p.subHeading)&&void 0!==l?l:"":p.seriesTitle;this.elements.miniSubtitle.innerText=f,this.elements.subtitle.innerText=f;const v=(0,n.z3)(u)?(0,n.z3)(p.title)?null!==(c=null===(d=p.embed)||void 0===d?void 0:d.title)&&void 0!==c?c:"":p.title:u;this.elements.miniTitle.innerText=v,this.elements.title.innerText=v,this.startMarquee()}if(this.renderTitleChips(),this.player.isLive&&e.epg){const t=(0,N.l4)(e.epg.start,!0,!1),i=(0,N.l4)(e.epg.end,!0,!0);this.renderTitleChip(`${t} - ${i}`,`Die Sendung luft von ${t} bis ${i}`)}let A=e.isSeeking?null:null!==(h=null===(u=e.clip)||void 0===u?void 0:u.image)&&void 0!==h?h:null,T=e.isSeeking?null:null!==(y=null!==(f=null===(p=e.clip)||void 0===p?void 0:p.imageTitle)&&void 0!==f?f:null===(v=e.clip)||void 0===v?void 0:v.title)&&void 0!==y?y:null;(0,n.z3)(A)&&(A=null!==(b=null===(g=e.epg)||void 0===g?void 0:g.image)&&void 0!==b?b:null,T=null!==(C=null!==(w=null===(E=e.epg)||void 0===E?void 0:E.imageTitle)&&void 0!==w?w:null===(S=e.epg)||void 0===S?void 0:S.title)&&void 0!==C?C:null),(0,n.z3)(A)?Zi(this,Y,"f")||(Qi(this,Y,!0,"f"),this.startPosterCrossfade((()=>{this.preparePosterBackdrop()}))):(Qi(this,Y,!1,"f"),this.elements.posterImage.src!==A&&(this.startPosterCrossfade((()=>{(0,ne.g7)(this.elements.posterPicture,A),this.updateBackgroundBlur()})),(0,ne.g7)(this.elements.miniPosterPicture,A)),(0,U.$)(this.player,this.elements.posterImage,"posterbackdrop",{imageSourceName:null,alt:T,title:T}),(0,U.$)(this.player,this.elements.miniPosterImage,"posterbackdrop",{imageSourceName:null,alt:T,title:T}))}startPosterCrossfade(e){if("ok"!==this.elements.posterImage.dataset.loadFailureHandler)return void e();const t=this.elements.posterBackdropView.parentElement;if(t){const i=this.elements.posterBackdropView.cloneNode(!0);i.setAttribute("aria-hidden","true"),i.dataset.isTransient="true",i.style.transition="opacity 250ms",i.style.opacity="1",i.style.zIndex="1",t.insertBefore(i,this.elements.posterBackdropView.nextElementSibling);const r=()=>{i.remove()};this.player.safeTimeout((()=>{e(),i.addEventListener("transitionend",r),i.addEventListener("transitioncancel",r),this.player.safeTimeout(r,500),i.style.opacity="0"}))}else e()}updateBackgroundBlur(){"0"!==this.elements.backgroundCanvas.style.opacity?(this.elements.backgroundCanvas.style.opacity="0",this.elements.backgroundCanvas.addEventListener("transitioncancel",this.updateBackgroundBlurIntermediate),this.elements.backgroundCanvas.addEventListener("transitionend",this.updateBackgroundBlurIntermediate),window.clearTimeout(Zi(this,$,"f")),Qi(this,$,this.player.safeTimeout(this.updateBackgroundBlurIntermediate,500),"f")):this.updateBackgroundBlurIntermediate()}preparePosterBackdrop(){var e,t,i,r;Qi(this,Y,!0,"f"),this.createPosterBackdrop(),this.updateBackgroundBlur(),(0,ne.Lm)(this.elements.miniPosterPicture,this.POSTER_IMAGE_TYPE_DEFAULT,this.player.model);const n=(0,ne.t_)([this.POSTER_IMAGE_TYPE_DEFAULT],this.player.model);n.title=null!==(i=null!==(e=n.title)&&void 0!==e?e:null===(t=this.player)||void 0===t?void 0:t.model.mediaCollection.meta.title)&&void 0!==i?i:"",n.alt=null!==(r=n.alt)&&void 0!==r?r:n.title,(0,U.$)(this.player,this.elements.miniPosterImage,"posterbackdrop",n)}constructBaseDOM(e,t,i){return this.restoreFromDOM?(t.append(this.restoreFromDOM),this.restoreFromDOM=null,W.U.resolveElementLookup(t,i)):super.constructBaseDOM(e,t,i)}enterInteractiveErrorState(){return this.hideBufferingIndicator(),Qi(this,t,!0,"f"),this.playerView.classList.add("ardplayer-state-interactive-error"),this.showPlayBtn(),this.timeline.setDisabled(!0),this.stopObservingTabIndex(),this.playerView.querySelectorAll('.ardplayer > :not(.ardplayer-drawer) [tabindex]:not([tabindex="-1"]):not(.noUi-handle):not(.error-interactive)').forEach((e=>{e.tabIndex=-1})),!0}finishSetupAfterAddonsLoaded(){if(Zi(this,h,"f")){const e=this.player.addons.find((e=>"AddonSprungmarken"===e.ID));e?e.renderScreenInternal("radioShowsDrawer",new L.hc("",!1),Zi(this,h,"f")):this.playerView.classList.add("ardplayer-state-no-drawer")}}dispose(e=!1){var t,i,r,n,a;super.dispose(e),this.stopMarquee(),null===(t=Zi(this,f,"f"))||void 0===t||t.forEach((e=>null==e?void 0:e.dispose())),Qi(this,f,null,"f"),null===(i=Zi(this,v,"f"))||void 0===i||i.forEach((e=>null==e?void 0:e.dispose())),Qi(this,v,null,"f"),null===(r=Zi(this,G,"f"))||void 0===r||r.call(this),Qi(this,G,null,"f"),null===(n=Zi(this,p,"f"))||void 0===n||n.dispose(),Qi(this,p,null,"f"),null===(a=this.playlist)||void 0===a||a.dispose()}templateLookupDefinition(){return Xi}templateLoader(){return new W.U(Bt,this.player)}get POSTER_IMAGE_TYPE_DEFAULT(){return"audio"}setMenuState(e,t){this.playerView.classList.toggle("ardplayer-menu-none",!t&&null==e)}setSticky(e){return!1}get shouldRenderPosterframe(){return!1}get playerFillsWindow(){return!0}showAnimation(e){}get singleMenuButtonIsHero(){return!1}get isMainButtonBarObscured(){return!1}get isModalViewShown(){return!1}static supportsViewForConfigOf(e){return e.isAudio&&C.O.isEmbeddedSheet}get CONTROLLER_NAME(){return"AUDIOAPP"}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,r=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,w=new WeakMap,S=new WeakMap,A=new WeakMap,T=new WeakMap,I=new WeakMap,P=new WeakMap,x=new WeakMap,_=new WeakMap,O=new WeakMap,M=new WeakMap,D=new WeakMap,R=new WeakMap,V=new WeakMap,j=new WeakMap,B=new WeakMap,F=new WeakMap,H=new WeakMap,G=new WeakMap,$=new WeakMap,Y=new WeakMap,Ji(q,"AudioAppViewController"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=ee[Symbol.metadata])&&void 0!==e?e:null):void 0;J=[a.Rc],qi(q,null,J,{kind:"method",name:"updateAccessibilityVisibility",static:!1,private:!1,access:{has:e=>"updateAccessibilityVisibility"in e,get:e=>e.updateAccessibilityVisibility},metadata:t},null,te),qi(null,K={value:q},Z,{kind:"class",name:q.name,metadata:t},null,X),q=K.value,t&&Object.defineProperty(q,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t}),Ki(q,X)})(),q})();function tr(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=ir(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function ir(e){var t=""+e,i=rr.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var rr=/["&<>]/;const nr=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,o,l){i+='<div class="ardplayer-posterbackdrop">',(!0!==n.web.disablePosterImage||r.isAudioOnly&&(e.isEmbedded||!0!==n.web.isForcedVideoView))&&0!==r.meta.images.length&&(i=i+"<picture><img"+tr("alt",a.posterFrame.imgAlt,!0,!0)+' draggable="false"></picture>'),i+='</div><div class="ardplayer-viewport" tabindex="-2" data-initiator-name="viewport"></div><canvas class="els-waiting-animation"></canvas>\x3c!-- timer--\x3e';let d=s.formatDate(r.liveStreamStartDate),c=s.formatTime(r.liveStreamStartDate);i=i+'<div class="els-info"><p class="els-info-future">'+ir(null==(t=s.resolveStringTemplate(a.elsInterstitial.future,{date:d,time:c,countdown:o}))?"":t)+'</p><p class="els-info-today">'+ir(null==(t=s.resolveStringTemplate(a.elsInterstitial.today,{date:d,time:c,countdown:o}))?"":t)+'</p><p class="els-info-countdown"></p></div><div class="ardplayer-viewport-addon-overlays"></div>',"web"===e.platform&&(i=i+'<div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"><div class="ardplayer-bottom-sheet-background" tabindex="-2" data-initiator-name="bottom-sheet:backdrop"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true"'+tr("aria-labelledby",`ardplayer-bottom-sheet-title-${l}`,!0,!0)+'><div class="ardplayer-bottom-sheet-topbar"><button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1"'+tr("title",a.bottomSheet.backTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-back"></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1"'+tr("id",`ardplayer-bottom-sheet-title-${l}`,!0,!0)+'>Men</h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1"'+tr("title",a.bottomSheet.closeTitle,!0,!0)+tr("aria-label",a.bottomSheet.closeTitle,!0,!0)+' data-initiator-name="bottom-sheet:button-close"></button></div><div class="ardplayer-bottom-sheet-content-wrapper"><div class="ardplayer-bottom-sheet-content"></div></div></div></div>')}.call(this,"Environment"in r?r.Environment:"undefined"!=typeof Environment?Environment:void 0,"MC"in r?r.MC:"undefined"!=typeof MC?MC:void 0,"PC"in r?r.PC:"undefined"!=typeof PC?PC:void 0,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"countdown"in r?r.countdown:"undefined"!=typeof countdown?countdown:void 0,"playerID"in r?r.playerID:"undefined"!=typeof playerID?playerID:void 0),i};var ar=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},sr=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},or=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},lr=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},dr=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};const cr={viewport:W.U.select(".ardplayer-viewport"),addonOverlayContainer:W.U.select(".ardplayer-viewport-addon-overlays"),btnPlayPause:()=>[],btnPlayPausePosterframe:()=>null,btnReplay:()=>[],btnMore:()=>null,posterFramePicture:()=>null,posterFrameImage:()=>null,posterBackdropView:W.U.select(".ardplayer-posterbackdrop"),posterPicture:W.U.selectOptional(".ardplayer-posterbackdrop > picture"),posterImage:W.U.selectOptional(".ardplayer-posterbackdrop > picture img"),elsCountdown:W.U.select("p.els-info-countdown"),elsFuture:W.U.select("p.els-info-future"),elsToday:W.U.select("p.els-info-today"),animationCanvas:W.U.select("canvas.els-waiting-animation")};let ur=(()=>{var e,t,i,r,n,s;let o,l,d=[a.JW],c=[],u=ce;l=class extends u{static supportsViewForConfigOf(e){return!e.model.mediaCollection.isStreamCurrentlyAvailable&&!er.supportsViewForConfigOf(e)&&!ft.supportsViewForConfigOf(e)}constructor(a,o){var l,d;super(a,o),e.set(this,-1),t.set(this,void 0),i.set(this,void 0),r.set(this,void 0),n.set(this,void 0),s.set(this,-1),this.handleViewportClick=e=>{var t;"dblclick"!==e.type&&(e.stopImmediatePropagation(),e.preventDefault(),this.supportsFullscreen&&dr(this,s,"f")>0&&performance.now()-dr(this,s,"f")<=me.MULTI_CLICK_DELAY&&(null===(t=this.player.pixelController)||void 0===t||t.triggerFullscreenToggleMouse(),this.player.setFullscreenInternal(!this.player.isFullscreen)),lr(this,s,performance.now(),"f"))},this.updateCountdown=()=>{const a=Date.now()/1e3;if(a>=dr(this,t,"f"))this.player.setConfigInternal(this.player.model.playerConfig,this.player.model.mediaCollection);else{if(this.playerView.classList.toggle("ardplayer-state-els-countdown",a>=dr(this,r,"f")),this.elements.elsFuture.classList.toggle("ardplayer-hidden",a>=dr(this,r,"f")),this.elements.elsToday.classList.toggle("ardplayer-hidden",a<dr(this,r,"f")||a>=dr(this,i,"f")),this.elements.elsCountdown.classList.toggle("ardplayer-hidden",a<dr(this,i,"f")),a>=dr(this,r,"f")&&dr(this,n,"f").startAnimation(),a>=dr(this,i,"f")){const e=dr(this,t,"f")-a;this.elements.elsCountdown.innerText=(0,N.e_)(this.player.StringConfig.Strings.elsInterstitial.countdown,{countdown:(0,N.a7)(e,!1,!0,!1)})}lr(this,e,this.player.safeTimeout(this.updateCountdown,a>=dr(this,i,"f")?1e3:a>=dr(this,r,"f")?1e3*(dr(this,i,"f")-a):1e3*(dr(this,r,"f")-a)),"f")}},this.playerView.classList.add("ardplayer-state-els-interstital");const c=getComputedStyle(this.elements.animationCanvas).getPropertyValue("--ardplayer-color-primary");lr(this,n,new hr(this.elements.animationCanvas,c),"f"),this.registerPlayerEvent(Zn.VIEWPORT_RESIZE,(()=>{dr(this,n,"f").setupCanvas()})),this.registerPlayerEvent(Zn.VIEWPORT_BREAKPOINT_CHANGE,(e=>{e.active.includes("ardplayer-xs")?dr(this,n,"f").setParams({punchoutWidthFraction:.6,ringSizeWidthFraction:.4,maxOpacity:.2}):e.active.includes("ardplayer-s")?dr(this,n,"f").setParams({punchoutWidthFraction:.4,ringSizeWidthFraction:.4}):e.active.includes("ardplayer-m")?dr(this,n,"f").setParams({punchoutWidthFraction:.37}):dr(this,n,"f").setParams({})})),this.onClick(this.elements.viewport,this.handleViewportClick),this.addEventListener(this.elements.viewport,"dblclick",this.handleViewportClick),super.continueConstructingAfterDOMComplete(),lr(this,t,(null!==(d=null===(l=this.player.model.mediaCollection.liveStreamStartDate)||void 0===l?void 0:l.getTime())&&void 0!==d?d:Date.now())/1e3,"f"),lr(this,i,dr(this,t,"f")-3600,"f"),lr(this,r,new Date(1e3*dr(this,t,"f")).setHours(0,0,0,0)/1e3,"f"),this.updateCountdown(),this.player.safeTimeoutWithContext({type:"lifecycle",initiator:"base-dom-complete"},(()=>{this.player&&this.player.loop.dispatchEvent(Zn.SETUP_VIEW_REDUCED,{controller:this,viewport:this.elements.addonOverlayContainer}),this.toggleForceOver("els_interstitial",!0)}))}dispose(t=!1){super.dispose(t),dr(this,n,"f").dispose(),clearTimeout(dr(this,e,"f"))}templateLoader(){return new W.U(nr,this.player)}templateLookupDefinition(){return cr}get POSTER_IMAGE_TYPE_DEFAULT(){return"preview"}get supportsFullscreen(){return!this.player.isAudio}get singleMenuButtonIsHero(){return!1}get shouldRenderPosterframe(){return!1}preparePosterBackdrop(){this.log("create backdrop"),this.createPosterBackdrop()}get CONTROLLER_NAME(){return"ELS_INTERSTITIAL"}setVideoScale(e){}setMenuState(e,t){}showAnimation(e){}updateAccessibleVisibility(){}setSticky(e){return!1}updateTimeline(e,t){}updateTime(e){}updateVolumeUI(e,t,i){}toggleTitleWidgetHidden(e){}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,r=new WeakMap,n=new WeakMap,s=new WeakMap,or(l,"ELSInterstitialViewController"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=u[Symbol.metadata])&&void 0!==e?e:null):void 0;ar(null,o={value:l},d,{kind:"class",name:l.name,metadata:t},null,c),l=o.value,t&&Object.defineProperty(l,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t}),sr(l,c)})(),l})();class hr{constructor(e,t,i=3,r=8e3){this.canvas=e,this.color=t,this.ringCount=i,this.durationMs=r,this.defaultParams={punchoutWidthFraction:.35,ringSizeWidthFraction:.3,maxOpacity:.3},this.params=Object.assign({},this.defaultParams),this.delayBetweenRings=this.durationMs/this.ringCount,this.frameId=-1,this.ringProgress=[],this.lastTick=Number.POSITIVE_INFINITY,this.centerX=0,this.centerY=0,this.baseRadius=0,this.thickness=0,this.animate=e=>{const t=e-this.lastTick;this.lastTick=e,t>0&&this.animationStep(t),this.frameId=requestAnimationFrame(this.animate)};const n=e.getContext("2d",{alpha:!0,willReadFrequently:!1,desynchronized:!1});if(!n)throw new Error("could not get canvas context");this.ctx=n,this.setupCanvas();for(let e=0;e<this.ringCount;e++)this.ringProgress.push(-e*this.delayBetweenRings)}dispose(){this.frameId>0&&cancelAnimationFrame(this.frameId)}setupCanvas(){const e=this.canvas.parentElement;if(!e)throw new Error("Canvas not in DOM");const t=e.getBoundingClientRect();this.canvas.width=t.width*window.devicePixelRatio,this.canvas.height=t.height*window.devicePixelRatio,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),this.applyParams(t)}applyParams(e){this.centerX=e.width/2,this.centerY=e.height/2,this.baseRadius=e.width/2*this.params.punchoutWidthFraction,this.thickness=Math.max(e.width,e.height)*this.params.ringSizeWidthFraction}setParams(e){Object.assign(this.params,this.defaultParams,e);const t=this.canvas.parentElement;if(!t)throw new Error("Canvas not in DOM");this.applyParams(t.getBoundingClientRect())}startAnimation(){this.frameId<0&&(this.frameId=requestAnimationFrame(this.animate))}animationStep(e){this.ctx.clearRect(0,0,this.canvas.width/window.devicePixelRatio,this.canvas.height/window.devicePixelRatio);for(let t=0;t<this.ringProgress.length;t++)if(this.ringProgress[t]+=e,this.ringProgress[t]>0){this.ringProgress[t]%=this.durationMs;const e=this.ringProgress[t]/this.durationMs;e>=0&&e<=1&&this.drawRing(e,t%2==0)}}drawRing(e,t){const i=this.params.maxOpacity*this.easeOutCubic(e<.5?2*e:2*(1-e)),r=t?this.thickness/2:this.thickness,n=r*this.easeOutExpo(e),a=this.baseRadius+n/2+(r+this.thickness)/2*this.easeInSine(e);this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,a,0,2*Math.PI),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=n,this.ctx.globalAlpha=i,this.ctx.stroke(),this.ctx.restore()}easeOutExpo(e){return 1===e?1:1-Math.pow(2,-10*e)}easeOutCubic(e){return 1-Math.pow(1-e,3)}easeInSine(e){return 1-Math.cos(e*Math.PI/2)}}const pr=[ur,Dt,er,ft,St];var fr=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},vr=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},mr=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let yr=(()=>{let e,t,i=[a.JW],r=[];t=class{constructor(e){this.player=e,this.playerEventMap={[Zn.EVENT_READY]:"canplay",[Zn.EVENT_PLAY_STREAM]:"play",[Zn.EVENT_PAUSE_STREAM]:"pause",[Zn.EVENT_UPDATE_STREAM_TIME]:"currentTime"},this.lastMessage="",this.handleWindowMessage=e=>{const t=e.data,i=this.player.getCtrl();switch(t.method){case"play":this.player.playInternal();break;case"pause":this.player.pauseInternal();break;case"setCurrentTime":"number"==typeof t.value&&this.player.seekToInternal(t.value);break;case"setVolume":i&&i.setVolume(100*t.value);break;case"toggleplay":i&&i.togglePlay()}},this.handlePlayerEvent=e=>{this.sendMessage(this.playerEventMap[`Player.${e.namespace}`])},this.addMessageListener()}sendMessage(e){const t=this.player.getCurrentTime(),i=this.player.getDuration(),r={event:e,data:{seconds:t.toFixed(2),percent:(t/i).toFixed(2),duration:i.toFixed(2),currentTime:t.toFixed(2)}};if(isFinite(i)){const e=JSON.stringify(r);this.lastMessage!==e&&(this.lastMessage=e,parent.postMessage(r,"*"))}}addMessageListener(){window.addEventListener("message",this.handleWindowMessage,!1);for(const e in this.playerEventMap)this.player.on(e,this.handlePlayerEvent)}dispose(){window.removeEventListener("message",this.handleWindowMessage,!1);for(const e in this.playerEventMap)this.player.off(e,this.handlePlayerEvent)}};return mr(t,"PostMessageController"),(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;fr(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),vr(t,r)})(),t})();var gr=i(10032),br=i(11027),Er=i(34733),wr=i(68351),Sr=i(61261),Cr=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Ar=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Tr=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Ir=(()=>{let e,t,i=[a.JW],r=[],n=P.t;var s=t=class extends n{constructor(){super(...arguments),this.configKey="internals/settings",this.ID="SettingsSheetAddon",this.speedRange=Sr.j,this.speedRangeIcons=["ardplayer-icon-speed-0-25","ardplayer-icon-speed-0-5","ardplayer-icon-speed-0-75","ardplayer-icon-speed-1","ardplayer-icon-speed-1-25","ardplayer-icon-speed-1-5","ardplayer-icon-speed-1-75","ardplayer-icon-speed-2"],this.selectedSpeed=3,this.speedSelector=null,this.qualitySelector=null,this.settingsExtensions=[],this.onKeyRelease=e=>{var t,i;e.shiftKey&&("."===e.shortcut?this.selectedSpeed<this.speedRange.length-1&&(this.selectedSpeed++,this.player.setPlaybackRateInternal(this.speedRange[this.selectedSpeed]),null===(t=this.speedSelector)||void 0===t||t.updateSelection(this.selectedSpeed)):","===e.shortcut&&this.selectedSpeed>0&&(this.selectedSpeed--,this.player.setPlaybackRateInternal(this.speedRange[this.selectedSpeed]),null===(i=this.speedSelector)||void 0===i||i.updateSelection(this.selectedSpeed)))}}get buttonOrder(){return this.player.isAudio?C.O.isEmbedded?0:6:1e3}listAddonButtons(){var e,t;return this.player.isAudio&&C.O.isEmbedded?[{classList:["ardplayer-icon",this.speedRangeIcons[this.selectedSpeed],...-1===(null===(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.mediaElement)||void 0===t?void 0:t.playbackRate)?["ardplayer-button-disabled"]:[]],accessibilityKey:"playback-speed",screen:s.SpeedScreen}]:[{classList:["ardplayer-button-settings","ardplayer-icon","ardplayer-icon-settings"],accessibilityKey:"settings",screen:s.OverviewScreen}]}register(){return!!super.register()&&(this.selectedSpeed=this.speedRange.indexOf(-1===this.player.model.playbackRate?1:this.player.model.playbackRate),this.selectedSpeed<0&&(this.selectedSpeed=3),this.registerPlayerEvent(Zn.PLAYBACK_RATE_CHANGE,this.onRateChange),this.registerPlayerEvent(Zn.REMOTE_PLAYBACK_CHANGED,this.onRemotePlaybackChange),this.registerPlayerEvent(Zn.EVENT_LOAD_STREAM,this.onLoadStream),this.registerPlayerEvent(Zn.EVENT_KEYBOARD_RELEASE,this.onKeyRelease),this.registerPlayerEvent(Zn.EVENT_QUALITY_CHANGE,this.onQualityChange),this.registerPlayerEvent(Zn.EVENT_INITIAL_FRAME,(()=>{this.onQualityChange()})),!0)}onScreenClosed(e){super.onScreenClosed(e),e===s.OverviewScreen&&(this.speedSelector=null,this.qualitySelector=null,this.player.loop.dispatchEvent(Zn.EVENT_SHOW_OPTIONS,{visible:!1}))}renderToDisplayList(e,t){t===s.OverviewScreen?this.renderSettingsToDisplayList(e):(e.title="Wiedergabegeschwindigkeit",this.speedRange.forEach(((t,i)=>{L.hc.renderButton(e,`${String(t)}x`,(()=>{var e;this.selectedSpeed=i,this.player.setPlaybackRateInternal(this.speedRange[i]),this.renderButtons(),null===(e=this.bottomSheet)||void 0===e||e.conceal(null)}),"",i===this.selectedSpeed,!1)})))}renderSettingsToDisplayList(e){e.title="Einstellungen",this.player.isAudio||(this.qualitySelector=L.hc.renderSelect(e,"Qualitt",this.player.qualityList.map((e=>e.label)),this.player.qualityList.findIndex((e=>e.level===this.player.currentQuality)),(e=>{this.setQualityLevel(this.player.qualityList[e].level)}))),this.mc.isLive||(this.speedSelector=L.hc.renderSelect(e,"Geschwindigkeit",this.speedRange.map((e=>1===e?"Normal":String(e))),this.selectedSpeed,(e=>{this.selectedSpeed=e,this.player.setPlaybackRateInternal(this.speedRange[e])}),((e,t,i)=>{var r,n;return-1!==(null===(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.mediaElement)||void 0===n?void 0:n.playbackRate)}))),this.settingsExtensions.forEach((t=>{t.renderSettingsPlugin(e)})),this.player.loop.dispatchEvent(Zn.EVENT_SHOW_OPTIONS,{visible:!0})}onRateChange(){var e,t,i,r;const n=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.mediaElement.playbackRate)&&void 0!==t?t:this.player.model.playbackRate;this.selectedSpeed=this.speedRange.indexOf(-1===n?1:n),this.selectedSpeed<0&&(this.selectedSpeed=3),null===(i=this.speedSelector)||void 0===i||i.updateSelection(this.selectedSpeed,!0),this.player.isAudio&&C.O.isEmbedded&&this.renderButtons(),null===(r=this.speedSelector)||void 0===r||r.updateSelection(this.selectedSpeed,!0)}onRemotePlaybackChange(){this.onRateChange(),this.onQualityChange()}onLoadStream(){this.onQualityChange()}onQualityChange(e){var t,i;const r=null!==(t=null==e?void 0:e.toQuality)&&void 0!==t?t:this.player.currentQuality,n=this.player.qualityList.findIndex((e=>e.level===r));n>=0&&(null===(i=this.qualitySelector)||void 0===i||i.updateValues(this.player.qualityList.map((e=>e.label)),n),this.updateHdStatus(this.player.qualityList[n]))}updateHdStatus(e){var t,i,r,n,a;const s=1280,o=null!==(i=null===(t=this.player)||void 0===t?void 0:t.model.mediaCollection.isAudioOnly)&&void 0!==i&&i,l=null===(r=this.player)||void 0===r?void 0:r.currentStream,d=["ardplayer-icon-settings-hd-off","ardplayer-icon-settings-hd"],c=this.getFocusButton();if(null==c||c.classList.remove(...d),o||!l)return;const u=l.media.some((e=>{var t,i;return(null!==(t=e.maxVResolutionPx)&&void 0!==t?t:720)>=720||(null!==(i=e.maxHResolutionPx)&&void 0!==i?i:s)>=s}));if(!u)return;const h=l.media[this.player.currentMedia||0],p=e.height>0?e.height:null!==(n=null==h?void 0:h.maxVResolutionPx)&&void 0!==n?n:0,f=(e.width>0?e.width:null!==(a=null==h?void 0:h.maxHResolutionPx)&&void 0!==a?a:0)>=s||p>=720;null==c||c.classList.add(d[f?1:0])}setQualityLevel(e){var t,i;e!==this.player.currentQuality&&((null===(t=this.player.viewCtrl)||void 0===t?void 0:t.dvrState.enabledAndRequested)&&!(null===(i=this.player.viewCtrl)||void 0===i?void 0:i.dvrState.isLive)&&this.player.pixelController.triggerPixel(S.k.SUPER_BACK_TO_LIVE),this.player.pixelController.triggerQualityChanged(S.k.IA_MOUSE_QUALITY_CHANGE),this.player.switchQuality(e))}isSupported(){return!!super.isSupported()&&(!this.mc.isLive||!this.player.isAudio&&-1!==this.mc.streams.findIndex((e=>"main"===e.kind&&(e.media.length>1||e.media[0].isAdaptiveQualitySelectable))))}addSettingsExtension(e){this.settingsExtensions.includes(e)||this.settingsExtensions.push(e)}removeSettingsExtension(e){const t=this.settingsExtensions.indexOf(e);t>=0&&this.settingsExtensions.splice(t,1)}dispose(){super.dispose(),this.settingsExtensions=[]}};return Tr(t,"SettingsAddon"),(()=>{var a;const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(a=n[Symbol.metadata])&&void 0!==a?a:null):void 0;Cr(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,r),s=t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),t.OverviewScreen="overview",t.SpeedScreen="speed",Ar(t,r),s=t})();var kr,Lr,Pr,xr,_r,Or,Mr,Dr,Rr=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Nr=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Ur=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class Vr{get useDelegate(){var e;return C.O.isEmbedded||!0===(null===(e=Nr(this,Pr,"f"))||void 0===e?void 0:e.model.playerConfig.web.isFullscreenManagedExternally)}get isFullscreen(){return Nr(this,Lr,"f")}get isAvailable(){var e;return this.useDelegate||"webkitCancelFullScreen"===Nr(kr,kr,"f",Mr).exitFullscreen&&!Nr(this,xr,"f")||null!==Nr(kr,kr,"f",Mr).fullscreenEnabled&&!0===document[Nr(kr,kr,"f",Mr).fullscreenEnabled]||(null===(e=Nr(this,Pr,"f"))||void 0===e?void 0:e.mediaElement)instanceof HTMLVideoElement&&!0===Nr(this,Pr,"f").mediaElement.webkitSupportsFullscreen}constructor(e){Lr.set(this,!1),Pr.set(this,void 0),xr.set(this,void 0),this.webkitBeginHandler=e=>{var t;e.target instanceof Node&&(0,n.Ee)(null===(t=Nr(this,Pr,"f"))||void 0===t?void 0:t.getTarget(),e.target)&&this.onFullscreenStart()},this.webkitEndHandler=e=>{var t;e.target instanceof Node&&(0,n.Ee)(null===(t=Nr(this,Pr,"f"))||void 0===t?void 0:t.getTarget(),e.target)&&this.onFullscreenEnd()},this.onChangeHandler=e=>{var t,i;if(Nr(kr,kr,"f",Mr).fullscreenElement)(0,n.Ee)(null===(t=Nr(this,Pr,"f"))||void 0===t?void 0:t.getTarget(),document[Nr(kr,kr,"f",Mr).fullscreenElement])?this.onFullscreenStart():this.onFullscreenEnd();else{const e=null===(i=Nr(this,Pr,"f"))||void 0===i?void 0:i.mediaElement;e instanceof HTMLVideoElement&&e.webkitDisplayingFullscreen!==Nr(this,Lr,"f")&&(Nr(this,Lr,"f")?this.onFullscreenEnd():this.onFullscreenStart())}},Dr.set(this,!1),this.onFullscreenEnd=()=>{var e,t,i,r,n,a;Nr(this,xr,"f")&&"webkitfullscreenchange"===Nr(kr,kr,"f",Mr).fullscreenChange&&window.removeEventListener("resize",this.onFullscreenEnd,!1),Nr(this,Dr,"f")&&(null===(e=Nr(this,Pr,"f"))||void 0===e?void 0:e.mediaElement)instanceof HTMLVideoElement&&(null===(t=Nr(this,Pr,"f"))||void 0===t||t.mediaElement.setAttribute("controls","controls"),null===(i=Nr(this,Pr,"f"))||void 0===i||i.mediaElement.removeAttribute("controls")),Nr(this,Lr,"f")&&(Ur(this,Lr,!1,"f"),null===(r=Nr(this,Pr,"f"))||void 0===r||r.loop.dispatchEvent(Zn.TOGGLE_FULLSCREEN,{fullscreen:!1}),null===(a=null===(n=Nr(this,Pr,"f"))||void 0===n?void 0:n.pixelController)||void 0===a||a.triggerPixel(S.k.SUPER_FULLSCREEN_DEACTIVATION))},Ur(this,Pr,e,"f");try{Ur(this,xr,window.self!==window.top,"f")}catch(e){Ur(this,xr,!0,"f")}Nr(kr,kr,"f",Mr).fullscreenChange&&document.addEventListener(Nr(kr,kr,"f",Mr).fullscreenChange,this.onChangeHandler,!1),C.O.browserIsSafari&&(document.addEventListener("webkitbeginfullscreen",this.webkitBeginHandler),document.addEventListener("webkitendfullscreen",this.webkitEndHandler))}enterFullscreen(){var e,t,i,r,a,s,o,l,d,c,u,h,p,f,v,m,y,g,b,E;if(!Nr(this,Lr,"f")&&this.isAvailable)if(Ur(this,Dr,!1,"f"),this.useDelegate)this.onFullscreenStart();else{const w=null!==(t=null===(e=Nr(this,Pr,"f"))||void 0===e?void 0:e.viewCtrl)&&void 0!==t?t:null,S=null!==(i=null==w?void 0:w.playerView)&&void 0!==i?i:null;if(w&&S)if(document.activeElement&&!(0,n.Ee)(null===(r=Nr(this,Pr,"f"))||void 0===r?void 0:r.getTarget(),document.activeElement)&&(0,k.GW)(w.elements.viewport),null!==w.lastFocusElement&&(null===(a=Nr(this,Pr,"f"))||void 0===a||a.safeTimeout((()=>{(0,k.GW)(w.lastFocusElement)}),1e3)),null===(s=Nr(this,Pr,"f"))||void 0===s||s.preserveExecutionContext(Zn.TOGGLE_FULLSCREEN),null===Nr(kr,kr,"f",Mr).requestFullscreen||Nr(this,xr,"f")&&null!==Nr(kr,kr,"f",Mr).fullscreenEnabled&&!document[Nr(kr,kr,"f",Mr).fullscreenEnabled])this.enterFullscreenVideoFallback().then((()=>{var e;null===(e=Nr(this,Pr,"f"))||void 0===e||e.console.info("requested video fullscreen fallback")})).catch(null!==(l=null===(o=Nr(this,Pr,"f"))||void 0===o?void 0:o.console.error)&&void 0!==l?l:window.console.error);else if(Nr(this,xr,"f")&&null===Nr(kr,kr,"f",Mr).fullscreenEnabled)null===(c=null===(d=S[Nr(kr,kr,"f",Mr).requestFullscreen])||void 0===d?void 0:d.call(S))||void 0===c||c.then((()=>{var e;null===(e=Nr(this,Pr,"f"))||void 0===e||e.console.info("successfully requested element fullscreen in iframe")})).catch(null!==(h=null===(u=Nr(this,Pr,"f"))||void 0===u?void 0:u.console.error)&&void 0!==h?h:window.console.error),null===(p=Nr(this,Pr,"f"))||void 0===p||p.safeTimeout((()=>{var e,t;Nr(kr,kr,"f",Mr).fullscreenEnabled&&(Nr(kr,kr,"f",Mr).fullscreenElement&&!document[Nr(kr,kr,"f",Mr).fullscreenElement]?(document[Nr(kr,kr,"f",Mr).fullscreenEnabled]=!1,this.enterFullscreenVideoFallback().then((()=>{var e;null===(e=Nr(this,Pr,"f"))||void 0===e||e.console.info("requested video fullscreen fallback")})).catch(null!==(t=null===(e=Nr(this,Pr,"f"))||void 0===e?void 0:e.console.error)&&void 0!==t?t:window.console.error)):document[Nr(kr,kr,"f",Mr).fullscreenEnabled]=!0)}),250);else try{null===(v=null===(f=S[Nr(kr,kr,"f",Mr).requestFullscreen])||void 0===f?void 0:f.call(S))||void 0===v||v.then((()=>{var e;null===(e=Nr(this,Pr,"f"))||void 0===e||e.console.info("successfully requested element fullscreen")})).catch(null!==(y=null===(m=Nr(this,Pr,"f"))||void 0===m?void 0:m.console.error)&&void 0!==y?y:window.console.error),C.O.browserIsSafari&&(null===(g=Nr(this,Pr,"f"))||void 0===g||g.safeTimeout((()=>{var e;Nr(kr,kr,"f",Mr).fullscreenElement&&!document[Nr(kr,kr,"f",Mr).fullscreenElement]&&(null===(e=Nr(this,Pr,"f"))||void 0===e||e.console.error(Nr(this,xr,"f")?"safari fullscreen not enabled":"safari fullscreen not allowed"))}),100))}catch(e){(null!==(E=null===(b=Nr(this,Pr,"f"))||void 0===b?void 0:b.console.error)&&void 0!==E?E:window.console.error)(e)}}}enterFullscreenVideoFallback(){return Rr(this,void 0,void 0,(function*(){yield new Promise(((e,t)=>{if(Ur(this,Dr,!0,"f"),Nr(this,Pr,"f")){const i=Nr(this,Pr,"f").mediaElement;if(i instanceof HTMLVideoElement&&i.webkitEnterFullscreen){try{if(Nr(this,Pr,"f").checkStateStrict(),i.readyState<i.HAVE_METADATA){const r=()=>{var n;try{i.removeEventListener("loadedmetadata",r,!1),null===(n=i.webkitEnterFullscreen)||void 0===n||n.call(i),e()}catch(e){t(e instanceof Error?e:new Error(String(e)))}};i.addEventListener("loadedmetadata",r,!1),Nr(this,Pr,"f").playInternal()}else i.webkitEnterFullscreen(),e()}catch(e){t(e instanceof Error?e:new Error(String(e)))}return}}t(new Error(null===Nr(kr,kr,"f",Mr).requestFullscreen?"not_supported":"not_enabled"))}))}))}exitFullscreen(){var e,t,i,r,n,a,s,o,l,d;if(Nr(this,Lr,"f"))if(this.useDelegate)this.onFullscreenEnd();else if(null===(e=Nr(this,Pr,"f"))||void 0===e||e.preserveExecutionContext(Zn.TOGGLE_FULLSCREEN),Nr(this,Dr,"f")&&(null===(t=Nr(this,Pr,"f"))||void 0===t?void 0:t.mediaElement)instanceof HTMLVideoElement&&(null===(i=Nr(this,Pr,"f"))||void 0===i?void 0:i.mediaElement.webkitExitFullscreen))null===(r=Nr(this,Pr,"f"))||void 0===r||r.mediaElement.webkitExitFullscreen();else try{Nr(kr,kr,"f",Mr).exitFullscreen?null===(a=null===(n=document[Nr(kr,kr,"f",Mr).exitFullscreen])||void 0===n?void 0:n.call(document))||void 0===a||a.then((()=>{var e;null===(e=Nr(this,Pr,"f"))||void 0===e||e.console.info("fullscreen exited")})).catch(null!==(o=null===(s=Nr(this,Pr,"f"))||void 0===s?void 0:s.console.error)&&void 0!==o?o:window.console.error):null===(l=Nr(this,Pr,"f"))||void 0===l||l.console.error("no fullscreeen exit func")}catch(e){null===(d=Nr(this,Pr,"f"))||void 0===d||d.console.error(e)}}onFullscreenStart(){var e,t,i;Nr(this,Lr,"f")||(Ur(this,Lr,!0,"f"),null===(e=Nr(this,Pr,"f"))||void 0===e||e.loop.dispatchEvent(Zn.TOGGLE_FULLSCREEN,{fullscreen:!0}),null===(i=null===(t=Nr(this,Pr,"f"))||void 0===t?void 0:t.pixelController)||void 0===i||i.triggerPixel(S.k.SUPER_FULLSCREEN_ACTIVATION),Nr(this,xr,"f")&&"webkitfullscreenchange"===Nr(kr,kr,"f",Mr).fullscreenChange&&window.addEventListener("resize",this.onFullscreenEnd,!1))}toggleFullscreen(){Nr(this,Lr,"f")?this.exitFullscreen():this.enterFullscreen()}dispose(){Ur(this,Pr,null,"f"),this.exitFullscreen(),Nr(kr,kr,"f",Mr).fullscreenChange&&document.removeEventListener(Nr(kr,kr,"f",Mr).fullscreenChange,this.onChangeHandler,!1),Nr(kr,kr,"f",Mr).fullscreenChange&&document.removeEventListener(Nr(kr,kr,"f",Mr).fullscreenChange,this.onChangeHandler,!1),C.O.browserIsSafari&&(document.removeEventListener("webkitbeginfullscreen",this.webkitBeginHandler),document.removeEventListener("webkitendfullscreen",this.webkitEndHandler))}}kr=Vr,Lr=new WeakMap,Pr=new WeakMap,xr=new WeakMap,Dr=new WeakMap,_r={value:e=>{var t;const i=document.createElement("video");return null!==(t=e.find((e=>`on${e.toLowerCase()}`in i||`on${e.toLowerCase()}`in document)))&&void 0!==t?t:null}},Or={value:e=>{var t;return null!==(t=e.find((e=>e in document)))&&void 0!==t?t:null}},Mr={value:{requestFullscreen:Nr(kr,kr,"f",{value:e=>{var t;const i=document.createElement("video");return null!==(t=e.find((e=>e in i)))&&void 0!==t?t:null}}).call(kr,["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"]),exitFullscreen:Nr(kr,kr,"f",Or).call(kr,["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"]),fullscreenEnabled:Nr(kr,kr,"f",Or).call(kr,["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"]),fullscreenElement:Nr(kr,kr,"f",Or).call(kr,["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"]),fullscreenChange:Nr(kr,kr,"f",_r).call(kr,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])}};var jr=i(67555),Br=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Fr=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Hr=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Wr=(()=>{let e,t,i=[a.JW],r=[];t=class{constructor(e){this.player=e,this.container=document.createElement("div"),this.container.className="ardplayer-debugger-container",this.container.dataset.verticalNavOffset="99999",this.container.dataset.verticalNavBefore="ul.ardplayer-contextmenu",this.container.dataset.panelType=this.constructor.name;const t=document.createElement("button");t.classList.add("ardplayer-icon","ardplayer-icon-close"),t.tabIndex=0,this.container.appendChild(t),t.addEventListener("click",(()=>{this.hide()})),e.safeTimeout((()=>{const t=e.getTarget();if(t.appendChild(this.container),C.O.isEmbedded||this.container.offsetHeight>t.offsetHeight&&"fixed"!==getComputedStyle(this.container).position){const e=(0,n.Pj)(this.container),i=Math.min(t.offsetHeight/(this.container.offsetHeight+e.top+e.bottom),1);this.container.style.top=`${e.top}px`,e.left>0&&(this.container.style.left=`${e.left}px`),this.container.style.transform=`scale(${i.toFixed(3)})`,this.container.style.transformOrigin="top"}else{const e=t.getBoundingClientRect();this.container.style.top=`${e.top}px`,this.container.style.left=`${e.left}px`}}))}hide(){this.player.getTarget().removeChild(this.container),this.dispose()}static show(e,t,i,r){var n;const a=e.getTarget().querySelector(".ardplayer-debugger-container");return a&&(null===(n=a.querySelector(".ardplayer-icon-close"))||void 0===n||n.click()),new t(e,i,r)}addRow(e){const t=document.createElement("span");t.innerText=e;const i=document.createElement("div");return this.container.append(t,i),i}addBorder(e){return e.style.border="1px solid var(--ardplayer-color-lightest-transparent-50)",e.style.padding="2px",e.style.minHeight="10px",e.style.width="100%",e}};return Hr(t,"DebugPanel"),(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;Br(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),Fr(t,r)})(),t})();const zr=Wr;var Gr=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},$r=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Yr=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Kr=(()=>{let e,t,i=[a.JW],s=[],o=zr;t=class extends o{constructor(e){var t,i,a,s,o;e.console.log("SHOWING DEBUGGER"),super(e),this.polling=!1,this.bufferHistoryIndex=0,this.graphHeight=30,this.graphLength=300,this.graphColors=["#039BE5","#7CB342","#FFB300","#E53935","#8E24AA","#00ACC1","#C0CA33","#00897B","#5E35B1","#FDD835","#43A047","#3949AB"],this.eventSize=4,this.eventCount=0,this.lastEventTime=-this.eventSize,this.state=this.addRow("Status"),this.state.innerText=this.getPlayState();const l=this.addRow("Volume");l.innerText=`${this.player.getVolume()}%${this.player.isMuted?" [mute]":""}`,this.resolution=this.addRow("Viewport / Resolution"),this.resolution.innerText=this.getRes(),this.frames=this.addRow("Frames"),this.frames.innerText=this.getFrames(),this.time=this.addRow("Duration / Time"),this.time.innerText=this.getTime(),this.lang=this.addRow("Audio / Subtitle"),this.lang.innerText=this.getLang();const d=this.addRow("Stream Selection"),c=this.addRow("Media selection"),u=()=>{var e;d.innerText=this.player.streamDebug();const t=this.player.qualityList.find((e=>e.level===this.player.currentQuality));c.innerText=t?`${t.level} | ${t.label} | ${null!==(e=t.debug)&&void 0!==e?e:"-"}`:"-"};u();const h=this.addRow("Stream-URL");h.innerText=null!==(a=null===(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia||0])||void 0===i?void 0:i.url)&&void 0!==a?a:"-";const p=this.addRow("Buffer");p.className="ardplayer-debug-graph";const f=document.createElement("canvas");f.style.height=`${this.graphHeight}px`,f.style.width=`${this.graphLength}px`,f.height=this.graphHeight,f.width=this.graphLength,this.bufferRenderContext=f.getContext("2d"),this.bufferText=document.createElement("span"),this.bufferLegend=document.createElement("p");const v=document.createElement("p");v.className="ardplayer-legend-vertical",v.innerHTML='\n            <span style="background:#aa00ff" title="LOAD"></span>\n            <span style="background:#ffea00" title="PAUSE"></span>\n            <span style="background:#00e676" title="PLAY"></span>\n            <span style="background:#2979ff" title="SEEK"></span>\n            <span style="background:#ff0000" title="ERROR"></span>\n        ',p.append(f,this.bufferText,this.bufferLegend,v);const m=this.addRow("Plugin / Mime");m.innerText=this.getPlugin(),this.controller=this.addRow("Ctrl-Debug"),this.controller.innerText=null!==(o=null===(s=this.player.getCtrl())||void 0===s?void 0:s.debugString())&&void 0!==o?o:"-",this.dvr=this.player.isLive?this.addRow("DVR"):null,this.dvr&&(this.dvr.className="debug-dvr",this.dvr.innerText=this.getDvr());const y=this.addRow("Debug");y.innerHTML=`\n<label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" ${C.O.isDebug?'checked="checked"':""}/>ON</label>\n<label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" ${C.O.isDebugPlayerEvent?'checked="checked"':""} />Player Events</label>\n<label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" ${C.O.isDebugPixelEvent?'checked="checked"':""} />Pixel Events</label>\n<label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" ${C.O.isDebugVerboseUI?'checked="checked"':""} />Verbose UI</label>\n<label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" ${C.O.isDebugVerboseUIEvents?'checked="checked"':""} />UI Events</label>\n        `;const g=Array.from(y.querySelectorAll("input")),[b,w,A,T,I]=g;g.forEach((e=>{e.parentElement&&(e.parentElement.dataset.verticalNavAfter=".ardplayer-debugger-container")})),(0,n.Af)(b,(function(){this.checked||(w.checked=!1,A.checked=!1,T.checked=!1,I.checked=!1);const t=this.checked;if(!C.O.isDebug&&t){const t=e.console;t._replayBuffer(t._buffer)}(0,r.Yz)(t)}),this.player,!1),(0,n.Af)(w,(function(e){this.checked&&(b.checked=!0),C.O.isDebugPlayerEvent=this.checked}),this.player,!1),(0,n.Af)(A,(function(){this.checked&&(b.checked=!0),C.O.isDebugPixelEvent=this.checked}),this.player,!1),(0,n.Af)(T,(function(){this.checked&&(b.checked=!0),C.O.isDebugVerboseUI=this.checked}),this.player,!1),(0,n.Af)(I,(function(){this.checked&&(b.checked=!0),C.O.isDebugVerboseUIEvents=this.checked}),this.player,!1);const k=this.addRow("");k.className="debug-id",k.innerText=this.player.getId(),k.tabIndex=-2,(0,n.Af)(k,(()=>{window.console.info(`ARD Player instance ${this.player.getId()}`,this.player)}),this.player),this.listener=e=>{var t,i,r;switch(e.type){case Zn.EVENT_ERROR:case S.k.STREAM_ERROR:this.addEventToGraph("#ff0000");break;case Zn.EVENT_SEEK_START:case Zn.EVENT_SEEK_END:this.addEventToGraph("#2979ff");break;case Zn.EVENT_QUALITY_CHANGE:u();break;case Zn.EVENT_LOAD_STREAM:case Zn.EVENT_STATUS_CHANGE:h.innerText=null!==(r=null===(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia||0])||void 0===i?void 0:i.url)&&void 0!==r?r:"-",m.innerText=this.getPlugin(),u(),this.resolution.innerText=this.getRes(),this.state.innerText=this.getPlayState(),this.lang.innerText=this.getLang(),this.addEventToGraph(e.type===Zn.EVENT_LOAD_STREAM?"#aa00ff":"pause"===e.status?"#ffea00":"#00e676");break;case Zn.PLAYBACK_RATE_CHANGE:this.state.innerText=this.getPlayState();break;case S.k.SUPER_VOLUME_CHANGE:case S.k.SUPER_VOLUME_MUTE:case S.k.SUPER_VOLUME_UNMUTE:l.innerText=`${this.player.getVolume()}%${this.player.isMuted?" [mute]":""}`;break;case Zn.VIEWPORT_RESIZE:this.resolution.innerText=this.getRes();break;case S.k.SUPER_AUDIOSTREAM_CHANGE:this.lang.innerText=this.getLang();break;case Zn.EVENT_UPDATE_STREAM_TIME:this.dvr&&(this.dvr.innerText=this.getDvr())}},this.player.addEventListener("*",this.listener),E.x.for(this.player).storageListeners.add(this),this.polling=!0,this.poll()}onStorageValueChanged(e,t){switch(e){case E.x.CURRENT_PLAYERID:this.state.innerText=this.getPlayState();break;case E.x.SUBTITLE_ENABLED:this.lang.innerText=this.getLang()}}poll(){var e,t;try{if(!this.polling)return;this.resolution.innerText=this.getRes(),this.frames.innerText=this.getFrames(),this.time.innerText=this.getTime(),this.controller.innerText=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugString())&&void 0!==t?t:"-",this.updateBuffer(),this.player.safeTimeout((()=>{this.poll()}),250)}catch(e){this.polling=!1}}dispose(){this.polling=!1,this.player.removeEventListener("*",this.listener),E.x.for(this.player).storageListeners.delete(this)}updateBuffer(){var e,t;const i=this.player.mediaElement;let r=0;if(i){const e=i.buffered,t=isNaN(i.currentTime)?0:i.currentTime;for(let i=0;i<e.length;i++)if(e.start(i)<=t&&e.end(i)>=t){r=e.end(i)-t;break}}if(this.bufferRenderContext){const[i,a]=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugQualityLevel())&&void 0!==t?t:[-1,1],s=Math.min(r,60)/60*this.graphHeight,o=this.bufferRenderContext;if(o.clearRect(this.bufferHistoryIndex,0,3,this.graphHeight),o.fillStyle="red",o.fillRect(this.bufferHistoryIndex+1,0,1,this.graphHeight),o.fillStyle=this.graphColors[Math.max(0,i)%this.graphColors.length],o.fillRect(this.bufferHistoryIndex,this.graphHeight-s,1,s),i>=0){if(this.bufferLegend.style.display="block",this.bufferLegend.childElementCount!==a){(0,n.Ie)(this.bufferLegend);for(let e=0;e<a;e++){const t=document.createElement("span");t.style.backgroundColor=this.graphColors[e%this.graphColors.length],t.title=`Quality ${e+1}`,this.bufferLegend.append(t)}}}else this.bufferLegend.style.display="none";this.bufferHistoryIndex=++this.bufferHistoryIndex>=this.graphLength?0:this.bufferHistoryIndex}this.bufferText.innerText=`${r.toFixed(2)}s`}addEventToGraph(e){if(this.bufferRenderContext){Math.abs(this.bufferHistoryIndex-this.lastEventTime)>this.eventSize?(this.lastEventTime=this.bufferHistoryIndex,this.eventCount=0):this.eventCount++;const t=this.bufferRenderContext;t.fillStyle=e,t.fillRect(this.bufferHistoryIndex-this.eventSize,this.eventSize*this.eventCount,this.eventSize,this.eventSize),t.strokeStyle="black",t.strokeRect(this.bufferHistoryIndex-this.eventSize,this.eventSize*this.eventCount,this.eventSize,this.eventSize)}}getPlayState(){var e;const t=null!==(e={0:"UNSPECIFIED",1:"PAUSED",2:"PLAYING",3:"STOPPED"}[this.player.model.playstate])&&void 0!==e?e:`UNKNOWN ${this.player.model.playstate}`;return(this.player.isLive?"LIVE":"OD")+" | "+(2===this.player.model.playstate?`${t} [${this.player.model.playbackRate}x]`:t)+" | "+(this.player.getId()===E.x.get(E.x.SUFFIX_GLOBAL,E.x.CURRENT_PLAYERID,!0)?"ACTIVE":"INACTIVE")}getDvr(){var e,t,i,r,n,a,s,o,l,d,c,u,h,p;const f=1e3*(null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.getCurrentUnixTime())&&void 0!==t?t:0),v=1e3*(null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.getCurrentUnixTimeWindowEnd())&&void 0!==r?r:-1),m=1e3*(null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.getCurrentUnixTimeWindowStart())&&void 0!==a?a:-1),y=null!==(o=null===(s=this.player.getCtrl())||void 0===s?void 0:s.__cumulativeDrift)&&void 0!==o?o:0;return`HEAD: ${f<=0?"X":new Date(f).toISOString()} ${(null!==(d=null===(l=this.player.getCtrl())||void 0===l?void 0:l.getCurrentTime())&&void 0!==d?d:0).toFixed(2)}\n        START: ${m<=0?"X":new Date(m).toISOString()}\n        END: ${v<=0?"X":new Date(v).toISOString()} ${(null!==(u=null===(c=this.player.getCtrl())||void 0===c?void 0:c.getDuration())&&void 0!==u?u:0).toFixed(2)}\n        WINDOW: ${(null!==(p=null===(h=this.player.getCtrl())||void 0===h?void 0:h.getDuration())&&void 0!==p?p:0).toFixed(2)}\n        DRIFT: ${y.toFixed(4)}`}getRes(){var e,t;return`${this.player.getTarget().offsetWidth}x${this.player.getTarget().offsetHeight} | ${null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugResolution())&&void 0!==t?t:"-"}`}getPlugin(){var e,t,i;return`${(0,n.z3)(this.player.currentPluginName)?"-":this.player.currentPluginName} | ${null!==(i=null===(t=null===(e=this.player.currentStream)||void 0===e?void 0:e.media[this.player.currentMedia||0])||void 0===t?void 0:t.mimeType)&&void 0!==i?i:"-"}`}getLang(){var e,t,i,r,n;return(!0===(null===(e=this.player.getCtrl())||void 0===e?void 0:e.isPlayingSpatialAudio)?"[spatial] ":"")+(null!==(i=null===(t=this.player.addons.find((e=>e.ID===jr.A.ID)))||void 0===t?void 0:t.debugString())&&void 0!==i?i:`${null!==(n=null===(r=this.player.currentAudio)||void 0===r?void 0:r.languageCode)&&void 0!==n?n:"-"} | ${E.x.subtitleEnabled(this.player)?String(E.x.for(this.player).get("subtitleLang")):"-"}`)}getFrames(){var e,t;return null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugFrames())&&void 0!==t?t:"-"}getTime(){return`${this.player.model.duration.toFixed(2)}s | ${this.player.model.time.toFixed(2)}s`}};return Yr(t,"Debugger"),(()=>{var r;const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(r=o[Symbol.metadata])&&void 0!==r?r:null):void 0;Gr(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,s),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),$r(t,s)})(),t})();function qr(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Qr(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Jr(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",n="",a=Array.isArray(t),s=0;s<e.length;s++)(i=Jr(e[s]))&&(a&&t[s]&&(i=Qr(i)),r=r+n+i,n=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var r in e)r&&e[r]&&Zr.call(e,r)&&(t=t+i+r,i=" ");return t}(e):e||""}function Qr(e){var t=""+e,i=Xr.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Zr=Object.prototype.hasOwnProperty,Xr=/["&<>]/;const en=function(e){var t,i="",r=e||{};return function(e){i+='<ul class="ardplayer-contextmenu"><li data-vertical-nav-offset="99999"><button class="ardplayer-context-debug" tabindex="0" title="Debugger"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M20,8H17.19C16.74,7.2 16.12,6.5 15.37,6L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.05,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6C7.87,6.5 7.26,7.21 6.81,8H4V10H6.09C6.03,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.03,15.67 6.09,16H4V18H6.81C8.47,20.87 12.14,21.84 15,20.18C15.91,19.66 16.67,18.9 17.19,18H20V16H17.91C17.97,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.97,10.33 17.91,10H20V8M16,15A4,4 0 0,1 12,19A4,4 0 0,1 8,15V11A4,4 0 0,1 12,7A4,4 0 0,1 16,11V15M14,10V12H10V10H14M10,14H14V16H10V14Z"></path></svg></button><button class="ardplayer-context-log" tabindex="0" title="Log-Anzeige"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M18 7C16.9 7 16 7.9 16 9V15C16 16.1 16.9 17 18 17H20C21.1 17 22 16.1 22 15V11H20V15H18V9H22V7H18M2 7V17H8V15H4V7H2M11 7C9.9 7 9 7.9 9 9V15C9 16.1 9.9 17 11 17H13C14.1 17 15 16.1 15 15V9C15 7.9 14.1 7 13 7H11M11 9H13V15H11V9Z"></path></svg></button><button class="ardplayer-context-timers" tabindex="0" title="Runtime-Entlastung"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M11 8H13V14H11V8M12 20C8.13 20 5 16.87 5 13S8.13 6 12 6 19 9.13 19 13C19.7 13 20.36 13.13 21 13.35C21 13.23 21 13.12 21 13C21 10.88 20.26 8.93 19.03 7.39L20.45 5.97C20 5.46 19.55 5 19.04 4.56L17.62 6C16.07 4.74 14.12 4 12 4C7.03 4 3 8.03 3 13S7.03 22 12 22C12.59 22 13.16 21.94 13.71 21.83C13.4 21.25 13.18 20.6 13.08 19.91C12.72 19.96 12.37 20 12 20M15 1H9V3H15V1M16.5 16.5V21.5H21.5V16.5H16.5Z"></path></svg></button><button class="ardplayer-context-env" tabindex="0" title="Environment"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,12.35L13.85,13.36Z"></path></svg></button><button class="ardplayer-context-storage" tabindex="0" title="Einstellungen"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z"></path></svg></button><button class="ardplayer-context-pc" tabindex="0" title="PlayerConfig"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V4C23 2.9 22.1 2 21 2M21 20H3V6H21V20M9 8C7.9 8 7 8.9 7 10C7 11.1 6.1 12 5 12V14C6.1 14 7 14.9 7 16C7 17.1 7.9 18 9 18H11V16H9V15C9 13.9 8.1 13 7 13C8.1 13 9 12.1 9 11V10H11V8M15 8C16.1 8 17 8.9 17 10C17 11.1 17.9 12 19 12V14C17.9 14 17 14.9 17 16C17 17.1 16.1 18 15 18H13V16H15V15C15 13.9 15.9 13 17 13C15.9 13 15 12.1 15 11V10H13V8H15Z"></path></svg></button><button class="ardplayer-context-config" tabindex="0" title="MediaCollection"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path fill="currentColor" d="M5,9.5L7.5,14H2.5L5,9.5M3,4H7V8H3V4M5,20A2,2 0 0,0 7,18A2,2 0 0,0 5,16A2,2 0 0,0 3,18A2,2 0 0,0 5,20M9,5V7H21V5H9M9,19H21V17H9V19M9,13H21V11H9V13Z"></path></svg></button><button class="ardplayer-context-copy" tabindex="0" title="Debug-Infos kopieren"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 448 512"><path fill="currentColor" d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></button><button class="ardplayer-context-close" tabindex="0" title="Schliessen"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg></button></li>',function(){var r=e;if("number"==typeof r.length)for(var n=0,a=r.length;n<a;n++){(s=r[n]).name?i=i+"<li"+qr("class",Jr(["ardplayer-item",[s.inactive||s.disabled?"ardplayer-item-inactive":void 0]],[!1,!0]),!1,!0)+' data-vertical-nav-abs-pos="true" data-vertical-nav-after="ul.ardplayer-contextmenu li:first-child"'+qr("data-id",s.id,!0,!0)+qr("data-config-key",s.configKey,!0,!0)+">"+Qr(null==(t=s.disabled?"[":"")?"":t)+Qr(null==(t=s.name)?"":t)+Qr(null==(t=s.version?"@"+s.version:"")?"":t)+Qr(null==(t=s.revision?"#"+s.revision:"")?"":t)+Qr(null==(t=s.disabled?"]":"")?"":t)+"</li>":i+='<li class="ardplayer-divider">---</li>'}else{a=0;for(var n in r){var s;a++,(s=r[n]).name?i=i+"<li"+qr("class",Jr(["ardplayer-item",[s.inactive||s.disabled?"ardplayer-item-inactive":void 0]],[!1,!0]),!1,!0)+' data-vertical-nav-abs-pos="true" data-vertical-nav-after="ul.ardplayer-contextmenu li:first-child"'+qr("data-id",s.id,!0,!0)+qr("data-config-key",s.configKey,!0,!0)+">"+Qr(null==(t=s.disabled?"[":"")?"":t)+Qr(null==(t=s.name)?"":t)+Qr(null==(t=s.version?"@"+s.version:"")?"":t)+Qr(null==(t=s.revision?"#"+s.revision:"")?"":t)+Qr(null==(t=s.disabled?"]":"")?"":t)+"</li>":i+='<li class="ardplayer-divider">---</li>'}}}.call(this),i+="</ul>"}.call(this,"items"in r?r.items:"undefined"!=typeof items?items:void 0),i};var tn=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},rn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},nn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let an=(()=>{let e,t,i=[a.JW],r=[],s=zr;t=class extends s{constructor(e){e.console.log("SHOWING CONFIG DEBUGGER"),super(e),this.addRow("ID").innerText=(0,n.Ed)(e.model.mediaCollection.id)?e.model.mediaCollection.id:"-";let t=0;this.player.model.mediaCollection.streams.forEach((e=>{var i;this.addRow("Stream "+t++).innerText=`${e.kind}${"main"!==e.kind?" "+e.videoLanguageCode:""} ${null!==(i=e.kindName)&&void 0!==i?i:""}`;let r=0;e.media.forEach((e=>{this.addRow(`#${r++} >`).innerHTML=`${e.forcedLabel?e.forcedLabel+"<br>":""}V: ${this.describeVideo(e)} <br>A: ${e.audios.filter((e=>!0!==e.isDynamic)).map(this.describeAudio).join(", ")}`}))})),this.addRow("Subtitles").innerText=this.player.model.mediaCollection.subtitles.map(this.describeSubtitle).join("\n")}describeSubtitle(e){return`${e.languageCode}${"normal"!==e.kind?" "+e.kind:""} => ${e.sources.map((e=>e.kind)).join(", ")}`}describeVideo(e){var t,i;return`${e.mimeType}${(0,n.Ed)(e.videoCodec)?" "+e.videoCodec:""} ${null!==(t=e.maxHResolutionPx)&&void 0!==t?t:"_"}x${null!==(i=e.maxVResolutionPx)&&void 0!==i?i:"_"} ${e.aspectRatio?" "+e.aspectRatio:""}${e.isAdaptiveQualitySelectable?" adaptiveSelect":""}${e.hasEmbeddedSubtitles?" vtt":""}${e.isUltraLowLatency?" ull":""}${e.isHighDynamicRange?" hdr":""}${e.fallbackGroup?` fallback-${e.fallbackGroup}`:""}`}describeAudio(e){return`${e.default?"<i>":""}${(0,n.Ed)(e.label)?'"'+e.label+'" ':""}${e.languageCode}${"standard"!==e.kind?" "+e.kind:""}${e.channels?" "+e.channels:""}${e.default?"</i>":""}`}dispose(){}};return nn(t,"ConfigDebugger"),(()=>{var n;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(n=s[Symbol.metadata])&&void 0!==n?n:null):void 0;tn(null,e={value:t},i,{kind:"class",name:t.name,metadata:a},null,r),t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),rn(t,r)})(),t})();const sn=an;var on=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},ln=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},dn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let cn=(()=>{let e,t,i=[a.JW],r=[],n=zr;t=class extends n{constructor(e){e.console.log("SHOWING TIMER DEBUGGER"),super(e),this.updateTimer=-1,this.addRow("");const t=this.addRow("");this.state=this.addRow("Status"),this.state.innerText="running",this.curr=this.addRow("Next up"),this.curr.innerText="-",this.currStack=this.addRow(""),this.currStack.innerText="";const i=document.createElement("button");i.addEventListener("click",(()=>{Zn.pauseTimers(!0),this.updateStatus(),this.setUpdateTimer()})),i.classList.add("ardplayer-icon","ardplayer-icon-pause"),t.append(i);const r=document.createElement("button");r.addEventListener("click",(()=>{Zn.resumeTimers(),window.clearTimeout(this.updateTimer),this.state.innerText="running",this.curr.innerText="-",this.currStack.innerText=""})),r.classList.add("ardplayer-icon","ardplayer-icon-play"),t.append(r);const n=document.createElement("button");n.addEventListener("click",(()=>{const e=Zn.__deferrals.shift();e&&e.timer(),this.updateStatus()})),n.classList.add("ardplayer-icon","ardplayer-icon-skipforward"),t.append(n);const a=document.createElement("button");a.addEventListener("click",(()=>{Zn.__deferrals.forEach((e=>{try{e.timer()}catch(t){this.player.console.error("Exception while resuming timers",t,e.context)}})),Zn.__deferrals.splice(0),this.updateStatus()})),a.classList.add("ardplayer-icon","ardplayer-icon-nextclip"),t.append(a)}setUpdateTimer(){this.updateTimer=window.setTimeout((()=>{try{this.player.checkStateStrict(),this.updateStatus(),this.setUpdateTimer()}catch(e){this.player.console.error("Exception while debugging timers",e)}}),100)}updateStatus(){var e;const t=Zn.__deferrals.length;this.state.innerText=`${t} timers waiting`;const i=t>0?Zn.__deferrals[0].context:null;this.curr.innerText=null==i?0===t?"none":"unknown":`${i.type}: ${i.initiator}`,this.currStack.innerText=null!==(e=null==i?void 0:i.stack)&&void 0!==e?e:""}dispose(){window.clearTimeout(this.updateTimer),Zn.resumeTimers()}};return dn(t,"TimerDebugger"),(()=>{var a;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(a=n[Symbol.metadata])&&void 0!==a?a:null):void 0;on(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),ln(t,r)})(),t})();const un=cn;var hn=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},pn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},fn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let vn=(()=>{let e,t,i=[a.JW],r=[],s=zr;t=class extends s{constructor(e,t,i){var r;e.console.log("SHOWING ADDON DEBUGGER",t),super(e),this.addRow("ID").innerText=null!=t?t:"-",this.addon=(0,n.Ed)(t)&&null!==(r=this.player.addons.find((e=>e.ID===t)))&&void 0!==r?r:null;let a=i;if(null!=this.addon&&(0,br.ny)(this.addon)&&(a=this.addon.configKey),(0,n.Ed)(a)){this.addRow("key").innerText=a;const t=`${a}@all`,i=`${a}@${C.O.platform}`,r=e.model.playerConfig.pluginData,s=e.model.mediaCollection.pluginData;this.addRow(""),this.addRow("platform keys").innerText=`${t} ${i}`;const o=((0,n.i5)(r,t)?`PC[${t}] `:"")+((0,n.i5)(r,i)?`PC[${i}] `:"")+((0,n.i5)(s,t)?`MC[${t}] `:"")+((0,n.i5)(s,i)?`MC[${i}] `:"");this.addRow("configured").innerText=(0,n.Ed)(o)?o:"none",this.addRow("");const l=JSON.stringify((0,n.$N)(e.model.playerConfig.getPluginData(a),e.model.mediaCollection.getPluginData(a)),void 0,5),d=document.createElement("pre");d.innerText="{}"===l?"-":l,this.addBorder(this.addRow("merged config")).appendChild(d)}if(null!==this.addon){const e=this.addBorder(this.addRow("debug"));e.innerHTML=this.addon.debugString();const t=this.addBorder(this.addRow("log"));this.addon._logDelegate=(i,...r)=>{var n,a,s;t.children.length>=10&&(null===(n=t.firstChild)||void 0===n||n.remove());const o=document.createElement("p");o.innerHTML=`<b>${i}: </b>${r.toString()}`,t.append(o),e.innerHTML=null!==(s=null===(a=this.addon)||void 0===a?void 0:a.debugString())&&void 0!==s?s:"-"}}else this.addRow("No running Instance")}dispose(){this.addon&&(this.addon._logDelegate=void 0)}};return fn(t,"AddonDebugger"),(()=>{var n;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(n=s[Symbol.metadata])&&void 0!==n?n:null):void 0;hn(null,e={value:t},i,{kind:"class",name:t.name,metadata:a},null,r),t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),pn(t,r)})(),t})();const mn=vn;var yn=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},gn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},bn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let En=(()=>{let e,t,i=[a.JW],r=[],n=zr;t=class extends n{constructor(e){super(e);const t=document.createElement("div"),i=document.createElement("div");i.append(t),this.container.append(i),this.container.style.height="85%",this.container.style.display="block",i.style.height="100%",i.style.overflowY="scroll",t.style.display="flex",t.style.flexDirection="column",this.console=e.console,this.console._bufferStreamReader=(e,...r)=>{const n=C.O.isAndroidTV||i.scrollTop>=i.scrollHeight-i.offsetHeight-50,a=document.createElement("span");a.style.color=this.color(e),a.innerText=r.toString(),t.append(a),n&&(i.scrollTop=i.scrollHeight-i.offsetHeight)},e.console.log("SHOWING LOG DEBUGGER"),C.O.isAndroidTV&&e.safeTimeout((()=>{i.scrollTop=i.scrollHeight-i.offsetHeight}))}color(e){switch(e){case"w":return"yellow";case"e":return"red";case"i":return"grey";default:return"white"}}dispose(){this.console._bufferStreamReader=void 0}};return bn(t,"LogDebugger"),(()=>{var a;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(a=n[Symbol.metadata])&&void 0!==a?a:null):void 0;yn(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),gn(t,r)})(),t})();const wn=En;var Sn=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Cn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},An=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Tn=(()=>{let e,t,i=[a.JW],r=[],n=zr;t=class extends n{constructor(e,t){e.console.log("SHOWING ENVIRONMENT DEBUGGER",t),super(e);const i=new Set(["prototype","I","name","length"]);Object.keys(Object.getOwnPropertyDescriptors(C.O)).filter((e=>!e.startsWith("_")&&!i.has(e)&&"function"!=typeof C.O[e])).forEach((e=>{this.addRow(e).innerText=String(C.O[e])}))}dispose(){}};return An(t,"EnvironmentDebugger"),(()=>{var a;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(a=n[Symbol.metadata])&&void 0!==a?a:null):void 0;Sn(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),Cn(t,r)})(),t})();const In=Tn;var kn=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Ln=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Pn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let xn=(()=>{let e,t,i=[a.JW],r=[],n=zr;t=class extends n{constructor(e,t){e.console.log("SHOWING PC DEBUGGER",t),super(e);let i=e.model.playerConfig,r=!1;const n=e.console;n._replayBuffer(n._buffer,(e=>{"[Loader][PC]"===e[0]&&(r=!0,i=e[1])}),null),this.addRow("RAW").innerText=String(r),["generic","web","android","ios"].forEach((e=>{if(i[e]){const t=JSON.stringify(i[e],((e,t)=>"imageTemplateConfig"===e?"{...}":t),5);this.addBorder(this.addRow(e)).innerHTML=`<pre>${"{}"===t?"-":t}</pre>`}}))}dispose(){}};return Pn(t,"PlayerConfigDebugger"),(()=>{var a;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(a=n[Symbol.metadata])&&void 0!==a?a:null):void 0;kn(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),Ln(t,r)})(),t})();const _n=xn;var On=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Mn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Dn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Rn=(()=>{let e,t,i=[a.JW],r=[],s=zr;t=class extends s{constructor(e,t){e.console.log("SHOWING STORAGE DEBUGGER",t),super(e),this.storage=E.x.for(this.player),this.storage.storageListeners.add(this),this.render()}onStorageValueChanged(e,t){this.render()}render(){const e=this.container.firstElementChild;(0,n.Ie)(this.container),e&&this.container.appendChild(e);const t=this.storage.enumerate();Object.keys(t).forEach((e=>{const i=e.replace(/^([^._]+_)+([^.]+\.)?/,"");if(t[e].startsWith("{")){const r=JSON.parse(t[e]);Object.keys(r).forEach((e=>{this.addRow(i+"."+e).innerText=r[e]}))}else this.addRow(i).innerText=t[e]}));const i=document.createElement("button");i.innerText="clear & reset",i.style.width="auto",i.style.fontSize="inherit",(0,n.Af)(i,(()=>{let e=this.player.model.playerConfig,t=this.player.model.mediaCollection;const i=this.player.console;i._replayBuffer(i._buffer,(i=>{"[Loader][PC]"===i[0]?e=i[1]:"[Loader][MC]"===i[0]&&(t=i[1])}),null),this.storage.clearAll(),this.player.setConfig(e,t)}),null),this.addRow("").append(i)}dispose(){this.storage.storageListeners.delete(this)}};return Dn(t,"StorageDebugger"),(()=>{var n;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(n=s[Symbol.metadata])&&void 0!==n?n:null):void 0;On(null,e={value:t},i,{kind:"class",name:t.name,metadata:a},null,r),t=e.value,a&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),Mn(t,r)})(),t})();const Nn=Rn;var Un=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Vn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},jn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Bn=(()=>{let e,t,i=[a.JW],r=[];t=class{constructor(e,t){this.menu=null,this.currX=-1,this.currY=-1,this.shortenPackage=e=>e.replace(/^@ardplayer\/(ardplayer-)?(plugin|addon)?-?/," ").replace(/^(ardplayer-)?(plugin|addon)?-?/,""),this.disposeKeydown=null,this.showClick=e=>(null===this.menu&&this.createMenu(),null!=e&&null!==this.menu&&(e.preventDefault(),!(!e.altKey&&!e.ctrlKey)&&(this.show(Math.min(e.pageX-window.scrollX,window.innerWidth-this.menu.offsetWidth),Math.min(e.pageY-window.scrollY,window.innerHeight-this.menu.offsetHeight)),!1))),this.touchGesturePhase=0,this.showTouch=e=>{if(null===this.menu&&this.createMenu(),null!=e&&null!==this.menu){if("touchstart"===e.type){if(3!==e.touches.length||this.touchGesturePhase%2!=0)return void(this.touchGesturePhase=0);this.touchGesturePhase+=1}else if("touchend"===e.type){if(this.touchGesturePhase<0)return e.stopPropagation(),e.stopImmediatePropagation(),void(this.touchGesturePhase+=1);if(2!==e.touches.length||this.touchGesturePhase%2==0)return void(this.touchGesturePhase=0);this.touchGesturePhase+=1}this.touchGesturePhase<5||(this.touchGesturePhase=-2,e.stopPropagation(),e.stopImmediatePropagation(),this.show(Math.min(...[...e.touches].map((e=>e.pageX-window.scrollX)),window.innerWidth-this.menu.offsetWidth),Math.min(...[...e.touches].map((e=>e.pageY-window.scrollY)),window.innerHeight-this.menu.offsetHeight),!0))}},this.show=(e,t,i=!1)=>{if(null===this.menu&&this.createMenu(),null!==this.menu)if(this.currX=e,this.currY=t,this.hostElement.appendChild(this.menu),this.menu.classList.toggle("ardplayer-contextmenu-touch",i),C.O.isEmbedded){const e=(0,n.Pj)(this.hostElement),t=Math.min(this.hostElement.offsetHeight/(25+this.menu.offsetHeight+e.top+e.bottom),1);this.menu.style.top=`${e.top+25*t}px`,this.menu.style.left=e.left>0?`${e.left}px`:"30%",this.menu.style.transform=`scale(${t.toFixed(3)})`}else if(this.menu.offsetHeight+25>window.innerHeight){const t=Math.min(window.innerHeight/(25+this.menu.offsetHeight),1);this.menu.style.top=25*t+"px",this.menu.style.left=`${e}px`,this.menu.style.transform=`scale(${t.toFixed(3)})`}else this.menu.style.left=`${e}px`,this.menu.style.top=`${Math.max(25,Math.min(t,window.innerHeight-this.menu.offsetHeight))}px`,this.menu.style.transform=""},this.hide=e=>{var t;this.currX=-1,this.currY=-1,null==e||e.stopImmediatePropagation(),null===(t=this.menu)||void 0===t||t.remove()},this.hostElement=t,this.player=e,this.hostElement.addEventListener("contextmenu",this.showClick),C.O.isMobileDevice&&(this.hostElement.addEventListener("touchstart",this.showTouch,{capture:!0,passive:!0}),this.hostElement.addEventListener("touchend",this.showTouch,{capture:!0,passive:!0}));const i=e=>{if(e.ctrlKey&&"contextmenu"===e.shortcut)if(C.O.isEmbedded)this.show(0,-10);else{const e=this.hostElement.getBoundingClientRect();this.show(e.left,e.top)}};this.disposeKeydown=()=>{e.loop.removeEventListener(Zn.EVENT_KEYBOARD_RELEASE,i),this.disposeKeydown=null},e.loop.addEventListener(Zn.EVENT_KEYBOARD_RELEASE,i)}reset(){if(this.menu){const e=this.menu.classList.contains("ardplayer-contextmenu-touch");this.menu.remove(),this.menu=null,this.currX>=0&&this.currY>=0&&this.show(this.currX,this.currY,e)}}loadItems(){var e,t,i,r;const a=[],s=[],o=this.player.Extensions.core;if(a.push({name:this.shortenPackage(o.package),version:o.version,revision:o.rev}),a.push({name:`build ${null!==(e=o.build)&&void 0!==e?e:""}`,inactive:!0}),o.libs&&s.push(...o.libs),a.push({}),this.player.Extensions.plugin.forEach((e=>{a.push({name:this.shortenPackage(e.package),version:e.version,revision:e.rev}),e.libs&&s.push(...e.libs)})),a.push({}),this.player.Extensions.addon.forEach((e=>{var t;const i=new e.Clazz(this.player,null),r=(0,br.ny)(i)?i.configKey:"",n=i.ID,o=null!==(t=this.player.addons.find((e=>e.ID===n)))&&void 0!==t?t:null;a.push({name:this.shortenPackage(e.package),version:e.version,revision:e.rev,id:n,configKey:r,disabled:null==o}),e.libs&&s.push(...e.libs)})),s.length>0&&(a.push({}),s.forEach((e=>{a.push({name:e.package,version:e.version,inactive:!0})}))),C.O.isEmbedded){const e=null===(t=C.O.platformConfig)||void 0===t?void 0:t.versionInfo;(0,n.Ed)(e)&&(a.push({}),e.split("|").forEach((e=>{const[t,i]=e.split(":",2);(0,n.Ed)(t)&&a.push({name:t,version:null!=i?i:"",inactive:!0})})))}return a.push({}),a.push({name:null!==(r=null===(i=this.player.viewCtrl)||void 0===i?void 0:i.CONTROLLER_NAME)&&void 0!==r?r:"NONE",version:"",inactive:!0}),a}createMenu(){if(null!==this.menu)return;if(this.menu=new W.U(en,this.player).renderTemplateAsElement({items:this.loadItems()},!0),null==this.menu)return;(0,n.Af)(this.menu.querySelector("button.ardplayer-context-debug"),(()=>{zr.show(this.player,Kr),this.hide()}),this.player),(0,n.Af)(this.menu.querySelector("button.ardplayer-context-log"),(()=>{zr.show(this.player,wn),this.hide()}),this.player),(0,n.Af)(this.menu.querySelector("button.ardplayer-context-timers"),(()=>{zr.show(this.player,un),this.hide()}),this.player),(0,n.Af)(this.menu.querySelector("button.ardplayer-context-env"),(()=>{zr.show(this.player,In),this.hide()}),this.player),(0,n.Af)(this.menu.querySelector("button.ardplayer-context-storage"),(()=>{zr.show(this.player,Nn),this.hide()}),this.player),(0,n.Af)(this.menu.querySelector("button.ardplayer-context-pc"),(()=>{zr.show(this.player,_n),this.hide()}),this.player),(0,n.Af)(this.menu.querySelector("button.ardplayer-context-config"),(()=>{zr.show(this.player,sn),this.hide()}),this.player),Array.from(this.menu.querySelectorAll("li.ardplayer-item[data-id]")).forEach((e=>{e.tabIndex=0,(0,n.Af)(e,(()=>{zr.show(this.player,mn,e.dataset.id,e.dataset.configKey),this.hide()}),this.player)}));const e=this.player.console;(0,n.Af)(this.menu.querySelector("button.ardplayer-context-copy"),(()=>{var t,i;let r=null!==(i=null===(t=this.menu)||void 0===t?void 0:t.innerText)&&void 0!==i?i:"";r+="\n_____debug_____\n"+e._buffer,this.copyToClipboard(r)}),this.player),(0,n.Af)(this.menu.querySelector("button.ardplayer-context-close"),(()=>{this.hide()}),this.player)}copyToClipboard(e){navigator.clipboard?navigator.clipboard.writeText(e).then((()=>{this.player.dispatchEvent("Notify.toast",{icon:null,title:"Debug-Infos kopiert"})})).catch((()=>{this.copyToClipboardLegacy(e)})):this.copyToClipboardLegacy(e)}copyToClipboardLegacy(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.player.dispatchEvent("Notify.toast",{icon:null,title:"Debug-Infos kopiert"})}dispose(){var e;this.menu&&(this.hide(),this.menu=null),this.hostElement.removeEventListener("contextmenu",this.showClick),C.O.isMobileDevice&&(this.hostElement.removeEventListener("touchstart",this.showTouch,{capture:!0}),this.hostElement.removeEventListener("touchend",this.showTouch,{capture:!0})),null===(e=this.disposeKeydown)||void 0===e||e.call(this)}};return jn(t,"ContextMenu"),(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;Un(null,e={value:t},i,{kind:"class",name:t.name,metadata:n},null,r),t=e.value,n&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n}),Vn(t,r)})(),t})();var Fn=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Hn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Wn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let zn=(()=>{let e,t,i=[a.JW],r=[],n=me;var s=t=class extends n{static WithParentDelegates(e){return(()=>{let t,i,r=[a.JW],n=[],o=s;i=class extends o{constructor(e,t){super(e,t)}getBottomSheetManager(){return e}};return Wn(i,""),(()=>{var e;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=o[Symbol.metadata])&&void 0!==e?e:null):void 0;Fn(null,t={value:i},r,{kind:"class",name:i.name,metadata:a},null,n),i=t.value,a&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),Hn(i,n)})(),i})()}get CONTROLLER_NAME(){return"SHARD"}templateLookupDefinition(){return ge}parcelData(){return null!=this.bottomSheet.activeScreen&&this.bottomSheet.conceal(null),null}templateLoader(){return new W.U(Lt,this.player)}get POSTER_IMAGE_TYPE_DEFAULT(){return"preview"}finishSetupAfterAddonsLoaded(){}setSticky(e){return!1}setVideoScale(e){}get singleMenuButtonIsHero(){return!1}setMenuState(e,t){}showAnimation(e){}toggleTitleWidgetHidden(e){}get isModalViewShown(){return!1}get isMainButtonBarObscured(){return!1}preparePosterBackdrop(){}get shouldRenderPosterframe(){return!1}};return Wn(t,"ShardViewController"),(()=>{var a;const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(a=n[Symbol.metadata])&&void 0!==a?a:null):void 0;Fn(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,r),s=t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),Hn(t,r)})(),s=t})();var Gn=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},$n=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Yn=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Kn=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},qn=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Jn=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},Qn=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)};let Zn=(()=>{var e,t,s,o,l,d,c,u,h,p,f,v,m,y,g,T,k,L,P,x,_,O,M,D,N,U,V,j,B,F,H,W,z,G,$;let Y,K,J,Z,X,ee,te,ie,re,ne,ae,se,oe,le,de,ce,ue,he,pe,fe,ve,me,ye,ge,be,Ee,we,Se,Ce,Ae,Te,Ie,ke,Le,Pe,xe,_e,Oe,Me,De,Re,Ne,Ue,Ve,je,Be,Fe,He,We,ze,Ge,$e,Ye,Ke,qe=[a.JW],Je=[],Qe=b,Ze=[];var Xe=K=class extends Qe{get buttonCentral(){return qn(this,f,"f")}get settings(){return qn(this,v,"f")}get viewCtrl(){return qn(this,d,"f")}get mediaElement(){var e,t;return null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.mediaElement)&&void 0!==t?t:null}get currentPluginName(){var e,t;return null!==(t=null===(e=qn(this,_,"f"))||void 0===e?void 0:e.name)&&void 0!==t?t:""}get isRemotePlayback(){var e,t;return this.checkState(),null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.isRemotePlayback)&&void 0!==t&&t}get isPlaying(){var e,t;return this.checkState(),null!==(t=null===(e=this.getCtrl())||void 0===e?void 0:e.isPlaying())&&void 0!==t&&t}get isLive(){return this.checkState(),qn(this,g,"f")&&this.model.mediaCollection.isLive}get isAudio(){return this.checkState(),qn(this,g,"f")&&this.model.mediaCollection.isAudioOnly}get isSticky(){return this.checkState(),this.isAudio&&this.viewCtrl.isSticky}get isFullscreen(){return this.checkState(),qn(this,c,"f").isFullscreen}get isPiP(){return this.checkState(),this.viewCtrl.isPiP}static withBuildConfiguration(e){var t;if(C.O.isDebug){const i=e.Extensions.core,r=window.console;r.groupCollapsed("[ARDP]","[PREPARE]",`${i.version}:${i.rev} ${i.build}${i.libs?`(${null===(t=i.libs)||void 0===t?void 0:t.map((e=>`${e.package}@${e.version}`)).join(",")})`:""}`),e.Extensions.addon.forEach((e=>{var t,i;r.info(`${e.package}:${e.version}:${null!==(t=e.rev)&&void 0!==t?t:"-"}${e.libs?`(${null===(i=e.libs)||void 0===i?void 0:i.map((e=>`${e.package}@${e.version}`)).join(",")})`:""}`)})),e.Extensions.plugin.forEach((e=>{var t,i;r.info(`${e.package}:${e.version}:${null!==(t=e.rev)&&void 0!==t?t:"-"}${e.libs?`(${null===(i=e.libs)||void 0===i?void 0:i.map((e=>`${e.package}@${e.version}`)).join(",")})`:""}`)})),r.groupEnd()}return(()=>{let t,i,r=[a.JW],n=[],s=Xe;i=class extends s{constructor(t,i,r){super(t,i,r,e)}};return Kn(i,""),(()=>{var e;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=s[Symbol.metadata])&&void 0!==e?e:null):void 0;$n(null,t={value:i},r,{kind:"class",name:i.name,metadata:a},null,n),i=t.value,a&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a}),Gn(i,n)})(),i})()}get Extensions(){return qn(this,M,"f").Extensions}get StringConfig(){return qn(this,M,"f").StringConfig}constructor(i,a,b,E,I=""){var D,R,N,B,z,G,$;const Y=(0,n.Ed)(I)?I:(0,n.N4)();super((0,r.xb)(Y,(0,n.Ed)(I)?`[${I.substring(0,5)}]`:void 0)),e.add(this),this.loop=Gn(this,Ze),this.currentStream=null,t.set(this,[]),this.currentMedia=!1,s.set(this,!1),o.set(this,void 0),l.set(this,void 0),d.set(this,null),this.playerCtrl=null,c.set(this,new Vr(this)),u.set(this,null),this.pmc=null,this.addons=[],h.set(this,new Set),p.set(this,null),f.set(this,null),v.set(this,null),m.set(this,!1),y.set(this,!1),g.set(this,!1),T.set(this,!1),k.set(this,!1),L.set(this,!1),P.set(this,!1),x.set(this,[]),_.set(this,null),O.set(this,null),M.set(this,void 0),U.set(this,null),V.set(this,null),j.set(this,((e,t)=>{if(!qn(this,P,"f")&&e.some((e=>Array.from(e.removedNodes).some((e=>{var t;return null===(t=qn(this,V,"f"))||void 0===t?void 0:t.has(e)}))))){const e=`[ARDP][${this.getId()}] Player DOM was removed without calling dispose(). This is a memory leak. Self-disposing now!`;this.disposeInternal(!0),window.setTimeout((()=>{throw Error(e)}))}})),F.set(this,null),H.set(this,null),W.set(this,null),Jn(this,M,E,"f"),Jn(this,o,Y,"f"),this.loop=new Q.W(this),C.O.init();const K="string"==typeof i?i.startsWith("#")?document.getElementById(i.substring(1)):document.getElementById(i):i;if(!(K instanceof HTMLElement))throw this.console.error("Target div cannot be resolved: ",i,K),new Error("Target div cannot be resolved");Jn(this,l,K,"f"),K.dataset.uuid=qn(this,o,"f"),this.model=A.R.getInstance(this),this.pixelController=new S.k(this),this.errorCtrl=new w.F(this);const q=()=>{this.safeTimeoutWithContext({type:"lifecycle",initiator:"constructor"},(()=>{this.construct(a,b)}))};if(C.O.isEmbedded)q();else{let e=!0;try{a instanceof Er.yJ?e=null!==(R=null===(D=a.generic)||void 0===D?void 0:D.isAutoplay)&&void 0!==R&&R:(0,n.UU)(a)?(0,n.i5)(a,"generic")&&(e=!0===(null!==(B=null===(N=a.generic)||void 0===N?void 0:N.isAutoplay)&&void 0!==B&&B)):(0,n.Ed)(a)&&(e=!0===(null!==($=null===(G=null===(z=JSON.parse(a))||void 0===z?void 0:z.generic)||void 0===G?void 0:G.isAutoplay)&&void 0!==$&&$))}catch(e){}e?gr.J.prepareAudioAutoplay(this,q):q()}}construct(e,t){const i=new wr.U(this.console,this.errorCtrl,((e,t)=>{this.__disposedAt?this.console.warn("disposed before init done"):this.initialize(e,t)}));i.setPC(e),i.setMC(t)}initialize(e,t){var r,a,s;this.log("initialize",this.getId(),e,t);const o=null===(r=C.O.platformConfig)||void 0===r?void 0:r.baseUrl;i.p=(0,n.z3)(o)?e.web.baseUrl:o,null!==this.pixelController&&this.pixelController.triggerPixel(S.k.PLAYER_LOADING),this.setPlayerConfigInternal(e)&&this.setMediaCollectionInternal(t)?this.pmc=null!==(s=null===(a=this.model)||void 0===a?void 0:a.playerConfig.web.enablePostMessage)&&void 0!==s&&s?new yr(this):null:this.console.error("[Player] kritischer Fehler beim initialisieren!")}setMediaCollection(e){this.checkState(),this.setConfigInternal(this.model.playerConfig,e)}setPlayerConfig(e){this.checkState(),this.setConfigInternal(e,this.model.mediaCollection)}setConfig(e,t){this.setConfigInternal(e,t)}setConfigInternal(t,i){this.checkState(),qn(this,m,"f")&&(this.console._clearBuffer(),this.log("re-init player"),this.loop.dispatchEvent(Xe.RECONFIGURE,{}),qn(this,l,"f").classList.add("reinit-ardplayer")),qn(this,e,"m",N).call(this,t,i,qn(this,e,"m",D).call(this))}setMediaCollectionInternal(t){var i,r,n,a,s;if(null!=t&&t instanceof I.Jf){if(!I.Jf.validate(t))return this.errorCtrl.throwError("MC_INVALID",!0),!1;if(this.model.mediaCollection=t,this.model.duration=null!==(i=t.meta.durationSeconds)&&void 0!==i?i:0,t.isLive?this.model.duration=null!==(s=null===(a=t.live)||void 0===a?void 0:a.dvrWindowSeconds)&&void 0!==s?s:this.model.duration:(this.model.time=null!==(r=this.model.playerConfig.generic.vodInitialPlayheadSeconds)&&void 0!==r?r:0,this.model.time<=0&&(this.model.time=null!==(n=this.model.playerConfig.generic.vodStartSeconds)&&void 0!==n?n:0)),this.loop.dispatchEvent(Xe.EVENT_UPDATE_STREAM_DURATION,{duration:this.model.duration}),this.loop.dispatchEvent(Xe.EVENT_UPDATE_STREAM_TIME,{currentTime:this.model.time}),this.model.mediaCollection.streams.some((e=>e.media.length>0)))return Jn(this,g,!0,"f"),E.x.invalidateInstanceFor(this),qn(this,e,"a",B).call(this),!0}return this.errorCtrl.throwError("MC_UNKNOWN",!0),!1}setPlayerConfigInternal(t){var i;return null!=t&&t instanceof Er.yJ?Er.yJ.validate(t)?(this.model.playerConfig=t,qn(this,m,"f")||this.model.autoplay&&C.O.isMobileDevice&&!this.model.playerConfig.allowEmbeddedAutoplay&&(gr.J.mobileAudioAutoplayEnabled||(this.console.warn("Mobile device autoplay restrictions could not be worked around, disabling autoplay"),this.model.autoplay=!1)),this.model.autoplay&&(!1===A.R.autoPlayerAlreadyActive||A.R.autoPlayerAlreadyActive===this.getId()||null!==(i=this.model.playerConfig.web.isForcedAutoplay)&&void 0!==i&&i?A.R.autoPlayerAlreadyActive=this.getId():this.model.autoplay=!1),Jn(this,y,!0,"f"),qn(this,e,"a",B).call(this),!0):(this.errorCtrl.throwError("PC_INVALID",!0),!1):(this.errorCtrl.throwError("PC_UNKNOWN",!0),!1)}disposeAddons(){this.addons.forEach((e=>{try{e.dispose()}catch(t){this.console.error(`Failed to dispose of addon ${e.ID}`,t)}})),this.addons=[],Jn(this,v,null,"f"),Jn(this,f,null,"f")}finalErrorShutdown(){var e,t,i,r,n;null===(t=null===(e=qn(this,d,"f"))||void 0===e?void 0:e.bottomSheet)||void 0===t||t.conceal(null),this.resetLeakObserver(),!0===(null===(i=qn(this,d,"f"))||void 0===i?void 0:i.enterInteractiveErrorState())?Jn(this,p,q.U.makeParcel(!0,this.addons),"f"):(Jn(this,P,!0,"f"),null===(r=qn(this,d,"f"))||void 0===r||r.dispose(),Jn(this,d,null,"f")),this.disposeAddons(),this.model.reset(),null===(n=this.playerCtrl)||void 0===n||n.dispose(),this.playerCtrl=null}dispose(){this.disposeInternal()}disposeInternal(e=!1){var t,i,r,a,s;try{this.checkState()}catch(e){return void this.console.error("trying to dispose already disposed instance!")}this.log("dispose",qn(this,o,"f")),Jn(this,P,!0,"f"),this.resetLeakObserver(),null===(t=this.pmc)||void 0===t||t.dispose(),this.pmc=null,Jn(this,p,null,"f"),null===(i=qn(this,u,"f"))||void 0===i||i.dispose(),this._discardShard(),this.loop.dispatchEvent("Player.EVENT_DISPOSING",{}),this.pixelController.triggerPixel(S.k.PLAYER_UNLOAD),this.disposeAddons();try{this.stopInternal()}catch(e){this.console.error("stop() in dispose failed",e)}this.off(),E.x.disposeInstance(this),gr.J.disposePlayer(this),null===(r=this.playerCtrl)||void 0===r||r.dispose(),this.playerCtrl=null,null===(a=this.errorCtrl)||void 0===a||a.dispose(),this.errorCtrl=null,this.model.dispose(),this.loop.dispose(),this.pixelController.dispose(),null===(s=qn(this,d,"f"))||void 0===s||s.dispose(e),Jn(this,d,null,"f"),qn(this,c,"f").dispose(),A.R.forceRemovePlayer(this),A.R.autoPlayerAlreadyActive===qn(this,o,"f")&&(A.R.autoPlayerAlreadyActive=!1),this.__disposedAt=performance.now(),Jn(this,_,null,"f"),this.currentStream=null,this.model=null,this.pixelController=null,e||(0,n.Ie)(qn(this,l,"f"))}observeForLeaks(e){var t;null===qn(this,U,"f")&&"function"==typeof MutationObserver&&(Jn(this,U,new MutationObserver(qn(this,j,"f")),"f"),Jn(this,V,new Set,"f")),null!==qn(this,U,"f")&&e.parentNode&&(qn(this,U,"f").observe(e.parentNode,{childList:!0}),null===(t=qn(this,V,"f"))||void 0===t||t.add(e))}resetLeakObserver(){var e;null===(e=qn(this,U,"f"))||void 0===e||e.disconnect(),Jn(this,U,null,"f"),Jn(this,V,null,"f")}sendEvent(e){this.__disposedAt&&this.console.error("sending event to unchecked dispatcher after disposal"),super.sendEvent(e)}checkState(){if(this.__disposedAt)throw Error(`Instance ${qn(this,o,"f")} already disposed!`)}checkStateStrict(){if(this.checkState(),qn(this,P,"f"))throw Error(`Instance ${qn(this,o,"f")} currently disposing!`)}setCtrl(e){var t;null!=e&&(null===(t=this.playerCtrl)||void 0===t||t.dispose(),this.playerCtrl=e)}getCtrl(){return this.playerCtrl}readyTrigger(){qn(this,e,"a",B).call(this,!0)}preselectStartupStream(e){this.log("pre-selecting stream for initial play:",e),Jn(this,F,e,"f")}checkMaturity(){var e,t,i,r,n,a;if(null!==(t=null===(e=this.model.mediaCollection.meta.maturityContentRating)||void 0===e?void 0:e.isBlocked)&&void 0!==t&&t){null===(i=qn(this,d,"f"))||void 0===i||i.setPosterImageType("maturityContentBlocked");const e=null!==(r=this.model.playerConfig.web.enableMaturityLogin)&&void 0!==r&&r;return this.errorCtrl.throwError(18===(null===(a=null===(n=this.model.mediaCollection)||void 0===n?void 0:n.meta.maturityContentRating)||void 0===a?void 0:a.age)?e?"ERROR_PLAYBACK_MATURITY_LOGIN_18":"ERROR_PLAYBACK_MATURITY_18":e?"ERROR_PLAYBACK_MATURITY_LOGIN_16":"ERROR_PLAYBACK_MATURITY_16",!0,null),!1}return!0}triggerInitialLoad(){var e,i;if(!qn(this,y,"f")||!qn(this,g,"f")||!qn(this,k,"f"))return this.model.autoplay=!0,void(A.R.autoPlayerAlreadyActive=this.getId());this.model.mediaCollection.isStreamCurrentlyAvailable?qn(this,L,"f")||(Jn(this,L,!0,"f"),this.preserveExecutionContext(Xe.EVENT_PLAY_STREAM),null===(e=qn(this,d,"f"))||void 0===e||e.handleInitialPlay(),null===(i=qn(this,d,"f"))||void 0===i||i.showBufferingIndicator(),0===qn(this,t,"f").length?this.streamError():this.switchMedium(qn(this,t,"f")[0][0])):this.log("initial load prevented, livestream unavailable")}streamError(){Jn(this,s,!1,"f"),this.removeMediaFromCurrentMediaOrder(this.currentMedia),Jn(this,x,[],"f"),this.nextMedium(!0,!0)}switchAudio(e){var t,i,r,a,s;if(null===this.playerCtrl)return this.console.error("tried to switch audio track with null controller",e),!1;const o=(null!==(i=null===(t=this.playerCtrl)||void 0===t?void 0:t.getAudioTracks())&&void 0!==i?i:[]).filter((t=>(0,n.bS)(t.language,e.languageCode)&&("audio-description"===e.kind?!0===t.isAudioDescription:!0!==t.isAudioDescription)));if(0===o.length)return this.console.error("audio track not found in stream",e),!1;const l=(0,n.z3)(e.nativeId)?null:null==o?void 0:o.find((t=>e.nativeId===t.id));return null===(r=this.playerCtrl)||void 0===r||r.setAudioTrack(null!==(s=null!==(a=null!=l?l:(0,n.z3)(e.label)?null:o.find((t=>t.label===e.label)))&&void 0!==a?a:o.find((t=>t.label===e.kind)))&&void 0!==s?s:o[0]),!0}get currentMedium(){var e;return null!=this.currentStream&&!1!==this.currentMedia&&null!==(e=this.currentStream.media[this.currentMedia])&&void 0!==e?e:null}get currentAudio(){var e,t,i,r,a,s,o,l,d;if(!this.currentStream||!1===this.currentMedia)return null;const c=this.currentStream.media[this.currentMedia].audios;if(1===c.length)return c[0];const u=null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.getAudioTrack())&&void 0!==t?t:null;if(null===u)return c[0];const h=u.isAudioDescription?"audio-description":u.isSimpleLanguage?"simple-language":u.isSpeechOptimized?"speech-optimized":"standard",p=c.filter((e=>(0,n.bS)(e.languageCode,u.language))),f=(0,n.z3)(u.id)?null:null==p?void 0:p.find((e=>u.id===e.nativeId));return null!==(d=null!==(l=null!==(o=null!==(s=null!==(a=null!==(r=null!==(i=null!=f?f:(0,n.z3)(u.label)?null:c.find((e=>e.label===u.label)))&&void 0!==i?i:null==p?void 0:p.find((e=>!0===e.isDynamic&&e.kind===u.label)))&&void 0!==r?r:null==p?void 0:p.find((e=>e.kind===u.label)))&&void 0!==a?a:null==p?void 0:p.find((e=>e.isDynamic&&e.kind===h)))&&void 0!==s?s:null==p?void 0:p.find((e=>e.kind===h)))&&void 0!==o?o:null==p?void 0:p.find((e=>e.isDynamic)))&&void 0!==l?l:null==p?void 0:p.pop())&&void 0!==d?d:c[0]}switchStreamKind(e,t=!1){var i;this.switchStream(null!==(i=this.model.mediaCollection.streams.find((t=>t.kind===e)))&&void 0!==i?i:this.model.mediaCollection.streams[0],t)}switchStream(e,i=!1){if(this.currentStream===e)return;this.log("Switching stream:",e),this.currentStream=e;const r=E.x.lastMime(this),a=E.x.lastResolution(this),s=a.width<=0?this.getTarget().clientWidth:a.width;this.log("Quality targets:",a,s,r);const o=this.Extensions.plugin.map((e=>e.Clazz.exports));let l=this.currentStream.media.filter((t=>o.some((i=>{var r;return i.canPlay(t,null!==(r=null==e?void 0:e.isAudioOnly)&&void 0!==r&&r)}))));this.isAudio&&this.isLive&&l.length>1&&l.some((e=>"application/vnd.apple.mpegurl"===e.mimeType||"application/dash+xml"===e.mimeType))&&(l=l.filter((e=>"application/vnd.apple.mpegurl"===e.mimeType||"application/dash+xml"===e.mimeType)),this.console.info("filtered non-adaptive audio livestream sources")),0===l.length&&this.console.error("None of the configured media can be played back in the current Environment!");const d=[],c=[];l.forEach((e=>{const t=e.fallbackGroup;void 0!==t&&Number.isInteger(e.fallbackGroup)?Array.isArray(d[t])?d[t].push(e):d[t]=[e]:c.push([e])}));const u=d.concat(c).filter((e=>!!e)),h=(e,t)=>{var i,r;return Math.abs(s-(null!==(i=u[e][0].maxHResolutionPx)&&void 0!==i?i:0))-Math.abs(s-(null!==(r=u[t][0].maxHResolutionPx)&&void 0!==r?r:0))},p=jr.A.getAudioPreferenceComparator(this),f=(e,t)=>p(u[e][0],u[t][0]),v=(0,n.z3)(r)?[]:u.map(((e,t)=>e.some((e=>e.mimeType===r))?t:-1)).filter((e=>-1!==e)).sort(h).sort(f).slice(0,1);v.push(...u.map(((e,t)=>e.some((e=>e.mimeType!==r&&("application/dash+xml"===e.mimeType||"application/vnd.apple.mpegurl"===e.mimeType)))?t:-1)).filter((e=>-1!==e&&!v.includes(e))).sort(h).sort(f)),v.push(...u.map(((e,t)=>t)).filter((e=>!v.includes(e))).sort(h).sort(f));const m=u.findIndex((e=>e.some((e=>e.isAdaptiveQualitySelectable&&this.Extensions.plugin.map((e=>e.Clazz.exports)).some((t=>{var i,r;return t.canSubSelectQualities(e)&&t.canPlay(e,null!==(r=null===(i=this.currentStream)||void 0===i?void 0:i.isAudioOnly)&&void 0!==r&&r)})))))),y=t=>u[t].map((t=>e.media.indexOf(t)));if(-1!==m)this.log("found sub-selectable adaptive stream!"),Jn(this,t,v.filter((e=>e!==m)).map((e=>y(e))),"f"),qn(this,t,"f").unshift(y(m));else{const e=a.width>0?-1:u.findIndex((e=>e.some((e=>e.qualityLabel.toLowerCase().startsWith("auto")))));-1!==e&&v.length>0&&v[0]!==e?(this.log('found "auto" stream at index != 0'),Jn(this,t,v.filter((t=>t!==e)).map((e=>y(e))),"f"),qn(this,t,"f").unshift(y(e))):Jn(this,t,v.map((e=>y(e))),"f")}this.log("Calculated quality order:\n  ",qn(this,t,"f").map((t=>t.join(",")+": "+t.map((t=>{var i;return`${e.media[t].qualityLabel} (${e.media[t].mimeType}@${null!==(i=e.media[t].maxHResolutionPx)&&void 0!==i?i:0} - ${e.media[t].audios.map((e=>e.kind+"/"+e.languageCode)).join(" - ")})`})).join(" | "))).join("\n   ")),i||this.switchMedium(!1)}streamDebug(){var e,i;return`${this.model.mediaCollection.streams.map((e=>((e,t)=>{const i=t?">":"";switch(e){case"main":return i+"";case"subtitle-burn-in":return i+"";case"sign-language":return i+""}return i+"?"})(e.kind,e===this.currentStream))).join(" ")} | ${(null!==(i=null===(e=this.currentStream)||void 0===e?void 0:e.media)&&void 0!==i?i:[]).map(((e,i)=>{if(this.currentMedia===i)return"";const r=qn(this,t,"f").find((e=>e.includes(i)));return void 0===r?"":!1!==this.currentMedia&&r.includes(this.currentMedia)?"":""})).join("")}`}removeMediaFromCurrentMediaOrder(e){if(!1===e)return;const i=qn(this,t,"f").findIndex((t=>t.includes(e)));-1!==i&&(qn(this,t,"f")[i].length<=1?qn(this,t,"f").splice(i,1):qn(this,t,"f")[i]=qn(this,t,"f")[i].filter((t=>t!==e)))}get currentQuality(){var e,t;return qn(this,s,"f")?null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.currentSubQuality)&&void 0!==t?t:-1:!1!==this.currentMedia?this.currentMedia:-1}get qualityList(){var e,i,r,a;this.console.groupCollapsed("[Player]","resolving media order");try{if(qn(this,s,"f"))return this.log("media order: subselecting"),null!==(i=null===(e=this.playerCtrl)||void 0===e?void 0:e.subQualities)&&void 0!==i?i:[{level:-1,label:"Auto",width:-1,height:-1}];{const e=qn(this,t,"f").map((e=>e[0]));return(null!==(a=null===(r=this.currentStream)||void 0===r?void 0:r.media.map(((e,t)=>({index:t,media:e}))).filter((t=>{const i=e.includes(t.index)&&t.media.audios.some((e=>{var i,r,a;return!(e.kind!==(null===(i=this.currentAudio)||void 0===i?void 0:i.kind)||!(0,n.bS)(e.languageCode,null!==(a=null===(r=this.currentAudio)||void 0===r?void 0:r.languageCode)&&void 0!==a?a:"de"))||(this.log("media order: no match for current playback config",t.media),!1)}))&&this.Extensions.plugin.some((e=>{var i,r;return e.Clazz.exports.canPlay(t.media,null!==(r=null===(i=this.currentStream)||void 0===i?void 0:i.isAudioOnly)&&void 0!==r&&r)}));return i||this.log("media order: no matching plugin",t.media),i})).sort(((e,t)=>{var i,r;return e.media.qualityLabel.toLowerCase().startsWith("auto")?-1:t.media.qualityLabel.toLowerCase().startsWith("auto")?1:(null!==(i=e.media.maxVResolutionPx)&&void 0!==i?i:0)-(null!==(r=t.media.maxVResolutionPx)&&void 0!==r?r:0)})))&&void 0!==a?a:[]).map((e=>{var i,r,n,a;return{level:e.index,label:C.O.isDebugVerboseUI?`${e.media.qualityLabel} group${null!==(i=e.media.fallbackGroup)&&void 0!==i?i:"-"} (${e.media.audios.map((e=>e.languageCode+"-"+e.kind)).join(", ")})`:e.media.qualityLabel,width:null!==(r=e.media.maxHResolutionPx)&&void 0!==r?r:-1,height:null!==(n=e.media.maxVResolutionPx)&&void 0!==n?n:-1,debug:(null!==(a=qn(this,t,"f").find((t=>t.includes(e.index))))&&void 0!==a?a:[]).length-1+" fallbacks"}}))}}finally{this.console.groupEnd()}}switchQuality(e){this.log("Switch to quality",e);const t=this.currentQuality;if(qn(this,s,"f")){if(!1===this.currentMedia||!this.playerCtrl)throw Error("sub-selecting quality of unset medium?!");this.playerCtrl.selectSubQuality(e)}else this.switchMedium(e);this.loop.dispatchEvent(Xe.EVENT_QUALITY_CHANGE,{fromQuality:t,toQuality:e})}switchMedium(e,t=!1,i=!1){var r,n,a,s;this.log("Switch to medium:",e,t),this.loop.dispatchEvent(Xe.EVENT_MEDIUM_CHANGE,{}),null!==this.playerCtrl&&(this.log(`Disposing current plugin: ${null!==(n=null===(r=qn(this,_,"f"))||void 0===r?void 0:r.name)&&void 0!==n?n:""}`),this.playerCtrl.dispose(),this.playerCtrl=null,Jn(this,_,null,"f")),this.currentMedia=e;const o=!1===e?null:null!==(s=null===(a=this.currentStream)||void 0===a?void 0:a.media[e])&&void 0!==s?s:null;if(null===o)return this.log(`{M:${String(this.currentMedia)}} Error - data for medium not found. Trying next.`),this.removeMediaFromCurrentMediaOrder(e),void this.nextMedium(t);gr.J.prebuild(this),Jn(this,x,this.Extensions.plugin.map((e=>e.Clazz.exports)).filter((e=>{var t,i;return e.canPlay(o,null!==(i=null===(t=this.currentStream)||void 0===t?void 0:t.isAudioOnly)&&void 0!==i&&i)})),"f"),this.log(`{M:${String(this.currentMedia)}} Detected plugin support for current medium:`,qn(this,x,"f").map((e=>e.name))),this.loadMedium(i)}loadMedium(e=!1){var t,i,r,n,a,o;if(!1===this.currentMedia)return void this.console.error("Error, no valid medium set");if(0===qn(this,x,"f").length)return this.console.log("Error, no more plugin available to playback medium",this.currentMedia),this.removeMediaFromCurrentMediaOrder(this.currentMedia),void this.nextMedium();qn(this,x,"f").sort(((e,t)=>{var i,r,n,a;return(null!==(i=e.priority)&&void 0!==i?i:0)>(null!==(r=t.priority)&&void 0!==r?r:0)?-1:(null!==(n=e.priority)&&void 0!==n?n:0)<(null!==(a=t.priority)&&void 0!==a?a:0)?1:0})),null!==qn(this,O,"f")?(Jn(this,_,qn(this,O,"f"),"f"),this.log(`{M:${this.currentMedia}} Initializing pre-forced plugin: ${null!==(i=null===(t=qn(this,_,"f"))||void 0===t?void 0:t.name)&&void 0!==i?i:""}`)):(Jn(this,_,null!==(r=qn(this,x,"f").shift())&&void 0!==r?r:null,"f"),this.log(`{M:${this.currentMedia}} Initializing plugin: ${null!==(a=null===(n=qn(this,_,"f"))||void 0===n?void 0:n.name)&&void 0!==a?a:""}`));const l=this.executionContext,c=this.currentMedia;null===(o=qn(this,_,"f"))||void 0===o||o.library(this.model.playerConfig,this.model.mediaCollection).then((t=>{this.withOptionalExecutionContext(l,(()=>{var i,r;if(this.log(`{M:${c}} Plugin library loaded: ${null!==(r=null===(i=qn(this,_,"f"))||void 0===i?void 0:i.name)&&void 0!==r?r:""}`),this.__disposedAt||qn(this,P,"f"))return;(new t.Generator).execute(this,(i=>{var r,n,a,o,l,u,h,p,f,v,m;if(this.log(`{M:${c}} Plugin generator executed: ${null!==(n=null===(r=qn(this,_,"f"))||void 0===r?void 0:r.name)&&void 0!==n?n:""}`),this.__disposedAt||qn(this,P,"f"))return;this.setCtrl(new t.Controller(this,i)),null===(a=qn(this,d,"f"))||void 0===a||a.setMediaCanvas(i instanceof HTMLMediaElement?i:null),null===(o=qn(this,d,"f"))||void 0===o||o.showBufferingIndicator();const y=null===(l=this.currentStream)||void 0===l?void 0:l.media[c];y&&(e||(E.x.setLastMime(this,null!==(u=y.mimeType)&&void 0!==u?u:""),E.x.setLastResolution(this,null!==(h=y.maxHResolutionPx)&&void 0!==h?h:-1,null!==(p=y.maxVResolutionPx)&&void 0!==p?p:-1)),Jn(this,s,y.isAdaptiveQualitySelectable&&null!==(v=null===(f=qn(this,_,"f"))||void 0===f?void 0:f.canSubSelectQualities(y))&&void 0!==v&&v,"f"),null===(m=this.getCtrl())||void 0===m||m.loadStream(y),this.loop.dispatchEvent(Xe.EVENT_READY,{}))}))}))})).catch((e=>{var t,i;this.log("could not load plugin library",e),this.__disposedAt||this.errorCtrl.throwStreamError(`unable to load plugin library ${null!==(i=null===(t=qn(this,_,"f"))||void 0===t?void 0:t.name)&&void 0!==i?i:"?"}`,String(e))}))}nextMedium(e=!1,i=!1){var r,n,a;if(qn(this,t,"f").length>0)this.switchMedium(qn(this,t,"f")[0][0],e,i);else{if(this.log("No more qualities available for playback. Final error."),null!==this.playerCtrl)try{this.log(`try disposing current plugin: ${null!==(n=null===(r=qn(this,_,"f"))||void 0===r?void 0:r.name)&&void 0!==n?n:""}`),this.playerCtrl.dispose(),this.playerCtrl=null,Jn(this,_,null,"f")}catch(e){this.log("Could not dispose of errored plugin",e)}this.isFullscreen&&this.setFullscreenInternal(!1),null===(a=this.errorCtrl)||void 0===a||a.throwError("ERROR_PLAYBACK",!0)}}forcePlugin(e){var i,r,n,a;if(null!==this.playerCtrl&&(this.log(`Disposing current plugin: ${null!==(r=null===(i=qn(this,_,"f"))||void 0===i?void 0:i.name)&&void 0!==r?r:""}`),this.playerCtrl.dispose(),this.playerCtrl=null,Jn(this,_,null,"f")),!qn(this,k,"f"))return Jn(this,O,e,"f"),void this.playInternal();gr.J.prebuild(this),qn(this,L,"f")||(Jn(this,L,!0,"f"),this.preserveExecutionContext(Xe.EVENT_PLAY_STREAM),null===(n=qn(this,d,"f"))||void 0===n||n.handleInitialPlay(),null===(a=qn(this,d,"f"))||void 0===a||a.showBufferingIndicator(),0!==qn(this,t,"f").length)?(Jn(this,_,Jn(this,O,e,"f"),"f"),this.log(`{M:${this.currentMedia}} Initializing forced plugin: ${qn(this,_,"f").name}`,qn(this,_,"f")),qn(this,_,"f").library(this.model.playerConfig,this.model.mediaCollection).then((e=>{var i;if(this.log(`{M:${this.currentMedia}} Plugin library loaded: ${null===(i=qn(this,_,"f"))||void 0===i?void 0:i.name}`),this.__disposedAt||qn(this,P,"f"))return;(new e.Generator).execute(this,(i=>{var r,n,a,s,o,l,c,u,h,p,f;if(this.log(`{M:${this.currentMedia}} Plugin generator executed: ${null===(r=qn(this,_,"f"))||void 0===r?void 0:r.name}`),this.__disposedAt||qn(this,P,"f"))return;this.setCtrl(new e.Controller(this,i)),null===(n=qn(this,d,"f"))||void 0===n||n.setMediaCanvas(i instanceof HTMLMediaElement?i:null),null===(a=qn(this,d,"f"))||void 0===a||a.showBufferingIndicator();let v=this.currentMedia;!1===v?(v=qn(this,t,"f")[0][0],this.currentMedia=v):(E.x.setLastMime(this,null!==(o=null===(s=this.currentStream)||void 0===s?void 0:s.media[v].mimeType)&&void 0!==o?o:""),E.x.setLastResolution(this,null!==(c=null===(l=this.currentStream)||void 0===l?void 0:l.media[v].maxHResolutionPx)&&void 0!==c?c:-1,null!==(h=null===(u=this.currentStream)||void 0===u?void 0:u.media[v].maxVResolutionPx)&&void 0!==h?h:-1));const m=null===(p=this.currentStream)||void 0===p?void 0:p.media[v];m&&(null===(f=this.getCtrl())||void 0===f||f.loadStream(m)),this.loop.dispatchEvent(Xe.EVENT_READY,{})}))})).catch((e=>{var t,i;this.log("could not load forced plugin library",e),this.__disposedAt||qn(this,P,"f")||this.errorCtrl.throwStreamError(`unable to load forced plugin library ${null!==(i=null===(t=qn(this,_,"f"))||void 0===t?void 0:t.name)&&void 0!==i?i:"?"}`,String(e))}))):this.streamError()}removeForcedPlugin(){null!==qn(this,O,"f")&&(Jn(this,O,null,"f"),this.switchMedium(this.currentMedia,!1))}getId(){return qn(this,o,"f")}getTarget(){return qn(this,l,"f")}get isMuted(){return this.checkState(),E.x.muted(this)}setMuted(e){return this.setMutedInternal(e),!0}setMutedInternal(e,t=!1,i=!1,r=!1,n=!1){var a,s,o;this.checkState();const l=this.getVolume();i||E.x.setMuted(this,e),r||0!==l?(t&&this.pixelController.triggerPixel(e?S.k.SUPER_VOLUME_MUTE:S.k.SUPER_VOLUME_UNMUTE),C.O.isEmbedded?null===(a=window.controller)||void 0===a||a.setVolume(0):null===(s=this.playerCtrl)||void 0===s||s.setMuted(e),n||null===(o=qn(this,d,"f"))||void 0===o||o.updateVolumeUI(l,!0,e)):this.setVolumeInternal(100,t,i,!1)}getVolume(){var e,t;return this.checkState(),null!==(t=null===(e=this.getCtrl())||void 0===e?void 0:e.getVolume())&&void 0!==t?t:E.x.volume(this)}setVolume(e){return this.setVolumeInternal(e),!0}setVolumeInternal(e,t=!1,i=!1,r=!1){var n,a,s;this.checkState();const o=Math.max(0,Math.min(e,100)),l=E.x.muted(this);t&&this.pixelController.triggerPixelVolumeChange(l?0:o,l,!1),C.O.isEmbedded?null===(n=window.controller)||void 0===n||n.setVolume(o):(null===(a=this.playerCtrl)||void 0===a||a.setVolume(o),null===(s=this.playerCtrl)||void 0===s||s.setMuted(0===o||l)),null===qn(this,d,"f")||r||qn(this,d,"f").updateVolumeUI(o,!0,0===o||l),i||E.x.setVolume(this,e)}play(){return this.playInternal()}playInternal(){return this.checkState(),this.model.mediaCollection.isStreamCurrentlyAvailable?null!==this.playerCtrl?(this.playerCtrl.play(),this.playerCtrl):(this.triggerInitialLoad(),null):(this.log("play() prevented, livestream unavailable"),null)}stop(){return this.stopInternal()}stopInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.stop(),this.playerCtrl):null}pause(){return this.pauseInternal()}pauseInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.pause(),this.playerCtrl):null}setPlaybackRate(e){this.setPlaybackRateInternal(e)}setPlaybackRateInternal(e){this.checkState(),null!=this.playerCtrl?this.playerCtrl.setPlaybackRate(e):this.model.playbackRate!==e&&(this.model.playbackRate=e,this.loop.dispatchEvent(Xe.PLAYBACK_RATE_CHANGE,{rate:e}))}setSeekIntervals(e,t){this.setSeekIntervalsInternal(e,t)}setSeekIntervalsInternal(e,t){const i=E.x.for(this);i.add(E.x.JUMP_BACKWARD_VALUE,t,!1,!0),i.add(E.x.JUMP_FORWARD_VALUE,e,!1,!0)}getCurrentTime(){return null!==this.playerCtrl?this.playerCtrl.getCurrentTime():0}getDuration(){return null!==this.playerCtrl?this.playerCtrl.getDuration():0}resume(){return this.resumeInternal()}resumeInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.play(),this.playerCtrl):null}seekTo(e){return this.seekToInternal(e)}seekToInternal(e){return this.checkState(),null!==this.playerCtrl?(this.preserveExecutionContext(Xe.EVENT_SEEK_START),this.playerCtrl.setCurrentTime(e),this.playerCtrl):(this.model.time=e,this.viewCtrl.updateTime(e),this.viewCtrl.updateTimeline(e,this.model.duration),null)}seekByInterval(e){this.seekByIntervalInternal(e)}seekByIntervalInternal(e){var t,i,r,n,a;const s=E.x.for(this).get(e?E.x.JUMP_FORWARD_VALUE:E.x.JUMP_BACKWARD_VALUE,!1,10)*(e?1:-1);this.isLive&&(null===(t=this.playerCtrl)||void 0===t?void 0:t.canCalculateDvrUnixTime())?this.seekToInternal(Math.max(this.playerCtrl.getCurrentUnixTimeWindowStart(),Math.min(this.playerCtrl.getCurrentUnixTimeWindowEnd(),this.playerCtrl.getCurrentUnixTime()+s))):this.seekToInternal(Math.max(0,Math.min((null!==(r=null===(i=this.playerCtrl)||void 0===i?void 0:i.getCurrentTime())&&void 0!==r?r:this.model.time)+s,null!==(a=null===(n=this.playerCtrl)||void 0===n?void 0:n.getDuration())&&void 0!==a?a:this.model.duration)))}seekToLive(){return this.seekToLiveInternal()}seekToLiveInternal(){return this.checkState(),null!==this.playerCtrl&&(this.preserveExecutionContext(Xe.EVENT_SEEK_START),this.playerCtrl.seekToLive()),this}seekToAndPlay(e){return this.seekToAndPlayInternal(e)}seekToAndPlayInternal(e){var t;return this.checkState(),null!==this.playerCtrl?(null===(t=this.seekToInternal(e))||void 0===t||t.play(),this.playerCtrl):(this.seekToInternal(e),this.playInternal(),null)}setSticky(e){return this.setStickyInternal(e)}setStickyInternal(e){var t,i;return this.checkState(),null!==(i=null===(t=this.viewCtrl)||void 0===t?void 0:t.setSticky(e))&&void 0!==i&&i}setFullscreen(e){this.setFullscreenInternal(e)}setFullscreenInternal(e){var t;this.checkState(),e?(null===(t=qn(this,d,"f"))||void 0===t?void 0:t.supportsFullscreen)&&qn(this,c,"f").enterFullscreen():qn(this,c,"f").exitFullscreen()}setVideoScale(e){this.setVideoScaleInternal(e)}setVideoScaleInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.setVideoScale(e)}setForceButtonHidden(e,t){this.setForceButtonHiddenInternal(e,t)}setForceButtonHiddenInternal(e,t){var i;switch(this.checkState(),e){case"BackButton":this.viewCtrl.toggleUIElementHidden("BackButton",t);break;case"FullscreenButton":this.viewCtrl.toggleUIElementHidden("FullscreenButton",t);break;default:t?qn(this,h,"f").add(e):qn(this,h,"f").delete(e),null===(i=this.addons.find((t=>t.ID===e&&t instanceof br.LV)))||void 0===i||i.setButtonRenderingPrevented(t)}}setForceUIHidden(e){this.setForceUIHiddenInternal(e)}setForceUIHiddenInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.toggleForceControlsHidden("PlayerAPI",e)}setLightMode(e){var t;this.checkState(),this.model.lightMode=e,null===(t=this.viewCtrl)||void 0===t||t.applyLightMode()}setIsPip(e){this.setIsPipInternal(e)}setIsPipInternal(e){this.checkState(),this.loop.dispatchEvent(C.O.isEmbedded?Xe.PIP_STATUS_CHANGE:Xe.PIP_CHANGE_REQUEST,{active:e})}setForceControlsVisible(e){this.setForceControlsVisibleInternal(e)}setForceControlsVisibleInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.toggleForceOver("PlayerAPI",e)}dispatchEvent(e,t){super.dispatchEvent(e,t)}get _isShard(){return null!=qn(this,W,"f")}_findAddon(t){return Yn(this,void 0,void 0,(function*(){return yield new Promise(((i,r)=>{const n=()=>{const e=this.addons.find((e=>e.ID===t));e?i(e):r(new Error(`no active addon for id ${t}`))};qn(this,k,"f")?n():qn(this,T,"f")?this.safeTimeout(n):qn(this,e,"m",z).call(this,(()=>{n()}))}))}))}_discardShard(){qn(this,H,"f")&&(this.loop.dispatchEvent("Player.SHARD_DISCARDED",{}),qn(this,H,"f").dispose()),Jn(this,H,null,"f")}_shardWithConfig(t,i,r){var s;if(!C.O.isEmbedded)return;null===(s=qn(this,H,"f"))||void 0===s||s.dispose();const o=document.createDocumentFragment(),l=document.createElement("div");o.appendChild(l);const d=this._freezeContext(),c=(()=>{let t,i,s,o=[a.JW],l=[],c=Xe,u=[];i=class extends c{constructor(t,i,a,s,o){super(a,s,o,i,"SH-"+(0,n.N4)()),Gn(this,u),Jn(this,W,t,"f"),qn(this,e,"m",z).call(this,(e=>{this._withFrozenContext(d,!0,(()=>{r(e)}))})),qn(this,e,"m",G).call(this,"Notify.toast")}finalErrorShutdown(){super.finalErrorShutdown(),qn(this,W,"f")&&qn(this,W,"f")._discardShard()}};return Kn(i,"ShardPlayer"),(()=>{var e;const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=c[Symbol.metadata])&&void 0!==e?e:null):void 0;s=[(0,a.kF)({type:"lifecycle",initiator:"finalErrorShutdown"})],$n(i,null,s,{kind:"method",name:"finalErrorShutdown",static:!1,private:!1,access:{has:e=>"finalErrorShutdown"in e,get:e=>e.finalErrorShutdown},metadata:r},null,u),$n(null,t={value:i},o,{kind:"class",name:i.name,metadata:r},null,l),i=t.value,r&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),Gn(i,l)})(),i})();Jn(this,H,new c(this,qn(this,M,"f"),l,t,i),"f")}__joinParent(t){var i;qn(this,W,"f")&&qn(i=qn(this,W,"f"),e,"m",$).call(i,t)}log(...e){this.console.log("[Player]",...e)}toJSON(){return toString()}get[(t=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,T=new WeakMap,k=new WeakMap,L=new WeakMap,P=new WeakMap,x=new WeakMap,_=new WeakMap,O=new WeakMap,M=new WeakMap,U=new WeakMap,V=new WeakMap,j=new WeakMap,F=new WeakMap,H=new WeakMap,W=new WeakMap,e=new WeakSet,D=function(){var e,t,i;if(null!==(t=null===(e=this.errorCtrl)||void 0===e?void 0:e.criticalError)&&void 0!==t&&t){if(null!==qn(this,d,"f")){this.log("allowing error-aware viewctrl to parcelize");const e=null!==(i=qn(this,p,"f"))&&void 0!==i?i:{};return qn(this,d,"f").writeToParcel(e,!0),e}return{}}return q.U.makeParcel(!1,!this._isShard&&qn(this,d,"f")?this.addons.concat(qn(this,d,"f")):this.addons)},N=function(e,i,r=null){var n,a,s,o,c;null!==(a=null===(n=this.errorCtrl)||void 0===n?void 0:n.criticalError)&&void 0!==a&&a&&(this.log("re-init from critical error state"),Jn(this,P,!1,"f"),null===(s=this.errorCtrl)||void 0===s||s.dispose(),this.errorCtrl=new w.F(this),gr.J.disposePlayer(this)),Jn(this,p,r,"f"),this.disposeAddons(),this.model.reset(),this.resetLeakObserver(),null===(o=this.playerCtrl)||void 0===o||o.dispose(),this.playerCtrl=null,null===(c=qn(this,d,"f"))||void 0===c||c.dispose(),Jn(this,d,null,"f"),gr.J.resetPlayer(this),Jn(this,F,null,"f"),Jn(this,t,[],"f"),this.currentMedia=!1,this.currentStream=null,Jn(this,O,null,"f"),Jn(this,_,null,"f"),Jn(this,y,!1,"f"),Jn(this,g,!1,"f"),Jn(this,k,!1,"f"),Jn(this,L,!1,"f");const u=new wr.U(this.console,this.errorCtrl,((e,t)=>{this.withExecutionContext({type:"lifecycle",initiator:"reinit-load"},(()=>{this.initialize(e,t),t.isLive&&this.setPlaybackRateInternal(1),this.safeTimeout((()=>{qn(this,l,"f").classList.remove("reinit-ardplayer")}),300)}))}));u.setPC(e),u.setMC(i)},B=function(){return se.value},z=function(e){const t=()=>{this.loop.removeEventListener(Xe.CONFIG_READY,t),this.safeTimeoutPreservingContext((()=>{e(this)}))};this.loop.addEventListener(Xe.CONFIG_READY,t)},G=function(e){this.addEventListener(e,(e=>{qn(this,W,"f")&&qn(this,W,"f")._withFrozenContext(this._freezeContext(),!1,(()=>{var t;null===(t=qn(this,W,"f"))||void 0===t||t.sendEvent(e)}))}))},$=function(t){var i,r,n,a;if(qn(this,H,"f")){this.log("join shard",qn(this,H,"f").getId()),this.loop.dispatchEvent("Player.SHARD_JOINED",{});const s=qn(this,H,"f")._freezeContext();qn(this,e,"m",z).call(this,(e=>{e._withFrozenContext(s,!0,(()=>{t(e)}))}));const o=qn(a=qn(this,H,"f"),e,"m",D).call(a);null===(i=qn(this,d,"f"))||void 0===i||i.writeToParcel(o,null!==(n=null===(r=this.errorCtrl)||void 0===r?void 0:r.criticalError)&&void 0!==n&&n);const l=qn(this,H,"f").model.playerConfig,c=qn(this,H,"f").model.mediaCollection;qn(this,H,"f").dispose(),Jn(this,H,null,"f"),qn(this,e,"m",N).call(this,l,c,o)}else this.console.error("join shard - no shard to join")},J=[a.NJ],Z=[a.NJ],X=[a.NJ],ee=[(0,a.kF)({type:"lifecycle",initiator:"set-config"})],te=[(0,a.kF)({type:"lifecycle",initiator:"dispose-addons"})],ie=[(0,a.kF)({type:"lifecycle",initiator:"finalErrorShutdown"})],re=[(0,a.kF)({type:"lifecycle",initiator:"dispose"})],ne=[(0,a.kF)({type:"lifecycle",initiator:"startuphook-ready"})],ae=[(0,a.kF)({type:"lifecycle",initiator:"ready"})],oe=[(0,a.NR)(void 0)],le=[(0,a.NR)(!1)],de=[(0,a.NR)(void 0)],ce=[(0,a.MY)((e=>"boolean"==typeof e))],ue=[(0,a.MY)((e=>"number"==typeof e))],he=[a.NJ],pe=[Xn(null)],fe=[a.NJ],ve=[(0,a.NR)(null)],me=[a.NJ],ye=[(0,a.NR)(null)],ge=[(0,a.MY)((e=>Sr.j.includes(e)))],be=[a.Nf,(0,a.NR)(void 0)],Ee=[(0,a.MY)(((e,t)=>Sr.R.includes(e)&&Sr.R.includes(t)))],we=[a.Nf],Se=[a.NJ],Ce=[a.Nf,Xn(null)],Ae=[(0,a.MY)((e=>"number"==typeof e&&e>=0))],Te=[(0,a.NR)(null)],Ie=[a.NJ],ke=[(0,a.NR)(void 0)],Le=[a.NJ],Pe=[a.Nf],xe=[(0,a.MY)((e=>"number"==typeof e&&e>=0))],_e=[Xn(null)],Oe=[(0,a.MY)((e=>"boolean"==typeof e))],Me=[(0,a.NR)(!1)],De=[(0,a.MY)((e=>"boolean"==typeof e))],Re=[(0,a.MY)((e=>["COVER","CONTAIN"].includes(e)))],Ne=[(0,a.MY)(((e,t)=>(0,n.Ed)(e)&&"boolean"==typeof t))],Ue=[a.Nf],Ve=[(0,a.MY)((e=>"boolean"==typeof e))],je=[a.Nf],Be=[(0,a.MY)((e=>"boolean"==typeof e))],Fe=[(0,a.MY)((e=>"boolean"==typeof e))],He=[a.Nf],We=[(0,a.MY)((e=>"boolean"==typeof e))],ze=[a.Nf],Ge=[a.Nf],$e=[a.Nf,a.Rc],Ye=[a.Nf],Ke=[a.Nf],Symbol.toStringTag)](){return"ARDPlayer@"+this.getId()}};return Kn(K,"Player"),(()=>{var t;const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(t=Qe[Symbol.metadata])&&void 0!==t?t:null):void 0;$n(K,null,J,{kind:"method",name:"setMediaCollection",static:!1,private:!1,access:{has:e=>"setMediaCollection"in e,get:e=>e.setMediaCollection},metadata:i},null,Ze),$n(K,null,Z,{kind:"method",name:"setPlayerConfig",static:!1,private:!1,access:{has:e=>"setPlayerConfig"in e,get:e=>e.setPlayerConfig},metadata:i},null,Ze),$n(K,null,X,{kind:"method",name:"setConfig",static:!1,private:!1,access:{has:e=>"setConfig"in e,get:e=>e.setConfig},metadata:i},null,Ze),$n(K,null,ee,{kind:"method",name:"setConfigInternal",static:!1,private:!1,access:{has:e=>"setConfigInternal"in e,get:e=>e.setConfigInternal},metadata:i},null,Ze),$n(K,null,te,{kind:"method",name:"disposeAddons",static:!1,private:!1,access:{has:e=>"disposeAddons"in e,get:e=>e.disposeAddons},metadata:i},null,Ze),$n(K,null,ie,{kind:"method",name:"finalErrorShutdown",static:!1,private:!1,access:{has:e=>"finalErrorShutdown"in e,get:e=>e.finalErrorShutdown},metadata:i},null,Ze),$n(K,null,re,{kind:"method",name:"dispose",static:!1,private:!1,access:{has:e=>"dispose"in e,get:e=>e.dispose},metadata:i},null,Ze),$n(K,null,ne,{kind:"method",name:"readyTrigger",static:!1,private:!1,access:{has:e=>"readyTrigger"in e,get:e=>e.readyTrigger},metadata:i},null,Ze),$n(K,se={value:Kn((function(e=!1){var t,i;if(!qn(this,y,"f")||!qn(this,g,"f"))return;if(Jn(this,m,!0,"f"),this.loop.dispatchEvent(Xe.CONFIG_READY,{}),Jn(this,T,!0,"f"),!e){this.disposeAddons(),Jn(this,f,new R(this,null),"f"),qn(this,f,"f").register(),Jn(this,v,new Ir(this,null),"f"),qn(this,v,"f").register(),this.addons.push(qn(this,v,"f")),this.addons.push(qn(this,f,"f"));for(const e of this.Extensions.addon)try{const t=new e.Clazz(this,qn(this,p,"f"));t.register()&&(this.addons.push(t),this.log("registered",e.package,t.ID),t instanceof br.LV&&qn(this,h,"f").has(t.ID)&&t.setButtonRenderingPrevented(!0))}catch(t){this.console.error(`Could not instantiate or register addon ${e.package}`,t)}}const r=this.addons.find((e=>e.startupHook()));if(r)this.log(`startup waiting for ${r.ID}`);else{try{qn(this,W,"f")?Jn(this,d,new(zn.WithParentDelegates(qn(this,W,"f").viewCtrl.bottomSheet))(this,qn(this,p,"f")),"f"):(Jn(this,d,function(e,t){const i=pr.find((t=>t.supportsViewForConfigOf(e)));if(i)return new i(e,t);throw Error("no ViewController impl found for player!")}(this,qn(this,p,"f")),"f"),this.observeForLeaks(qn(this,d,"f").elements.viewport))}catch(e){return void this.errorCtrl.throwError("UNKNOWN_ERROR",!0,String(e.message)+((0,n.Ed)(e.stack)?e.stack:""))}finally{null!==qn(this,u,"f")?null===(t=qn(this,u,"f"))||void 0===t||t.reset():Jn(this,u,new Bn(this,this.getTarget()),"f")}this.isFullscreen&&!qn(this,d,"f").supportsFullscreen&&this.setFullscreenInternal(!1),Jn(this,p,null,"f"),this.checkMaturity()&&(null!==qn(this,F,"f")?(this.switchStream(qn(this,F,"f"),!0),Jn(this,F,null,"f")):this.switchStreamKind("main",!0),Jn(this,T,!1,"f"),Jn(this,k,!0,"f"),(null===(i=this.model)||void 0===i?void 0:i.autoplay)&&this.triggerInitialLoad())}}),"#ready")},ae,{kind:"method",name:"#ready",static:!1,private:!0,access:{has:t=>Qn(e,t),get:t=>qn(t,e,"a",B)},metadata:i},null,Ze),$n(K,null,oe,{kind:"method",name:"triggerInitialLoad",static:!1,private:!1,access:{has:e=>"triggerInitialLoad"in e,get:e=>e.triggerInitialLoad},metadata:i},null,Ze),$n(K,null,le,{kind:"method",name:"switchAudio",static:!1,private:!1,access:{has:e=>"switchAudio"in e,get:e=>e.switchAudio},metadata:i},null,Ze),$n(K,null,de,{kind:"method",name:"switchStream",static:!1,private:!1,access:{has:e=>"switchStream"in e,get:e=>e.switchStream},metadata:i},null,Ze),$n(K,null,ce,{kind:"method",name:"setMuted",static:!1,private:!1,access:{has:e=>"setMuted"in e,get:e=>e.setMuted},metadata:i},null,Ze),$n(K,null,ue,{kind:"method",name:"setVolume",static:!1,private:!1,access:{has:e=>"setVolume"in e,get:e=>e.setVolume},metadata:i},null,Ze),$n(K,null,he,{kind:"method",name:"play",static:!1,private:!1,access:{has:e=>"play"in e,get:e=>e.play},metadata:i},null,Ze),$n(K,null,pe,{kind:"method",name:"playInternal",static:!1,private:!1,access:{has:e=>"playInternal"in e,get:e=>e.playInternal},metadata:i},null,Ze),$n(K,null,fe,{kind:"method",name:"stop",static:!1,private:!1,access:{has:e=>"stop"in e,get:e=>e.stop},metadata:i},null,Ze),$n(K,null,ve,{kind:"method",name:"stopInternal",static:!1,private:!1,access:{has:e=>"stopInternal"in e,get:e=>e.stopInternal},metadata:i},null,Ze),$n(K,null,me,{kind:"method",name:"pause",static:!1,private:!1,access:{has:e=>"pause"in e,get:e=>e.pause},metadata:i},null,Ze),$n(K,null,ye,{kind:"method",name:"pauseInternal",static:!1,private:!1,access:{has:e=>"pauseInternal"in e,get:e=>e.pauseInternal},metadata:i},null,Ze),$n(K,null,ge,{kind:"method",name:"setPlaybackRate",static:!1,private:!1,access:{has:e=>"setPlaybackRate"in e,get:e=>e.setPlaybackRate},metadata:i},null,Ze),$n(K,null,be,{kind:"method",name:"setPlaybackRateInternal",static:!1,private:!1,access:{has:e=>"setPlaybackRateInternal"in e,get:e=>e.setPlaybackRateInternal},metadata:i},null,Ze),$n(K,null,Ee,{kind:"method",name:"setSeekIntervals",static:!1,private:!1,access:{has:e=>"setSeekIntervals"in e,get:e=>e.setSeekIntervals},metadata:i},null,Ze),$n(K,null,we,{kind:"method",name:"setSeekIntervalsInternal",static:!1,private:!1,access:{has:e=>"setSeekIntervalsInternal"in e,get:e=>e.setSeekIntervalsInternal},metadata:i},null,Ze),$n(K,null,Se,{kind:"method",name:"resume",static:!1,private:!1,access:{has:e=>"resume"in e,get:e=>e.resume},metadata:i},null,Ze),$n(K,null,Ce,{kind:"method",name:"resumeInternal",static:!1,private:!1,access:{has:e=>"resumeInternal"in e,get:e=>e.resumeInternal},metadata:i},null,Ze),$n(K,null,Ae,{kind:"method",name:"seekTo",static:!1,private:!1,access:{has:e=>"seekTo"in e,get:e=>e.seekTo},metadata:i},null,Ze),$n(K,null,Te,{kind:"method",name:"seekToInternal",static:!1,private:!1,access:{has:e=>"seekToInternal"in e,get:e=>e.seekToInternal},metadata:i},null,Ze),$n(K,null,Ie,{kind:"method",name:"seekByInterval",static:!1,private:!1,access:{has:e=>"seekByInterval"in e,get:e=>e.seekByInterval},metadata:i},null,Ze),$n(K,null,ke,{kind:"method",name:"seekByIntervalInternal",static:!1,private:!1,access:{has:e=>"seekByIntervalInternal"in e,get:e=>e.seekByIntervalInternal},metadata:i},null,Ze),$n(K,null,Le,{kind:"method",name:"seekToLive",static:!1,private:!1,access:{has:e=>"seekToLive"in e,get:e=>e.seekToLive},metadata:i},null,Ze),$n(K,null,Pe,{kind:"method",name:"seekToLiveInternal",static:!1,private:!1,access:{has:e=>"seekToLiveInternal"in e,get:e=>e.seekToLiveInternal},metadata:i},null,Ze),$n(K,null,xe,{kind:"method",name:"seekToAndPlay",static:!1,private:!1,access:{has:e=>"seekToAndPlay"in e,get:e=>e.seekToAndPlay},metadata:i},null,Ze),$n(K,null,_e,{kind:"method",name:"seekToAndPlayInternal",static:!1,private:!1,access:{has:e=>"seekToAndPlayInternal"in e,get:e=>e.seekToAndPlayInternal},metadata:i},null,Ze),$n(K,null,Oe,{kind:"method",name:"setSticky",static:!1,private:!1,access:{has:e=>"setSticky"in e,get:e=>e.setSticky},metadata:i},null,Ze),$n(K,null,Me,{kind:"method",name:"setStickyInternal",static:!1,private:!1,access:{has:e=>"setStickyInternal"in e,get:e=>e.setStickyInternal},metadata:i},null,Ze),$n(K,null,De,{kind:"method",name:"setFullscreen",static:!1,private:!1,access:{has:e=>"setFullscreen"in e,get:e=>e.setFullscreen},metadata:i},null,Ze),$n(K,null,Re,{kind:"method",name:"setVideoScale",static:!1,private:!1,access:{has:e=>"setVideoScale"in e,get:e=>e.setVideoScale},metadata:i},null,Ze),$n(K,null,Ne,{kind:"method",name:"setForceButtonHidden",static:!1,private:!1,access:{has:e=>"setForceButtonHidden"in e,get:e=>e.setForceButtonHidden},metadata:i},null,Ze),$n(K,null,Ue,{kind:"method",name:"setForceButtonHiddenInternal",static:!1,private:!1,access:{has:e=>"setForceButtonHiddenInternal"in e,get:e=>e.setForceButtonHiddenInternal},metadata:i},null,Ze),$n(K,null,Ve,{kind:"method",name:"setForceUIHidden",static:!1,private:!1,access:{has:e=>"setForceUIHidden"in e,get:e=>e.setForceUIHidden},metadata:i},null,Ze),$n(K,null,je,{kind:"method",name:"setForceUIHiddenInternal",static:!1,private:!1,access:{has:e=>"setForceUIHiddenInternal"in e,get:e=>e.setForceUIHiddenInternal},metadata:i},null,Ze),$n(K,null,Be,{kind:"method",name:"setLightMode",static:!1,private:!1,access:{has:e=>"setLightMode"in e,get:e=>e.setLightMode},metadata:i},null,Ze),$n(K,null,Fe,{kind:"method",name:"setIsPip",static:!1,private:!1,access:{has:e=>"setIsPip"in e,get:e=>e.setIsPip},metadata:i},null,Ze),$n(K,null,He,{kind:"method",name:"setIsPipInternal",static:!1,private:!1,access:{has:e=>"setIsPipInternal"in e,get:e=>e.setIsPipInternal},metadata:i},null,Ze),$n(K,null,We,{kind:"method",name:"setForceControlsVisible",static:!1,private:!1,access:{has:e=>"setForceControlsVisible"in e,get:e=>e.setForceControlsVisible},metadata:i},null,Ze),$n(K,null,ze,{kind:"method",name:"setForceControlsVisibleInternal",static:!1,private:!1,access:{has:e=>"setForceControlsVisibleInternal"in e,get:e=>e.setForceControlsVisibleInternal},metadata:i},null,Ze),$n(K,null,Ge,{kind:"method",name:"_findAddon",static:!1,private:!1,access:{has:e=>"_findAddon"in e,get:e=>e._findAddon},metadata:i},null,Ze),$n(K,null,$e,{kind:"method",name:"_discardShard",static:!1,private:!1,access:{has:e=>"_discardShard"in e,get:e=>e._discardShard},metadata:i},null,Ze),$n(K,null,Ye,{kind:"method",name:"_shardWithConfig",static:!1,private:!1,access:{has:e=>"_shardWithConfig"in e,get:e=>e._shardWithConfig},metadata:i},null,Ze),$n(K,null,Ke,{kind:"method",name:"__joinParent",static:!1,private:!1,access:{has:e=>"__joinParent"in e,get:e=>e.__joinParent},metadata:i},null,Ze),$n(null,Y={value:K},qe,{kind:"class",name:K.name,metadata:i},null,Je),Xe=K=Y.value,i&&Object.defineProperty(K,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})})(),K.RECONFIGURE="Player.RECONFIGURE",K.CONFIG_READY="Player.CONFIG_READY",K.EVENT_INIT="Player.EVENT_INIT",K.EVENT_READY="Player.EVENT_READY",K.EVENT_STATUS_CHANGE="Player.EVENT_STATUS_CHANGE",K.EVENT_QUALITY_CHANGE="Player.EVENT_QUALITY_CHANGE",K.EVENT_MEDIUM_CHANGE="Player.EVENT_MEDIUM_CHANGE",K.EVENT_ERROR="Player.EVENT_ERROR",K.EVENT_LOAD_STREAM="Player.EVENT_LOAD_STREAM",K.EVENT_STREAM_LOADED="Player.EVENT_STREAM_LOADED",K.EVENT_INITIAL_FRAME="Player.EVENT_INITIAL_FRAME",K.EVENT_PLAY_STREAM="Player.EVENT_PLAY_STREAM",K.EVENT_AUTOPLAY_STREAM_PROHIBITED="Player.EVENT_AUTOPLAY_STREAM_PROHIBITED",K.EVENT_END_STREAM="Player.EVENT_END_STREAM",K.EVENT_PAUSE_STREAM="Player.EVENT_PAUSE_STREAM",K.EVENT_SEEK_START="Player.EVENT_SEEK_START",K.EVENT_SEEK_START_INTENT="Player.EVENT_SEEK_START_INTENT",K.EVENT_SEEK_END="Player.EVENT_SEEK_END",K.EVENT_STOP_STREAM="Player.EVENT_STOP_STREAM",K.EVENT_BUFFERING="Player.EVENT_BUFFERING",K.EVENT_DVR_CHANGE="Player.EVENT_DVR_CHANGE",K.PLAYBACK_RATE_CHANGE="Player.PLAYBACK_RATE_CHANGE",K.EVENT_UPDATE_STREAM_TIME="Player.EVENT_UPDATE_STREAM_TIME",K.EVENT_UPDATE_STREAM_DURATION="Player.EVENT_UPDATE_STREAM_DURATION",K.EVENT_KEYBOARD_RELEASE="Player.EVENT_KEYBOARD_RELEASE",K.EVENT_CTRLBAR_FADEOUT="Player.EVENT_CTRLBAR_FADEOUT",K.EVENT_CTRLBAR_FADEIN="Player.EVENT_CTRLBAR_FADEIN",K.EVENT_SHOW_OPTIONS="Player.EVENT_SHOW_OPTIONS",K.VIEW_RESTORE_DEFAULTS="Player.VIEW_RESTORE_DEFAULTS",K.SETUP_VIEW="Player.SETUP_VIEW",K.SETUP_VIEW_REDUCED="Player.SETUP_VIEW_REDUCED",K.SETUP_VIEW_COMPLETE="Player.SETUP_VIEW_COMPLETE",K.VIEWPORT_RESIZE="Player.VIEWPORT_RESIZE",K.TOGGLE_FULLSCREEN="Player.TOGGLE_FULLSCREEN",K.VIEWPORT_BREAKPOINT_CHANGE="Player.VIEWPORT_BREAKPOINT_CHANGE",K.AUDIO_TRACK_LIST_CHANGED="Player.AUDIO_TRACK_LIST_CHANGED",K.CURRENT_AUDIO_TRACK_CHANGED="Player.CURRENT_AUDIO_TRACK_CHANGED",K.MATURITY_LOGIN="Player.MATURITY_LOGIN",K.BACK_BUTTON_PRESSED="Player.BACK_BUTTON_PRESSED",K.MINIMIZE_BUTTON_PRESSED="Player.MINIMIZE_BUTTON_PRESSED",K.MINI_PLAYER_PRESSED="Player.MINI_PLAYER_PRESSED",K.EMBED_BUTTON_PRESSED="Player.EMBED_BUTTON_PRESSED",K.POSTER_FRAME_PRESSED="Player.POSTER_FRAME_PRESSED",K.STICKY_STATE_CHANGED="Player.STICKY_STATE_CHANGED",K.TITLE_TEXT_CLICKED="Player.TITLE_TEXT_CLICKED",K.REMOTE_PLAYBACK_CHANGED="Player.REMOTE_PLAYBACK_CHANGED",K.PIP_CHANGE_REQUEST="Player.PIP_CHANGE_REQUEST",K.PIP_STATUS_CHANGE="Player.PIP_STATUS_CHANGE",K.BROADCAST_STICKY_SHEET_STATE="Player.BROADCAST_STICKY_SHEET_STATE",K.EPG_DATA_CHANGED="Player.EPG_DATA_CHANGED",K.SPATIAL_AUDIO_SUPPORT_CHANGED="Player.SPATIAL_AUDIO_SUPPORT_CHANGED",Gn(K,Je),Xe=K})();function Xn(e){return function(t,i){return function(...r){return this._isShard?(this.log(`Joining shard to parent to call ${String(i.name)}`),this.__joinParent((e=>{t.call(e,...r)})),e):t.call(this,...r)}}}},95001:(module,e,t)=>{"use strict";var i,r,n=t(43501),a=t(63110),s=t(38348),o=t(44489),l=t(77162),d=t(66693),c=t(33050),u=t(8694),h="USE_FUNCTION_CONSTRUCTOR",p=c("asyncIterator"),f=n.AsyncIterator,v=a.AsyncIteratorPrototype;if(v)i=v;else if(s(f))i=f.prototype;else if(a[h]||n[h])try{r=l(l(l(Function("return async function*(){}()")()))),l(r)===Object.prototype&&(i=r)}catch(e){}i?u&&(i=o(i)):i={},s(i[p])||d(i,p,(function(){return this})),module.exports=i},95024:(module,e,t)=>{"use strict";var i=t(9536),r=t(54258),n=t(43501).String;module.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},95178:(e,t,i)=>{"use strict";var r=i(39501),n=i(36026),a=i(81658),s=i(77162),o=n.has,l=n.toKey,d=function(e,t,i){if(o(e,t,i))return!0;var r=s(t);return null!==r&&d(e,r,i)};r({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var i=arguments.length<3?void 0:l(arguments[2]);return d(e,a(t),i)}})},95289:(e,t,i)=>{"use strict";var r=i(39501),n=i(64543);"function"==typeof BigInt&&r({target:"BigInt",stat:!0,forced:!0},{range:function(e,t,i){return new n(e,t,i,"bigint",BigInt(0),BigInt(1))}})},95410:(module,e,t)=>{"use strict";var i=t(72748),r=t(79667),n=t(72909),a=function(e){return function(t,a,s){var o=i(t),l=n(o);if(0===l)return!e&&-1;var d,c=r(s,l);if(e&&a!=a){for(;l>c;)if((d=o[c++])!=d)return!0}else for(;l>c;c++)if((e||c in o)&&o[c]===a)return e||c||0;return!e&&-1}};module.exports={includes:a(!0),indexOf:a(!1)}},95458:(e,t,i)=>{"use strict";i(67387)},95701:(e,t,i)=>{"use strict";var r=i(43501),n=i(83452),a=i(41970).f,s=i(86776).f,o=r.Symbol;if(n("dispose"),o){var l=s(o,"dispose");l.enumerable&&l.configurable&&l.writable&&a(o,"dispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}},95817:(module,e,t)=>{"use strict";var i=t(47193),r=t(61883),n=t(38151),a=t(9638),s=t(44136),o=r.add,l=r.has,d=r.remove;module.exports=function(e){var t=i(this),r=a(e).getIterator(),c=n(t);return s(r,(function(e){l(t,e)?d(c,e):o(c,e)})),c}},95921:(module,e,t)=>{"use strict";var i=t(95024);module.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},96014:(e,t,i)=>{"use strict";var r=i(3549),n=i(27970),a=i(53868),s=i(72909),o=i(45493);r&&(o(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=a(this),t=s(e);return 0===t?void 0:e[t-1]},set:function(e){var t=a(this),i=s(t);return t[0===i?0:i-1]=e}}),n("lastItem"))},96337:(module,e,t)=>{"use strict";var i=t(39501),r=t(648),n=t(8694),a=t(41215),s=t(38348),o=t(6439),l=t(77162),d=t(82014),c=t(39674),u=t(89208),h=t(66693),p=t(33050),f=t(17132),v=t(39026),m=a.PROPER,y=a.CONFIGURABLE,g=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,E=p("iterator"),w="keys",S="values",C="entries",A=function(){return this};module.exports=function(e,t,a,p,v,T,I){o(a,t,p);var k,L,P,x=function(e){if(e===v&&R)return R;if(!b&&e&&e in M)return M[e];switch(e){case w:case S:case C:return function(){return new a(this,e)}}return function(){return new a(this)}},_=t+" Iterator",O=!1,M=e.prototype,D=M[E]||M["@@iterator"]||v&&M[v],R=!b&&D||x(v),N="Array"===t&&M.entries||D;if(N&&(k=l(N.call(new e)))!==Object.prototype&&k.next&&(n||l(k)===g||(d?d(k,g):s(k[E])||h(k,E,A)),c(k,_,!0,!0),n&&(f[_]=A)),m&&v===S&&D&&D.name!==S&&(!n&&y?u(M,"name",S):(O=!0,R=function(){return r(D,this)})),v)if(L={values:x(S),keys:T?R:x(w),entries:x(C)},I)for(P in L)(b||O||!(P in M))&&h(M,P,L[P]);else i({target:t,proto:!0,forced:b||O},L);return n&&!I||M[E]===R||h(M,E,R,{name:v}),f[t]=R,L}},97138:(module,e,t)=>{"use strict";var i,r,n,a,s=t(43501),o=t(12742),l=t(59805),d=t(38348),c=t(47442),u=t(54258),h=t(88578),p=t(80945),f=t(21382),v=t(82309),m=t(63259),y=t(90436),g=s.setImmediate,b=s.clearImmediate,E=s.process,w=s.Dispatch,S=s.Function,C=s.MessageChannel,A=s.String,T=0,I={},k="onreadystatechange";u((function(){i=s.location}));var L=function(e){if(c(I,e)){var t=I[e];delete I[e],t()}},P=function(e){return function(){L(e)}},x=function(e){L(e.data)},_=function(e){s.postMessage(A(e),i.protocol+"//"+i.host)};g&&b||(g=function(e){v(arguments.length,1);var t=d(e)?e:S(e),i=p(arguments,1);return I[++T]=function(){o(t,void 0,i)},r(T),T},b=function(e){delete I[e]},y?r=function(e){E.nextTick(P(e))}:w&&w.now?r=function(e){w.now(P(e))}:C&&!m?(a=(n=new C).port2,n.port1.onmessage=x,r=l(a.postMessage,a)):s.addEventListener&&d(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!u(_)?(r=_,s.addEventListener("message",x,!1)):r=k in f("script")?function(e){h.appendChild(f("script"))[k]=function(){h.removeChild(this),L(e)}}:function(e){setTimeout(P(e),0)}),module.exports={set:g,clear:b}},97147:(e,t,i)=>{"use strict";var r=i(39501),n=i(65109),a=i(34620);r({target:"Set",proto:!0,real:!0,forced:!i(49735)("union")||!a("union")},{union:n})},97296:(e,t,i)=>{"use strict";i(39501)({target:"Math",stat:!0,forced:!0},{isubh:function(e,t,i,r){var n=e>>>0,a=i>>>0;return(t>>>0)-(r>>>0)-((~n&a|(n^~a)&n-a>>>0)>>>31)|0}})},97426:(module,e,t)=>{"use strict";var i=t(43501),r=t(54258),n=i.RegExp,a=!r((function(){var e=!0;try{n(".","d")}catch(t){e=!1}var t={},i="",r=e?"dgimsy":"gimsy",a=function(e,r){Object.defineProperty(t,e,{get:function(){return i+=r,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(s.hasIndices="d"),s)a(o,s[o]);return Object.getOwnPropertyDescriptor(n.prototype,"flags").get.call(t)!==r||i!==r}));module.exports={correct:a}},97586:(e,t,i)=>{"use strict";var r=i(47844),n=i(61409),a=i(16206),s=i(71351),o=i(7831),l=s.aTypedArrayConstructor;(0,s.exportTypedArrayStaticMethod)("fromAsync",(function(e){var t=this,i=arguments.length,s=i>1?arguments[1]:void 0,d=i>2?arguments[2]:void 0;return new(r("Promise"))((function(i){n(t),i(a(e,s,d))})).then((function(e){return o(l(t),e)}))}),!0)},98025:(e,t,i)=>{"use strict";i(70776)},98152:(e,t,i)=>{"use strict";i.d(t,{Jf:()=>h,Nt:()=>d,UQ:()=>u,Z6:()=>c});var r=i(29183),n=i(25775),a=i(94406),s=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},o=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},l=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let d=(()=>{let e,t,i=[a.JW],n=[];t=class{constructor(e,t){this.url=e,this.mimeType=t,this.isHighDynamicRange=!1,this.isUltraLowLatency=!1,this.isAdaptiveQualitySelectable=!1,this.audios=[],this.forcedLabel=null}get qualityLabel(){var e,t;return this.forcedLabel?this.forcedLabel:(0,r.a7)(null!==(e=this.maxHResolutionPx)&&void 0!==e?e:0,null!==(t=this.maxVResolutionPx)&&void 0!==t?t:0,this.isHighDynamicRange,this.isUltraLowLatency)}static validate(e){return"boolean"==typeof e.isHighDynamicRange&&"boolean"==typeof e.isUltraLowLatency&&Array.isArray(e.audios)&&e.audios.length>0&&"string"==typeof e.url&&"string"==typeof e.mimeType}};return l(t,"StreamMedia"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,n),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),o(t,n)})(),t})(),c=(()=>{let e,t,i=[a.JW],n=[];t=class{constructor(e,t="main",i=!1,n="",a=""){var s,o,l;if(this.media=e,this.kind=t,this.isAudioOnly=i,this.kindName=n,this.videoLanguageCode=a,!Array.isArray(e)||e.length<=0)throw new Error("invalid media array for stream");this.videoLanguageCode=(0,r.z3)(this.videoLanguageCode)?null!==(l=null===(o=null===(s=this.media[0])||void 0===s?void 0:s.audios[0])||void 0===o?void 0:o.languageCode)&&void 0!==l?l:"deu":this.videoLanguageCode}streamLabel(e){let t=this.kindName;if((0,r.z3)(t))switch(this.kind){case"subtitle-burn-in":t="Untertitel";break;case"sign-language":t="Gebrdensprache";break;default:t=this.isAudioOnly?"Standardaudio":"Standardvideo"}const i=this.media[Math.min(e,this.media.length-1)].qualityLabel;return/^auto(matisch)?$/i.test(i)?t:`${t} (${i})`}static validate(e){return"boolean"==typeof e.isAudioOnly&&"string"==typeof e.kindName&&Array.isArray(e.media)&&e.media.length>0&&!e.media.some((e=>!d.validate(e)))}};return l(t,"Stream"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},i,{kind:"class",name:t.name,metadata:r},null,n),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),o(t,n)})(),t})();function u(e){return void 0===e?void 0:"ardalpha"===e?"alpha":e}let h=(()=>{let e,t,i,d,u=[a.JW],h=[],p=[];t=class{constructor(){this.id=o(this,p),this.isGeoBlocked=!1,this.streams=[],this.subtitles=[],this.meta={images:[],title:""},this.pluginData={},this._dvrEnabledInPc=!1}getPluginData(e){const t=`${e}@${n.O.platform}`,i=`${e}@all`;return(0,r.mQ)(this.pluginData,t)||(0,r.mQ)(this.pluginData,i)?(0,r.$N)(this.pluginData[i],this.pluginData[t]):{}}hasPluginData(e){const t=`${e}@${n.O.platform}`,i=`${e}@all`;return(0,r.mQ)(this.pluginData,t)||(0,r.mQ)(this.pluginData,i)}get isLive(){return!(0,r.cl)(this.live)}get isDvrEnabled(){var e,t;return this._dvrEnabledInPc&&(null!==(t=null===(e=this.live)||void 0===e?void 0:e.dvrWindowSeconds)&&void 0!==t?t:0)>0&&this.streams.some((e=>e.media.some((e=>"application/vnd.apple.mpegurl"===e.mimeType||"application/dash+xml"===e.mimeType))))}get liveStreamStartDate(){var e;return(0,r.Ed)(null===(e=this.live)||void 0===e?void 0:e.availFromDateTime)?new Date(this.live.availFromDateTime):null}get isStreamCurrentlyAvailable(){return null===this.liveStreamStartDate||this.liveStreamStartDate.getTime()<=Date.now()}get isAudioOnly(){return this.streams.some((e=>e.isAudioOnly))}static validate(e){return Array.isArray(e.streams)&&e.streams.length>0&&!e.streams.some((e=>!c.validate(e)))&&Array.isArray(e.subtitles)&&"boolean"==typeof e.isGeoBlocked&&void 0!==e.meta&&null!==e.meta&&Array.isArray(e.meta.images)&&void 0!==e.pluginData&&null!==e.pluginData}static subtitleKindFor(e){switch(e){case"forced":return"forced";case"captions":return"closed-captions";case"subtitles":return"normal";default:return""}}static textTrackKindFor(e,t=n.O.browserIsSafari){switch(e){case"closed-captions":return"captions";case"forced":return t?"forced":"subtitles";default:return"subtitles"}}};return l(t,"MediaCollection"),(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;i=[a.$z],d=[a.$z],s(t,null,i,{kind:"getter",name:"isDvrEnabled",static:!1,private:!1,access:{has:e=>"isDvrEnabled"in e,get:e=>e.isDvrEnabled},metadata:r},null,p),s(t,null,d,{kind:"getter",name:"liveStreamStartDate",static:!1,private:!1,access:{has:e=>"liveStreamStartDate"in e,get:e=>e.liveStreamStartDate},metadata:r},null,p),s(null,e={value:t},u,{kind:"class",name:t.name,metadata:r},null,h),t=e.value,r&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),o(t,h)})(),t})()},98515:(module,e,t)=>{"use strict";var i=t(70856),r=t(94027),n=RangeError;module.exports=function(e){if(void 0===e)return 0;var t=i(e),a=r(t);if(t!==a)throw new n("Wrong length or index");return a}},98534:(module,e,t)=>{"use strict";var i=t(3549),r=t(54258),n=t(21382);module.exports=!i&&!r((function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},98544:(module,e,t)=>{"use strict";var i=t(17649),r=t(54258),n=t(33857),a=Object,s=i("".split);module.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===n(e)?s(e,""):a(e)}:a},98976:(e,t,i)=>{"use strict";var r=i(39501),n=i(28148).some;r({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:function(e){return n(this,e)}})},99417:(e,t,i)=>{"use strict";var r=i(39501),n=i(648),a=i(81658),s=i(77474),o=i(44520),l=i(63851),d=i(18132),c=i(22571),u=i(211),h=i(37362),p=i(8694),f=!p&&!u("drop",0),v=!p&&!f&&h("drop",RangeError),m=p||f||v,y=c((function(){for(var e,t=this.iterator,i=this.next;this.remaining;)if(this.remaining--,e=a(n(i,t)),this.done=!!e.done)return;if(e=a(n(i,t)),!(this.done=!!e.done))return e.value}));r({target:"Iterator",proto:!0,real:!0,forced:m},{drop:function(e){var t;a(this);try{t=l(o(+e))}catch(e){d(this,"throw",e)}return v?n(v,this,t):new y(s(this),{remaining:t})}})},99506:(module,e,t)=>{"use strict";var i=t(14590),r=t(593),n=t(9918),a=t(17132),s=t(33050)("iterator");module.exports=function(e){if(!n(e))return r(e,s)||r(e,"@@iterator")||a[i(e)]}},99600:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!i.call({1:2},1);t.f=n?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},99814:(e,t,i)=>{"use strict";i(39501)({target:"Function",stat:!0,forced:!0},{isConstructor:i(65314)})}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var module=a[e]={exports:{}};return n[e].call(module.exports,module,module.exports,s),module.exports}s.m=n,s.n=module=>{var e=module&&module.__esModule?()=>module.default:()=>module;return s.d(e,{a:e}),e},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var n=Object.create(null);s.r(n);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&i;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,s.d(n,a),n},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,i)=>(s.f[i](e,t),t)),[])),s.u=e=>"ardplayer-"+{158:"pluginhtmla",356:"libimsc",402:"SANDLibrary",421:"pluginchromecast",670:"plugindash",777:"pluginhtmlv",965:"pluginhls"}[e]+"."+{158:"084c4a0c",356:"e88e8ba8",402:"1a644373",421:"280aebab",670:"e096df69",777:"b0dd7eb3",965:"33094be9"}[e]+".chunk.js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},r="ardplayer:",s.l=(e,t,n,a)=>{if(i[e])i[e].push(t);else{var o,l;if(void 0!==n)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==r+n){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",r+n),o.src=e),i[e]=[t];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(p);var n=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="../dist/",(()=>{var e={792:0};s.f.j=(t,i)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var n=new Promise(((i,n)=>r=e[t]=[i,n]));i.push(r[2]=n);var a=s.p+s.u(t),o=new Error;s.l(a,(i=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",o.name="ChunkLoadError",o.type=n,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,n,[a,o,l]=i,d=0;if(a.some((t=>0!==e[t]))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)l(s)}for(t&&t(i);d<a.length;d++)n=a[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0},i=globalThis.webpackChunkardplayer=globalThis.webpackChunkardplayer||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o={};return(()=>{"use strict";s(74591),s(89153),s(84950),s(92187),s(80395),s(60298),s(77244),s(87771),s(11864),s(81862),s(34913),s(87183),s(64700),s(87297),s(84159),s(74738),s(18900),s(85647),s(5405),s(96014),s(32121),s(40127),s(59086),s(31338),s(48875),s(65838),s(88172),s(81846),s(80497),s(55253),s(80210),s(11987),s(23908),s(24551),s(55744),s(65187),s(51084),s(40426),s(98976),s(46163),s(72473),s(95289),s(58640),s(91103),s(30072),s(17931),s(29768),s(99814),s(69741),s(22901),s(34573),s(17360),s(82436),s(55962),s(47347),s(47486),s(75921),s(94470),s(98025),s(19348),s(57043),s(16108),s(8679),s(68933),s(95458),s(1740),s(91941),s(69537),s(67986),s(30550),s(41076),s(82076),s(19862),s(67871),s(16962),s(58592),s(33645),s(52770),s(26484),s(66046),s(83210),s(66956),s(36782),s(32585),s(26420),s(44915),s(93609),s(26604),s(75168),s(61858),s(74130),s(10877),s(88336),s(82121),s(59175),s(6156),s(97296),s(18925),s(13079),s(4671),s(77211),s(67165),s(32696),s(54116),s(83383),s(17695),s(35515),s(30377),s(15464),s(3975),s(1837),s(27597),s(23190),s(46939),s(81725),s(726),s(95178),s(72881),s(80313),s(85790),s(23110),s(14860),s(82236),s(59916),s(39785),s(22404),s(9587),s(79802),s(13290),s(91459),s(40413),s(14314),s(26266),s(32105),s(88131),s(81203),s(8981),s(38910),s(58925),s(13883),s(60286),s(36422),s(43504),s(76744),s(58861),s(62429),s(50381),s(54262),s(3677),s(40032),s(30423),s(72574),s(47644),s(61658),s(45553),s(87674),s(3304),s(73246),s(93061),s(64337),s(97586),s(86332),s(25625),s(40416),s(24735),s(59036),s(39875),s(62702),s(72935),s(63401),s(79549),s(92483),s(83009),s(87656),s(71933),s(87838),s(30081),s(33829),s(66655),s(17806);if("undefined"!=typeof window&&!("onscrollend"in window)){const e=new Event("scrollend"),t=new Set;document.addEventListener("touchstart",(e=>{for(let i of e.changedTouches)t.add(i.identifier)}),{passive:!0}),document.addEventListener("touchend",(e=>{for(let i of e.changedTouches)t.delete(i.identifier)}),{passive:!0}),document.addEventListener("touchcancel",(e=>{for(let i of e.changedTouches)t.delete(i.identifier)}),{passive:!0});let i=new WeakMap;function r(e,t,i){let r=e[t];e[t]=function(){let e=Array.prototype.slice.apply(arguments,[0]);r.apply(this,e),e.unshift(r),i.apply(this,e)}}function n(r,n,a,s){if("scroll"!=n&&"scrollend"!=n)return;let o=this,l=i.get(o);if(void 0===l){let n=0;l={scrollListener:i=>{clearTimeout(n),n=setTimeout((()=>{t.size?setTimeout(l.scrollListener,100):(o&&o.dispatchEvent(e),n=0)}),100)},listeners:0},r.apply(o,["scroll",l.scrollListener]),i.set(o,l)}l.listeners++}function a(e,t,r){if("scroll"!=t&&"scrollend"!=t)return;let n=this,a=i.get(n);void 0!==a&&(--a.listeners>0||(e.apply(n,["scroll",a.scrollListener]),i.delete(n)))}r(Element.prototype,"addEventListener",n),r(window,"addEventListener",n),r(document,"addEventListener",n),r(Element.prototype,"removeEventListener",a),r(window,"removeEventListener",a),r(document,"removeEventListener",a)}})(),(()=>{"use strict";s.r(o),s.d(o,{AudioIconFontConfig:()=>i.lD,CoreModule:()=>i.Ui,Environment:()=>i.OH,ErrorController:()=>i.FG,IconFontConfig:()=>i.pD,Player:()=>qr,PlayerModel:()=>i.R6,PlayerPixelController:()=>i.kz,SettingsStorageSync:()=>i.ix,checkBuild:()=>i.DV,currentStack:()=>i.YQ,debug:()=>i.Yz,filteredConsole:()=>i.xb,getCircularReplacer:()=>i.OQ,noUiSlider:()=>i.zR,removeArdPlayer:()=>i.pd});var e,t,i=s(8055),r=s(94581),n=s(46808),a=s(86876),l=s(11027),d=s(29183),c=s(25775),u=s(29894),h=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},p=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class f extends l.bc{constructor(){super(...arguments),this.ID="AddonMediaSession",this.configKey="internals/mediaSession",e.set(this,{}),t.set(this,{}),this.setEPGData=e=>{var i,r,n,a,s,o;if(e.isSeeking)return;let l=null!==(r=null===(i=e.epg)||void 0===i?void 0:i.title)&&void 0!==r?r:"",c=null!==(a=null===(n=e.epg)||void 0===n?void 0:n.subtitle)&&void 0!==a?a:"",u=(0,d.Ed)(null===(s=e.epg)||void 0===s?void 0:s.image)?[{src:null===(o=e.epg)||void 0===o?void 0:o.image}]:void 0;e.clip&&(l=e.clip.title,c=(0,d.z3)(c)?l:l+" | "+c,u=(0,d.Ed)(e.clip.image)?[{src:e.clip.image}]:u),h(this,t,{title:(0,d.Ed)(l)?l:void 0,artist:(0,d.Ed)(c)?c:void 0,artwork:u},"f"),this.setMetadata()},this.setMetadata=()=>{navigator.mediaSession.metadata=new MediaMetadata(Object.assign({},p(this,e,"f"),p(this,t,"f"))),this.player.safeTimeout(this.updatePlaybackState),this.updatePlaybackState()},this.setSessionHandlers=()=>{const e=[["play",()=>{this.log("handle play"),this.player.playInternal()}],["pause",()=>{this.log("handle pause"),this.player.pauseInternal()}],["stop",()=>{this.log("handle stop"),this.player.stopInternal()}],["seekto",e=>{var t;e.fastSeek||this.player.seekToInternal(null!==(t=e.seekTime)&&void 0!==t?t:0)}],["seekbackward",e=>{var t;this.player.seekToInternal(Math.max(this.player.model.time-(null!==(t=e.seekOffset)&&void 0!==t?t:10),0)),this.player.viewCtrl.showAnimation("seekback")}],["seekforward",e=>{var t;this.player.seekToInternal(Math.min(this.player.model.time+(null!==(t=e.seekOffset)&&void 0!==t?t:10),this.player.model.duration)),this.player.viewCtrl.showAnimation("seekfwd")}]];for(const[t,i]of e)try{navigator.mediaSession.setActionHandler(t,i)}catch(e){}},this.updatePlaybackState=()=>{try{switch(this.player.model.playstate){case 2:navigator.mediaSession.playbackState="playing";break;case 1:navigator.mediaSession.playbackState="paused";break;case 3:case 0:return navigator.mediaSession.playbackState="none",navigator.mediaSession.metadata=null,void navigator.mediaSession.setPositionState(void 0)}this.player.model.duration>0&&this.player.model.time>=0&&navigator.mediaSession.setPositionState({duration:isFinite(this.player.model.duration)?Math.round(this.player.model.duration):0,playbackRate:this.player.model.playbackRate,position:Math.round(Math.min(this.player.model.time,isFinite(this.player.model.duration)?this.player.model.duration:0))})}catch(e){this.log(e)}}}register(){var t,i,n,a;if(!super.register())return!1;const s=this.mc.meta,o=this.getImage();return h(this,e,{title:(0,d.z3)(s.title)?null!==(t=s.seriesTitle)&&void 0!==t?t:"":s.title,artist:null!==(n=null===(i=s.publicationService)||void 0===i?void 0:i.name)&&void 0!==n?n:"",album:(0,d.z3)(s.title)?"":null!==(a=s.seriesTitle)&&void 0!==a?a:"",artwork:o?[{src:o}]:[]},"f"),this.registerPlayerEvent(r.a.EVENT_PLAY_STREAM,(()=>{this.setMetadata(),this.setSessionHandlers()})),this.registerPlayerEvent(r.a.EVENT_PAUSE_STREAM,this.updatePlaybackState),this.registerPlayerEvent(r.a.EVENT_STATUS_CHANGE,this.updatePlaybackState),this.registerPlayerEvent(r.a.PLAYBACK_RATE_CHANGE,this.updatePlaybackState),this.registerPlayerEvent(r.a.EVENT_UPDATE_STREAM_TIME,this.updatePlaybackState),this.registerPlayerEvent(r.a.EVENT_UPDATE_STREAM_DURATION,this.updatePlaybackState),this.registerPlayerEvent(r.a.EPG_DATA_CHANGED,this.setEPGData),!0}getImage(){if(!this.player)return null;const e=(0,u.ll)([this.player.isAudio?"audio":"preview"],this.player.model);if(e.length<=0)return null;const t=this.player.model.playerConfig.generic.imageTemplateConfig.resolveTemplate(e[0].url);return t.length>1?t[0].url:null}isSupported(){return"mediaSession"in navigator&&!c.O.isEmbedded}}e=new WeakMap,t=new WeakMap;var v,m,y,g=s(90732),b=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},E=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class w extends l.LV{constructor(){super(...arguments),this.ID="AddonPiP",this.configKey="internals/pip",v.set(this,!1),m.set(this,!0),y.set(this,!0),this.eventLoop=null,this.pipEnded=e=>{try{this.player.checkState()}catch(e){return void this.warn("aborting promise",e)}b(this,v,"f")&&(E(this,v,!1,"f"),this.player.viewCtrl.setIsPiP(!1),!0!==e&&this.player.loop.dispatchEvent(r.a.PIP_STATUS_CHANGE,{active:!1}))},this.pipStarted=e=>{try{this.player.checkState()}catch(e){return void this.warn("aborting promise",e)}this.player.viewCtrl.bottomSheet.conceal(null),b(this,v,"f")||(E(this,v,!0,"f"),this.player.viewCtrl.setIsPiP(!0),!0!==e&&this.player.loop.dispatchEvent(r.a.PIP_STATUS_CHANGE,{active:!0}))}}get buttonOrder(){return l.LV.BUTTON_ORDER_RIGHTMOST/2}addonButtonClicked(e,t){}listAddonButtons(){return[]}listSecondaryAddonButtons(){return c.O.isEmbedded&&!b(this,y,"f")?[]:[{classList:["ardplayer-icon","ardplayer-icon-pictureinpicture",...b(this,m,"f")?[]:["ardplayer-button-disabled"]],accessibilityKey:"pip",accessibilityVariables:{pressed:!1}}]}secondaryAddonButtonClicked(e,t){"pip"===t.accessibilityKey&&(b(this,v,"f")?this.exitPiP():this.enterPiP())}register(){var e;return!!super.register()&&(c.O.isEmbedded?(E(this,y,!0===(null===(e=c.O.platformConfig)||void 0===e?void 0:e.allowPiP),"f"),this.eventLoop=new g.W(this.player),this.eventLoop.addEventListener("NativePip.pipSupportChange",(e=>{E(this,y,e.available,"f"),this.renderSecondaryButtons()})),this.registerPlayerEvent(r.a.PIP_STATUS_CHANGE,(e=>{var t;null===(t=this.executionContextProvider)||void 0===t||t.withExecutionContext({type:"api",initiator:"pip_status_changed"},(()=>{e.active?this.pipStarted(!0):this.pipEnded(!0)}))}))):this.registerPlayerEvent(r.a.PIP_CHANGE_REQUEST,(e=>{var t;null===(t=this.executionContextProvider)||void 0===t||t.withExecutionContext({type:"api",initiator:"pip_change_request"},(()=>{e.active?this.enterPiP():this.exitPiP()}))})),this.registerPlayerEvent(r.a.REMOTE_PLAYBACK_CHANGED,(e=>{var t;E(this,m,!e.isRemote,"f"),this.renderSecondaryButtons(),e.isRemote&&b(this,v,"f")&&(null===(t=this.executionContextProvider)||void 0===t||t.withExecutionContext({type:"synthetic",initiator:"remote_playback_start"},(()=>{this.exitPiP()})))})),!c.O.isEmbedded&&"pictureInPictureEnabled"in document&&document.pictureInPictureEnabled&&this.registerPlayerEvent(r.a.EVENT_READY,this.browserSetup),!0)}dispose(){var e;b(this,v,"f")&&this.exitPiP(),super.dispose(),null===(e=this.eventLoop)||void 0===e||e.dispose(),this.eventLoop=null}browserSetup(){this.player.mediaElement instanceof HTMLVideoElement&&(this.player.mediaElement.disablePictureInPicture=!1,this.player.mediaElement.addEventListener("enterpictureinpicture",(()=>{var e;null===(e=this.executionContextProvider)||void 0===e||e.withExecutionContext({type:"synthetic",initiator:"browser"},(()=>{this.pipStarted()}))})),this.player.mediaElement.addEventListener("leavepictureinpicture",(()=>{var e;null===(e=this.executionContextProvider)||void 0===e||e.withExecutionContext({type:"synthetic",initiator:"browser"},(()=>{this.pipEnded()}))})))}enterPiP(){var e,t;null===(e=this.executionContextProvider)||void 0===e||e.preserveExecutionContext(r.a.PIP_STATUS_CHANGE),c.O.isEmbedded?null===(t=this.eventLoop)||void 0===t||t.dispatchEvent("NativePip.pipStateRequest",{active:!0}):this.player.mediaElement instanceof HTMLVideoElement&&this.player.mediaElement.requestPictureInPicture().then((()=>{this.pipStarted()})).catch((e=>{this.error(e),this.pipEnded()}))}exitPiP(){var e,t;null===(e=this.executionContextProvider)||void 0===e||e.preserveExecutionContext(r.a.PIP_STATUS_CHANGE),c.O.isEmbedded?null===(t=this.eventLoop)||void 0===t||t.dispatchEvent("NativePip.pipStateRequest",{active:!1}):this.player.mediaElement instanceof HTMLVideoElement&&document.exitPictureInPicture().then((()=>{this.pipEnded()})).catch(this.pipEnded)}isSupported(){return!this.player.isAudio&&("pictureInPictureEnabled"in document&&document.pictureInPictureEnabled&&(!c.O.browserIsSafari||!0!==window.navigator.standalone)||c.O.isEmbedded)}}v=new WeakMap,m=new WeakMap,y=new WeakMap;class S extends l.LV{constructor(){super(...arguments),this.eventLoop=null,this.primaryButtonSet=[],this.secondaryButtonSet=[]}get ID(){return"AddonDynamicButtons"}get configKey(){return"internals/dynamicButtons"}get buttonOrder(){return l.LV.BUTTON_ORDER_RIGHTMOST}register(){return!!super.register()&&(this.eventLoop=new g.W(this.player),this.eventLoop.addEventListener("DynamicButtons.addPrimary",(e=>{!(0,d.z3)(e.button.id)&&Array.isArray(e.button.classList)?(this.log("adding button",e.button.id),this.primaryButtonSet=this.primaryButtonSet.filter((t=>t.id!==e.button.id)),this.primaryButtonSet.push(e.button),this.renderButtons()):this.log("invalid button config")})),this.eventLoop.addEventListener("DynamicButtons.addSecondary",(e=>{!(0,d.z3)(e.button.id)&&Array.isArray(e.button.classList)?(this.log("adding button",e.button.id),this.secondaryButtonSet=this.secondaryButtonSet.filter((t=>t.id!==e.button.id)),this.secondaryButtonSet.push(e.button),this.renderSecondaryButtons()):this.log("invalid button config")})),this.eventLoop.addEventListener("DynamicButtons.remove",(e=>{(0,d.z3)(e.id)||(this.log("removing button",e.id),this.primaryButtonSet=this.primaryButtonSet.filter((t=>t.id===e.id)),this.secondaryButtonSet=this.secondaryButtonSet.filter((t=>t.id===e.id)),this.renderButtons(),this.renderSecondaryButtons())})),this.log("BottomSheetAddon registered"),!0)}dispose(){var e;super.dispose(),this.primaryButtonSet=[],this.secondaryButtonSet=[],null===(e=this.eventLoop)||void 0===e||e.dispose(),this.eventLoop=null}listAddonButtons(){return this.primaryButtonSet}addonButtonClicked(e,t){var i;null===(i=this.eventLoop)||void 0===i||i.dispatchEvent("DynamicButtons.buttonClicked",{id:t.id})}listSecondaryAddonButtons(){return this.secondaryButtonSet}secondaryAddonButtonClicked(e,t){var i;null===(i=this.eventLoop)||void 0===i||i.dispatchEvent("DynamicButtons.buttonClicked",{id:t.id})}isSupported(){return!0}}var C,A=s(67555),T=s(47295),I=s(23720),k=s(45041),L=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},P=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class x extends T.t{constructor(){super(...arguments),this.eventLoop=null,this.currentMenu=[],C.set(this,null)}get ID(){return"AddonDynamicMenu"}get configKey(){return"internals/dynamicMenu"}listAddonButtons(){return[]}restoreParceledData(e){super.restoreParceledData(e),this.currentMenu=e.entries}parcelDataForErrorState(){return this.parcelData()}parcelData(){return this.currentMenu.length>0?{entries:this.currentMenu}:null}get buttonOrder(){return l.LV.BUTTON_ORDER_RIGHTMOST}register(){return!!super.register()&&(this.eventLoop=new g.W(this.player),this.eventLoop.addEventListener("DynamicMenu.setMenu",(e=>{this.currentMenu=e.entries,this.renderUpdate()})),this.eventLoop.addEventListener("DynamicMenu.add",(e=>{const t=this.currentMenu.findIndex((t=>t.id===e.item.id));t>=0?this.currentMenu[t]=e.item:this.currentMenu.push(e.item),this.renderUpdate()})),this.eventLoop.addEventListener("DynamicMenu.remove",(e=>{this.currentMenu=this.currentMenu.filter((t=>t.id!==e.id)),this.renderUpdate()})),!0)}eventSetupView(e){super.eventSetupView(e);const t=e.controller.playerView.querySelector("button.ardplayer-dynamic-menu-button");t&&(t.tabIndex=0,this.onClick(t,(()=>{var e;null===(e=this.bottomSheet)||void 0===e||e.reveal(this,"",!0)})),(0,k.$)(this.player,t,"dynamic-menu-button"))}renderUpdate(){null!==L(this,C,"f")&&L(this,C,"f").replaceContent((e=>{this.renderMenuToContainer(e)}))}renderToDisplayList(e,t){P(this,C,I.hc.createUpdatingVerticalContainer(e),"f"),this.renderMenuToContainer(L(this,C,"f"))}onScreenClosed(e){super.onScreenClosed(e),P(this,C,null,"f")}renderMenuToContainer(e){this.currentMenu.forEach((t=>{I.hc.renderButton(e,t.title,(()=>{var e,i;null===(e=this.eventLoop)||void 0===e||e.dispatchEvent("DynamicMenu.itemClicked",{id:t.id}),null===(i=this.bottomSheet)||void 0===i||i.conceal(null)}),t.icon.startsWith("ardplayer-icon")?t.icon:`ardplayer-icon-${t.icon}`,!1,!1)}))}isSupported(){return super.isSupported()&&c.O.isEmbedded}}C=new WeakMap;const _=x;var O=s(94480);function M(e,t){return Array.isArray(e)?function(e,t){for(var i,r="",n="",a=Array.isArray(t),s=0;s<e.length;s++)(i=M(e[s]))&&(a&&t[s]&&(i=D(i)),r=r+n+i,n=" ");return r}(e,t):e&&"object"==typeof e?function(e){var t="",i="";for(var r in e)r&&e[r]&&R.call(e,r)&&(t=t+i+r,i=" ");return t}(e):e||""}function D(e){var t=""+e,i=N.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var R=Object.prototype.hasOwnProperty,N=/["&<>]/;const U=function(e){var t,i="",r=e||{};return function(e,r,n){i+='<div class="ardplayer-notify-toast">',e.isBlank(r)||(i=i+"<span"+function(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=D(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("class",M(["ardplayer-icon ardplayer-icon-"+r],[!0]),!1,!0)+"></span>"),e.isBlank(n)||(i=i+'<span class="ardplayer-toast-title">'+D(null==(t=n)?"":t)+"</span>"),i+="</div>"}.call(this,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"icon"in r?r.icon:"undefined"!=typeof icon?icon:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),i};var V,j,B,F,H,W=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},z=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class G extends l.yv{constructor(){super(...arguments),V.set(this,null),j.set(this,null),B.set(this,null),F.set(this,null),H.set(this,-1)}register(){return!!super.register()&&(this.registerPlayerEvent(r.a.SETUP_VIEW,(e=>{W(this,B,e.viewport,"f")})),W(this,V,new g.W(this.player),"f"),z(this,V,"f").addEventListener("Notify.toast",(e=>{var t,i;if((0,d.z3)(e.title)&&(0,d.z3)(e.icon))return void this.warn("invalid toast supplied, skipping");if((0,d.cl)(z(this,B,"f")))return void this.warn("no viewport ready, skipping");null==z(this,j,"f")&&W(this,j,new O.U(U,this.player),"f");const r=null===(t=z(this,j,"f"))||void 0===t?void 0:t.renderTemplateAsElement({icon:e.icon,title:e.title});r&&(null===(i=z(this,F,"f"))||void 0===i||i.call(this),clearTimeout(z(this,H,"f")),z(this,B,"f").appendChild(r),requestAnimationFrame((()=>{r.classList.add("toast-active")})),W(this,F,(()=>{r.classList.remove("toast-active"),this.player.safeTimeout((()=>{r.remove()}),1e3)}),"f"),this.player.safeTimeout(z(this,F,"f"),2e3))})),!0)}dispose(){var e;super.dispose(),null===(e=z(this,V,"f"))||void 0===e||e.dispose()}get ID(){return"NotifyAddon"}isDisabled(){return!1}isSupported(){var e;return!c.O.isEmbedded||!0!==(null===(e=c.O.platformConfig)||void 0===e?void 0:e.nativeToastSupport)}}V=new WeakMap,j=new WeakMap,B=new WeakMap,F=new WeakMap,H=new WeakMap;const $=G,Y=[{Clazz:a.qI,package:"ardplayer-addon-bottomsheet-dom",type:"addon",version:"bundled"},{Clazz:f,package:"ardplayer-mediasession",type:"addon",version:"bundled"},{Clazz:w,package:"ardplayer-pip",type:"addon",version:"bundled"},{Clazz:S,package:"ardplayer-dynamic-buttons",type:"addon",version:"bundled"},{Clazz:_,package:"ardplayer-dynamic-menu",type:"addon",version:"bundled"},{Clazz:A.A,package:"ardplayer-language",type:"addon",version:"bundled"},{Clazz:$,package:"ardplayer-notify",type:"addon",version:"bundled"}];var K,q,J,Q,Z,X=s(25734),ee=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},te=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class ie{constructor(e,t){K.set(this,void 0),q.set(this,void 0),J.set(this,{}),Q.set(this,{}),Z.set(this,{}),ee(this,K,e,"f"),ee(this,q,t,"f")}static withAddons(...e){return new ie(e,[])}static withPlugins(...e){return new ie([],e)}static withA11yConfig(e){return new ie([],[]).withA11yConfig(e)}static withErrorConfig(e){return new ie([],[]).withErrorConfig(e)}static withStrings(e){return new ie([],[]).withStrings(e)}withAddons(...e){return te(this,K,"f").push(...e),this}withPlugins(...e){return te(this,q,"f").push(...e),this}withA11yConfig(e){return ee(this,J,e,"f"),this}withErrorConfig(e){return ee(this,Q,e,"f"),this}withStrings(e){return ee(this,Z,e,"f"),this}prepare(){const e={core:n.U,addon:Y.concat(te(this,K,"f")),plugin:te(this,q,"f")},t={Strings:te(this,Z,"f"),Errors:te(this,Q,"f"),Accessibility:te(this,J,"f")};return(0,i.DV)(e),r.a.withBuildConfiguration({Extensions:e,StringConfig:(0,d.$N)(X.r,t)})}}K=new WeakMap,q=new WeakMap,J=new WeakMap,Q=new WeakMap,Z=new WeakMap;var re=s(60484),ne=s(94406);function ae(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=se(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function se(e){var t=""+e,i=oe.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var oe=/["&<>]/;const le=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,o,l){i=i+'<div class="ardplayer-ms-card" tabindex="0"'+ae("title",l,!0,!0)+' role="option" data-initiator-name="multi-stream-card"'+ae("data-stream-id",n,!0,!0)+ae("data-current-section",o,!0,!0)+ae("data-future-section",s,!0,!0)+">",e.isBlank(a)||(i=i+"<img"+ae("src",a,!0,!0)+">"),i=i+'<div><div class="ardplayer-ms-chips"><span class="ardplayer-ms-chip">LIVE</span><span class="ardplayer-ms-chip">--:--</span></div><p>'+se(null==(t=l)?"":t)+"</p>",e.isBlank(r)||(i+='<div class="ardplayer-ms-card-progress"><span></span></div>'),i+="</div></div>"}.call(this,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"endTime"in r?r.endTime:"undefined"!=typeof endTime?endTime:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"image"in r?r.image:"undefined"!=typeof image?image:void 0,"sectionTitleFuture"in r?r.sectionTitleFuture:"undefined"!=typeof sectionTitleFuture?sectionTitleFuture:void 0,"sectionTitleNow"in r?r.sectionTitleNow:"undefined"!=typeof sectionTitleNow?sectionTitleNow:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),i};function de(e){var t=""+e,i=ce.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var ce=/["&<>]/;const ue=function(e){var t,i="",r=e||{};return function(e,r,n,a,s){i+='<div class="ardplayer-ms-cta" tabindex="0" data-vertical-nav-abs-pos="true">',e.isBlank(n)||(i=i+"<img"+function(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=de(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("src",n,!0,!0)+">"),i+='<div><div class="ardplayer-ms-cta-header">',e.isBlank(r)||(i=i+'<span class="ardplayer-ms-chip">'+de(null==(t=r)?"":t)+"</span>"),i=i+"<h2>"+de(null==(t=a)?"":t)+'<i class="ardplayer-icon ardplayer-icon-arrowright ardplayer-show-s"></i></h2></div>',e.isBlank(s)||(i=i+"<h3>"+de(null==(t=s)?"":t)+"</h3>"),i+="</div></div>"}.call(this,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"chip"in r?r.chip:"undefined"!=typeof chip?chip:void 0,"image"in r?r.image:"undefined"!=typeof image?image:void 0,"subtitle"in r?r.subtitle:"undefined"!=typeof subtitle?subtitle:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),i};var he=s(62661),pe=s(46819);function fe(e){return"x-multiStreamEntry"===e.type}var ve=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},me=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},ye=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},ge=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},be=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Ee=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};const we={sectionTitleNow:"Jetzt",sectionTitleFuture:"Demnchst",hideFutureSection:!1,showFutureStreamsWithinMinutes:90,hidePastStreams:!1,cta:{subtitle:"Weitere Livestreams",chip:"LIVE"},streams:[]};let Se=(()=>{var e,t,i,n,a,s,o,l,h,p,f,v,m,y,b,E,w,S,C,A,L;let P,x,_=[ne.JW],M=[],D=T.t;x=class extends D{constructor(){super(...arguments),this.ID="AddonMultiStream",this.configKey="multistream",e.set(this,null),t.set(this,null),i.set(this,60),n.set(this,600),a.set(this,-1),s.set(this,-1),o.set(this,-1),l.set(this,null),h.set(this,null),p.set(this,null),f.set(this,null),v.set(this,null),m.set(this,[]),y.set(this,null),b.set(this,null),E.set(this,!1),w.set(this,!1),S.set(this,null),C.set(this,[]),A.set(this,null),L.set(this,!1),this.cardClicked=e=>{var i,r,n,a;e.isVisible(null!==(r=null===(i=be(this,l,"f"))||void 0===i?void 0:i.hideFutureSection)&&void 0!==r&&r)&&e.data.id!==this.mc.id&&(e.isLive?(e.element.classList.add("ardplayer-ms-card-current"),null===(n=this.executionContextProvider)||void 0===n||n.setExecutionContext("piano.avContent",{type:"other",initiator:"multistreamFeedClick",data:{av_launch_reason:"Useraction_Multistream",av_context_page_id:"multistream_page",av_context_widget_id:"multistream_widget",av_context_teaser_id:"multistream_teaser"}},2e3),null===(a=be(this,t,"f"))||void 0===a||a.dispatchEvent("MultiStream.select",e.data)):this.showToast(null,"Dieser Stream ist noch nicht verfgbar"))}}listAddonButtons(){var e,t,i,r;return this.useBottomSheet&&(0,d.Ed)(null===(t=null===(e=be(this,l,"f"))||void 0===e?void 0:e.cta)||void 0===t?void 0:t.title)&&be(this,E,"f")?[{classList:["ardplayer-icon","ardplayer-icon-live"],screen:"default",accessibilityKey:"multi-stream",accessibilityVariables:{menuTitle:null===(r=null===(i=be(this,l,"f"))||void 0===i?void 0:i.cta)||void 0===r?void 0:r.subtitle}}]:[]}get useBottomSheet(){return c.O.isEmbedded&&!c.O.isAndroidTV}register(){var s,o;if(!super.register())return!1;Ee(this,t,new g.W(this.player),"f"),Ee(this,i,null!==(s=this.conf.pollRate)&&void 0!==s?s:60,"f"),Ee(this,i,be(this,i,"f")<=0?60:be(this,i,"f"),"f"),Ee(this,n,null!==(o=this.conf.noContentPollRate)&&void 0!==o?o:600,"f"),Ee(this,n,be(this,n,"f")<=0?600:be(this,n,"f"),"f"),Ee(this,h,document.createElement("div"),"f"),be(this,h,"f").classList.add("ardplayer-ms-stage"),Ee(this,p,document.createElement("div"),"f"),be(this,p,"f").classList.add("ardplayer-ms-feed-container"),be(this,p,"f").tabIndex=-2,this.onClick(be(this,p,"f"),(()=>{this.hideOverlay()})),be(this,h,"f").appendChild(be(this,p,"f"));const u=document.createElement("button");u.classList.add("ardplayer-ms-feed-close","ardplayer-icon","ardplayer-icon-close"),u.title="Schliessen",u.setAttribute("aria-label","Schliessen"),u.tabIndex=0,u.dataset.verticalNavAbsPos="true",this.onClick(u,(()=>{this.hideOverlay()})),be(this,p,"f").appendChild(u);const v=document.createElement("div");if(v.classList.add("ardplayer-ms-feed"),!c.O.isMobileDevice){let e=!1,t=!1,i=0,r=0;this.addEventListener(v,"mousedown",(e=>{e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t=!0,r=e.pageX,i=v.scrollLeft})),this.addEventListener(be(this,p,"f"),"mouseup",(i=>{var n;t=!1,e&&(e=!1,Math.abs(i.pageX-r)>5&&(i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation(),null===(n=be(this,p,"f"))||void 0===n||n.addEventListener("click",(e=>{e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}),{once:!0,capture:!0})))})),this.addEventListener(be(this,p,"f"),"mouseleave",(()=>{e=!1,t=!1})),this.addEventListener(be(this,p,"f"),"mousemove",(n=>{t&&(e=!0,n.preventDefault(),v.scrollLeft=Math.max(0,Math.min(i-(n.pageX-r),v.scrollWidth-v.offsetWidth)))}))}if(be(this,p,"f").appendChild(v),Ee(this,f,v,"f"),Ee(this,y,new O.U(ue,this.player),"f"),Ee(this,b,new O.U(le,this.player),"f"),be(this,e,"f")){let t=1e3*be(this,i,"f");be(this,e,"f").feedPollTimestamp<=0&&(t-=performance.now()-be(this,e,"f").feedPollTimestamp),this.log("re-starting poll timer, remaining:",t),Ee(this,a,this.player.safeTimeout((()=>{this.pollFeed()}),t),"f")}else this.registerPlayerEvent("Player.EVENT_READY",(()=>{this.pollFeed()}));if(this.useBottomSheet){let e=-1;this.registerPlayerEvent(r.a.VIEWPORT_RESIZE,(()=>{be(this,L,"f")&&this.player.getTarget().classList.contains("ardplayer-s")&&e<=0&&(e=this.player.safeIdleCallback((()=>{this.hideOverlay(),e=-1})))}))}if(this.registerPlayerEvent(r.a.SETUP_VIEW,(e=>{var t;be(this,h,"f")&&(null===(t=e.viewport)||void 0===t||t.appendChild(be(this,h,"f")))})),this.registerPlayerEvent(r.a.SETUP_VIEW_REDUCED,(t=>{var i;be(this,h,"f")&&(null===(i=t.viewport)||void 0===i||i.appendChild(be(this,h,"f")),null===be(this,e,"f")&&this.pollFeed())})),null!==be(this,e,"f")){const t=()=>{var t,i,r,n;if(be(this,h,"f")&&null!==be(this,e,"f")){if(be(this,f,"f")&&(be(this,f,"f").classList.toggle("ardplayer-ms-feed-no-future",null!==(i=null===(t=be(this,l,"f"))||void 0===t?void 0:t.hideFutureSection)&&void 0!==i&&i),be(this,f,"f").innerHTML=be(this,e,"f").feedHTML,be(this,f,"f").querySelectorAll(".ardplayer-ms-card").forEach((e=>{var t,i;const r=null!==(i=null===(t=be(this,l,"f"))||void 0===t?void 0:t.streams.find((t=>t.id===e.dataset.streamId)))&&void 0!==i?i:null;if(r){const t=new Ce(e,r,(0,d.Af)(e,(e=>{e.stopPropagation(),this.cardClicked(t)}),this.executionContextProvider));be(this,m,"f").push(t),null==e||e.classList.toggle("ardplayer-ms-card-current",r.id===this.mc.id)}else e.remove()})),be(this,f,"f").querySelectorAll("button.ardplayer-icon").forEach((e=>{e.remove()})),this.renderFeedScrollButtons()),this.renderCTA(),this.updateCTAVisibility(),be(this,e,"f").feedScrollPos>=0){const t=be(this,e,"f").feedScrollPos;null===(r=be(this,f,"f"))||void 0===r||r.classList.add("ardplayer-ms-feed-reveal"),null===(n=be(this,h,"f"))||void 0===n||n.classList.add("ardplayer-ms-overlay-active"),be(this,f,"f")&&(be(this,f,"f").scrollLeft=t),this.showOverlay(),this.player.safeTimeout((()=>{var e;(0,he.GW)(null===(e=be(this,m,"f").find((e=>e.data.id===this.mc.id)))||void 0===e?void 0:e.element,!1)}))}Ee(this,e,null,"f")}};this.registerPlayerEvent(r.a.SETUP_VIEW_COMPLETE,t),this.registerPlayerEvent(r.a.SETUP_VIEW_REDUCED,t)}return!0}isSupported(){return super.isSupported()&&!this.configEmpty()&&!(0,d.z3)(this.conf.feedUrl)&&this.player.isLive&&!this.player.isAudio}parcelData(){var e,t,i,r,n,a,o,c,u,p,v,m;const y=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.currentSubQuality)&&void 0!==t?t:-1,g=y<0?null:null!==(n=(null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.subQualities)&&void 0!==r?r:[]).find((e=>e.level===y)))&&void 0!==n?n:null,b=be(this,l,"f")&&(0,d.Ed)(this.conf.feedUrl)?{feedUrl:this.conf.feedUrl,feedPollTimestamp:be(this,s,"f"),feed:be(this,l,"f"),feedHTML:null!==(o=null===(a=be(this,f,"f"))||void 0===a?void 0:a.innerHTML)&&void 0!==o?o:"",feedScrollPos:be(this,L,"f")?null!==(u=null===(c=be(this,f,"f"))||void 0===c?void 0:c.scrollLeft)&&void 0!==u?u:0:-1,streamQualitySubSelection:g}:null;if(be(this,L,"f")&&be(this,h,"f")&&be(this,f,"f")){const e=null!==(v=null===(p=be(this,f,"f"))||void 0===p?void 0:p.scrollLeft)&&void 0!==v?v:0,t=be(this,h,"f"),i=be(this,f,"f");null===(m=this.player.viewCtrl)||void 0===m||m.addUIZombie({element:t,reApplyState:function(){i.scrollLeft=e}})}return b}restoreParceledData(t){if(this.log("unpacking parcel, feed match?",t.feedUrl===this.conf.feedUrl),t.feedUrl===this.conf.feedUrl&&(Ee(this,l,t.feed,"f"),Ee(this,e,t,"f"),null!==t.streamQualitySubSelection)){this.info("try to re-apply quality selection",t.streamQualitySubSelection);const e=t.streamQualitySubSelection,i=()=>{var t,i;this.log("try to re-select sub-quality after switch");const r=null!==(i=null===(t=this.player.getCtrl())||void 0===t?void 0:t.subQualities)&&void 0!==i?i:[],n=e.width*e.height;if(r.length>0){let t=r[0];for(let e=1;e<r.length;e++)Math.abs(n-r[e].height*r[0].width)<Math.abs(n-t.height*t.width)&&(t=r[e]);this.log("selected target",t,"for prev",e),this.player.switchQuality(t.level)}};let n=!1,a=!1;const s=[r.a.EVENT_LOAD_STREAM,r.a.EVENT_STREAM_LOADED,r.a.EVENT_QUALITY_CHANGE];let o=null;const l=e=>{switch(this.log("quality select event ->",e),e.type){case"Player.EVENT_LOAD_STREAM":if(n)return void(null==o||o());break;case"Player.EVENT_STREAM_LOADED":n=!0;break;case"Player.EVENT_QUALITY_CHANGE":a=!0}n&&a&&(this.player.safeTimeout(i),null==o||o())};o=()=>{s.forEach((e=>{this.player.loop.removeEventListener(e,l)})),o=null},s.forEach((e=>{this.player.loop.addEventListener(e,l)})),this.addDisposer(o)}}dispose(){var e,i;Ee(this,w,!0,"f"),clearTimeout(be(this,a,"f")),clearInterval(be(this,o,"f")),null===(e=be(this,A,"f"))||void 0===e||e.disconnect(),Ee(this,A,null,"f"),null===(i=be(this,t,"f"))||void 0===i||i.dispose(),Ee(this,t,null,"f"),super.dispose()}debugString(){return null==be(this,l,"f")?"no feed":`<pre>${JSON.stringify(Object.assign({},be(this,l,"f"),{streams:`[...${String(be(this,l,"f").streams.length)}]`}),void 0,5)}</pre>`}pollFeed(){(0,d.z3)(this.conf.feedUrl)||(this.log("polling feed"),fetch(this.conf.feedUrl,{method:"GET",headers:{Accept:"application/json"}}).then((e=>ye(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{var t;if(!be(this,w,"f")){try{this.player.checkStateStrict()}catch(e){return void this.warn("aborting async",e)}null===(t=this.executionContextProvider)||void 0===t||t.withExecutionContext({type:"other",initiator:"multiStreamFeedLoaded"},(()=>{var t,r,o,c,h;Ee(this,s,performance.now(),"f");const p=JSON.stringify(be(this,l,"f")),f=this.player.getTarget().classList.contains("ardplayer-m")?"192":"256";Ee(this,l,(0,d.$N)(we,e),"f");const v=new Set;be(this,l,"f").streams=be(this,l,"f").streams.filter((e=>(0,d.Ed)(e.id)&&!v.has(e.id)&&v.add(e.id))),(0,d.Ed)(null===(r=null===(t=be(this,l,"f"))||void 0===t?void 0:t.cta)||void 0===r?void 0:r.image)&&(be(this,l,"f").cta.image=(0,u.$o)(be(this,l,"f").cta.image,f)),be(this,l,"f").streams.forEach((e=>{e.image=(0,u.$o)(e.image,f)})),p!==JSON.stringify(be(this,l,"f"))?(this.log("feed updated",be(this,l,"f")),this.renderCTA(),this.renderCards()):this.log("skipped rendering unchanged feed"),clearTimeout(be(this,a,"f"));const m=(null!==(h=null===(c=null===(o=be(this,l,"f"))||void 0===o?void 0:o.streams)||void 0===c?void 0:c.length)&&void 0!==h?h:0)>0?be(this,i,"f"):be(this,n,"f");this.log(`next poll in ${m} seconds`),Ee(this,a,this.player.safeTimeout((()=>{this.pollFeed()}),1e3*m),"f")}))}})).catch((e=>{this.log("unexpected error",e),this.log(`will retry in ${be(this,n,"f")} seconds`),clearTimeout(be(this,a,"f")),Ee(this,a,this.player.safeTimeout((()=>{this.pollFeed()}),1e3*be(this,n,"f")),"f")})))}renderToDisplayList(e,t){var i;if(null==be(this,l,"f"))return;e.title=null!==(i=be(this,l,"f").cta.title)&&void 0!==i?i:"",Ee(this,C,[],"f"),e.setRenderExtensions(this);const r=I.hc.createUpdatingVerticalContainer(e);Ee(this,S,r,"f"),this.renderCardsToContainer(r),Ee(this,o,this.player.safeInterval((()=>{this.updateCards()}),500),"f")}renderSheetUpdate(){null!==be(this,S,"f")&&(Ee(this,C,[],"f"),be(this,S,"f").replaceContent((e=>{this.renderCardsToContainer(e)})))}onScreenClosed(e){super.onScreenClosed(e),Ee(this,S,null,"f"),Ee(this,C,[],"f"),clearInterval(be(this,o,"f"))}renderCardsToContainer(e){if(null==be(this,l,"f"))return;const t=be(this,l,"f");let i=!1;be(this,m,"f").length>0&&be(this,m,"f")[0].isLive&&I.hc.renderHeading(e,t.sectionTitleNow,void 0,"heading",5),be(this,m,"f").forEach((r=>{var n,a,s;r.isVisible(null!==(a=null===(n=be(this,l,"f"))||void 0===n?void 0:n.hideFutureSection)&&void 0!==a&&a)&&(r.isLive||i||(i=!0,I.hc.renderHeading(e,t.sectionTitleFuture,void 0,"heading",5)),function(e,t,i,r,n,a,s,o,l,c){const u={type:"x-multiStreamEntry",id:`ardplayer-ms-entry-${(0,d.z3)(t)?(0,d.N4)():t}`,content:r,ariaLabel:o,isSelected:i,image:n,startTime:a,endTime:s,onClick:c?()=>{c.withExecutionContext({type:"synthetic",initiator:t},l)}:l,_container:e,updateRender(){var e;null===(e=I.hc.getContaining(this))||void 0===e||e.updateNode(this)}};e.children.push(u)}(e,r.data.id,r.data.id===this.mc.id,r.data.title,r.data.image,r.data.startTime,null!==(s=r.data.endTime)&&void 0!==s?s:"",(r.data.id===this.mc.id?"Aktuelle Wiedergabe: ":"")+r.ariaLabel,(()=>{var t;null===(t=I.hc.getContaining(e))||void 0===t||t.close(),this.cardClicked(r)}),this.executionContextProvider))}))}renderDisplayNodeToDom(e,t){var i;if(be(this,l,"f")&&fe(t)){const r={title:t.content,id:t.id,image:t.image,endTime:t.endTime,startTime:t.startTime},n=null===(i=be(this,b,"f"))||void 0===i?void 0:i.renderTemplateAsElement(Object.assign(Object.assign({},r),{sectionTitleNow:"",sectionTitleFuture:""}));if(n){n.classList.toggle("ardplayer-ms-card-current",t.isSelected);const i=new Ce(n,r,(0,d.Af)(n,(e=>{e.stopPropagation(),t.onClick()}),this.executionContextProvider));return i.update(Date.now()/1e3|0,be(this,l,"f").hidePastStreams,be(this,l,"f").showFutureStreamsWithinMinutes,this.player),be(this,C,"f").push(i),e.append(n),[n,null]}}return[null,null]}supportsRenderingDisplayNode(e){return fe(e)}renderCTA(){var e,t,i,r,n,a,s,o,u,m,g,b,E,w;const S=null!==be(this,v,"f")&&(null===(e=this.player.viewCtrl)||void 0===e?void 0:e.lastFocusElement)===be(this,v,"f");let C=null;(null!==(i=null===(t=be(this,l,"f"))||void 0===t?void 0:t.streams.length)&&void 0!==i?i:0)>0&&(C=null!==(s=null===(r=be(this,y,"f"))||void 0===r?void 0:r.renderTemplateAsElement(Object.assign({},null!==(a=null===(n=be(this,l,"f"))||void 0===n?void 0:n.cta)&&void 0!==a?a:null)))&&void 0!==s?s:null,null===C||!0!==this.pc.web.isForcedVideoView||c.O.isMobileDevice||c.O.isEmbedded||C.classList.add("ardplayer-hide-s"),(0,d.Af)(C,(()=>{this.showOverlay()}),this.executionContextProvider)),null!=C&&(null!=be(this,v,"f")?be(this,v,"f").replaceWith(C):null===(o=be(this,h,"f"))||void 0===o||o.appendChild(C),(0,k.$)(this.player,C,"multi-stream-cta",{title:null===(u=be(this,l,"f"))||void 0===u?void 0:u.cta.title,subtitle:null===(m=be(this,l,"f"))||void 0===m?void 0:m.cta.subtitle}),(0,k.$)(this.player,be(this,p,"f"),"multi-stream-container",{title:null===(g=be(this,l,"f"))||void 0===g?void 0:g.cta.title,subtitle:null===(b=be(this,l,"f"))||void 0===b?void 0:b.cta.subtitle}),(0,k.$)(this.player,be(this,f,"f"),"multi-stream-feed",{title:null===(E=be(this,l,"f"))||void 0===E?void 0:E.cta.title,subtitle:null===(w=be(this,l,"f"))||void 0===w?void 0:w.cta.subtitle}),Ee(this,v,C,"f"),S&&this.player.safeTimeout((()=>{(0,he.GW)(C,!1)}))),this.log("rendered cta")}updateCTAVisibility(){var e,t,i;let r=0;for(const i of be(this,m,"f"))if(i.isVisible(null!==(t=null===(e=be(this,l,"f"))||void 0===e?void 0:e.hideFutureSection)&&void 0!==t&&t)&&r++,r>=2)break;const n=r>=2;n!==be(this,E,"f")&&(Ee(this,E,n,"f"),this.info("updating cta visibility:",be(this,E,"f"))),null===(i=be(this,v,"f"))||void 0===i||i.classList.toggle("ardplayer-hidden",!be(this,E,"f")),this.useBottomSheet&&this.renderButtons()}renderFeedScrollButtons(){var e,t;if(!c.O.isMobileDevice&&!c.O.isEmbedded&&be(this,f,"f")){const i=document.createElement("button");i.className="ardplayer-icon ardplayer-icon-arrowleft",i.tabIndex=-2,be(this,f,"f").appendChild(i);const r=document.createElement("button");r.className="ardplayer-icon ardplayer-icon-arrowright",r.tabIndex=-2,be(this,f,"f").appendChild(r);const n=(e=!1)=>{var t,i;if(!be(this,f,"f"))return;const r=be(this,f,"f").clientWidth,n=null!==(i=null===(t=be(this,f,"f").querySelector(".ardplayer-ms-card"))||void 0===t?void 0:t.clientWidth)&&void 0!==i?i:0;be(this,f,"f").scrollBy({left:Math.floor(r/n)*(e?-n:n),behavior:"smooth"})};if((0,d.Af)(i,(e=>{e.stopPropagation(),n(!0)}),null),(0,d.Af)(r,(e=>{e.stopPropagation(),n(!1)}),null),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){null===(e=be(this,A,"f"))||void 0===e||e.disconnect(),Ee(this,A,null,"f");const n=null===(t=be(this,f,"f"))||void 0===t?void 0:t.querySelectorAll(".ardplayer-ms-card");if(n&&n.length>1){const e=n.item(0),t=new IntersectionObserver((t=>{t.forEach((t=>{(t.target===e?i:r).style.display=t.isIntersecting?"none":""}))}),{root:be(this,f,"f"),threshold:.9});t.observe(e),t.observe(n.item(n.length-1)),Ee(this,A,t,"f")}}}}renderCards(){var e,t,i,r,n,a;const s=(null===(e=this.player.viewCtrl)||void 0===e?void 0:e.lastFocusElement)?be(this,m,"f").findIndex((e=>{var t;return e.element===(null===(t=this.player.viewCtrl)||void 0===t?void 0:t.lastFocusElement)})):-1,o=s>=0?be(this,m,"f")[s].data.id:null;Ee(this,m,[],"f"),(0,d.Ie)(be(this,f,"f")),null===(t=be(this,f,"f"))||void 0===t||t.classList.toggle("ardplayer-ms-feed-no-future",null!==(r=null===(i=be(this,l,"f"))||void 0===i?void 0:i.hideFutureSection)&&void 0!==r&&r);let c=null;null===(a=null===(n=be(this,l,"f"))||void 0===n?void 0:n.streams)||void 0===a||a.forEach((e=>{var t,i,r,n,a;const s=null===(t=be(this,b,"f"))||void 0===t?void 0:t.renderTemplateAsElement(Object.assign({},e,{sectionTitleNow:null!==(r=null===(i=be(this,l,"f"))||void 0===i?void 0:i.sectionTitleNow)&&void 0!==r?r:"",sectionTitleFuture:null!==(a=null===(n=be(this,l,"f"))||void 0===n?void 0:n.sectionTitleFuture)&&void 0!==a?a:""}));if(s){s.classList.toggle("ardplayer-ms-card-current",e.id===this.mc.id),e.id===o&&(c=s);const t=new Ce(s,e,(0,d.Af)(s,(e=>{e.stopPropagation(),this.cardClicked(t)}),this.executionContextProvider));be(this,m,"f").push(t)}})),s>=0&&null===c&&be(this,m,"f").length>0&&(c=be(this,m,"f")[Math.min(be(this,m,"f").length,s)].element),be(this,m,"f").sort(((e,t)=>e.begin-t.begin)),be(this,m,"f").forEach((e=>{var t;return null===(t=be(this,f,"f"))||void 0===t?void 0:t.appendChild(e.element)})),this.renderFeedScrollButtons(),c&&this.player.safeTimeout((()=>{(0,he.GW)(c,!0)})),this.log("rendered cards"),this.updateCards()}hideOverlay(){var e,t,i,r;this.useBottomSheet&&(null===(t=null===(e=this.bottomSheet)||void 0===e?void 0:e.activeScreen)||void 0===t?void 0:t.addon)===this&&(null===(i=this.bottomSheet)||void 0===i||i.conceal(null)),be(this,L,"f")&&(null===(r=this.player.viewCtrl)||void 0===r||r.stopPresentingExclusiveUI(this),this.player.safeTimeout((()=>{(0,he.GW)(be(this,v,"f"),!1)})))}showOverlay(){var e,t,i,r;!this.useBottomSheet||null!==(t=null===(e=this.player.getTarget())||void 0===e?void 0:e.classList.contains("ardplayer-sm"))&&void 0!==t&&t?be(this,L,"f")||(this.updateCards(),null===(r=this.player.viewCtrl)||void 0===r||r.presentExclusiveUI(this)):(this.updateCards(),null===(i=this.bottomSheet)||void 0===i||i.reveal(this,"default",!0))}presentExclusiveOverlay(){var e,t;Ee(this,L,!0,"f"),Ee(this,o,this.player.safeInterval((()=>{this.updateCards()}),500),"f");const i=!(null===(e=be(this,h,"f"))||void 0===e?void 0:e.classList.contains("ardplayer-ms-overlay-active"));null===(t=be(this,h,"f"))||void 0===t||t.classList.add("ardplayer-ms-overlay-active"),this.player.safeIdleCallback((()=>{var e,t,r;null===(e=be(this,f,"f"))||void 0===e||e.classList.add("ardplayer-ms-feed-reveal"),i&&(be(this,f,"f")&&(be(this,f,"f").scrollLeft=0),this.player.safeTimeout((()=>{var e;(0,he.GW)(null===(e=be(this,m,"f").find((e=>{var t,i;return e.isVisible(null!==(i=null===(t=be(this,l,"f"))||void 0===t?void 0:t.hideFutureSection)&&void 0!==i&&i)})))||void 0===e?void 0:e.element,!1)}),(null===(r=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===r?void 0:r.isKeyboardNavigating)?0:500))}),{timeout:100})}relinquishExclusiveOverlay(){var e,t,i;Ee(this,L,!1,"f"),clearInterval(be(this,o,"f")),null===(e=be(this,f,"f"))||void 0===e||e.classList.remove("ardplayer-ms-feed-reveal"),this.player.safeTimeout((()=>{(0,he.GW)(be(this,v,"f"),!1)}),(null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i?void 0:i.isKeyboardNavigating)?0:500),this.player.safeTimeout((()=>{var e;null===(e=be(this,h,"f"))||void 0===e||e.classList.remove("ardplayer-ms-overlay-active")}),250)}updateCards(){if(be(this,m,"f").length<=0)return this.updateCTAVisibility(),void this.hideOverlay();if(null==be(this,l,"f"))return;const e=be(this,l,"f"),t=Date.now()/1e3|0,i=null===be(this,S,"f")?null:new Set(be(this,m,"f").map((e=>{var t,i;return e.currentStateIdentifier(null!==(i=null===(t=be(this,l,"f"))||void 0===t?void 0:t.hideFutureSection)&&void 0!==i&&i)})));if(null==i||i.delete(Ce.STATE_INVISIBLE),be(this,C,"f").forEach((i=>i.update(t,e.hidePastStreams,e.showFutureStreamsWithinMinutes))),Ee(this,m,be(this,m,"f").filter((i=>!!i.update(t,e.hidePastStreams,e.showFutureStreamsWithinMinutes,this.player)||(this.log("remove outdated card",i),i.remove(),!1))),"f"),this.updateCTAVisibility(),be(this,m,"f").length<=0)this.hideOverlay();else if(null!=i){const e=new Set(be(this,m,"f").map((e=>{var t,i;return e.currentStateIdentifier(null!==(i=null===(t=be(this,l,"f"))||void 0===t?void 0:t.hideFutureSection)&&void 0!==i&&i)})));e.delete(Ce.STATE_INVISIBLE),i.size===e.size&&[...e].every((e=>i.has(e)))||this.renderSheetUpdate()}}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,E=new WeakMap,w=new WeakMap,S=new WeakMap,C=new WeakMap,A=new WeakMap,L=new WeakMap,ge(x,"AddonMultiStream"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=D[Symbol.metadata])&&void 0!==e?e:null):void 0;ve(null,P={value:x},_,{kind:"class",name:x.name,metadata:t},null,M),x=P.value,t&&Object.defineProperty(x,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t}),me(x,M)})(),x})();class Ce{constructor(e,t,i){this.timerState=null,this.data=t,this.element=e,this.cleanupHandlers=i,this.progressElem=e.querySelector(".ardplayer-ms-card-progress span"),this.progressTimerElem=e.querySelector("span.ardplayer-ms-chip:last-of-type"),this.begin=new Date(t.startTime).getTime()/1e3|0,this.end=(0,d.z3)(t.endTime)?null:new Date(t.endTime).getTime()/1e3|0}currentStateIdentifier(e){return this.isVisible(e)?this.isLive?this.data.id:"*"+this.data.id:Ce.STATE_INVISIBLE}get isLive(){return this.element.classList.contains("ardplayer-ms-card-live")}get ariaLabel(){return this.data.title+" - Live "+(this.isLive?"seit ":"ab ")+(0,pe.d$)(this.data.startTime,!0,!0)}isVisible(e){return!(this.element.classList.contains("ardplayer-ms-card-far-future")||e&&this.element.classList.contains("ardplayer-ms-card-future"))}update(e,t,i,r){if(t&&null!==this.end&&e>=this.end)return this.element.remove(),!1;if(this.element.classList.toggle("ardplayer-ms-card-live",this.begin<=e),this.element.classList.toggle("ardplayer-ms-card-future",this.begin>e),this.element.classList.toggle("ardplayer-ms-card-far-future",this.begin>=e+60*i*1e3),null!==this.progressElem&&null!==this.end&&this.begin<=e&&(this.progressElem.style.width=`${Math.max(0,Math.min(100,Math.round(100*(e-this.begin)/(this.end-this.begin))))}%`),null!==this.progressTimerElem){const t=e-this.begin;t>=0?"pastdate"!==this.timerState&&(this.progressTimerElem.innerText=`Seit ${(0,pe.fU)(new Date(1e3*this.begin))}`,this.timerState="pastdate"):Math.abs(t)>=3600?"futuredate"!==this.timerState&&(this.progressTimerElem.innerText=`Um ${(0,pe.fU)(new Date(1e3*this.begin))}`,this.timerState="futuredate"):(this.timerState="timer",this.progressTimerElem.innerText=`In ${(0,re.ox)(-t)}`)}return r&&(0,k.$)(r,this.element,"multi-stream-entry",{title:this.ariaLabel,future:this.begin>e,selected:r.model.mediaCollection.id===this.data.id}),!0}remove(){var e;this.element.remove(),null===(e=this.cleanupHandlers)||void 0===e||e.call(this)}}Ce.STATE_INVISIBLE="hidden";const Ae={type:"addon",Clazz:Se,package:"@ardplayer/addon-multi-stream",version:"7.7.0",rev:"[G]201271bb7"};var Te,Ie,ke=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Le=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class Pe extends l.bc{constructor(){super(...arguments),Te.set(this,null),Ie.set(this,null)}get configKey(){return`tracking${this.trackingKey}`}get conf(){if(null===ke(this,Te,"f")){const e=null!==this.immutableConf&&void 0!==this.immutableConf?JSON.parse(JSON.stringify(this.immutableConf)):{};return Le(this,Te,e,"f"),e}return ke(this,Te,"f")}get legacyPixelConfig(){return null===ke(this,Ie,"f")&&Le(this,Ie,this.pc.getPluginData("legacypixelconfig"),"f"),ke(this,Ie,"f")}isSupported(){return super.isSupported()&&!1!==this.immutableConf.isEnabled}}Te=new WeakMap,Ie=new WeakMap;var xe,_e,Oe,Me=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},De=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Re=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class Ne{get isLiveWithoutDateTime(){var e;return!0===(null===(e=De(this,_e,"f"))||void 0===e?void 0:e.isLive)&&isNaN(De(this,_e,"f").firstProgramDateTime)}constructor(e,t){this.ctx=t,this.masterUrl="",xe.set(this,null),_e.set(this,null),Oe.set(this,new AbortController),this.masterUrl=e,this.loadManifest(e,!0,(e=>{Re(this,xe,e,"f"),this.loadManifest(this.getSegmentsUrl(),!1,(e=>{this.ctx.info("done loading segment manifest, info parsed",e),Re(this,_e,e,"f")}))}))}dispose(){De(this,Oe,"f").abort()}loadManifest(e,t,i){this.ctx.info("loading hls manifest",e),fetch(e,{signal:De(this,Oe,"f").signal}).then((e=>Me(this,void 0,void 0,(function*(){return yield e.text()})))).then((e=>{if(De(this,Oe,"f").signal.aborted)return void this.ctx.warn("loadManifest: aborting async");const t=new Ue(e);i&&i(t.parse())})).catch((e=>{var r,n,a,s,o;De(this,Oe,"f").signal.aborted?this.ctx.warn("loadManifest: aborting async"):t||(null!==(a=null===(n=null===(r=De(this,xe,"f"))||void 0===r?void 0:r.streams)||void 0===n?void 0:n.length)&&void 0!==a?a:0)>1&&(null===(o=null===(s=De(this,xe,"f"))||void 0===s?void 0:s.streams)||void 0===o||o.shift(),this.loadManifest(this.getSegmentsUrl(),!1,i))}))}getSegmentsUrl(){var e,t;const i=null!==(t=null===(e=De(this,xe,"f"))||void 0===e?void 0:e.streams[0].url)&&void 0!==t?t:"";if((0,d.z3)(this.masterUrl)||i.startsWith("http"))return i;if(!i.includes("/")){const e=this.masterUrl.split("/");return e.pop(),e.join("/")+"/"+i}const r=new URL(this.masterUrl);return`${r.protocol}//${r.host}${i}`}}xe=new WeakMap,_e=new WeakMap,Oe=new WeakMap;class Ue{constructor(e){this.text=e}parse(){const e=this.text.split("\n"),t={isLive:!0,firstProgramDateTime:NaN,streams:[]};let i=!1,r={},n=-1;return e.forEach((e=>{i&&(r.url=e,t.streams.push(r),r={},i=!1),isNaN(t.firstProgramDateTime)&&e.startsWith("#EXT-X-PROGRAM-DATE-TIME:")&&(n=new Date(e.substring(25)).getTime(),t.firstProgramDateTime=n),e.startsWith("#EXT-X-STREAM-INF")&&(i=!0),e.startsWith("#EXT-X-ENDLIST")&&(t.isLive=!1)})),t}}var Ve=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},je=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Be=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Fe=(()=>{let e,t,i=[ne.JW],n=[],a=Pe;t=class extends a{constructor(){super(...arguments),this.ID="AddonAGF",this.trackingKey="Agf",this.debugActive=!0,this.agfConf=null,this.nSdk=null,this.lastPos=0,this.playing=!1,this.sendMetadata=!0,this.ended=!1,this.playerId="nlsnInstance",this.prevApiCall={},this.lastApiCall={},this.permDelta=0,this.initialLoad=!0,this.initialStreamLoad=!1,this.sendInitialZeroPlayhead=!0,this.isReconfiguring=!1,this.bufferState=!1,this.initialBufferThrown=!1,this.preventBufferAfterPlay=!1,this.ignorePlayAfterQualityChange=!1,this.hlsLiveStatusInfo=null}register(){return!!super.register()&&(this.sendInitialZeroPlayhead=0===this.pc.generic.vodInitialPlayheadSeconds,this.registerPlayerEvent(r.a.EVENT_LOAD_STREAM,this.eventLoadStream),this.registerPlayerEvent(r.a.EVENT_PLAY_STREAM,this.eventPlayStream),this.registerPlayerEvent(r.a.EVENT_PAUSE_STREAM,this.eventPauseStream),this.registerPlayerEvent(r.a.EVENT_END_STREAM,this.eventEndStream),this.registerPlayerEvent(r.a.EVENT_SEEK_END,this.eventSeekEnd),this.registerPlayerEvent(r.a.EVENT_QUALITY_CHANGE,(e=>{e.fromQuality!==e.toQuality?this.ignorePlayAfterQualityChange=this.playing:this.log("ignored non-change quality update")})),this.registerPlayerEvent(r.a.EVENT_UPDATE_STREAM_TIME,this.eventUpdateStreamTime),this.registerPlayerEvent(r.a.EVENT_BUFFERING,this.eventBuffering),this.registerPlayerEvent(r.a.EVENT_ERROR,this.eventError),this.registerPlayerEvent(r.a.RECONFIGURE,(()=>{this.ended||(this.ended=!0,this.api("end",this.lastPos,"reconfigure")),this.isReconfiguring=!0})),this.onUnload=this.onUnload.bind(this),window.addEventListener("pagehide",this.onUnload),function(e,t){function i(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}e[t]=e[t]||{nlsQ:function(r,n,a){var s=e.document,o=s.createElement("script");o.async=1,o.src=("http:"===e.location.protocol?"http:":"https:")+"//cdn-gl.nmrodam.com/conf/"+r+".js#name="+n+"&ns="+t;var l=s.getElementsByTagName("script")[0];return l.parentNode.insertBefore(o,l),e[t][n]=e[t][n]||{g:a||{},ggPM:function(r,a,s,o,l){e[t][n].q=e[t][n].q||[];try{var d=i([r,a,s,o,l]);e[t][n].q.push(d)}catch(e){console&&console.log&&console.log("Error: Cannot register event in Nielsen SDK queue.")}},trackEvent:function(r){e[t][n].te=e[t][n].te||[];try{var a=i(r);e[t][n].te.push(a)}catch(e){console&&console.log&&console.log("Error: Cannot register event in Nielsen SDK queue.")}}},e[t][n]}}}(window,"NOLBUNDLE"),this.log("Addon registered: AddonAGFPixel"),this.debugActive=!1,!0)}dispose(){var e;super.dispose(),null===(e=this.hlsLiveStatusInfo)||void 0===e||e.dispose(),this.hlsLiveStatusInfo=null,this.onUnload(),window.removeEventListener("pagehide",this.onUnload)}onUnload(){this.agfConf&&(this.ended||this.api("end",this.lastPos,"unload"),this.agfConf=null)}log(...e){this.debugActive&&super.log(...e)}api(e,t,i=" "){var r,n,a,s,o;this.isReconfiguring&&this.log("skipped ggPM - reconfiguring"),(null===(r=this.lastApiCall)||void 0===r?void 0:r.name)!==e||(null===(n=this.lastApiCall)||void 0===n?void 0:n.args)!==t?"stop"!==e||(null===(a=this.prevApiCall)||void 0===a?void 0:a.name)!==e||(null===(s=this.prevApiCall)||void 0===s?void 0:s.args)!==t?(this.prevApiCall=this.lastApiCall,this.lastApiCall={name:e,args:t},null===(o=this.nSdk)||void 0===o||o.ggPM(e,t),this.log(": ggPM",e,i,t)):this.log("skipped ggPM rep",e,i,t):this.log("skipped ggPM",e,i,t)}eventLoadStream(){var e,t,i,r,n,a,s,o,l,d;null===(e=this.hlsLiveStatusInfo)||void 0===e||e.dispose(),this.hlsLiveStatusInfo=null,this.agfConf&&this.initialStreamLoad?this.log("already configured & QualityChange"):(this.agfConf=this.conf,this.agfConf?(void 0!==this.agfConf.debug&&(this.debugActive=this.agfConf.debug),null!==(t=(l=this.agfConf).clipData)&&void 0!==t||(l.clipData={}),this.agfConf.clipData.length=String(null===(i=this.agfConf.clipData)||void 0===i?void 0:i.length),null!==(r=(d=this.agfConf).permLive)&&void 0!==r||(d.permLive="p18,Y"===this.agfConf.clipData.nol_c18&&this.mc.isLive),window.gfkLinkID&&!this.agfConf.clipData.nol_c20&&(this.agfConf.clipData.nol_c20="p20,"+window.gfkLinkID),this.playerId=null!==(n=this.agfConf.playerId)&&void 0!==n?n:"nlsnInstance",this.nSdk=null!==(o=null===(a=window.NOLBUNDLE)||void 0===a?void 0:a.nlsQ(null!==(s=this.agfConf.appId)&&void 0!==s?s:"",this.playerId))&&void 0!==o?o:null,this.initialStreamLoad=!0,this.sendMetadata=!0,this.initialLoad=!0):this.log("no AGF config found?"))}eventError(){this.api("stop",this.lastPos,"error")}eventBuffering(e){if(this.agfConf){if(!this.playing||!this.initialBufferThrown)return this.bufferState=e.isBuffering,this.initialBufferThrown=!0,void this.log("skip initial buffer");this.log(`buffering: ${String(e.isBuffering)} | bufferState: ${String(this.bufferState)}, preventAfterPlay?: ${String(this.preventBufferAfterPlay)}`),e.isBuffering?(this.bufferState||this.preventBufferAfterPlay||(this.api("stop",this.lastPos,"startBuffering"),this.sendMetadata=!0),this.bufferState=!0):(this.bufferState&&this.sendMetadata&&(this.api("loadMetadata",this.agfConf.clipData),this.sendMetadata=!1),this.bufferState=!1)}}eventUpdateStreamTime(e){this.player.safeTimeout((()=>{var t,i,r;if(this.agfConf&&!this.bufferState&&this.playing){this.preventBufferAfterPlay=!1;let n=0;if(this.agfConf.permLive){const e=this.player.getCtrl();if(e){const a=e.getCurrentTime();if(a<0)return;if(e.canCalculateDvrUnixTime())n=e.dvrRelToUnix(a,!0);else{if(null==this.hlsLiveStatusInfo&&(null===(i=null===(t=this.player.currentMedium)||void 0===t?void 0:t.url)||void 0===i?void 0:i.endsWith("m3u8"))&&(this.hlsLiveStatusInfo=new Ne(this.player.currentMedium.url,this)),!0!==(null===(r=this.hlsLiveStatusInfo)||void 0===r?void 0:r.isLiveWithoutDateTime))return;e.getDuration()>=60&&(n=Math.round(Date.now()/1e3)-Math.round(e.getDuration()-a))}}else this.error("no player or control available");isFinite(n)&&0!==n||(n=Math.round(Date.now()/1e3))}else if(n=Math.round(e.currentTime),n<0)return;0!==this.permDelta&&(n+=Math.round(this.permDelta)),Math.abs(n-this.lastPos)>=1&&(n-this.lastPos==2&&("setPlayheadPosition"===this.lastApiCall.name||"loadMetadata"===this.lastApiCall.name&&"stop"===this.prevApiCall.name)&&(this.log("Playhead missed a second - adding to permDelta"),this.permDelta-=1,n-=1),this.api("setPlayheadPosition",n),this.lastPos=n)}}),0)}eventPlayStream(){var e,t;if(this.agfConf){if(this.ignorePlayAfterQualityChange){if(this.playing)return void this.log("treating quality change as transparent, skipping play handler");this.log("ignoring quality change play skip as we are not marked as playing right now")}this.ignorePlayAfterQualityChange=!1,this.sendMetadata&&(this.api("loadMetadata",this.agfConf.clipData),this.sendMetadata=!1,this.ended&&(this.ended=!1,this.permDelta=0,this.api("setPlayheadPosition",0,"playStreamAfterEnded"))),this.initialLoad&&("p18,Y"===(null===(e=this.agfConf.clipData)||void 0===e?void 0:e.nol_c18)&&(0,d.Ae)(null===(t=this.agfConf.clipData)||void 0===t?void 0:t.length,0)>=86400?this.eventUpdateStreamTime({currentTime:-1}):!this.agfConf.permLive&&this.sendInitialZeroPlayhead&&this.api("setPlayheadPosition",0,"initialLoad!permlive"),this.initialLoad=!1),this.playing=!0,this.preventBufferAfterPlay=!0}}eventPauseStream(e){this.agfConf&&(this.playing=!1,!0!==(null==e?void 0:e.ended)&&this.api("stop",this.lastPos,"pauseStream"),this.sendMetadata=!0)}eventEndStream(){this.agfConf&&(this.playing=!1,this.api("end",this.lastPos,"eventEnd"),this.sendMetadata=!0,this.ended=!0)}eventSeekEnd(){this.permDelta=0}};return Be(t,"AddonAGF"),(()=>{var r;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(r=a[Symbol.metadata])&&void 0!==r?r:null):void 0;Ve(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,n),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),je(t,n)})(),t})();const He={type:"addon",Clazz:Fe,package:"@ardplayer/addon-tracking-agf",version:"7.7.0",rev:"[G]201271bb7"};var We=s(10032),ze=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Ge=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},$e=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let Ye=(()=>{let e,t,i=[ne.JW],n=[],a=l.LV;t=class extends a{constructor(){var e;super(...arguments),this.ID="AddonAirplay",this.configKey="airplay",this.isAudioView=this.player.isAudio&&!(null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e),this.buttonClassList=new Set(["ardplayer-btn-airplay","ardplayer-icon","ardplayer-icon-airplay"]),this.enabled=!1,this.active=!1}get buttonOrder(){return l.LV.BUTTON_ORDER_RIGHTMOST}listAddonButtons(){return this.isAudioView?[{classList:Array.from(this.buttonClassList),accessibilityKey:"airplay"}]:[]}listSecondaryAddonButtons(){return this.isAudioView?[]:[{classList:Array.from(this.buttonClassList),accessibilityKey:"airplay"}]}register(){return!!super.register()&&(this.registerPlayerEvent(r.a.SETUP_VIEW,this.eventSetupView),this.log("Addon registered: AddonAirplay"),this.enabled=!1,this.active=!1,!0)}eventSetupView(e){this.isSupported()&&this.setupView(e)}setupView(e){this.addonButtonClicked=this.addonButtonClicked.bind(this),this.addAirPlayListeners=this.addAirPlayListeners.bind(this),this.updateAvailable=this.updateAvailable.bind(this),this.updateWireless=this.updateWireless.bind(this),this.updateButton(),this.addAirPlayListeners()}addAirPlayListeners(){if(this.player.isAudio){const e=We.J.createAudio(this.player);e.addEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}else{const e=We.J.createVideo(this.player);e.addEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}}dispose(){if(super.dispose(),this.player.isAudio){const e=We.J.createAudio(this.player);e.removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}else{const e=We.J.createVideo(this.player);e.removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}}updateAvailable(e){switch(e.availability){case"available":We.J.createVideo(this.player).removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),this.enabled=!0;break;case"not-available":this.enabled=!1}this.updateButton()}updateWireless(e){var t,i;this.active=null!==(i=null===(t=e.target)||void 0===t?void 0:t.webkitCurrentPlaybackTargetIsWireless)&&void 0!==i&&i;const n=this.player.getCtrl();if(n){n.remotePlaybackDevice=this.active?{kind:"airplay",deviceName:null,displayName:null}:null;const e=this.player.model.time,t=i=>{var n;i.currentTime!==e&&(this.player.loop.removeEventListener(r.a.EVENT_UPDATE_STREAM_TIME,t),null===(n=this.executionContextProvider)||void 0===n||n.withOptionalExecutionContext(this.executionContextProvider.getPreservedExecutionContext(r.a.EVENT_PLAY_STREAM),(()=>{this.player.loop.dispatchEvent(r.a.EVENT_INITIAL_FRAME,{})})))};this.player.loop.addEventListener(r.a.EVENT_UPDATE_STREAM_TIME,t)}this.active&&this.player.safeTimeout((()=>{this.player.playInternal()}),1e3),this.updateButton()}updateButton(){var e,t;this.player.viewCtrl.toggleForceControlsVisible(this.ID,this.active),this.active?(this.buttonClassList.add("active"),null===(e=this.player.viewCtrl)||void 0===e||e.playerView.classList.add("ardplayer-state-airplay","ardplayer-state-casting-volumecontrol")):(this.buttonClassList.delete("active"),null===(t=this.player.viewCtrl)||void 0===t||t.playerView.classList.remove("ardplayer-state-airplay","ardplayer-state-casting-volumecontrol")),this.enabled?this.buttonClassList.delete("ardplayer-button-disabled"):this.buttonClassList.add("ardplayer-button-disabled"),this.buttons.length>0?this.buttons[0].button.className=Array.from(this.buttonClassList).join(" "):this.secondaryButtons.length>0?this.secondaryButtons[0].button.className=Array.from(this.buttonClassList).join(" "):(this.renderButtons(),this.renderSecondaryButtons())}isSupported(){var e;return!(null!==(e=this.conf.isDisabled)&&void 0!==e&&e)&&!c.O.isEmbedded&&window.WebKitPlaybackTargetAvailabilityEvent}secondaryAddonButtonClicked(){this.addonButtonClicked()}addonButtonClicked(){var e,t,i,n;if(0===this.player.model.playstate){this.player.playInternal();const e=()=>{this.player.loop.removeEventListener(r.a.EVENT_PLAY_STREAM,e),this.player.safeTimeout((()=>{this.player.pauseInternal()})),this.addonButtonClicked()};return this.player.loop.addEventListener(r.a.EVENT_PLAY_STREAM,e),!1}return this.isAudioView?null===(n=(i=We.J.createAudio(this.player)).webkitShowPlaybackTargetPicker)||void 0===n||n.call(i):null===(t=(e=We.J.createVideo(this.player)).webkitShowPlaybackTargetPicker)||void 0===t||t.call(e),!1}};return $e(t,"AddonAirplay"),(()=>{var r;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(r=a[Symbol.metadata])&&void 0!==r?r:null):void 0;ze(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,n),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),Ge(t,n)})(),t})();const Ke={type:"addon",Clazz:Ye,package:"@ardplayer/addon-airplay",version:"7.7.0",rev:"[G]201271bb7"};var qe=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Je={exports:{name:"chromecast",library:()=>qe(void 0,void 0,void 0,(function*(){return(yield s.e(421).then(s.bind(s,22706))).default})),canPlay:()=>!0,priority:1,canSubSelectQualities:()=>!1}};var Qe=s(15867),Ze=s.n(Qe),Xe=s(75768),et=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},tt=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},it=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let rt=(()=>{let e,t,i=[ne.JW],n=[],a=l.LV;var s=t=class extends a{get buttonOrder(){return l.LV.BUTTON_ORDER_RIGHTMOST}listAddonButtons(){return this.isAudioView?[{classList:Array.from(this.launcherClassList),accessibilityKey:"chromecast",accessibilityVariables:{pressed:!1}}]:[]}listSecondaryAddonButtons(){return this.isAudioView?[]:[{classList:Array.from(this.launcherClassList),accessibilityKey:"chromecast",accessibilityVariables:{pressed:!1}}]}constructor(e,t){var i;super(e,t),this.launcherClassList=new Set(["cast-wrapper","ardplayer-btn-chromecast","ardplayer-icon","ardplayer-icon-chromecast"]),this.isAudioView=this.player.isAudio&&!(null!==(i=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i),this.remoteCtx=null,this.remotePlayer=null,this.remotePlayerController=null,this.connectTimeout=-1,this.isCasting=!1,this.apiInjected=!1,this.notifyMutex=!1,this.ID="AddonChromecast",this.configKey="chromecast",this.emap=new(Ze())}get isPlayingInstance(){return Xe.x.get(Xe.x.SUFFIX_GLOBAL,Xe.x.CURRENT_PLAYERID,!0)===this.player.getId()}parcelDataForErrorState(){return this.parcelData()}parcelData(){return window.ARDP_CAST_REMOTE_PLAYER=this.remotePlayer,window.ARDP_CAST_REMOTE_PLAYER_CONTROLLER=this.remotePlayerController,window.setTimeout((()=>{delete window.ARDP_CAST_REMOTE_PLAYER,delete window.ARDP_CAST_REMOTE_PLAYER_CONTROLLER}),500),this.isCasting?{isConnected:!0}:null}restoreParceledData(e){var t,i;(null==e?void 0:e.isConnected)&&(this.remotePlayer=null!==(t=window.ARDP_CAST_REMOTE_PLAYER)&&void 0!==t?t:new cast.framework.RemotePlayer,this.remotePlayerController=null!==(i=window.ARDP_CAST_REMOTE_PLAYER_CONTROLLER)&&void 0!==i?i:new cast.framework.RemotePlayerController(this.remotePlayer),this.registerPlayerEvent("Player.SETUP_VIEW_COMPLETE",(()=>{var e,t;const i=null===(t=null===(e=cast.framework.CastContext.getInstance())||void 0===e?void 0:e.getCurrentSession())||void 0===t?void 0:t.getCastDevice();this.info("try to re-init casting with",i),i&&(this.isCasting=!0,this.castingStarted())}))),delete window.ARDP_CAST_REMOTE_PLAYER,delete window.ARDP_CAST_REMOTE_PLAYER_CONTROLLER}register(){if(!super.register())return!1;if(this.log("register chromecast"),this.registerPlayerEvent(r.a.SETUP_VIEW,this.eventSetupView),window.__onGCastApiAvailable=this.onCastAvailable.bind(this),s.apiInjected||!window.chrome||window.chrome.cast)this.log("api injected?",s.apiInjected);else{this.log("injecting api"),s.apiInjected=!0,this.apiInjected=!0;const e=document.createElement("script");e.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",e.async=!0,document.body.appendChild(e)}return Xe.x.for(this.player).storageListeners.add(this),!0}dispose(){window.__onGCastApiAvailable=null,Xe.x.for(this.player).storageListeners.delete(this),super.dispose(),this.emap.all()}eventSetupView(e){this.apiInjected||!0!==window.__onGCastApiAvailableFlag||this.onCastAvailable(!0)}onStorageValueChanged(e,t){e!==s.NOTIFY_KEY||this.notifyMutex||(this.notifyMutex=!0,this.onCastAvailable(!0===t))}onCastAvailable(e){var t,i;if(this.log(`onCastAvailable: ${String(e)}`,`(injected:${String(s.apiInjected)},${String(this.apiInjected)})`),window.__onGCastApiAvailableFlag!==e&&(this.notifyMutex=!0,Xe.x.add(Xe.x.SUFFIX_GLOBAL,s.NOTIFY_KEY,e,!0,!0)),window.__onGCastApiAvailableFlag=e,!e)return void this.log("chromecast not available (non-https or localhost used?)");const n={receiverApplicationId:(0,d.z3)(this.conf.receiverApplicationId)?chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID:this.conf.receiverApplicationId,autoJoinPolicy:chrome.cast.AutoJoinPolicy.PAGE_SCOPED};this.remoteCtx=cast.framework.CastContext.getInstance(),this.remoteCtx.setOptions(n),this.handleCastState(this.remoteCtx.getCastState()),this.emap.map(this.remoteCtx,cast.framework.CastContextEventType.CAST_STATE_CHANGED,(e=>{this.log("CAST_STATE_CHANGED",e),this.onCastStateChanged(e)})),this.remotePlayer=null!==(t=this.remotePlayer)&&void 0!==t?t:new cast.framework.RemotePlayer,this.remotePlayerController=null!==(i=this.remotePlayerController)&&void 0!==i?i:new cast.framework.RemotePlayerController(this.remotePlayer),this.emap.map(this.remotePlayerController,cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,(e=>{this.connectTimeout>=0&&("BUFFERING"===e.value||"PLAYING"===e.value)&&(this.log("statechange",e.value),clearTimeout(this.connectTimeout),this.connectTimeout=-1)})),this.emap.map(this.remotePlayerController,cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,(()=>{var e;if(null===cast||void 0===cast?void 0:cast.framework){const t=null===(e=this.remotePlayer)||void 0===e?void 0:e.isConnected;this.log(`isConnected: ${String(t)}, playingInstance: ${String(this.isPlayingInstance)}`),t&&this.isPlayingInstance||(this.isCasting=!1,this.player.removeForcedPlugin(),this.player.loop.dispatchEvent(r.a.REMOTE_PLAYBACK_CHANGED,{isRemote:!1}),this.showToast(null,this.player.StringConfig.Strings.notifications.remotePlaybackDisconnected))}}))}castingStarted(){var e,t,i,n,a;null===(e=this.player.getCtrl())||void 0===e||e.stopOtherPlayingPlayers();const s=null===(i=null===(t=cast.framework.CastContext.getInstance())||void 0===t?void 0:t.getCurrentSession())||void 0===i?void 0:i.getCastDevice();this.player.forcePlugin(Je.exports),this.player.loop.dispatchEvent(r.a.REMOTE_PLAYBACK_CHANGED,{isRemote:!0,device:{kind:"chromecast",displayName:null!==(n=null==s?void 0:s.friendlyName)&&void 0!==n?n:null,deviceName:null}}),this.isCasting||this.showToast("chromecast",(0,re.e_)(this.player.StringConfig.Strings.notifications.remotePlaybackConnecting,{deviceName:null!==(a=null==s?void 0:s.friendlyName)&&void 0!==a?a:"Chromecast"})),this.isCasting=!0,this.connectTimeout=this.player.safeTimeout((()=>{var e,t,i;this.isCasting=!1;const r=null!==(t=null===(e=this.remoteCtx)||void 0===e?void 0:e.getCastState())&&void 0!==t?t:"NULL";this.log("cast playback failed to initialise, try to end session",r),r!==cast.framework.CastState.CONNECTED&&r!==cast.framework.CastState.CONNECTING||null===(i=this.remoteCtx)||void 0===i||i.endCurrentSession(!0)}),3e4),this.launcherClassList.delete("cast-wrapper-hide"),this.launcherClassList.delete("ardplayer-icon-chromecast"),this.launcherClassList.add("ardplayer-button-active"),this.launcherClassList.add("ardplayer-icon-chromecast-connected"),this.updateButton()}onCastStateChanged(e){const t=e.castState;this.handleCastState(t)}handleCastState(e){this.log("CAST_STATE_CHANGED",e),e===cast.framework.CastState.NO_DEVICES_AVAILABLE?this.launcherClassList.add("cast-wrapper-hide"):e===cast.framework.CastState.NOT_CONNECTED&&(this.launcherClassList.delete("cast-wrapper-hide"),this.launcherClassList.delete("ardplayer-button-active"),this.launcherClassList.delete("ardplayer-icon-chromecast-connected"),this.launcherClassList.add("ardplayer-icon-chromecast")),this.updateButton()}updateButton(){this.buttons.length>0?this.buttons[0].button.className=Array.from(this.launcherClassList).join(" "):this.secondaryButtons.length>0?this.secondaryButtons[0].button.className=Array.from(this.launcherClassList).join(" "):(this.renderButtons(),this.renderSecondaryButtons())}secondaryAddonButtonClicked(){this.addonButtonClicked()}addonButtonClicked(){var e;if(this.log("castButtonClicked",this.player),this.remoteCtx){const t=this.remoteCtx,i=t.getCastState();this.log("castButtonClicked: "+i),i===cast.framework.CastState.NO_DEVICES_AVAILABLE||(i===cast.framework.CastState.NOT_CONNECTED?(this.isPlayingInstance||null===(e=this.player.getCtrl())||void 0===e||e.stopOtherPlayingPlayers(),t.requestSession().then((()=>{try{this.player.checkState()}catch(e){return void this.warn("aborting async",e)}this.castingStarted()})).catch((e=>{this.log("cast error",e)}))):i===cast.framework.CastState.CONNECTED?this.isPlayingInstance?t.endCurrentSession(!0):(this.warn("replacing session"),this.log("now current player?",this.isPlayingInstance),t.requestSession().then((()=>{try{this.player.checkState()}catch(e){return void this.warn("aborting async",e)}this.castingStarted()})).catch((e=>{this.log("cast error",e)}))):cast.framework.CastState.CONNECTING)}}isSupported(){return!c.O.browserIsSafari&&!c.O.isEmbedded&&!!window.chrome&&("https:"===document.location.protocol||/^localhost(:\d+)?$/.test(document.location.host))}};return it(t,"AddonChromecast"),(()=>{var r;const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(r=a[Symbol.metadata])&&void 0!==r?r:null):void 0;et(null,e={value:t},i,{kind:"class",name:t.name,metadata:o},null,n),s=t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),t.apiInjected=!1,t.NOTIFY_KEY="ardplayer_chromecast_notify",tt(t,n),s=t})();const nt={type:"addon",Clazz:rt,package:"@ardplayer/addon-chromecast",version:"7.7.0",rev:"[G]201271bb7"};var at=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},st=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},ot=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let lt=(()=>{let e,t,i=[ne.JW],r=[],n=T.t;t=class extends n{constructor(){super(...arguments),this.ID="AddonInfo",this.configKey="info",this.infoProvider=null,this.isButtonRendered=!1}get buttonOrder(){return 2}listAddonButtons(){return this.isButtonRendered=this.isButtonVisible,this.isButtonVisible?[{accessibilityKey:"info",screen:"infoMain",classList:["ardplayer-button-info","ardplayer-icon","ardplayer-icon-info"]}]:[]}setInfoProvider(e){this.infoProvider=e}updateInfo(){var e,t,i,r,n;(null===(t=null===(e=this.bottomSheet)||void 0===e?void 0:e.activeScreen)||void 0===t?void 0:t.addon)===this&&(this.hasStaticInfo||this.hasDynamicInfo?null===(i=this.bottomSheet)||void 0===i||i.nextScreen(this,null===(r=this.bottomSheet)||void 0===r?void 0:r.activeScreen.screenId,null):null===(n=this.bottomSheet)||void 0===n||n.prevScreen(null)),this.isButtonRendered!==this.isButtonVisible&&this.renderButtons()}renderToDisplayList(e,t){var i,r;if(e.title="Info",null===(i=this.infoProvider)||void 0===i?void 0:i.renderCurrentInfoToDisplayList(e))return;const n=this.mc.meta;if((0,d.Ed)(n.availableToDateTime)){const t=864e5,i=14*t,r=new Date(n.availableToDateTime).getTime()-Date.now();r<=i&&r>0&&I.hc.renderChip(e,`Noch ${Math.ceil(r/t)} Tag${r>t?"e":""}`,"",!0)}(0,d.Ed)(n.title)?I.hc.renderHeading(e,n.title,"Titel"):(0,d.Ed)(n.seriesTitle)&&I.hc.renderHeading(e,n.seriesTitle,"Sendereihe"),(0,d.Ed)(n.broadcastedOnDateTime)&&I.hc.renderByline(e,(0,pe.d$)(n.broadcastedOnDateTime,!1),"Verffentlichungsdatum"),(0,d.Ed)(n.title)&&(0,d.Ed)(n.seriesTitle)&&I.hc.renderByline(e,n.seriesTitle,"Sendereihe"),n.publicationService&&(0,d.Ed)(null===(r=n.publicationService)||void 0===r?void 0:r.name)&&I.hc.renderByline(e,n.publicationService.name,"Sender"),n.maturityContentRating&&I.hc.renderChip(e,"fsk"===n.maturityContentRating.kind?`FSK ${n.maturityContentRating.age}`:`${n.maturityContentRating.age}+`,this.player.StringConfig.Strings.metaInfo.ageRestrictionLabel),this.mc.isLive&&I.hc.renderChip(e,"LIVE","Livebertragung"),(this.mc.subtitles.length>0||this.mc.streams.some((e=>"subtitle-burn-in"===e.kind)))&&I.hc.renderChip(e,"UT","Untertitel vorhanden"),this.mc.streams.some((e=>"sign-language"===e.kind))&&I.hc.renderChip(e,"DGS","Gebrdensprache vorhanden"),this.mc.streams.some((e=>e.media.some((e=>e.audios.some((e=>"audio-description"===e.kind))))))&&I.hc.renderChip(e,"AD","Audiodeskription vorhanden"),(0,d.Ed)(n.synopsis)&&I.hc.renderBodyText(e,n.synopsis,"Zusammenfassung"),(0,d.Ed)(n.clipSourceName)&&I.hc.renderByline(e,`Quelle: ${n.clipSourceName}`);const a=(0,u.t_)([this.player.viewCtrl.POSTER_IMAGE_TYPE_DEFAULT,"preview"],this.player.model).imageSourceName;(0,d.Ed)(a)&&I.hc.renderByline(e,`Bildquelle: ${a}`),(0,d.Ed)(n.availableToDateTime)&&I.hc.renderByline(e,`Verfgbar bis: ${(0,pe.d$)(n.availableToDateTime)}`)}get hasStaticInfo(){const e=this.mc.meta;return(0,d.Ed)(e.synopsis)||(0,d.Ed)(e.title)||(0,d.Ed)(e.seriesTitle)}get hasDynamicInfo(){var e;return!0===(null===(e=this.infoProvider)||void 0===e?void 0:e.hasCurrentInfo())}get isButtonVisible(){return this.hasStaticInfo||this.hasDynamicInfo}isSupported(){return!!super.isSupported()&&(!(c.O.isEmbedded&&this.player.isAudio&&c.O.isEmbeddedSheet)&&(this.hasStaticInfo||this.mc.isLive))}};return ot(t,"AddonInfo"),(()=>{var a;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(a=n[Symbol.metadata])&&void 0!==a?a:null):void 0;at(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,r),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),st(t,r)})(),t})();const dt={type:"addon",Clazz:lt,package:"@ardplayer/addon-info",version:"7.7.0",rev:"[G]201271bb7"};function ct(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=function(e){var t=""+e,i=ut.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}var ut=/["&<>]/;const ht=function(e){var t="",i=e||{};return function(e){t=t+'<!DOCTYPE html><html><body><div class="ardplayer-modal-container ardplayer-modal-container-toggle"><div class="ardplayer-modal-stage" role="dialog"'+ct("aria-labelledby",`ardplayer-modal-title-${e}`,!0,!0)+'><div class="ardplayer-modal-topbar"><button class="ardplayer-modal-down-button ardplayer-icon ardplayer-icon-arrowdown" tabindex="0" aria-label="Ansicht schliessen"></button></div><div class="ardplayer-modal-content-wrapper"><div class="ardplayer-modal-content"></div></div></div></div></body></html>'}.call(this,"playerId"in i?i.playerId:"undefined"!=typeof playerId?playerId:void 0),t};var pt=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},ft=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},vt=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})};let mt=(()=>{let e,t,i=[ne.JW],n=[],a=l.bc;t=class extends a{constructor(){super(...arguments),this.ID="AddonModalControls",this.configKey="modalControls",this.container=null,this.content=null,this.stage=null,this.topBar=null,this.btnClose=null,this.buttonMutex=!1,this.isClosing=!1,this.addonButtonsVisibleCache=!1,this.borrowedNodes=[]}isSupported(){var e;return this.player.isAudio&&!(null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e)&&!c.O.isFrame&&!c.O.isEmbedded}register(){return!!super.register()&&(this.registerPlayerEvent(r.a.SETUP_VIEW,this.eventSetupView),!0)}borrowNode(e,t=this.content,i){if(t&&(null==e?void 0:e.parentElement)){const r=e.cloneNode(!0);return e.parentElement.insertBefore(r,e),t.appendChild(e),null==i||i.forEach((t=>{e.classList.toggle(t)})),e.querySelectorAll("[tabindex]").forEach((e=>{e.tabIndex=0})),r.querySelectorAll("[tabindex]").forEach((e=>{e.tabIndex=-1})),r.setAttribute("aria-hidden","true"),this.borrowedNodes.push({node:e,standIn:r,toggledClasses:i}),e}return null}returnBorrowedNodes(){var e;this.borrowedNodes.forEach((e=>{var t,i;null===(t=e.standIn.parentElement)||void 0===t||t.insertBefore(e.node,e.standIn),null===(i=e.toggledClasses)||void 0===i||i.forEach((t=>{e.node.classList.toggle(t)})),e.standIn.remove()})),this.borrowedNodes=[],null===(e=this.player.viewCtrl)||void 0===e||e.updateAccessibleVisibility()}reveal(){var e;return!!this.player.getTarget().classList.contains("ardplayer-m")&&(this.log("revealing modal controls"),this.isClosing=!1,this.player.getTarget().classList.add("ardplayer-show-modal-player"),c.O.browserIsSafari&&document.body.classList.add("ardplayer-safari-noscroll-modal"),null===(e=this.stage)||void 0===e||e.setAttribute("aria-hidden","false"),!!this.content&&(this.addonButtonsVisibleCache=this.player.viewCtrl.addonButtonsVisible,this.player.viewCtrl.addonButtonsVisible=!0,this.player.viewCtrl.updateAccessibleVisibility(),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-posterbackdrop>picture")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-audio-subtitle")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-audio-title")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-center")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-time-playhead")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-time-remaining")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-controlbar")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-btn-chromecast"),this.topBar),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-btn-airplay"),this.topBar),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-addons-container-big"),this.content,["ardplayer-button-big"]),!0))}conceal(){var e;this.log("hiding modal controls"),this.isClosing=!0,null===(e=this.stage)||void 0===e||e.setAttribute("aria-hidden","true"),c.O.browserIsSafari&&document.body.classList.remove("ardplayer-safari-noscroll-modal"),this.player.getTarget().classList.remove("ardplayer-show-modal-player")}concealDone(){this.returnBorrowedNodes(),this.player.viewCtrl&&(this.player.viewCtrl.addonButtonsVisible=this.addonButtonsVisibleCache,this.player.viewCtrl.updateAccessibleVisibility()),this.isClosing=!1}handleResize(){this.content&&this.content.classList.toggle("ardplayer-modal-landscape",this.content.offsetWidth>=this.content.offsetHeight)}eventSetupView(e){var t;if(this.container=new O.U(ht,this.player).renderTemplateAsElement({}),null==this.container)throw new Error("could not load template");if(this.stage=this.container.querySelector(".ardplayer-modal-stage"),this.topBar=this.container.querySelector(".ardplayer-modal-topbar"),this.content=this.container.querySelector(".ardplayer-modal-content"),this.btnClose=this.container.querySelector(".ardplayer-modal-down-button"),!this.stage||!this.content)return;const i=e.controller.playerView;i.insertBefore(this.container,i.querySelector(".ardplayer-bottom-sheet-container")),null===(t=this.stage)||void 0===t||t.setAttribute("aria-hidden","true"),"function"==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{this.handleResize()})),this.handleResize(),this.resizeObserver.observe(this.content)),this.onClick(this.btnClose,(()=>{this.buttonMutex||this.conceal()})),this.onClick(this.topBar,(e=>{e.target!==this.topBar||this.buttonMutex||this.conceal()})),this.addEventListener(this.stage,"animationstart",(e=>{e.target===this.stage&&(this.buttonMutex=!0)})),this.addEventListener(this.stage,"animationend",(e=>{e.target===this.stage&&(this.buttonMutex=!1)}));const r=this.content.parentElement;r&&this.addEventListener(r,"animationend",(e=>{this.isClosing&&e.target===r&&this.concealDone()}));const n=e.controller.playerView.querySelector(".ardplayer-audio");n&&this.onClick(n,(e=>{this.reveal()&&e.stopImmediatePropagation()}))}dispose(){var e;super.dispose(),this.container=null,this.content=null,this.stage=null,this.btnClose=null,this.topBar=null,null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=void 0,c.O.browserIsSafari&&document.body.classList.remove("ardplayer-safari-noscroll-modal")}};return vt(t,"AddonModalControls"),(()=>{var r;const s="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(r=a[Symbol.metadata])&&void 0!==r?r:null):void 0;pt(null,e={value:t},i,{kind:"class",name:t.name,metadata:s},null,n),t=e.value,s&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),ft(t,n)})(),t})();const yt={type:"addon",Clazz:mt,package:"@ardplayer/addon-modal-controls",version:"7.7.0",rev:"[G]201271bb7"},gt="HEADER",bt="ID",Et="TIME_LINE",wt="ID_OR_NOTE_OR_STYLE",St="STYLE",Ct="NOTE",At="TEXT",Tt="MULTI_LINE_TEXT",It="FIN_ENTRY",kt="FINISH",Lt=e=>{const t=e.split(":");let i,r,n;return 2===t.length?[r,n]=t:[i,r,n]=t,parseFloat(n)+60*parseInt(r,10)+60*(i?parseInt(i,10):0)*60},Pt=()=>({start(e){let t=gt,i={tokens:e.split(/\n/),pos:0,result:[],current:{}};for(;t!==kt;){const e=this[t](i);i=e.params,t=e.next}return i.result},[gt]:e=>({next:wt,params:Object.assign(Object.assign({},e),{pos:e.pos+1})}),[wt](e){const{tokens:t,pos:i}=e;return t.length<=i?{next:kt,params:e}:(0,d.z3)(t[i])?{next:wt,params:Object.assign(Object.assign({},e),{pos:i+1})}:t[i].toUpperCase().includes("NOTE")?{next:Ct,params:e}:t[i].toUpperCase().includes("STYLE")?{next:St,params:e}:{next:bt,params:e}},[St](e){const{tokens:t,pos:i}=e;return(0,d.z3)(t[i])?{next:wt,params:Object.assign(Object.assign({},e),{pos:i+1})}:{next:St,params:Object.assign(Object.assign({},e),{pos:i+1})}},[Ct](e){const{tokens:t,pos:i}=e;return(0,d.z3)(t[i])?{next:wt,params:Object.assign(Object.assign({},e),{pos:i+1})}:{next:St,params:Object.assign(Object.assign({},e),{pos:i+1})}},[bt](e){const{tokens:t,pos:i,current:r}=e;if(t.length<=i)return{next:kt,params:e};if((0,d.z3)(t[i]))return{next:bt,params:Object.assign(Object.assign({},e),{pos:i+1})};const n=t[i].includes("--\x3e");return r.id=n?"":t[i],{next:Et,params:Object.assign(Object.assign({},e),{current:r,tokens:t,pos:n?i:i+1})}},[Et](e){const{tokens:t,pos:i,current:r}=e,n=t[i],[a,s]=n.split("--\x3e");return r.startTime=Lt(a),r.endTime=Lt(s),{next:At,params:Object.assign(Object.assign({},e),{current:r,pos:i+1})}},[At](e){const{tokens:t,pos:i,current:r}=e;return t.length<=i?{next:kt,params:e}:(r.text=t[i],{next:Tt,params:Object.assign(Object.assign({},e),{current:r,pos:i+1})})},[Tt](e){var t;const{tokens:i,pos:r,current:n}=e;return i.length<=r?{next:kt,params:e}:(0,d.z3)(i[r])?{next:It,params:e}:(n.text=`${null!==(t=n.text)&&void 0!==t?t:""}\n${i[r]}`,{next:Tt,params:Object.assign(Object.assign({},e),{current:n,pos:r+1})})},[It](e){const{pos:t,current:i,result:r}=e;if("string"!=typeof(n=i).id||"number"!=typeof n.startTime||"number"!=typeof n.endTime||"string"!=typeof n.text)throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);var n;return r.push(i),{next:wt,params:Object.assign(Object.assign({},e),{current:{},pos:t+1})}},[kt]:e=>({next:kt,params:e})});var xt=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},_t=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Ot=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Mt=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},Dt=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Rt=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};let Nt=(()=>{var e;let t,i,n=[ne.JW],a=[],s=l.bc;i=class extends s{constructor(){super(...arguments),this.ID="AddonPreviewVtt",this.configKey="vtt-preview",e.set(this,!1),this.cues=[]}register(){return!!super.register()&&(this.registerPlayerEvent(r.a.EVENT_LOAD_STREAM,this.eventLoadStream),!0)}dispose(){var e,t;null===(t=null===(e=this.player.viewCtrl)||void 0===e?void 0:e.timeline)||void 0===t||t.removeHoverListener(this),super.dispose()}handleTimelinePreview(e,t){var i,r,n,a,s,o;if(this.cues.length<1)return;const l=null!==(r=null===(i=(0,d.I6)(this.cues,t,((e,i)=>i.startTime>e?-1:Math.max(0,t-i.endTime))))||void 0===i?void 0:i.text)&&void 0!==r?r:null;if((0,d.z3)(l))null===(o=this.player.viewCtrl.timeline)||void 0===o||o.setPreviewContent(null);else{const e=null!==(a=null===(n=this.player.viewCtrl.timeline)||void 0===n?void 0:n.getPreviewDimensions())&&void 0!==a?a:null;if(null===e)return;const[t,i]=l.split("#"),[r,o]=i.split("="),d=o.split(",").map((e=>parseInt(e,10))),[c,u,h,p]="xywh"===r?d:[0,0,...d],f=e.width/h,v=p*f,m=document.createElement("span");m.style.backgroundImage=`url('${t}')`,m.style.backgroundPosition=`-${c}px -${u}px`,m.style.width=`${h}px`,m.style.height=`${p}px`,m.style.transform=`scale(${f})`,m.style.marginBottom=v-p+"px",m.style.top=`-${e.paddingTop}`,null===(s=this.player.viewCtrl.timeline)||void 0===s||s.setPreviewContent(m)}}prefetchSprites(){if(this.cues.length<1)return;const e=[...new Set(this.cues.map((e=>e.text.split("#")[0])).filter((e=>!(0,d.z3)(e))))].map((e=>{const t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,t}));e.length>0&&(document.head.append(...e),window.setTimeout((()=>{e.forEach((e=>{e.remove()}))}),1e3))}eventLoadStream(){Dt(this,e,"f")||(0,d.z3)(this.conf.url)||(Rt(this,e,!0,"f"),this.player.safeTimeout((()=>{(0,d.z3)(this.conf.url)||fetch(this.conf.url,{method:"GET",headers:{Accept:"text/vtt"}}).then((e=>Ot(this,void 0,void 0,(function*(){return yield e.text()})))).then((e=>{return t=e,{cues:Pt().start(t).sort(((e,t)=>e.startTime-t.startTime))};var t})).then((e=>{var t,i,r,n;try{this.player.checkState()}catch(e){return void this.warn("aborting async",e)}if(this.cues=e.cues,(0,d.z3)(this.conf.url))return;const a=/^(.+\/)[^/]+$/.exec(window.location.href);if(a&&2===a.length){const e=null!==(r=null===(i=/^(.+\/)[^/]+$/.exec(null===(t=new URL(this.conf.url,a[1]))||void 0===t?void 0:t.href))||void 0===i?void 0:i[1])&&void 0!==r?r:null;null!==e&&(this.log(a[1],this.conf.url,e),this.cues.forEach((t=>{(0,d.z3)(t.text)||t.text.startsWith("http")||(t.text=new URL(t.text,e).href)})))}this.prefetchSprites(),null===(n=this.player.viewCtrl.timeline)||void 0===n||n.addHoverListener(this)})).catch((e=>{this.log("unexpected error",e)}))}),0))}isSupported(){return!this.player.model.mediaCollection.isLive&&!(0,d.z3)(this.conf.url)}};return e=new WeakMap,Mt(i,"AddonPreviewVtt"),(()=>{var e;const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=s[Symbol.metadata])&&void 0!==e?e:null):void 0;xt(null,t={value:i},n,{kind:"class",name:i.name,metadata:r},null,a),i=t.value,r&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),_t(i,a)})(),i})();const Ut={type:"addon",Clazz:Nt,package:"@ardplayer/addon-preview-vtt",version:"7.7.0",rev:"[G]201271bb7"};var Vt;const jt=Symbol("RendererMetadata");class Bt{constructor(){this[Vt]={}}}Vt=jt;var Ft,Ht,Wt,zt,Gt=s(33694),$t=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Yt=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class Kt extends Bt{constructor(){super(...arguments),this.clips=[],Ft.set(this,null),this.seekBarPosition=-1,Ht.set(this,null),Wt.set(this,!1),zt.set(this,-1)}equals(e){return e.id===this.id&&e.title===this.title&&e.subtitle===this.subtitle&&e.synopsis===this.synopsis&&e.isEPG===this.isEPG&&e.seconds===this.seconds&&e.imageRaw===this.imageRaw&&e.gutterIconUrl===this.gutterIconUrl&&e.gutterIconA11yDescription===this.gutterIconA11yDescription&&e.highlightTime===this.highlightTime&&e.highlightIconUrl===this.highlightIconUrl&&e.highlightIconA11yDescription===this.highlightIconA11yDescription}trackActivation(e){e.triggerCustomPixel(Gt.k.JUMPMARK_SELECT,!0,{title:this.title,subtitle:this.subtitle,isEpg:this.isEPG})}asPOI(){const e=this.highlightIconUrl===Kt.HIGHLIGHT_ICON_RADIO_EPG||this.highlightIconUrl===Kt.HIGHLIGHT_ICON_EPG;return{position:this.seconds,priority:this.highlightIconPriority,clickable:!0,trackActivation:this.trackActivation.bind(this),haptic:this.isEPG?"CLICK":"SELECT_TICK",highlight:this.isEPG,icon:this.highlightIconUrl,monochrome:e,trimWhitespace:!e}}get pipDomElement(){return $t(this,Ft,"f")}set pipDomElement(e){Yt(this,Ft,e,"f")}hasImage(){return!!this.imageRaw.trim()}getImageUrl(){return this.hasImage()?this.imageRaw.replace(/#.*$/,""):""}setPreloadedImage(e,t,i){Yt(this,Ht,e,"f"),Yt(this,Wt,t,"f"),Yt(this,zt,i,"f")}setPreloadedImageFrom(e){Yt(this,Ht,$t(e,Ht,"f"),"f"),Yt(this,Wt,$t(e,Wt,"f"),"f"),Yt(this,zt,$t(e,zt,"f"),"f")}get hasLoadedImage(){return null!==$t(this,Ht,"f")}get loadedImageSrc(){var e,t;return null!==(t=null===(e=$t(this,Ht,"f"))||void 0===e?void 0:e.src)&&void 0!==t?t:""}getSpritesheetCoordinates(e){var t,i,r,n,a;if(!$t(this,Ht,"f"))return!1;let s=0,o=0,l=0,d=0;if($t(this,Wt,"f"))s=$t(this,Ht,"f").width/e,o=s/16*9,l=Math.floor($t(this,zt,"f")%e)*s,d=Math.floor($t(this,zt,"f")/e)*o;else{const e=/#xybh=(\d+),(\d+),(\d+),(\d+)$/;if(e.test(this.imageRaw)){const c=null!==(t=e.exec(this.imageRaw))&&void 0!==t?t:[];l=parseInt(null!==(i=c[1])&&void 0!==i?i:0),d=parseInt(null!==(r=c[2])&&void 0!==r?r:0),s=parseInt(null!==(n=c[3])&&void 0!==n?n:0),o=parseInt(null!==(a=c[4])&&void 0!==a?a:0)}else l=0,d=0,s=$t(this,Ht,"f").width,o=$t(this,Ht,"f").height}return{x:l,y:d,w:s,h:o}}}Ft=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,zt=new WeakMap,Kt.HIGHLIGHT_ICON_EPG="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjE1IiB5PSIxOCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHJ4PSIxIi8+PHJlY3Qgd2lkdGg9IjEwIiBoZWlnaHQ9IjIiIHg9IjE5IiB5PSIzMiIgZmlsbD0iI2ZmZiIgcng9IjEiLz48L3N2Zz4=",Kt.HIGHLIGHT_ICON_RADIO_EPG="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTEyIDE0LjVhMyAzIDAgMCAwIDMtM3YtNmEzIDMgMCAwIDAtNiAwdjZhMyAzIDAgMCAwIDMgM20tMS05YTEgMSAwIDAgMSAyIDB2NmExIDEgMCAwIDEtMiAweiIvPjxwYXRoIGQ9Ik0xNiAxOS41aC0zdi0yLjA5YTYgNiAwIDAgMCA1LTUuOTEgMSAxIDAgMCAwLTIgMCA0IDQgMCAxIDEtOCAwIDEgMSAwIDEgMC0yIDAgNiA2IDAgMCAwIDUgNS45MXYyLjA5SDhhMSAxIDAgMCAwIDAgMmg4YTEgMSAwIDAgMCAwLTIiLz48L2c+PC9zdmc+",Kt.HIGHLIGHT_TIME_EPG="EPG_TIME";const qt=Kt;class Jt extends qt{constructor(e,t){var i,r,n,a,s,o,l,d,u,h,p,f,v,m,y,g;super(),this.id="",this.title="",this.subtitle="",this.synopsis="",this.isLive=!1,this.seconds=0,this.endAtSeconds=0,this.imageRaw="",this.isEPG=!1,this.forceCondensed=!1,this.gutterIconUrl="",this.gutterIconA11yDescription="",this.highlightIconPriority=Number.POSITIVE_INFINITY,this.highlightTime="",this.highlightIconUrl="",this.highlightIconA11yDescription="",this.type="",null!=e&&"object"==typeof e&&(this.seconds=null!==(i=e.chapterTime)&&void 0!==i?i:0,this.id=String(this.seconds),this.seconds>1e12&&(this.seconds=this.seconds/1e3|0),this.endAtSeconds=this.seconds,this.isLive=this.seconds>1e9,this.title=(null!==(r=e.chapterTitle)&&void 0!==r?r:"").trim(),this.subtitle=(null!==(n=e.chapterSubtitle)&&void 0!==n?n:"").trim(),this.type=null!==(a=e.type)&&void 0!==a?a:"",this.imageRaw=null!==(s=e.chapterImg)&&void 0!==s?s:"",this.synopsis=null!==(o=e.synopsis)&&void 0!==o?o:"",this.gutterIconUrl=null!==(l=e.gutterIconUrl)&&void 0!==l?l:"",this.gutterIconA11yDescription=null!==(d=e.gutterIconDescription)&&void 0!==d?d:"","epg"===(null!==(u=e.type)&&void 0!==u?u:"epg")?(this.isEPG=!0,"epg"===e.type&&(this.highlightTime=qt.HIGHLIGHT_TIME_EPG,this.highlightIconUrl=t?Jt.HIGHLIGHT_ICON_RADIO_EPG:qt.HIGHLIGHT_ICON_EPG,this.highlightIconPriority=0,this.highlightIconA11yDescription="Programmhinweis")):"highlight"===this.type&&(this.forceCondensed=!0,this.highlightIconPriority=Number.MAX_SAFE_INTEGER),this.highlightTime=null!==(h=e.highlightTime)&&void 0!==h?h:this.highlightTime,this.highlightIconUrl=null!==(p=e.highlightIconUrl)&&void 0!==p?p:this.highlightIconUrl,this.highlightIconPriority=null!==(f=e.highlightIconPriority)&&void 0!==f?f:this.highlightIconPriority,this.highlightIconA11yDescription=null!==(v=e.highlightIconDescription)&&void 0!==v?v:this.highlightIconA11yDescription),c.O.isEmbedded&&((null===(m=this.imageRaw)||void 0===m?void 0:m.startsWith("//"))&&(this.imageRaw="https:"+this.imageRaw),(null===(y=this.gutterIconUrl)||void 0===y?void 0:y.startsWith("//"))&&(this.gutterIconUrl="https:"+this.gutterIconUrl),(null===(g=this.highlightIconUrl)||void 0===g?void 0:g.startsWith("//"))&&(this.highlightIconUrl="https:"+this.highlightIconUrl))}}const Qt={music:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTkuNTM1IDIwcS0xLjI1MyAwLTIuMTQ0LS44NDdUNi41IDE3LjExOHQuODkxLTIuMDM1YTMgMyAwIDAgMSAyLjE0NC0uODQ2cS41ODIgMCAxLjEwNC4xOTZ0LjkyLjU5VjVIMTYuNXYyLjQzOWgtMy45M3Y5LjY4cTAgMS4xODctLjg5MiAyLjAzNEEzIDMgMCAwIDEgOS41MzUgMjAiLz48L3N2Zz4=",news:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDIwIDIwIj48ZyBmaWxsPSIjMDAwRTI5Ij48cGF0aCBkPSJNMTYuNjY3IDQuMTY3djExLjY2NkgzLjMzM1Y0LjE2N3pNMTcuNSAyLjVoLTE1YS44MzYuODM2IDAgMCAwLS44MzMuODMzdjEzLjMzNGMwIC40NTguMzc1LjgzMy44MzMuODMzaDE1YS44MzYuODM2IDAgMCAwIC44MzMtLjgzM1YzLjMzM0EuODM2LjgzNiAwIDAgMCAxNy41IDIuNSIvPjxwYXRoIGQ9Ik0xNSAxNC4xMjVINWEuODM2LjgzNiAwIDAgMS0uODMzLS44MzNjMC0uNDU5LjM3NS0uODM0LjgzMy0uODM0aDEwYy40NTggMCAuODMzLjM3NS44MzMuODM0YS44MzYuODM2IDAgMCAxLS44MzMuODMzbTAtMy4yOTJoLTQuMTY3QS44MzYuODM2IDAgMCAxIDEwIDEwYzAtLjQ1OC4zNzUtLjgzMy44MzMtLjgzM0gxNWMuNDU4IDAgLjgzMy4zNzUuODMzLjgzM2EuODM2LjgzNiAwIDAgMS0uODMzLjgzM20wLTMuMjkxaC00LjE2N0EuODM2LjgzNiAwIDAgMSAxMCA2LjcwOGMwLS40NTguMzc1LS44MzMuODMzLS44MzNIMTVjLjQ1OCAwIC44MzMuMzc1LjgzMy44MzNhLjgzNi44MzYgMCAwIDEtLjgzMy44MzRtLTcuNSAwdjEuNjY2SDUuODMzVjcuNTQyem0uNzA4LTEuNjY3SDUuMTE3YS45Ni45NiAwIDAgMC0uOTU5Ljk1OHYzLjA5MmMwIC41MjUuNDI1Ljk1OC45NTkuOTU4aDMuMDkxYS45Ni45NiAwIDAgMCAuOTU5LS45NThWNi44MzNhLjk2Ljk2IDAgMCAwLS45NTktLjk1OCIvPjwvZz48L3N2Zz4=",traffic:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTguOTE3IDEwLjQ1M2gtLjg3NGEuNjYuNjYgMCAwIDAtLjY1Ny42NjNjMCAuMzYxLjMuNjYzLjY1Ny42NjNoLjg3NGEuNjYuNjYgMCAwIDAgLjY1OC0uNjYzYzAtLjM2LS4zLS42NjMtLjY1OC0uNjYzbS00LjE1NCAxLjQxSDMuNDR2LTEuODNjMC0uNTIuNC0uOTQuOS0uOTkuMzA4LTEuMDgzLjIzMy0uNzguODY1LTMuMDg5YS42Ni42NiAwIDAgMSAuNjI1LS40NTNoMS4wMjRWNC4xNjZINS44MjljLS44NSAwLTEuNjA3LjU0Ni0xLjg4MiAxLjM1MkwzLjI0IDcuNTlzLS4wMjUtLjAwOC0uMDQyLS4wMDhoLS44NzRhLjY2LjY2IDAgMCAwLS42NTguNjYzYzAgLjM2LjMuNjYzLjY1OC42NjNoLjA2N2EyLjMgMi4zIDAgMCAwLS4yOTIgMS4xMTZ2NC40NjVjMCAuMzcuMy42NjMuNjU4LjY2M2EuNjY3LjY2NyAwIDAgMCAuNjU4LS42NjN2LTEuMzFoMS4zMjN2LTEuMzM0bC4wMjUuMDE3WiIvPjxwYXRoIGQ9Ik0xOC4zMzMgOC45MjVjMC0uMzY5LS4zLS42NjMtLjY1OC0uNjYzaC0uODc0cy0uMDMzLjAwOS0uMDUuMDA5bC0uNzA3LTIuMDczYTEuOTkgMS45OSAwIDAgMC0xLjg4Mi0xLjM1Mkg5LjE1Yy0uODQ5IDAtMS42MDYuNTQ2LTEuODgxIDEuMzUyTDYuNTYxIDguMjdzLS4wMjUtLjAwOS0uMDQxLS4wMDloLS44NzRhLjY2LjY2IDAgMCAwLS42NTguNjYzYzAgLjM2MS4zLjY2NC42NTguNjY0aC4wNjZhMi4zIDIuMyAwIDAgMC0uMjkxIDEuMTE2djQuNDY1YzAgLjM3LjMuNjYzLjY1OC42NjNhLjY2Ny42NjcgMCAwIDAgLjY1Ny0uNjYzdi0xLjMxaDkuODI0djEuMzFjMCAuMzcuMy42NjMuNjU3LjY2M2EuNjY3LjY2NyAwIDAgMCAuNjU4LS42NjN2LTEuNzEycy0uMDA4LS4wNDItLjAxNy0uMDY3di0yLjY5NGEyLjQgMi40IDAgMCAwLS4yOTEtMS4xMTdoLjA4M2EuNjYuNjYgMCAwIDAgLjY1OC0uNjYzbC4wMjUuMDA4Wm0tNC4xNy0yLjc0NGMuMjgyIDAgLjUzMi4xODUuNjIzLjQ1M2wuNTkxIDEuNzQ2aC03LjQ1bC41OS0xLjc0NmEuNjYuNjYgMCAwIDEgLjYyNS0uNDUzaDUuMDJabS03LjQxIDYuMzYydi0xLjgzYzAtLjU0NS40NDEtLjk5Ljk4Mi0uOTk5aDcuODVjLjU0MiAwIC45ODMuNDU0Ljk4MyAxdjEuODI5eiIvPjxwYXRoIGQ9Ik0xNS4yNjEgMTAuNDUzaC0uODc0YS42Ni42NiAwIDAgMC0uNjU4LjY2M2MwIC4zNjEuMy42NjMuNjU4LjY2M2guODc0YS42Ni42NiAwIDAgMCAuNjU4LS42NjNjMC0uMzYtLjMtLjY2My0uNjU4LS42NjNNNC42NjMgOS43OThhLjY2LjY2IDAgMCAwLS41ODIuNjU1LjY2LjY2IDAgMCAwIC41NjYuNjYzYzAtLjQ3LjAzMy0uNzM5LjAyNS0xLjMxeiIvPjwvZz48L3N2Zz4=",weather:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE0LjAxMyA2LjExOGEuNzYuNzYgMCAwIDAgLjc2LS43NlY0Ljc2YS43Ni43NiAwIDAgMC0uNzYtLjc1OS43NTQuNzU0IDAgMCAwLS43Ni43NnYuNTk5YS43Ni43NiAwIDAgMCAuNzYuNzU5Wm0tMy44MSAxLjExOWEuNzY0Ljc2NCAwIDAgMCAxLjA3My0uMDA4Ljc2NC43NjQgMCAwIDAgMC0xLjA3MWwtLjQzMy0uNDI0YS43NjcuNzY3IDAgMCAwLTEuMDcyIDAgLjc2NC43NjQgMCAwIDAgMCAxLjA3MWwuNDMyLjQyNHptOS4wMzcgMS45NDJoLS42MDlhLjc2Ljc2IDAgMSAwIDAgMS41MThoLjYwOWEuNzYuNzYgMCAxIDAgMC0xLjUxOE0xNy4yNzkgNy40NmEuNzguNzggMCAwIDAgLjUzNi0uMjE1bC40MzItLjQyNGEuNzUuNzUgMCAwIDAgMC0xLjA3Ljc1Ljc1IDAgMCAwLTEuMDcyIDBsLS40MzMuNDIzYS43NS43NSAwIDAgMCAwIDEuMDcuNzUuNzUgMCAwIDAgLjUzNy4yMjV6bS0uNzkzIDUuNjI3Yy0uMDQ4LS4xMjgtLjExMi0uMjQ4LS4xNzYtLjM2OC41MTItLjQ4Ljg4LTEuMDk1IDEuMDI1LTEuNzlhMy40IDMuNCAwIDAgMCAwLTEuMzlBMy40MDcgMy40MDcgMCAwIDAgMTMuMyA2Ljg5M2EzLjQgMy40IDAgMCAwLTIuNzE0IDMuMzMyIDMuNyAzLjcgMCAwIDAtMS4xMTItLjE4NGMtMS45OTMgMC0zLjYyNiAxLjUzNC0zLjc2MiAzLjQ2QTMuNDcgMy40NyAwIDAgMCA0IDE2LjVDNCAxOC40MjUgNS41OTMgMjAgNy41NDYgMjBoOC4xNjRjMS45NTMgMCAzLjU0Ni0xLjU2NiAzLjU0Ni0zLjUgMC0xLjYzOS0xLjE3Ny0zLjA0Ni0yLjc2Mi0zLjM5N3pNMTIuMTQgOS44NDJhMS45MDMgMS45MDMgMCAwIDEgMi4yNS0xLjQ3IDEuOTAzIDEuOTAzIDAgMCAxIDEuNDcyIDIuMjQ1IDEuOSAxLjkgMCAwIDEtLjUyLjk2IDMuNDUgMy40NSAwIDAgMC0yLjA4MS0uNjk2Yy0uMzUyIDAtLjY5Ny4wNjQtMS4wMjUuMTY4IDAtLjA3MiAwLS4xMzYtLjAyNC0uMjA4cy0uMDQ4LS4xNDQtLjA1Ni0uMjE2YTEuOCAxLjggMCAwIDEgMC0uNzc1em0zLjU2MiA4LjYyM0g3LjUzOGMtMS4xMiAwLTIuMDMzLS44ODctMi4wMzMtMS45ODIgMC0uODA3LjQ5Ni0xLjUxOCAxLjI1Ni0xLjgzbC41MTMtLjIwNy0uMDQtLjU1MmMwLS4wNDgtLjAwOC0uMDg4LS4wMTYtLjE1MiAwLTEuMjE1IDEuMDA4LTIuMTk4IDIuMjQ5LTIuMTk4LjcyIDAgMS4zODQuMzM2IDEuODE3LjkxMmwuNC41NDMuNTg0LS4zMzZjLjMxMi0uMTg0LjY0LS4yNzEuOTg1LS4yNzEuOTIgMCAxLjcyLjYzOSAxLjkwNSAxLjUyNmwuMTEyLjU2OC41NzYuMDRjMS4wNTYuMDcxIDEuODg5LjkzNCAxLjg4OSAxLjk2NSAwIDEuMDk1LS45MTMgMS45ODMtMi4wMzMgMS45ODN6Ii8+PC9zdmc+",live:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTEuNSA1LjY2NmEuODMzLjgzMyAwIDAgMC0uODM0LjgzM3Y1YS44MzMuODMzIDAgMSAwIDEuNjY3IDB2LTVhLjgzMy44MzMgMCAwIDAtLjgzMy0uODMzbTMgLjgzNGEuODMzLjgzMyAwIDAgMC0uODM0LjgzM3YzLjMzM2EuODMzLjgzMyAwIDAgMCAxLjY2NyAwVjcuMzMzYS44MzMuODMzIDAgMCAwLS44MzMtLjgzNFptOS0yLjVhLjgzMy44MzMgMCAwIDAtLjgzNC44MzN2OC4zMzNhLjgzNC44MzQgMCAwIDAgMS42NjcgMFY0LjgzM2EuODMzLjgzMyAwIDAgMC0uODMzLS44MzRabS0zLTMuMzM0YS44MzMuODMzIDAgMCAwLS44MzQuODMzdjE1YS44MzMuODMzIDAgMSAwIDEuNjY3IDB2LTE1QS44MzMuODMzIDAgMCAwIDEwLjUuNjY2TTcuNSA0YS44MzMuODMzIDAgMCAwLS44MzQuODMzdjguMzMzYS44MzMuODMzIDAgMCAwIDEuNjY3IDBWNC44MzNhLjgzMy44MzMgMCAwIDAtLjgzMy0uODM0Wm05IDIuNWEuODMzLjgzMyAwIDAgMC0uODM0LjgzM3YzLjMzM2EuODM0LjgzNCAwIDAgMCAxLjY2NyAwVjcuMzMzYS44MzMuODMzIDAgMCAwLS44MzMtLjgzNFoiLz48L3N2Zz4=",audio:qt.HIGHLIGHT_ICON_RADIO_EPG};class Zt extends Bt{constructor(e,t){super(),this.data=e,this.image=null,this.imageTitle=null,this.type=e.type,this.seconds=Date.parse(e.start)/1e3|0,this.endAtSeconds=Date.parse(e.end)/1e3|0,this.id=`${this.type}-${this.seconds}-${this.endAtSeconds}`,this.title=ei(e)&&!(0,d.z3)(e.artist)?`${e.artist} | ${e.title}`:e.title,(0,d.UU)(e.image)&&(0,d.Ed)(e.image.url)&&(this.image=(0,u.$o)(e.image.url,t?"980":"240"),c.O.isEmbedded&&this.image.startsWith("//")&&(this.image="https:"+this.image),this.imageTitle=(0,d.Ed)(e.image.description)?e.image.description:null)}visibleAtTimestamp(e){return this.seconds<=e&&this.endAtSeconds>=e}getImageUrl(){var e;return null!==(e=this.image)&&void 0!==e?e:""}hasImage(){return null!=this.image}trackActivation(e){e.triggerCustomPixel(Gt.k.JUMPMARK_SELECT,!0,{title:this.title,isEpg:!1,jumpmarkType:this.type})}asPOI(){return{position:this.seconds,priority:10,clickable:"music"!==this.type,trackActivation:"music"===this.type?null:this.trackActivation.bind(this),haptic:"SELECT_TICK",icon:Qt[this.type],highlight:!1,monochrome:!0,debug:this.title}}}const Xt=["music","news","weather","traffic","audio","live"];function ei(e){return"music"===e.type}class ti extends qt{constructor(e,t){var i,r,n,a,s,o,l,u,h,p,f,v,m,y,g,b;super(),this.isLive=!0,this.seconds=0,this.endAtSeconds=0,this.subtitle="",this.synopsis="",this.isEPG=!1,this.forceCondensed=!0,this.gutterIconUrl="",this.gutterIconA11yDescription="",this.highlightIconPriority=Number.MAX_SAFE_INTEGER,this.highlightIconUrl="",this.highlightIconA11yDescription="",this.imageRaw="",this.title=(0,d.z3)(e.title)?"":e.title,this.id=`scene-${(0,d.cl)(e.id)?(0,d.N4)():e.id}`,this.highlightIconPriority=(0,d.cl)(e.category.priority)||isNaN(Number(e.category.priority))?Number.MAX_SAFE_INTEGER:Number(e.category.priority),this.highlightIconUrl=e.category.iconUrl&&!(0,d.z3)(null===(i=e.category.iconUrl)||void 0===i?void 0:i.svg)?e.category.iconUrl.svg:null!==(n=null===(r=e.category.iconUrl)||void 0===r?void 0:r.png)&&void 0!==n?n:"",this.highlightIconA11yDescription=(0,d.z3)(e.category.name)?"":e.category.name,this.highlightTime=(0,d.z3)(e.description)?"":e.description.trim().substring(0,6),this.gutterIconUrl=(null===(a=e.team)||void 0===a?void 0:a.icon)&&!(0,d.z3)(null===(o=null===(s=e.team)||void 0===s?void 0:s.icon)||void 0===o?void 0:o.svg)?e.team.icon.svg:null!==(h=null===(u=null===(l=e.team)||void 0===l?void 0:l.icon)||void 0===u?void 0:u.png)&&void 0!==h?h:"",this.gutterIconA11yDescription=null!==(f=null===(p=e.team)||void 0===p?void 0:p.name)&&void 0!==f?f:"",this.isLive=t,this.seconds=t?new Date(null!==(v=e.start)&&void 0!==v?v:0).getTime()/1e3|0:parseInt(e.offset,10);const E=parseInt(null!==(m=e.length)&&void 0!==m?m:"0",10);this.endAtSeconds=isFinite(E)?this.seconds+E:this.seconds,c.O.isEmbedded&&((null===(y=this.imageRaw)||void 0===y?void 0:y.startsWith("//"))&&(this.imageRaw="https:"+this.imageRaw),(null===(g=this.gutterIconUrl)||void 0===g?void 0:g.startsWith("//"))&&(this.gutterIconUrl="https:"+this.gutterIconUrl),(null===(b=this.highlightIconUrl)||void 0===b?void 0:b.startsWith("//"))&&(this.highlightIconUrl="https:"+this.highlightIconUrl))}}function ii(e){return e.isEPG&&void 0!==e.rawEvent}class ri extends qt{constructor(e,t,i){var r,n,a,s,o,l;super(),this.seconds=-1,this.title="",this.subtitle="",this.synopsis="",this.highlightTime=qt.HIGHLIGHT_TIME_EPG,this.isEPG=!0,this.forceCondensed=!1,this.gutterIconUrl="",this.gutterIconA11yDescription="",this.highlightIconPriority=0,this.highlightIconA11yDescription="Programmhinweis",this.imageRaw="",this.rawEvent=Object.assign({},e,{clips:[],ctaSections:[]}),this.title=(0,d.z3)(e.title.short)?null!==(r=e.title.long)&&void 0!==r?r:"":e.title.short,this.subtitle=(0,d.z3)(e.title.subTitle)?"":e.title.subTitle,this.imageRaw=(0,u.$o)(null!==(a=null===(n=e.image)||void 0===n?void 0:n.contentUrl)&&void 0!==a?a:"",i?"980":"240"),this.highlightIconUrl=i?qt.HIGHLIGHT_ICON_RADIO_EPG:qt.HIGHLIGHT_ICON_EPG,this.id=`epg-${(0,d.Ed)(e.id)?e.id:(0,d.N4)()}`,(0,d.z3)(e.synopsis)||(this.synopsis=e.synopsis),t&&(this.seconds=new Date((0,d.z3)(e.currentStartDate)?(0,d.z3)(e.startDate)?0:e.startDate:e.currentStartDate).getTime()/1e3|0),this.endAtSeconds=(0,d.z3)(e.endDate)?this.seconds:Date.parse(e.endDate)/1e3|0,this.isLive=t,c.O.isEmbedded&&((null===(s=this.imageRaw)||void 0===s?void 0:s.startsWith("//"))&&(this.imageRaw="https:"+this.imageRaw),(null===(o=this.gutterIconUrl)||void 0===o?void 0:o.startsWith("//"))&&(this.gutterIconUrl="https:"+this.gutterIconUrl),(null===(l=this.highlightIconUrl)||void 0===l?void 0:l.startsWith("//"))&&(this.highlightIconUrl="https:"+this.highlightIconUrl))}static createFor(e,t,i){if(null==e||"object"!=typeof e)return[];const r=new ri(e,t,i),n=(0,d.z3)(e.endDate)?Number.POSITIVE_INFINITY:new Date(e.endDate).getTime()/1e3|0;return e.clips&&e.clips.length>0&&(r.clips.push(...e.clips.filter((e=>Xt.includes(e.type))).map((e=>new Zt(e,i))).sort(((e,t)=>e.seconds-t.seconds))),r.clips.sort(((e,t)=>e.seconds-t.seconds))),e.scene&&e.scene.length>0?[r,...e.scene.map((e=>new ti(e,t))).filter((e=>e.seconds>=r.seconds&&e.seconds<=n))]:[r]}}function ni(e){var t=""+e,i=ai.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var ai=/["&<>]/;const si=function(e){var t,i="",r=e||{};return function(e){i=i+'<div class="ardplayer-jumpmark-cta ardplayer-jumpmark-cta-btn" tabIndex="0"'+function(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=ni(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}("data-initiator-name","cta_"+e.type,!0,!0)+' data-vertical-nav-abs-pos="true" data-no-controls-on-focus="true">'+ni(null==(t=e.title)?"":t)+"</div>"}.call(this,"info"in r?r.info:"undefined"!=typeof info?info:void 0),i};function oi(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=li(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function li(e){var t=""+e,i=di.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var di=/["&<>]/;const ci=function(e){var t,i="",r=e||{};return function(e,r,n){i=i+'<div class="ardplayer-jumpmark-cta ardplayer-jumpmark-cta-card" tabIndex="-2"'+oi("data-initiator-name","cta_"+n.data.type,!0,!0)+'><div class="cta-card-title" role="heading">'+li(null==(t=n.title)?"":t)+"</div>",r.isBlank(n.data.image)||(i=i+"<img"+(oi("src",n.data.image,!0,!0)+oi("alt",n.title,!0,!0))+">"),i+='<div class="cta-card-separator"></div>',r.isBlank(n.data.headline)&&r.isBlank(n.data.subline)||(i+='<div class="cta-card-heading">',r.isBlank(n.data.headline)||(i=i+'<p class="cta-card-headline">'+li(null==(t=n.data.headline)?"":t)+"</p>"),r.isBlank(n.data.subline)||(i=i+'<p class="cta-card-subline">'+li(null==(t=n.data.subline)?"":t)+"</p>"),i+="</div>"),i+='<div class="cta-card-buttons">',"card_hyperlink"===n.data.type?i=i+'<button class="ardplayer-icon ardplayer-icon-external-link" role="link"'+oi("value",n.data.href,!0,!0)+' tabIndex="0"'+oi("data-initiator-name","cta_"+n.data.type+"_open",!0,!0)+' data-vertical-nav-abs-pos="true" data-no-controls-on-focus="true"'+oi("title",e.jumpmarks.cta.openLink,!0,!0)+oi("aria-label",e.jumpmarks.cta.openLink,!0,!0)+">"+li(null==(t=e.jumpmarks.cta.openLink)?"":t)+"<a"+oi("href",n.data.href,!0,!0)+' target="_blank" role="none" aria-hidden="true"></a></button>':(i=i+'<button class="ardplayer-icon ardplayer-icon-play" tabIndex="0"'+oi("data-initiator-name","cta_"+n.data.type+"_play",!0,!0)+' data-vertical-nav-abs-pos="true" data-no-controls-on-focus="true"'+oi("title",e.jumpmarks.cta.play,!0,!0)+oi("aria-label",e.jumpmarks.cta.play,!0,!0)+">"+li(null==(t=e.jumpmarks.cta.play)?"":t)+"</button>",n.data.showSaveButton&&(i=n.isSaved?i+'<button class="cta-card-button-secondary ardplayer-icon ardplayer-icon-check" tabIndex="0"'+oi("data-initiator-name","cta_"+n.data.type+"_save",!0,!0)+' data-vertical-nav-abs-pos="true" data-no-controls-on-focus="true"'+oi("title",e.jumpmarks.cta.saved,!0,!0)+oi("aria-label",e.jumpmarks.cta.saved,!0,!0)+">"+li(null==(t=e.jumpmarks.cta.saved)?"":t)+"</button>":i+'<button class="cta-card-button-secondary ardplayer-icon ardplayer-icon-plus" tabIndex="0"'+oi("data-initiator-name","cta_"+n.data.type+"_save",!0,!0)+' data-vertical-nav-abs-pos="true" data-no-controls-on-focus="true"'+oi("title",e.jumpmarks.cta.save,!0,!0)+oi("aria-label",e.jumpmarks.cta.save,!0,!0)+">"+li(null==(t=e.jumpmarks.cta.save)?"":t)+"</button>")),i+="</div></div>"}.call(this,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"Utils"in r?r.Utils:"undefined"!=typeof Utils?Utils:void 0,"info"in r?r.info:"undefined"!=typeof info?info:void 0),i};var ui,hi=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},pi=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class fi extends Bt{constructor(){super(...arguments),this.node=null,ui.set(this,!1)}getNode(e,t){return null===this.node&&null!==t&&(this.node=this.render(e,t)),this.node}dispose(){var e;null===(e=this.node)||void 0===e||e.remove(),this.node=null}dismiss(){hi(this,ui,!0,"f")}visibleAtTimestamp(e){const t=this.isVisibleAtTimestamp(e);return pi(this,ui,"f")?(t||hi(this,ui,!1,"f"),!1):t}static createFor(e,t,i,r){return i.isAudio?null:gi(e)?bi.createFor(e,t,i):vi(e)?Ei.createFor(e,t,i,r):null}}function vi(e){return yi(e)||mi(e)}function mi(e){return"card_media_link"===e.type}function yi(e){return"card_hyperlink"===e.type}function gi(e){return["skip_intro","skip_recap","skip_credits","skip_generic"].includes(e.type)}ui=new WeakMap;class bi extends fi{constructor(e,t,i,r,n,a){super(),this.data=e,this.title="",this.id=`${n}-${i}-${r}`,this.seconds=i,this.endAtSeconds=r,this.type=n,this.title=(0,d.Ed)(a)?a:t.StringConfig.Strings.jumpmarks.cta[n]}getImageUrl(){return""}hasImage(){return!1}static createFor(e,t,i){if(!gi(e))return null;if("skip_credits"===e.type&&!i.addons.some((e=>"AddonRecommendations"===e.ID)))return i.console.log("no recommendations, skipped creating skip_credits section"),null;if(t){if("string"==typeof e.start&&"string"==typeof e.end)return new this(e,i,Date.parse(e.start)/1e3|0,Date.parse(e.end)/1e3|0,e.type,e.title);i.console.warn("invalid start or end date for live skip section",e)}else{if("number"==typeof e.start&&Number.isFinite(e.start)&&"number"==typeof e.end&&Number.isFinite(e.end))return new this(e,i,e.start,e.end,e.type,e.title);i.console.warn("invalid start or end time for skip section",e)}return null}trackActivation(e){e.triggerCustomPixel(Gt.k.CTA_SELECT,!0,{title:this.title,ctaType:this.type})}performAction(e,t){var i;this.trackActivation(t.pixelController),"skip_credits"===this.type?t.sendEvent({type:"AddonRecommendations.TRIGGER_TEASER_AUTOPLAY"}):(null===(i=t.viewCtrl)||void 0===i||i.showAnimation("seekfwd"),t.seekToAndPlayInternal(this.endAtSeconds))}render(e,t){var i;const r=null!==(i=new O.U(si,t).renderTemplateAsElement({info:this}))&&void 0!==i?i:null;return(0,d.Af)(r,(()=>{this.performAction(e,t)}),t),(0,k.$)(t,r,"jumpmark-cta",{title:this.title}),r}isVisibleAtTimestamp(e){return this.seconds<=e&&this.endAtSeconds>=e}}class Ei extends fi{get type(){return this.data.type}constructor(e,t,i,r,n){if(super(),this.isSaved=!1,this.id=`${n.type}-${i}-${r}`,this.seconds=i,this.endAtSeconds=r,this.title=n.title,this.data=n,mi(n)&&!0===n.showSaveButton&&null!=e.eventDispatcher){const i=e=>{var i;if((0,d.bD)(e.mediaId,this.data.mediaId)){this.isSaved=e.isSaved;const r=null===(i=this.node)||void 0===i?void 0:i.querySelector("button.cta-card-button-secondary");if(r){r.classList.toggle("ardplayer-icon-check",this.isSaved),r.classList.toggle("ardplayer-icon-plus",!this.isSaved);const e=this.isSaved?t.StringConfig.Strings.jumpmarks.cta.saved:t.StringConfig.Strings.jumpmarks.cta.save;r.innerText=e,r.title=e,r.setAttribute("aria-label",e)}}};e.eventDispatcher.addEventListener("Jumpmarks.updateMediaSaved",i),this.disposer=()=>{var t;null===(t=e.eventDispatcher)||void 0===t||t.removeEventListener("Jumpmarks.updateMediaSaved",i)},e.eventDispatcher.dispatchEvent("Jumpmarks.ContentEventAction",{mediaId:n.mediaId,action:"QUERY_SAVED"})}else this.disposer=null}dispose(){var e;super.dispose(),null===(e=this.disposer)||void 0===e||e.call(this)}getImageUrl(){var e;return null!==(e=this.data.image)&&void 0!==e?e:""}hasImage(){return(0,d.Ed)(this.data.image)}static createFor(e,t,i,r){if(!vi(e))return null;if(c.O.isAndroidTV&&yi(e))return null;if(t){if("string"==typeof e.start){const t=Date.parse(e.start)/1e3|0;return new this(r,i,t,"string"==typeof e.end?Date.parse(e.end)/1e3|0:t+10,e)}i.console.warn("invalid start or end date for live cta card",e)}else{if("number"==typeof e.start&&Number.isFinite(e.start)){const t="number"==typeof e.end&&Number.isFinite(e.end)?e.end:e.start+10;return new this(r,i,e.start,t,e)}i.console.warn("invalid start or end time for cta card",e)}return null}trackActivation(e){e.triggerCustomPixel(Gt.k.CTA_SELECT,!1,{title:this.title,ctaType:this.data.type})}performAction(e,t,i){var r,n;this.trackActivation(i.pixelController),"card_hyperlink"===this.data.type?(null===(r=e.querySelector("a"))||void 0===r||r.click(),i.pauseInternal()):null===(n=t.eventDispatcher)||void 0===n||n.dispatchEvent("Jumpmarks.ContentEventAction",{mediaId:this.data.mediaId,action:e.classList.contains("cta-card-button-secondary")?this.isSaved?"MARK_NOT_SAVED":"MARK_SAVED":"PLAY"})}render(e,t){var i;const r=null!==(i=new O.U(ci,t).renderTemplateAsElement({info:this}))&&void 0!==i?i:null;return r&&((0,d.Af)(r,(()=>{this.performAction(r,e,t)}),t),r.querySelectorAll("button").forEach((i=>{(0,d.Af)(i,(r=>{r.stopPropagation(),"A"!==r.target.nodeName&&(r.preventDefault(),this.performAction(i,e,t))}),t)}))),r}isVisibleAtTimestamp(e){return this.seconds<=e&&this.endAtSeconds>=e}}class wi{constructor(e,t){this.addon=e,this.player=t,this.id=(0,d.N4)()}getMetadata(e){var t;return null!==(t=e[jt][this.id])&&void 0!==t?t:null}setMetadata(e,t){null===t?this.clearMetadata(e):e[jt][this.id]=t}clearMetadata(e){delete e[jt][this.id]}}function Si(e){return"x-jumpmark"===e.type}var Ci,Ai,Ti,Ii=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},ki=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class Li extends wi{constructor(){super(...arguments),Ci.set(this,[]),Ai.set(this,null),Ti.set(this,[]),this.renderChaptersToVContainer=(e,t,i)=>{Ii(this,Ti,[],"f"),e.filter((e=>e.seekBarPosition>=0&&e.seekBarPosition<=1)).forEach((e=>{var r,n;const a=ki(this,Ci,"f").some((t=>t.equals(e))),s=function(e,t,i,r,n,a,s,o,l,c,u,h,p,f,v){const m=`ardplayer-jumpmark-${(0,d.z3)(v)?(0,d.N4)():v}`,y={type:"x-jumpmark",id:m,content:t,subtitle:n,synopsis:a,image:h,isEPG:s,isSelected:o,gutterIconUrl:p,gutterIconA11yDescription:f,highlightIconUrl:l,highlightIconA11yDescription:c,highlightTime:u,onClick:r?()=>{r.withExecutionContext({type:"synthetic",initiator:m},i)}:i,_container:e,updateRender(){var e;null===(e=I.hc.getContaining(this))||void 0===e||e.updateNode(this)}};return e.children.push(y),y}(t,e.title,(()=>{this.player.withExecutionContext({type:"other",initiator:`dialog-jumpmark(${e.title})`},(()=>{var t;e.trackActivation(this.player.pixelController),this.player.seekToAndPlayInternal(e.seconds),null===(t=I.hc.getContaining(s))||void 0===t||t.close()}))}),this.addon.executionContextProvider,e.subtitle,"",e.isEPG,a,e.highlightIconUrl,e.highlightIconA11yDescription,e.highlightTime===qt.HIGHLIGHT_TIME_EPG?(0,re.J9)(this.player.getCtrl(),this.player.isLive&&null!==(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.dvrUnixToRel(e.seconds))&&void 0!==n?n:e.seconds,!0,!0,!1):e.highlightTime,e.hasImage()?e.getImageUrl():void 0,e.gutterIconUrl,e.gutterIconA11yDescription,e.id);a&&null===(null==i?void 0:i.focusRequest)&&(null==i||i.setRequestedFocus(s)),this.setMetadata(e,s),ki(this,Ti,"f").push(e)}))}}setHighlightChapters(e){Ii(this,Ci,e,"f")}renderToDisplayList(e,t){e.title="Highlights";const i=I.hc.createUpdatingVerticalContainer(e,void 0,void 0,"list");Ii(this,Ai,i,"f"),this.renderChaptersToVContainer(t,i,e),Ii(this,Ci,[],"f")}onScreenClosed(e){Ii(this,Ai,null,"f"),Ii(this,Ti,[],"f"),e.forEach((e=>{this.clearMetadata(e)}))}updateDisplayList(e){var t,i,r;if(null===ki(this,Ai,"f"))return;const n=e.filter((e=>e.seekBarPosition>=0&&e.seekBarPosition<=1));if(n.length!==ki(this,Ti,"f").length||n.some((e=>!ki(this,Ti,"f").some((t=>e.id===t.id&&t.seconds===e.seconds)))))ki(this,Ai,"f").replaceContent((t=>{this.renderChaptersToVContainer(e,t)}));else for(let e=0;e<ki(this,Ti,"f").length;e++){const a=ki(this,Ti,"f")[e],s=n.find((e=>e.id===a.id));if(s&&!a.equals(s)){const n=this.getMetadata(s);n&&(n.subtitle=s.subtitle,n.synopsis="",n.isEPG=s.isEPG,n.highlightIconUrl=s.highlightIconUrl,n.highlightIconA11yDescription=s.highlightIconA11yDescription,n.highlightTime=s.highlightTime===qt.HIGHLIGHT_TIME_EPG&&null!==(r=(0,re.J9)(this.player.getCtrl(),this.player.isLive&&null!==(i=null===(t=this.player.getCtrl())||void 0===t?void 0:t.dvrUnixToRel(s.seconds))&&void 0!==i?i:s.seconds,!0,!0,!1))&&void 0!==r?r:s.highlightTime,n.image=s.hasImage()?s.getImageUrl():void 0,n.gutterIconUrl=s.gutterIconUrl,n.gutterIconA11yDescription=s.gutterIconA11yDescription,n.updateRender()),ki(this,Ti,"f")[e]=s,this.setMetadata(ki(this,Ti,"f")[e],n)}}}}function Pi(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=xi(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function xi(e){var t=""+e,i=Oi.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}Ci=new WeakMap,Ai=new WeakMap,Ti=new WeakMap;var _i=Object.prototype.hasOwnProperty,Oi=/["&<>]/;const Mi=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,o,l,d,c,u){i=i+'<div class="ardplayer-radio-show"'+Pi("title",a,!0,!0)+Pi("id",o,!0,!0)+' role="treeitem" aria-roledescription="Sendung"'+Pi("aria-expanded",`${d&&n.length>0}`,!0,!0)+Pi("data-disabled",`${s}`,!0,!0)+Pi("data-can-expand",`${n.length>0}`,!0,!0)+Pi("data-expanded",`${d&&n.length>0}`,!0,!0)+Pi("data-has-news",`${r.includes("news")}`,!0,!0)+Pi("data-has-weather",`${r.includes("weather")}`,!0,!0)+Pi("data-has-traffic",`${r.includes("traffic")}`,!0,!0)+'><div class="radio-show-main" tabindex="0" data-initiator-name="radio-show"'+Pi("data-is-live",`${d}`,!0,!0)+"><img"+Pi("src",l,!0,!0)+' fetchpriority="low" decoding="async" loading="lazy" role="presentation"><div class="radio-info-text"><div class="time-display"><span class="live-indicator">LIVE</span><span class="time-slot">'+xi(null==(t=u)?"":t)+'</span></div><span class="title">'+xi(null==(t=a)?"":t)+'</span><span class="subtitle">'+xi(null==(t=c)?"":t)+'</span></div><div class="radio-main-button"><button class="expando-toggle ardplayer-icon ardplayer-icon-arrowdown" tabindex="0" aria-label="Sendungsdetails"'+Pi("aria-controls",o,!0,!0)+Pi("aria-pressed",`${d&&n.length>0}`,!0,!0)+Pi("title",e.jumpmarks.radioGuide.buttons.toggleClips,!0,!0)+'></button><button class="play-now ardplayer-icon ardplayer-icon-play"'+Pi("aria-label",e.jumpmarks.radioGuide.buttons.play,!0,!0)+Pi("title",e.jumpmarks.radioGuide.buttons.play,!0,!0)+'></button></div></div><div class="radio-show-expando"'+Pi("aria-hidden",`${!(d&&n.length>0)}`,!0,!0)+' role="group"><div class="expando-wrapper"><div class="radio-show-expando-buttons" role="treeitem" aria-label="Sendungsnavigation"><button class="play-from-start ardplayer-icon ardplayer-icon-prevclip"'+Pi("aria-label",e.jumpmarks.radioGuide.buttons.startOver,!0,!0)+Pi("title",e.jumpmarks.radioGuide.buttons.startOver,!0,!0)+">"+xi(null==(t=e.jumpmarks.radioGuide.buttons.startOver)?"":t)+'</button><button class="play-news ardplayer-icon ardplayer-icon-news"'+Pi("aria-label",e.jumpmarks.radioGuide.buttons.news,!0,!0)+Pi("title",e.jumpmarks.radioGuide.buttons.news,!0,!0)+'></button><button class="play-weather ardplayer-icon ardplayer-icon-weather"'+Pi("aria-label",e.jumpmarks.radioGuide.buttons.weather,!0,!0)+Pi("title",e.jumpmarks.radioGuide.buttons.weather,!0,!0)+'></button><button class="play-traffic ardplayer-icon ardplayer-icon-traffic"'+Pi("aria-label",e.jumpmarks.radioGuide.buttons.traffic,!0,!0)+Pi("title",e.jumpmarks.radioGuide.buttons.traffic,!0,!0)+'></button></div><div class="radio-show-expando-clips"'+Pi("style",function(e){if(!e)return"";if("object"==typeof e){var t="";for(var i in e)_i.call(e,i)&&(t=t+i+":"+e[i]+";");return t}return e+""}("display: "+(d&&n.length>0?"block":"none")),!0,!0)+"></div></div></div></div>"}.call(this,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"availableButtons"in r?r.availableButtons:"undefined"!=typeof availableButtons?availableButtons:void 0,"children"in r?r.children:"undefined"!=typeof children?children:void 0,"content"in r?r.content:"undefined"!=typeof content?content:void 0,"disabled"in r?r.disabled:"undefined"!=typeof disabled?disabled:void 0,"id"in r?r.id:"undefined"!=typeof id?id:void 0,"image"in r?r.image:"undefined"!=typeof image?image:void 0,"isLive"in r?r.isLive:"undefined"!=typeof isLive?isLive:void 0,"subtitle"in r?r.subtitle:"undefined"!=typeof subtitle?subtitle:void 0,"timeSlot"in r?r.timeSlot:"undefined"!=typeof timeSlot?timeSlot:void 0),i};function Di(e,t,i,r){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(r?e:e+'="'+e+'"');var n=typeof t;return"object"!==n&&"function"!==n||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),i||-1===t.indexOf('"'))?(i&&(t=Ri(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function Ri(e){var t=""+e,i=Ni.exec(t);if(!i)return e;var r,n,a,s="";for(r=i.index,n=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}n!==r&&(s+=t.substring(n,r)),n=r+1,s+=a}return n!==r?s+t.substring(n,r):s}var Ni=/["&<>]/;const Ui=function(e){var t,i="",r=e||{};return function(e,r,n,a,s,o,l,d,c,u){i=i+'<div class="ardplayer-radio-clip" tabindex="0"'+Di("title",n,!0,!0)+' role="treeitem"'+Di("data-initiator-name",`radio-show-clip(${r})`,!0,!0)+Di("data-disabled",`${a}`,!0,!0)+Di("data-is-live",`${o}`,!0,!0)+Di("data-is-playing",`${l}`,!0,!0)+"><img"+Di("src",s,!0,!0)+' fetchpriority="low" decoding="async" loading="lazy" role="presentation"><div class="radio-info-text"><div class="time-display"><span class="playing-indicator ardplayer-icon ardplayer-icon-now-playing"></span><span class="live-indicator">LIVE</span><span class="time-slot">'+Ri(null==(t=c)?"":t)+'</span></div><span class="title">'+Ri(null==(t=n)?"":t)+'</span><span class="subtitle">'+Ri(null==(t=d)?"":t)+'</span></div><div class="radio-main-button"><button class="play-now ardplayer-icon ardplayer-icon-play"'+Di("aria-label",e.jumpmarks.radioGuide.buttons.play,!0,!0)+Di("title",e.jumpmarks.radioGuide.buttons.play,!0,!0)+"></button></div></div>"}.call(this,"Strings"in r?r.Strings:"undefined"!=typeof Strings?Strings:void 0,"clipType"in r?r.clipType:"undefined"!=typeof clipType?clipType:void 0,"content"in r?r.content:"undefined"!=typeof content?content:void 0,"disabled"in r?r.disabled:"undefined"!=typeof disabled?disabled:void 0,"image"in r?r.image:"undefined"!=typeof image?image:void 0,"isLive"in r?r.isLive:"undefined"!=typeof isLive?isLive:void 0,"isPlaying"in r?r.isPlaying:"undefined"!=typeof isPlaying?isPlaying:void 0,"subtitle"in r?r.subtitle:"undefined"!=typeof subtitle?subtitle:void 0,"time"in r?r.time:"undefined"!=typeof time?time:void 0,"title"in r?r.title:"undefined"!=typeof title?title:void 0),i};var Vi,ji,Bi=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},Fi=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};function Hi(e){return"x-RadioShow"===(null==e?void 0:e.type)}function Wi(e){return"x-RadioClip"===(null==e?void 0:e.type)}class zi{constructor(e){this.player=e,Vi.set(this,void 0),ji.set(this,void 0),Bi(this,Vi,new O.U(Mi,e),"f"),Bi(this,ji,new O.U(Ui,e),"f")}renderRadioShowDom(e,t,i){const r=Fi(this,Vi,"f").renderTemplateAsHolder(t,{img:O.U.select("img"),timeSlot:O.U.select(".time-slot"),title:O.U.select(".title"),subtitle:O.U.select(".subtitle"),showContainer:O.U.select(".radio-show-main"),clipContainer:O.U.select(".radio-show-expando-clips"),expando:O.U.select(".radio-show-expando"),expandoToggleButton:O.U.select("button.expando-toggle"),playButton:O.U.select("button.play-now"),playFromStartButton:O.U.select("button.play-from-start"),playNews:O.U.select("button.play-news"),playTraffic:O.U.select("button.play-traffic"),playWeather:O.U.select("button.play-weather")},!0);if(null===r)return[null,null];"true"===r.node.dataset.expanded&&e.querySelector('.ardplayer-radio-show[data-expanded="true"]')&&(r.node.dataset.expanded="false",r.node.setAttribute("aria-expanded","false"),r.elements.expandoToggleButton.setAttribute("aria-pressed","false")),(0,u.rO)(r.elements.img),e.appendChild(r.node),t._hasBeenRendered=!0,(0,d.Af)(r.elements.playFromStartButton,(()=>{t.onClick()}),this.player),(0,d.Af)(r.elements.playButton,(()=>{t.onClick()}),this.player),(0,d.Af)(r.elements.playNews,(()=>{t.onClickActionButton("news")}),this.player),(0,d.Af)(r.elements.playTraffic,(()=>{t.onClickActionButton("traffic")}),this.player),(0,d.Af)(r.elements.playWeather,(()=>{t.onClickActionButton("weather")}),this.player);const n=(e,t,i)=>{let r=-1;const n=e.offsetParent;if(null==n)return;const a=i=>{const s=e.offsetTop+t;n.scrollTop=Math.max(0,s),i<=r&&window.requestAnimationFrame(a)};window.requestAnimationFrame((e=>{r=e+i,window.requestAnimationFrame(a)}))},a=(e,t=null)=>{var i,a,s;if(null==e||e.stopPropagation(),"false"===r.node.dataset.canExpand)return;const o="true"===r.node.dataset.expanded;let l=!1;if(!o){r.elements.clipContainer.style.display="block";const e=Array.from(null!==(a=null===(i=r.node.parentElement)||void 0===i?void 0:i.children)&&void 0!==a?a:[]),t=e.indexOf(r.node);null===(s=r.node.parentElement)||void 0===s||s.querySelectorAll('.ardplayer-radio-show[data-expanded="true"]').forEach((i=>{var r;l=l||e.indexOf(i)<t,i.dataset.expanded="false",i.setAttribute("aria-expanded","false"),null===(r=i.querySelector("button.expando-toggle"))||void 0===r||r.setAttribute("aria-pressed","false")}))}this.player.safeTimeout((()=>{var e;r.elements.expando.setAttribute("aria-hidden",String(o)),r.node.dataset.expanded=o?"false":"true",r.node.setAttribute("aria-expanded",o?"false":"true"),r.elements.expandoToggleButton.setAttribute("aria-pressed",o?"false":"true"),(null!==t||l)&&n(r.node,null!==(e=null==t?void 0:t.offsetTop)&&void 0!==e?e:0,600)}))};return(0,d.Af)(r.elements.expandoToggleButton,a,this.player,!0),(0,d.Af)(r.elements.showContainer,a,this.player,!0),t.expand=e=>{var t;"false"===r.node.dataset.canExpand||"true"===r.node.dataset.expanded?n(r.node,null!==(t=null==e?void 0:e.offsetTop)&&void 0!==t?t:0,-1):a(null,e)},r.node.addEventListener("transitionend",(e=>{e.target===r.elements.expando&&"false"===r.node.dataset.expanded&&(r.elements.clipContainer.style.display="none")})),t.replaceContent=e=>{i.replaceChildContent(r.elements.clipContainer,t,e)},t.deltaUpdateContent=e=>{i.deltaUpdateChildContent(r.elements.clipContainer,t,e)},t.updateRendering=()=>{var e;r.node.title=t.content,r.elements.title.innerText=t.content,r.elements.img.src=null!==(e=t.image)&&void 0!==e?e:"",r.elements.subtitle.innerText=t.subtitle,r.elements.timeSlot.innerText=t.timeSlot,r.elements.showContainer.dataset.isLive=String(t.isLive),r.node.dataset.canExpand=String(t.children.length>0),r.node.dataset.hasNews=String(t.availableButtons.includes("news")),r.node.dataset.hasWeather=String(t.availableButtons.includes("weather")),r.node.dataset.hasTraffic=String(t.availableButtons.includes("traffic"))},[r.node,r.elements.clipContainer]}renderRadioClipDom(e,t){const i=Fi(this,ji,"f").renderTemplateAsHolder(t,{img:O.U.select("img"),timeSlot:O.U.select(".time-slot"),title:O.U.select(".title"),subtitle:O.U.select(".subtitle"),playButton:O.U.select("button.play-now")},!0);return null===i?null:((0,u.rO)(i.elements.img),e.appendChild(i.node),(0,d.Af)(i.node,(()=>{t.onClick()}),this.player),t.updateRendering=()=>{var e;i.elements.img.src=null!==(e=t.image)&&void 0!==e?e:"",i.node.title=t.content,i.elements.title.innerText=t.content,i.elements.subtitle.innerText=t.subtitle,i.elements.timeSlot.innerText=t.time,i.node.dataset.disabled=String(t.disabled),i.node.dataset.isLive=String(t.isLive),i.node.dataset.isPlaying=String(t.isPlaying)},t.scrollIntoView=()=>{var e,r;(0,I.g$)(t._container)&&(0,I.oC)(t._container)&&Hi(t._container)&&(null===(r=(e=t._container).expand)||void 0===r||r.call(e,i.node)),(0,he.GW)(i.node)},i.node)}}Vi=new WeakMap,ji=new WeakMap;var Gi=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},$i=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},Yi=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},Ki=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let qi=(()=>{var e,t;let i,r,n,a=wi,s=[];return e=class extends a{constructor(){super(...arguments),t.set(this,(Gi(this,s),null)),this.renderChaptersToVContainer=(e,t,i,r)=>{e.filter((e=>e instanceof ri&&["now","past"].includes(e.rawEvent.runningState))).toReversed().forEach((e=>{const i="now"===e.rawEvent.runningState,n=i?e.clips.filter((e=>["news","weather","traffic"].includes(e.type))).map((e=>e.type)):[],a=this.getMetadata(e),s=function(e,t,i,r,n,a,s,o,l,c,u,h,p){if(t){const d={content:i,subtitle:r,timeSlot:n,image:a,disabled:s,isLive:o,availableButtons:l};return Object.keys(d).some((e=>t[e]!==d[e]))?(Object.assign(t,d),t._container=e,e.children.push(t),t.updateRendering()):e.children.push(t),t}const f={type:"x-RadioShow",id:`ardplayer-radioshow-${(0,d.z3)(p)?(0,d.N4)():p}`,_hasBeenRendered:!1,_container:e,children:[],content:i,subtitle:r,timeSlot:n,image:a,disabled:s,isLive:o,availableButtons:l,onClick:()=>{h.withExecutionContext({type:"click",initiator:"radio-show-button-play"},c)},onClickActionButton:e=>{h.withExecutionContext({type:"click",initiator:`radio-show-button-${e}`},(()=>{u(e)}))},performSelect(e,t){this.onClickActionButton(e)},replaceContent(e){var t;this.children=[],e(this),null===(t=I.hc.getContaining(this))||void 0===t||t.updateNode(this)},deltaUpdateContent(e){var t;if(!this._hasBeenRendered)return void e(this);const i=I.hc.setChildrenRecordingDelta(this,e);i&&(null===(t=I.hc.getContaining(this))||void 0===t||t.deltaUpdateNodeChildren(this,i))},_enforceIntegrity(){this._hasBeenRendered=!0},updateRendering(){var e;this._hasBeenRendered&&(null===(e=I.hc.getContaining(this))||void 0===e||e.deltaUpdateNode(this))}};return e.children.push(f),f}(t,Hi(a)?a:null,this.safeTitle(e.title),this.safeTitle(e.subtitle),`${(0,pe.fU)(new Date((0,d.Ed)(e.rawEvent.currentStartDate)?e.rawEvent.currentStartDate:e.rawEvent.startDate),!1)} - ${(0,pe.fU)(new Date(e.rawEvent.endDate),!0)}`,e.hasImage()?e.getImageUrl():this.fallbackPosterImg,e.endAtSeconds<=this.dvrStartTimestamp,i,n,(()=>{var t;e.seconds<=this.dvrStartTimestamp?this.addon.showToast(null,this.player.StringConfig.Strings.jumpmarks.radioGuide.notify.showBeginOutOfRange):(null===(t=I.hc.getContaining(s))||void 0===t||t.close(),e.trackActivation(this.player.pixelController),this.player.seekToAndPlayInternal(Math.max(this.dvrStartTimestamp,e.seconds)))}),(t=>{var i;const r=e.clips.findLast((e=>e.type===t));r?(null===(i=I.hc.getContaining(s))||void 0===i||i.close(),r.trackActivation(this.player.pixelController),this.player.seekToAndPlayInternal(r.seconds)):this.addon.warn("found no clip of type in show:",t,e)}),this.addon.executionContextProvider,e.id);this.setMetadata(e,s),s.deltaUpdateContent((t=>{let n=!1;e.clips.toReversed().forEach((e=>{const a=this.getMetadata(e),o=!n&&i&&e.visibleAtTimestamp(this.liveTimestamp);n=n||o;const l=function(e,t,i,r,n,a,s,o,l,c,u,h,p){if(t){const i={content:r,disabled:c,image:l,isLive:a,isPlaying:s,subtitle:n,time:o};return Object.keys(i).some((e=>t[e]!==i[e]))?(Object.assign(t,i),t._container=e,e.children.push(t),t.updateRendering()):e.children.push(t),t}const f={type:"x-RadioClip",_container:e,id:`ardplayer-radioclip-${(0,d.z3)(p)?(0,d.N4)():p}`,clipType:i,content:r,disabled:c,image:l,isLive:a,isPlaying:s,subtitle:n,time:o,onClick:()=>{h.withExecutionContext({type:"click",initiator:`radio-clip-button-${i}`},u)},updateRendering(){var e;null===(e=I.hc.getContaining(this))||void 0===e||e.updateNode(this)}};return e.children.push(f),f}(t,Wi(a)?a:null,e.type,this.safeTitle(e.data.title),this.safeTitle(ei(e.data)?e.data.artist:""),o,e.id===(null==r?void 0:r.id),(0,pe.fU)(new Date(e.data.start),!0),e.hasImage()?e.getImageUrl():this.fallbackPosterImg,e.seconds<=this.dvrStartTimestamp||"music"===e.type,(()=>{var t;"music"===e.type?this.addon.showToast(null,this.player.StringConfig.Strings.jumpmarks.radioGuide.notify.musicClipWarning):e.seconds<=this.dvrStartTimestamp?this.addon.showToast(null,this.player.StringConfig.Strings.jumpmarks.radioGuide.notify.showBeginOutOfRange):(null===(t=I.hc.getContaining(s))||void 0===t||t.close(),e.trackActivation(this.player.pixelController),this.player.seekToAndPlayInternal(e.seconds))}),this.player,e.id);this.setMetadata(e,l)}))}))}))}}get fallbackPosterImg(){const e=(0,u.ll)(["audio"],this.player.model);return e.length>0?this.player.model.playerConfig.generic.imageTemplateConfig.resolveTemplate(e[0].url)[0].url:""}get dvrStartTimestamp(){var e,t,i,r,n,a,s,o;return null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.canCalculateDvrUnixTime())&&void 0!==t&&t?null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.dvrRelToUnix(0))&&void 0!==r?r:Date.now()/1e3-(null!==(a=null===(n=this.player.model.mediaCollection.live)||void 0===n?void 0:n.dvrWindowSeconds)&&void 0!==a?a:0):Date.now()/1e3-(null!==(o=null===(s=this.player.model.mediaCollection.live)||void 0===s?void 0:s.dvrWindowSeconds)&&void 0!==o?o:0)+60}get liveTimestamp(){var e,t;return null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrRelToUnix(this.player.getDuration()))&&void 0!==t?t:-1}safeTitle(e){return(0,d.Ed)(e)?e:""}renderToDisplayList(e,i,r,n){e.title=this.player.StringConfig.Strings.jumpmarks.radioGuide.title;const a=I.hc.createUpdatingVerticalContainer(e,void 0,void 0,"tree");Yi(this,t,a,"f"),this.addon.isDataAvailable?this.renderChaptersToVContainer(i,a,r,n):I.hc.renderLoadingIndicator(a,this.player.StringConfig.Strings.jumpmarks.radioGuide.loading)}updateDisplayList(e,i,r){var n;null===(n=Ki(this,t,"f"))||void 0===n||n.deltaUpdateContent((t=>{this.renderChaptersToVContainer(e,t,i,r)}))}onScreenClosed(e){e.forEach((e=>{this.clearMetadata(e),e.clips.forEach((e=>{this.clearMetadata(e)}))})),Yi(this,t,null,"f")}scrollIntoView(e){var t,i;const r=this.getMetadata(e);Wi(r)?null===(t=r.scrollIntoView)||void 0===t||t.call(r):Hi(r)&&(null===(i=r.expand)||void 0===i||i.call(r,null))}},t=new WeakMap,(()=>{var t;const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(t=a[Symbol.metadata])&&void 0!==t?t:null):void 0;i=[ne.$z],r=[ne.Ee],n=[ne.Ee],$i(e,null,i,{kind:"getter",name:"fallbackPosterImg",static:!1,private:!1,access:{has:e=>"fallbackPosterImg"in e,get:e=>e.fallbackPosterImg},metadata:o},null,s),$i(e,null,r,{kind:"getter",name:"dvrStartTimestamp",static:!1,private:!1,access:{has:e=>"dvrStartTimestamp"in e,get:e=>e.dvrStartTimestamp},metadata:o},null,s),$i(e,null,n,{kind:"getter",name:"liveTimestamp",static:!1,private:!1,access:{has:e=>"liveTimestamp"in e,get:e=>e.liveTimestamp},metadata:o},null,s),o&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),e})();var Ji=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},Qi=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0};let Zi=(()=>{var e;let t,i=[];return e=class{constructor(e){this.player=(Ji(this,i),e)}get showNodeDomRenderer(){return new zi(this.player)}supportsRenderingDisplayNode(e){return Si(e)||Wi(e)||Hi(e)}renderDisplayNodeToDom(e,t,i,r){let n=null,s=null;return Si(t)?([n,t.updateRender]=function(e,t){const i=a.s5.renderElem(e,"ardplayer-addon-jumpmark-holder","",null,"div"),r=a.s5.renderElem(i,"ardplayer-addon-jumpmark","",null,"div");r.tabIndex=0,r.role="listitem";const n=()=>{(0,d.Ie)(r);const e=a.s5.renderElem(r,"ardp-jpmrk-main","",null,"div");t.isSelected&&i.classList.add("ardp-jpmrk-selected");const n=a.s5.renderElem(e,"ardp-jpmrk-hlgt","",null,"div");if((0,d.Ed)(t.highlightIconUrl)){const e=document.createElement("i");e.style.backgroundImage=`url(${t.highlightIconUrl})`,(0,d.Ed)(t.highlightIconA11yDescription)&&(e.setAttribute("aria-label",t.highlightIconA11yDescription),e.title=t.highlightIconA11yDescription),n.appendChild(e)}if((0,d.Ed)(t.highlightTime)){const e=document.createElement("p");e.textContent=t.highlightTime,n.appendChild(e)}(0,d.Ed)(t.image)&&(a.s5.renderElem(e,"ardp-jpmrk-img","",null,"div").style.backgroundImage=`url(${t.image})`);const s=a.s5.renderElem(e,"ardp-jpmrk-title","",null,"div");if((0,d.Ed)(t.content)){const e=document.createElement("p");e.textContent=t.content,s.appendChild(e)}if((0,d.Ed)(t.subtitle)){const e=document.createElement("p");e.textContent=t.subtitle,s.appendChild(e)}if((0,d.Ed)(t.gutterIconUrl)){const i=a.s5.renderElem(e,"ardp-jpmrk-gutter","",null,"div"),r=document.createElement("i");r.style.backgroundImage=`url(${t.gutterIconUrl})`,(0,d.Ed)(t.gutterIconA11yDescription)&&(r.setAttribute("aria-label",t.gutterIconA11yDescription),r.title=t.gutterIconA11yDescription),i.appendChild(r)}r.classList.toggle("ardp-jpmrk-epg",t.isEPG),t.isEPG&&(0,d.Ed)(t.synopsis)&&a.s5.renderElem(r,"ardp-jpmrk-synopsis",t.synopsis,null,"p")};return n(),[r,n]}(e,t),(0,d.Af)(n,(()=>{t.onClick()}),r)):Hi(t)?[n,s]=this.showNodeDomRenderer.renderRadioShowDom(e,t,i):Wi(t)&&(n=this.showNodeDomRenderer.renderRadioClipDom(e,t)),[n,s]}},(()=>{const r="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;t=[ne.$z],Qi(e,null,t,{kind:"getter",name:"showNodeDomRenderer",static:!1,private:!1,access:{has:e=>"showNodeDomRenderer"in e,get:e=>e.showNodeDomRenderer},metadata:r},null,i),r&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r})})(),e})();var Xi=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},er=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},tr=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},ir=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},rr=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},nr=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};let ar=(()=>{var e,t,i,n,a,s,o,l,u,h;let p,f,v,m,y,b,E,w,S=[ne.JW],C=[],A=T.t,L=[];var P=f=class extends A{constructor(){var r;super(...arguments),this.ID=(Xi(this,L),"AddonSprungmarken"),this.configKey="jumpmarks",this.isBreakpointS=!1,this.imageQueue=new Set,this.chapterArray=null,this.eventStream=null,this.chapters=[],this.ctaSections=[],this.duration=0,this.drawingComplete=!1,this.reloadTimeout=-1,this.canTiggerRecommendations=!0===(null===(r=c.O.platformConfig)||void 0===r?void 0:r.useRecommendationDelegate),this.currentTime=0,this.viewCtrl=null,this.uiJumpMarkContainer=null,this.uiJumpMarkContainerWidth=0,this.uiJumpmarkHint=null,this.overlayContainer=null,this.ctaOverlayContainer=null,this.playerView=null,this.btnSkipBackward=[],this.btnSkipForward=[],this.spritesheetColumnCount=4,this.prevChapter=null,this.nextChapter=null,this.lastSkippedAt=-1,this.lastSkippedToChapter=null,this.currEPGChapter=null,this.nextEPGChapter=null,this.currClip=null,this.currCTA=null,this.ctaFadeoutTimeout=-1,this.fetchDurationPattern=/{pastHours}/g,this.lastSuccessfulFetch=-1,this.infoConsumer=null,this.chapterRendererOpt=null,this.radioScreenRendererOpt=null,this.radioDrawerRendererOpt=null,this.eventDispatcher=null,e.set(this,!1),t.set(this,!1),i.set(this,!1),this.handleSkipForward=()=>{var e,t;this.nextChapter&&(null===(e=this.viewCtrl)||void 0===e||e.showAnimation("seekfwd"),this.nextChapter.trackActivation(this.player.pixelController),this.lastSkippedAt=performance.now(),this.lastSkippedToChapter=this.nextChapter,this.player.seekToInternal(this.nextChapter.seconds),null===(t=this.viewCtrl)||void 0===t||t.setOutDelayed())},this.handleSkipBackward=()=>{var e,t,i,r,n,a,s,o;this.prevChapter?(null===(e=this.viewCtrl)||void 0===e||e.showAnimation("seekback"),this.prevChapter.trackActivation(this.player.pixelController),this.lastSkippedAt=performance.now(),this.lastSkippedToChapter=this.prevChapter,this.player.seekToInternal(this.prevChapter.seconds),null===(t=this.viewCtrl)||void 0===t||t.setOutDelayed()):this.player.isLive&&this.currEPGChapter&&null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.canCalculateDvrUnixTime())&&void 0!==r&&r&&this.currEPGChapter.seconds<(null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrRelToUnix(0))&&void 0!==a?a:Date.now()/1e3-(null!==(o=null===(s=this.player.model.mediaCollection.live)||void 0===s?void 0:s.dvrWindowSeconds)&&void 0!==o?o:0))&&this.showToast(null,this.player.StringConfig.Strings.jumpmarks.radioGuide.notify.showBeginOutOfRange)},n.set(this,-1),a.set(this,null),s.set(this,null),o.set(this,!1),this.jumpMarkClick=e=>{var t,i,r;const n=null==e?void 0:e.target;if(n){const a=this.getClickTarget(n);if(a){const n=parseInt(null!==(t=a.dataset.time)&&void 0!==t?t:"0",10);let s=this.chapters.filter((e=>e.pipDomElement===a));s=s.length>0||null===nr(this,h,"f")?s:nr(this,h,"f");const o=null!==(i=s.find((e=>e.seconds===n)))&&void 0!==i?i:s.length>0?s[0]:null,l=e.type.includes("touch");this.player.withExecutionContext({type:l?"touch":"click",initiator:`controlbar-jumpmark(${null!==(r=null==o?void 0:o.title)&&void 0!==r?r:n})`},(()=>{var e;s.length>1&&(this.isBreakpointS||c.O.isMobileDevice||c.O.isEmbedded||this.player.isAudio||l)&&!c.O.isAndroidTV?(this.chapterRenderer.setHighlightChapters(s),null===(e=this.bottomSheet)||void 0===e||e.reveal(this,P.SCREEN_CHAPTERS,!0)):(null!=o&&o.trackActivation(this.player.pixelController),this.player.seekToAndPlayInternal(n),this.jumpMarkLeave())}))}}return e.stopImmediatePropagation(),e.preventDefault(),!0},this.jumpMarkEnter=(e,t)=>{if(this.isBreakpointS)return;const i=e.target;if(!i.classList.contains(P.CSS_CLASS_CLICK_TARGET))return;let r=t;if(t&&"focus"===e.type&&e.relatedTarget){const t=e.relatedTarget;t&&(r=t.getBoundingClientRect().top>i.getBoundingClientRect().top)}this.jumpMarkEnterPip(i,t,r)},this.jumpMarkEnterPip=(e,t,i)=>{var r,n;this.isBreakpointS||this.player.isAudio||(this.showPopupForPip(e),t&&this.player.safeTimeout((()=>{var e;(0,he.GW)(null===(e=this.overlayContainer)||void 0===e?void 0:e.querySelector(`[tabindex]:${i?"last":"first"}-of-type`),!0)})),null===(r=this.uiJumpMarkContainer)||void 0===r||r.querySelectorAll(".ardplayer-focus-outline").forEach((e=>{e.classList.remove("ardplayer-focus-outline")})),t&&(null===(n=this.uiJumpMarkContainer)||void 0===n||n.classList.add("ardplayer-pip-focused"),e.classList.add("ardplayer-focus-outline")))},this.showPopupForPip=(e,t=null)=>{this.isBreakpointS||this.showPopupForChapters(this.chapters.filter((t=>t.pipDomElement===e&&t.seekBarPosition>=0&&t.seekBarPosition<=1)),t)},l.set(this,null),u.set(this,null),h.set(this,null),this.handleBackNavigation=()=>{if(nr(this,l,"f")){const e=nr(this,l,"f");this.jumpMarkLeave(),(0,he.YR)(this.playerView,!0,!1,e)}else this.currCTA&&(this.currCTA.dismiss(),this.updateCTA())},this.jumpMarkLeave=()=>{var e,t,i,r,n,a,s;nr(this,l,"f")&&this.viewCtrl&&(this.viewCtrl.toggleForceControlsVisible(this.ID,!1),this.viewCtrl.setOutDelayed(),null===(e=this.viewCtrl.timeline)||void 0===e||e.setHoverLabelHidden(!1)),null==this.currCTA&&(null===(i=null===(t=this.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i||i.removeBackNavigationHandler(this)),null===(n=null===(r=this.viewCtrl)||void 0===r?void 0:r.playerView)||void 0===n||n.classList.remove("ardplayer-showing-chapter-popup"),null===(a=nr(this,l,"f"))||void 0===a||a.classList.remove("ardplayer-focus-outline"),null===(s=this.uiJumpMarkContainer)||void 0===s||s.classList.remove("ardplayer-pip-focused"),rr(this,l,null,"f"),rr(this,u,null,"f"),rr(this,h,null,"f"),(0,d.Ie)(this.overlayContainer)}}get historyDuration(){var e,t,i;return Math.max(null!==(e=this.conf.historyDurationSeconds)&&void 0!==e?e:0,this.duration>0?this.duration:null!==(i=null===(t=this.mc.live)||void 0===t?void 0:t.dvrWindowSeconds)&&void 0!==i?i:0)}get renderExtender(){return new Zi(this.player)}get chapterRenderer(){return this.chapterRendererOpt=new Li(this,this.player),this.chapterRendererOpt}get radioScreenRenderer(){return this.radioScreenRendererOpt=new qi(this,this.player),this.radioScreenRendererOpt}get radioDrawerRenderer(){return this.radioDrawerRendererOpt=new qi(this,this.player),this.radioDrawerRendererOpt}register(){var e,t,i,n;return!!super.register()&&(!(null!==(e=this.conf.chaptersEnabled)&&void 0!==e&&!e)&&(this.duration=this.player.model.duration,this.chapterArray=(null!==(i=null===(t=this.conf.chapterArray)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0?JSON.parse(JSON.stringify(this.conf.chapterArray)):this.chapterArray,this.eventStream=null!==(null!==(n=this.conf.eventStream)&&void 0!==n?n:null)?JSON.parse(JSON.stringify(this.conf.eventStream)):this.eventStream,this.eventDispatcher=new g.W(this.player),this.registerPlayerEvent(r.a.EVENT_READY,this.initLoading),this.registerPlayerEvent(r.a.EVENT_UPDATE_STREAM_TIME,this.timeChangeHandler),this.registerPlayerEvent(r.a.EVENT_UPDATE_STREAM_DURATION,this.durationChangeHandler),this.registerPlayerEvent(r.a.EVENT_STOP_STREAM,this.stopStreamHandler),this.registerPlayerEvent(r.a.EVENT_DVR_CHANGE,this.dvrChangeHandler),this.registerPlayerEvent(r.a.EVENT_KEYBOARD_RELEASE,this.keyboardHandler),this.registerPlayerEvent(r.a.VIEWPORT_RESIZE,this.viewportResizeHandler),this.registerPlayerEvent(r.a.EVENT_CTRLBAR_FADEIN,this.ctrlBarFadeinHandler),this.registerPlayerEvent("Player.DRAWER_SHEET_STATE",this.drawerStateHandler),this.registerEvent("AddonRecommendations.TEASERS_AVAILABLE",(e=>{this.canTiggerRecommendations=e.available})),!0===this.conf.publishEPGInfos&&this.player._findAddon("AddonInfo").then((e=>{var t;this.infoConsumer=e,null===(t=this.infoConsumer)||void 0===t||t.setInfoProvider(this),this.info("publishing epg infos to consumer")})).catch((e=>{this.warn("configured to be epg info provider, but no consumer found",e)})),this.player.isAudio&&(0,d.z3)(this.conf.url)&&this.registerPlayerEvent(r.a.SETUP_VIEW_COMPLETE,this.initLoading),!0))}parcelData(){return(0,d.z3)(this.conf.url)||!this.mc.isLive||0===this.conf.refreshSeconds?null:{url:this.conf.url,chapterArray:this.chapterArray,eventStream:this.parcelEventStream(),ctaData:this.ctaSections.map((e=>e.data)),lastSuccessfulFetch:this.isDataAvailable?this.lastSuccessfulFetch:-1}}parcelEventStream(){return null==this.eventStream?null:Object.assign({},this.eventStream,{events:this.chapters.filter((e=>ii(e))).map((e=>Object.assign({},e.rawEvent,{clips:e.clips.map((e=>e.data))})))})}restoreParceledData(e){super.restoreParceledData(e),e.url===this.conf.url&&(this.chapterArray=e.chapterArray,this.eventStream=e.eventStream,this.lastSuccessfulFetch=e.lastSuccessfulFetch,null==this.eventStream&&null==this.chapterArray||this.registerPlayerEvent("Player.SETUP_VIEW",(()=>{this.player.safeTimeoutPreservingContext((()=>{var t;e.lastSuccessfulFetch>0&&rr(this,i,!0,"f"),this.eventStream?this.parseEventStream():this.chapterArray&&this.parseChapterArray(),e.ctaData.forEach((e=>{const t=fi.createFor(e,this.mc.isLive,this.player,this);null!==t&&(this.ctaSections.push(t),t.hasImage()&&this.imageQueue.add(t.getImageUrl()))})),this.log("finished restoring parceled data"),null===(t=this.eventDispatcher)||void 0===t||t.dispatchEvent("Jumpmarks.RefreshedEPGData",{})}))})))}dispose(){var t,i,r,n;rr(this,e,!0,"f"),null===(t=this.eventDispatcher)||void 0===t||t.dispose(),this.eventDispatcher=null,null===(i=this.infoConsumer)||void 0===i||i.setInfoProvider(null),this.infoConsumer=null,this.ctaSections.forEach((e=>{e.dispose()})),this.ctaSections=[],clearTimeout(this.reloadTimeout),null===(n=null===(r=this.player.viewCtrl)||void 0===r?void 0:r.keyboardCtrl)||void 0===n||n.removeBackNavigationHandler(this),super.dispose(),this.chapters.splice(0,this.chapters.length),this.imageQueue.clear(),this.drawingComplete=!1,this.duration=0,this.spritesheetColumnCount=4,this.uiJumpMarkContainer&&this.uiJumpMarkContainer.remove(),this.uiJumpmarkHint&&this.uiJumpmarkHint.remove()}listAddonButtons(){return this.addonButtonVisible()?[{screen:P.SCREEN_CHAPTERS,heroPriority:10,classList:["ardplayer-icon","ardplayer-icon-chapter-list"],accessibilityKey:"jumpmarks"}]:[]}addonButtonVisible(){return!(c.O.isEmbedded&&this.player.isAudio&&this.player.isLive)&&this.chapters.length>=0&&this.chapters.some((e=>e.seekBarPosition>=0&&e.seekBarPosition<=1))}eventSetupView(e){var t,i,r;super.eventSetupView(e),this.viewCtrl=e.controller,this.player.getTarget().classList.add("ardplayer-state-jumpmarks"),this.overlayContainer=document.createElement("div"),this.overlayContainer.classList.add("ardplayer-addon-sprungmarken-overlays"),null===(t=e.viewport)||void 0===t||t.appendChild(this.overlayContainer),this.ctaOverlayContainer=e.viewport,this.playerView=e.controller.playerView,this.btnSkipBackward=Array.from(this.playerView.querySelectorAll(".ardplayer-button-skipbackward")),this.btnSkipForward=Array.from(this.playerView.querySelectorAll(".ardplayer-button-skipforward")),this.btnSkipBackward.forEach((e=>{this.onClick(e,this.handleSkipBackward)})),this.btnSkipForward.forEach((e=>{this.onClick(e,this.handleSkipForward)})),this.player.isLive&&this.player.isAudio&&c.O.isEmbedded&&(null===(r=null===(i=this.viewCtrl)||void 0===i?void 0:i.timeline)||void 0===r||r.addHoverListener(this))}renderToDisplayList(e,t){e.setRenderExtensions(this.renderExtender),t===P.SCREEN_CHAPTERS?this.chapterRenderer.renderToDisplayList(e,this.chapters):t===P.SCREEN_RADIO_SHOWS?this.radioScreenRenderer.renderToDisplayList(e,this.chapters,this.currEPGChapter,this.currClip):t===P.SCREEN_RADIO_SHOWS_DRAWER&&this.radioDrawerRenderer.renderToDisplayList(e,this.chapters,this.currEPGChapter,this.currClip),-1===this.lastSuccessfulFetch&&this.historyDuration>0&&(this.lastSuccessfulFetch=Date.now()/1e3-this.historyDuration),this.initLoading()}onScreenClosed(e){var t,i;e===P.SCREEN_CHAPTERS?this.chapterRenderer.onScreenClosed(this.chapters):e===P.SCREEN_RADIO_SHOWS?this.radioScreenRenderer.onScreenClosed(this.chapters):e===P.SCREEN_RADIO_SHOWS_DRAWER&&this.radioDrawerRenderer.onScreenClosed(this.chapters),null===(t=this.viewCtrl)||void 0===t||t.toggleForceControlsVisible(this.ID,!1),null===(i=this.viewCtrl)||void 0===i||i.setOutDelayed(),super.onScreenClosed(e)}updateDisplayList(){var e,t,i;null===(e=this.chapterRendererOpt)||void 0===e||e.updateDisplayList(this.chapters),null===(t=this.radioScreenRendererOpt)||void 0===t||t.updateDisplayList(this.chapters,this.currEPGChapter,this.currClip),null===(i=this.radioDrawerRendererOpt)||void 0===i||i.updateDisplayList(this.chapters,this.currEPGChapter,this.currClip)}keyboardHandler(e){if(e.shiftKey)switch(e.shortcut){case"l":this.handleSkipForward();break;case"j":this.handleSkipBackward()}}get isDataAvailable(){return(0,d.z3)(this.conf.url)||this.lastSuccessfulFetch>0&&nr(this,i,"f")}initLoading(){var e,i;if(nr(this,t,"f"))return;if((0,d.Ed)(this.conf.url)&&this.conf.url.match(this.fetchDurationPattern)&&this.lastSuccessfulFetch<=0)return void this.log("url has variable fetch time, wait for duration to be known");rr(this,t,!0,"f");const r=(null!==(e=this.conf.chapterSpriteImage)&&void 0!==e?e:"").trim();if((0,d.Ed)(r)){this.imageQueue.add(r);const e=this.conf.chapterSpriteColumns;e&&!isNaN(e)&&e>0&&(this.spritesheetColumnCount=e)}(0,d.Ed)(this.conf.url)?null!=this.chapterArray||null!=this.eventStream?this.reloadTimeout=this.player.safeTimeout((()=>{this.loadRemoteChapters()}),1e3*(null!==(i=this.conf.refreshSeconds)&&void 0!==i?i:10)):this.loadRemoteChapters():null!=this.chapterArray?this.parseChapterArray():null!=this.eventStream?this.parseEventStream():this.log("neither chapterArray nor eventStream available!"),!this.mc.isLive&&this.conf.ctaSections&&this.conf.ctaSections.length>0&&(this.log("parsing cta sections",this.conf.ctaSections),this.ctaSections.forEach((e=>{e.dispose()})),this.ctaSections=[],this.conf.ctaSections.forEach((e=>{const t=fi.createFor(e,!1,this.player,this);t&&(this.ctaSections.push(t),t.hasImage()&&this.imageQueue.add(t.getImageUrl()))})),this.sanitizeCTASections())}loadRemoteChapters(){(0,d.z3)(this.conf.url)||fetch(this.conf.url.match(this.fetchDurationPattern)?this.conf.url.replace(this.fetchDurationPattern,String(Math.max(.1,(Date.now()/1e3-this.lastSuccessfulFetch)/60/60).toFixed(1))):this.conf.url,{method:"GET",headers:{Accept:"application/json"}}).then((e=>tr(this,void 0,void 0,(function*(){return(0,d.og)(yield e.json())})))).then((t=>{var r,n;if(!nr(this,e,"f")){try{this.player.checkStateStrict()}catch(e){return void this.warn("aborting async",e)}var a;this.lastSuccessfulFetch=Date.now()/1e3,Array.isArray(t)&&(0===t.length||(a=t[0],(0,d.i5)(a,"chapterTime")))?(this.log("updating MediaChapter[]"),this.chapterArray&&JSON.stringify(t)===JSON.stringify(this.chapterArray)||(this.chapterArray=t,this.parseChapterArray())):!function(e){return"object"==typeof e&&"string"==typeof e.name&&Array.isArray(e.events)&&(0===e.events.length||!!e.events[0].id)}(t)?this.log("could not interpret data as MediaChapter[] or EventStream",t):(this.log("updating EventStream"),this.eventStream&&JSON.stringify(t)===JSON.stringify(this.eventStream)||(this.eventStream=t,this.parseEventStream())),rr(this,i,!0,"f"),null===(r=this.eventDispatcher)||void 0===r||r.dispatchEvent("Jumpmarks.RefreshedEPGData",{}),this.mc.isLive&&0!==this.conf.refreshSeconds&&(clearTimeout(this.reloadTimeout),this.reloadTimeout=this.player.safeTimeout((()=>{this.loadRemoteChapters()}),1e3*(null!==(n=this.conf.refreshSeconds)&&void 0!==n?n:10)))}})).catch((e=>{var t,i;this.log("unexpected error",e);try{this.player.checkStateStrict()}catch(e){return void this.warn("aborting async",e)}if(this.mc.isLive&&0!==this.conf.refreshSeconds){const e=Math.max(null!==(t=this.conf.refreshSeconds)&&void 0!==t?t:10,null!==(i=this.conf.noContentRefreshSeconds)&&void 0!==i?i:60);this.log(`will retry in ${e} seconds`),clearTimeout(this.reloadTimeout),this.reloadTimeout=this.player.safeTimeout((()=>{this.loadRemoteChapters()}),1e3*e)}}))}sanitizeChapters(){this.chapters.sort(((e,t)=>e.seconds-t.seconds));for(let e=0;e<this.chapters.length-2;e++)this.chapters[e].equals(this.chapters[e+1])&&(this.chapters.splice(e,1),e--)}sanitizeCTASections(){this.ctaSections.sort(((e,t)=>e.seconds-t.seconds))}parseEventStream(){var e,t,i,r,n;this.chapterArray=null;const a=this.chapters.filter((e=>e.hasImage()&&e.hasLoadedImage)),s=null==nr(this,l,"f")?[]:this.chapters.filter((e=>e.pipDomElement===nr(this,l,"f"))),o=this.fetchDurationPattern.test(null!==(e=this.conf.url)&&void 0!==e?e:""),c=o?this.chapters:[],u=o?this.ctaSections:[];if(this.chapters=[],this.ctaSections.forEach((e=>{e.dispose()})),this.ctaSections=[],null===(i=null===(t=this.eventStream)||void 0===t?void 0:t.events)||void 0===i||i.forEach((e=>{var t;ri.createFor(e,this.mc.isLive,"AUDIOAPP"===this.player.viewCtrl.CONTROLLER_NAME).forEach((e=>{if(this.chapters.push(e),e.hasImage()){const t=a.find((t=>t.loadedImageSrc===e.getImageUrl()));t?e.setPreloadedImageFrom(t):this.imageQueue.add(e.getImageUrl())}})),null===(t=e.ctaSections)||void 0===t||t.forEach((e=>{const t=fi.createFor(e,this.mc.isLive,this.player,this);null!==t&&(this.ctaSections.push(t),t.hasImage()&&this.imageQueue.add(t.getImageUrl()))}))})),this.mc.isLive&&(c.length>0||u.length>0)){const e=null!==(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.dvrRelToUnix(this.duration-this.historyDuration))&&void 0!==n?n:(Date.now()/1e3|0)-this.historyDuration;for(let t=c.length-1;t>=0&&e<=c[t].endAtSeconds;t--)for(let i=this.chapters.length-1;i>=0;i--){if((0,d.Ed)(this.chapters[i].id)&&this.chapters[i].id===c[t].id){this.chapters[i][jt]=c[t][jt];for(let r=c[t].clips.length-1;r>=0&&!(e>c[t].clips[r].endAtSeconds);r--)if(0===this.chapters[i].clips.length||c[t].clips[r].seconds<this.chapters[i].clips[0].seconds)this.chapters[i].clips.unshift(c[t].clips[r]);else if(Object.keys(c[t].clips[r][jt]).length>0){const e=this.chapters[i].clips.find((e=>e.id===c[t].clips[r].id));e&&(e[jt]=c[t].clips[r][jt])}break}0===i&&(this.chapters.unshift(c[t]),c[t].clips=c[t].clips.filter((t=>t.endAtSeconds>=e)))}for(let t=u.length-1;t>=0&&(e<=u[t].seconds||u[t].visibleAtTimestamp(e));t--)(0===this.ctaSections.length||this.ctaSections[0].seconds>u[t].seconds)&&this.ctaSections.unshift(u[t])}if(s.map((e=>this.chapters.find((t=>e.equals(t))))).forEach((e=>{null!=e&&(e.pipDomElement=nr(this,l,"f"))})),this.sanitizeChapters(),this.sanitizeCTASections(),this.imageQueue.size>0){const[e]=this.imageQueue;this.imageQueue.delete(e),this.preloadImage(e)}this.drawingComplete=!1,this.draw(),this.renderButtons(),this.updateDisplayList(),this.publishPOIToTimeline()}parseChapterArray(){var e;this.eventStream=null;const t=this.chapters.filter((e=>e.hasImage()&&e.hasLoadedImage)),i=null==nr(this,l,"f")?[]:this.chapters.filter((e=>e.pipDomElement===nr(this,l,"f"))),r=null!==(e=this.chapterArray)&&void 0!==e?e:[];if(this.chapters=r.map((e=>{const i=new Jt(e,"AUDIOAPP"===this.player.viewCtrl.CONTROLLER_NAME);if(i.hasImage()){const e=t.find((e=>e.loadedImageSrc===i.getImageUrl()));e?i.setPreloadedImageFrom(e):this.imageQueue.add(i.getImageUrl())}return i})),i.map((e=>this.chapters.find((t=>e.equals(t))))).forEach((e=>{null!=e&&(e.pipDomElement=nr(this,l,"f"))})),this.sanitizeChapters(),this.imageQueue.size>0){const[e]=this.imageQueue;this.imageQueue.delete(e),this.preloadImage(e)}this.drawingComplete=!1,this.draw(),this.renderButtons(),this.updateDisplayList(),this.publishPOIToTimeline()}preloadImage(e){if(!e)return;const t=()=>{if(this.imageQueue.size>0){const[e]=this.imageQueue;this.imageQueue.delete(e),this.preloadImage(e)}},i=document.createElement("img");i.onload=i=>{const r=e===this.conf.chapterSpriteImage;for(let t=0,n=-1;t<this.chapters.length;t++){const a=this.chapters[t];!a.hasImage()&&r&&++n,(a.getImageUrl()===e||!a.hasImage()&&r)&&a.setPreloadedImage(i.target,r,n)}t.call(this)},i.onerror=()=>{t.call(this)},i.setAttribute("src",e)}seekToAndPlayClip(e){var t,i;if(this.isDataAvailable){if(this.chapters.length>0)for(let i=this.chapters.length-1;i>=0;i--){const r=null!==(t=this.chapters[i].clips.findLast((t=>t.type===e)))&&void 0!==t?t:null;if(r)return this.info("found clip to start playing for",e),r.trackActivation(this.player.pixelController),void this.player.seekToAndPlayInternal(r.seconds)}this.warn("no clip found to start playback with for type",e),this.player.playInternal()}else{this.log("waiting for data to load to start playing at clip");const t=()=>{var i;null===(i=this.eventDispatcher)||void 0===i||i.removeEventListener("Jumpmarks.RefreshedEPGData",t),this.seekToAndPlayClip(e)};null===(i=this.eventDispatcher)||void 0===i||i.addEventListener("Jumpmarks.RefreshedEPGData",t),this.initLoading()}}timeChangeHandler(e){this.currentTime=e.currentTime,this.updateSkipButtonsAndEPG(),this.mc.isLive&&this.draw(),this.updateCTA()}stopStreamHandler(){this.updateSkipButtonsAndEPG(),this.updateCTA(),clearTimeout(this.reloadTimeout),rr(this,t,!1,"f")}durationChangeHandler(){var e,t;const i=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.getDuration())&&void 0!==t?t:0;!this.mc.isLive&&Math.abs(this.duration-i)>1&&(this.drawingComplete=!1),this.duration=i,this.lastSuccessfulFetch<=0&&(0,d.Ed)(this.conf.url)&&(this.log("got duration, init loading if url has dynamic window"),this.lastSuccessfulFetch=Date.now()/1e3-this.historyDuration,this.initLoading()),this.draw()}dvrChangeHandler(){this.draw()}drawerStateHandler(e){var t;if(e.open&&this.radioDrawerRendererOpt){const e=null!==(t=this.currClip)&&void 0!==t?t:this.currEPGChapter;e&&this.radioDrawerRendererOpt.scrollIntoView(e)}}viewportResizeHandler(){var e,t,i;this.isBreakpointS=null!==(i=null===(t=null===(e=this.playerView)||void 0===e?void 0:e.classList)||void 0===t?void 0:t.contains("ardplayer-s"))&&void 0!==i&&i,this.chapters&&this.chapters.length>0&&-1===nr(this,n,"f")&&rr(this,n,this.player.safeTimeoutWithContext({type:"timeout",initiator:"resizeHandlerThrottle"},(()=>{this.drawingComplete=!1,this.draw(),rr(this,n,-1,"f")}),50),"f")}ctrlBarFadeinHandler(){this.drawingComplete||this.draw()}renderButtons(){super.renderButtons(),this.draw()}get isPlaybackStateInvalid(){var e;return 3===this.player.model.playstate||0===this.player.model.playstate||!0===(null===(e=this.player.getCtrl())||void 0===e?void 0:e.isAtEnd)}updateSkipButtonsAndEPG(){var e,t,i,r,n,a,s,o,l,d,u,h,p,f,v,m,y,g;let b=null,E=null,w=null,S=null;const C=null!==this.eventStream;if(!this.isPlaybackStateInvalid){const o=this.mc.isLive&&null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrRelToUnix(this.currentTime))&&void 0!==t?t:this.currentTime,l=this.mc.isLive?null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.dvrRelToUnix(this.duration))&&void 0!==r?r:0:this.duration,d=this.mc.isLive&&null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrRelToUnix(0))&&void 0!==a?a:0;this.lastSkippedToChapter&&Math.abs(this.lastSkippedToChapter.seconds-o)>2&&(Math.abs(this.lastSkippedToChapter.seconds-o)>20||performance.now()-this.lastSkippedAt>=5e3)&&(this.log("last skip chapter fell out of slack range"),this.lastSkippedToChapter=null);for(const e of this.chapters)if(C&&ii(e)&&(e.seconds<=o?w=e:null!=S||(S=e)),!(e.seconds<d||e.seconds>l||e.seconds===(null===(s=this.lastSkippedToChapter)||void 0===s?void 0:s.seconds)))if(e.seconds<o)b=e;else if(e.seconds>o){E=e;break}}this.prevChapter=b,this.nextChapter=E;const A=this.currEPGChapter!==w&&(null==this.currEPGChapter||null==w||!this.currEPGChapter.equals(w));this.currEPGChapter=w,this.nextEPGChapter=S;const T=this.updateCurrentClip();(A||T)&&(this.log("updated epg",null===(o=this.currEPGChapter)||void 0===o?void 0:o.id,null===(l=this.currEPGChapter)||void 0===l?void 0:l.title),null===(d=this.infoConsumer)||void 0===d||d.updateInfo(),this.updateDisplayList(),this.emitEPGEvent(w,this.currClip,!1));const I=null!==(h=null!==(u=null==b?void 0:b.seconds)&&void 0!==u?u:null)&&void 0!==h?h:this.player.isAudio&&c.O.isEmbedded&&null!==(f=null===(p=this.currEPGChapter)||void 0===p?void 0:p.seconds)&&void 0!==f?f:null,L=null===I?"":(0,re.J9)(this.player.getCtrl(),this.mc.isLive&&null!==(m=null===(v=this.player.getCtrl())||void 0===v?void 0:v.dvrUnixToRel(I))&&void 0!==m?m:I,!0,!0,!1),P=null===E?"":(0,re.J9)(this.player.getCtrl(),this.mc.isLive&&null!==(g=null===(y=this.player.getCtrl())||void 0===y?void 0:y.dvrUnixToRel(E.seconds))&&void 0!==g?g:E.seconds,!0,!0,!1);this.btnSkipBackward.forEach((e=>{e.classList.remove("ardplayer-button-disabled"),e.classList.toggle("ardplayer-button-visually-disabled",null===b),b?(0,k.$)(this.player,e,"jumpmark-prev",{label:null==b?void 0:b.title,displayTime:L,index:this.chapters.indexOf(b)+1}):(0,k.$)(this.player,e,"jumpmark-prev-none",{displayTime:L})})),this.btnSkipForward.forEach((e=>{e.classList.toggle("ardplayer-button-disabled",null===E),E?(0,k.$)(this.player,e,"jumpmark-next",{label:null==E?void 0:E.title,displayTime:P,index:this.chapters.indexOf(E)+1}):(0,k.$)(this.player,e,"jumpmark-next-none")}))}emitEPGEvent(e,t,i){var n,l,d,c,u;nr(this,a,"f")===e&&nr(this,s,"f")===t&&nr(this,o,"f")===i||(rr(this,a,e,"f"),rr(this,s,t,"f"),rr(this,o,i,"f"),this.player.loop.dispatchEvent(r.a.EPG_DATA_CHANGED,{isSeeking:i,epg:null===e?null:{title:null!==(n=e.title)&&void 0!==n?n:"",subtitle:null!==(l=e.subtitle)&&void 0!==l?l:"",synopsis:null!==(d=e.synopsis)&&void 0!==d?d:"",image:e.getImageUrl(),imageTitle:null!==(u=null===(c=e.rawEvent.image)||void 0===c?void 0:c.title)&&void 0!==u?u:null,start:e.seconds,end:e.endAtSeconds},clip:null===t?null:{title:t.title,type:t.type,image:t.hasImage()?t.getImageUrl():null,imageTitle:t.imageTitle}}))}handleTimelinePreview(e,t,i){var r,n,a;if(!this.isPlaybackStateInvalid){const e=null!==(r=this.chapters.find((e=>e.seconds<=t&&e.endAtSeconds>=t&&ii(e))))&&void 0!==r?r:null,i=null!==(a=null===(n=null==e?void 0:e.clips)||void 0===n?void 0:n.findLast((e=>e.visibleAtTimestamp(t))))&&void 0!==a?a:null;this.emitEPGEvent(e,i,!0)}}handleTimelinePreviewEnd(e){this.player.safeTimeout((()=>{this.emitEPGEvent(this.currEPGChapter,this.currClip,!1)}))}publishPOIToTimeline(){var e,t,i;if(null===(t=null===(e=this.viewCtrl)||void 0===e?void 0:e.timeline)||void 0===t?void 0:t.rendersPOI){const e=this.chapters.flatMap((e=>[e.asPOI(),...e.clips.map((e=>e.asPOI()))]));null===(i=this.viewCtrl.timeline)||void 0===i||i.setPOI(e)}}updateCurrentClip(){var e,t,i,r;if(this.isPlaybackStateInvalid)return this.currClip=null,!0;const n=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrRelToUnix(this.currentTime);if(n){const e=null!==(r=null===(i=null===(t=this.currEPGChapter)||void 0===t?void 0:t.clips)||void 0===i?void 0:i.findLast((e=>e.visibleAtTimestamp(n))))&&void 0!==r?r:null;if(e!==this.currClip)return this.currClip=e,this.log("updated current clip",null==e?void 0:e.id,null==e?void 0:e.title),!0}return!1}updateCTA(){var e,t,i,r,n,a,s,o;if(this.player.isAudio)return;if(null!==this.currCTA){if(this.currCTA.visibleAtTimestamp(this.currentTime)&&!this.isPlaybackStateInvalid)return;{this.info("removing invalidated CTA from display",this.currCTA);const n=this.currCTA.getNode(this,this.player);null!=n&&(this.player.viewCtrl.lastFocusElement!==n&&document.activeElement!==n||null===(e=this.viewCtrl)||void 0===e||e.focusControlBar(!1),n.classList.add("ardplayer-jumpmark-cta-fadeout"),null===(t=this.viewCtrl)||void 0===t||t.playerView.classList.remove("ardplayer-state-jumpmarks-card-active"),this.ctaFadeoutTimeout=this.player.safeTimeout((()=>{n.remove(),this.ctaFadeoutTimeout=-1,this.updateCTA()}),1e3)),this.currCTA=null,null==nr(this,l,"f")&&(null===(r=null===(i=this.player.viewCtrl)||void 0===i?void 0:i.keyboardCtrl)||void 0===r||r.removeBackNavigationHandler(this))}}if(this.ctaFadeoutTimeout>=0)return void this.log("previous cta is still fading out");if(this.isPlaybackStateInvalid)return void this.log("invalid playback state for cta display");this.currCTA=null!==(n=this.ctaSections.find((e=>e.visibleAtTimestamp(this.currentTime)&&null!==e.getNode(this,this.player)&&(this.canTiggerRecommendations||"skip_credits"!==e.type))))&&void 0!==n?n:null;const d=null===(a=this.currCTA)||void 0===a?void 0:a.getNode(this,this.player);if(null===(s=this.viewCtrl)||void 0===s||s.playerView.classList.toggle("ardplayer-state-jumpmarks-card-active",this.currCTA instanceof Ei),d){this.log("new CTA available for display",this.currCTA),d.classList.add("ardplayer-jumpmark-cta-fadeout"),d.classList.remove("ardplayer-jumpmark-cta-highlighted"),null===(o=this.ctaOverlayContainer)||void 0===o||o.prepend(d);const e=this.currCTA instanceof Ei?Array.from(d.querySelectorAll("button")).concat([d]):[d];this.player.safeTimeout((()=>{var t,i,r,n,a;d.classList.remove("ardplayer-jumpmark-cta-fadeout"),d.classList.add("ardplayer-jumpmark-cta-highlighted"),e.forEach((e=>{e.classList.add("ardplayer-always-visible-control")})),null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i||i.setBackNavigationHandler(this),!1===(null===(r=this.viewCtrl)||void 0===r?void 0:r.controlsVisible)&&(!c.O.isMobileDevice||c.O.isAndroidTV||(null===(a=null===(n=this.player.viewCtrl)||void 0===n?void 0:n.keyboardCtrl)||void 0===a?void 0:a.isKeyboardNavigating))&&(0,he.GW)(e[0]),this.player.safeTimeout((()=>{var t,i;d.classList.remove("ardplayer-jumpmark-cta-highlighted"),e.forEach((e=>{e.classList.remove("ardplayer-always-visible-control")})),!1===(null===(t=this.viewCtrl)||void 0===t?void 0:t.controlsVisible)&&(null!=this.player.viewCtrl.lastFocusElement&&e.includes(this.player.viewCtrl.lastFocusElement)||null!=document.activeElement&&e.includes(document.activeElement))&&(null===(i=this.viewCtrl)||void 0===i||i.focusControlBar(!1))}),8e3)}))}}draw(){var e,t,i,r,n,a,s,o,h;const p=this.addonButtonVisible();if(c.O.isEmbeddedSheet&&this.player.isAudio||!0===(null===(t=null===(e=this.viewCtrl)||void 0===e?void 0:e.timeline)||void 0===t?void 0:t.rendersPOI)){let e=!1;return this.chapters.forEach((t=>{var i;const r=t.isLive?null===(i=this.player.getCtrl())||void 0===i?void 0:i.dvrUnixToRel(t.seconds):t.seconds,n=t.seekBarPosition>=0&&t.seekBarPosition<=1;t.seekBarPosition=(0,d.cl)(r)||this.duration<=0?-1:r/this.duration;const a=t.seekBarPosition>=0&&t.seekBarPosition<=1;e=e||n!==a})),void(e&&(this.updateDisplayList(),this.addonButtonVisible()!==p&&this.renderButtons()))}if((0,he.Fl)(this.uiJumpMarkContainer)&&this.uiJumpMarkContainerWidth!==(null===(i=this.uiJumpMarkContainer)||void 0===i?void 0:i.clientWidth)&&(this.drawingComplete=!1),!this.drawingComplete&&this.duration>0)this.drawingComplete=!0,this.generateDomElements(),this.updateDisplayList();else if(this.drawingComplete&&this.mc.isLive){if(this.mc.isLive&&!0!==(null===(r=this.player.getCtrl())||void 0===r?void 0:r.canCalculateDvrUnixTime()))return;const e=[];let t=!1;if(this.chapters.forEach((i=>{var r;const n=i.seconds,a=null===(r=this.player.getCtrl())||void 0===r?void 0:r.dvrUnixToRel(n),s=i.seekBarPosition>=0&&i.seekBarPosition<=1;i.seekBarPosition=(0,d.cl)(a)||this.duration<=0?-1:a/this.duration;const o=i.seekBarPosition>=0&&i.seekBarPosition<=1;o&&e.push(i),t=t||s!==o})),t)this.generateDomElements(!1),this.updateDisplayList();else{let e=null;this.chapters.forEach((t=>{const i=t.pipDomElement;i&&i!==e&&t.seekBarPosition<=1&&(e=i,i.style.transform=`translateX(-50%) rotate(0.02deg) translate3d(${(t.seekBarPosition*this.uiJumpMarkContainerWidth).toFixed(8)}px, 0, 0)`,i.style.display=t.seekBarPosition<0||t.seekBarPosition>1?"none":"block")}))}if(e.length>0&&!this.isBreakpointS)if(nr(this,u,"f")){const t=null!==(a=null===(n=nr(this,u,"f").pipDomElement)||void 0===n?void 0:n.classList.contains("ardplayer-focus-outline"))&&void 0!==a&&a;let i=null!==(o=null!==(s=e.find((e=>{var t;return e.id===(null===(t=nr(this,u,"f"))||void 0===t?void 0:t.id)})))&&void 0!==s?s:e.find((e=>{var t;return e.seconds===(null===(t=nr(this,u,"f"))||void 0===t?void 0:t.seconds)})))&&void 0!==o?o:null;if(!i){const t=e.findIndex((e=>{var t,i;return e.seconds>=(null!==(i=null===(t=nr(this,u,"f"))||void 0===t?void 0:t.seconds)&&void 0!==i?i:0)}));if(t<0)i=e[e.length-1];else if(0===t)i=e[0];else{const r=e[t-1],n=e[t];i=n.seconds-nr(this,u,"f").seconds<nr(this,u,"f").seconds-r.seconds?n:r}}i&&(this.showPopupForChapter(i,!0),t&&(null===(h=i.pipDomElement)||void 0===h||h.classList.add("ardplayer-focus-outline")))}else nr(this,l,"f")?this.showPopupForPip(nr(this,l,"f")):this.jumpMarkLeave();else this.jumpMarkLeave()}this.addonButtonVisible()!==p&&this.renderButtons()}generateDomElements(e=!0){var t,i,r,n,a,s;if(this.mc.isLive&&!0!==(null===(t=this.player.getCtrl())||void 0===t?void 0:t.canCalculateDvrUnixTime()))return void(this.drawingComplete=!1);if(this.uiJumpMarkContainer)(0,d.Ie)(this.uiJumpMarkContainer);else{const e=this.player.viewCtrl.playerView.querySelector(".ardplayer-controlbar-thumb-input");this.uiJumpMarkContainer=document.createElement("div"),this.uiJumpMarkContainer.classList.add("ardplayer-controlbar-jumpmarks"),this.uiJumpMarkContainer.dataset.verticalNavBefore=".ardplayer-controlbar",null==e||e.appendChild(this.uiJumpMarkContainer),(0,k.$)(this.player,this.uiJumpMarkContainer,"jumpmarks-container"),this.uiJumpmarkHint=document.createElement("div"),this.uiJumpmarkHint.classList.add("ardplayer-controlbar-jumpmark-hint","ardplayer-icon-after","ardplayer-icon-after-shift"),this.uiJumpmarkHint.textContent="Highlights",null==e||e.appendChild(this.uiJumpmarkHint)}if(!(0,he.Fl)(this.uiJumpMarkContainer))return this.drawingComplete=!1,void(this.uiJumpmarkHint&&(this.uiJumpmarkHint.style.display="none"));this.uiJumpMarkContainerWidth=this.uiJumpMarkContainer.clientWidth;const o=this.mc.isLive&&null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.dvrRelToUnix(0))&&void 0!==r?r:0,u=this.mc.isLive?Number.MAX_SAFE_INTEGER:this.duration;let h=null,p="",f=0,v=null,m=-1,y=Number.POSITIVE_INFINITY;const g=null==nr(this,l,"f")?null:this.chapters.filter((e=>e.pipDomElement===nr(this,l,"f")));for(let t=0;t<this.chapters.length;t++){const i=this.chapters[t];if(i.seconds<o||i.seconds>u)this.log("skipped rendering jumpmark outside valid range"),i.pipDomElement=null;else{if(e)if(i.isLive){const e=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrUnixToRel(i.seconds);i.seekBarPosition=(0,d.cl)(e)||this.duration<=0?-1:e/this.duration}else i.seekBarPosition=i.seconds/this.duration;if(i.seekBarPosition<0)this.log("skipped rendering jumpmark with invalid time"),i.pipDomElement=null;else{if(null!=h&&m>=i.seekBarPosition*this.uiJumpMarkContainerWidth)h.classList.contains(P.CSS_CLASS_MARKER_PILL)||(m-=h.clientWidth,h.classList.add(P.CSS_CLASS_MARKER_PILL),m+=h.clientWidth),(0,k.$)(this.player,h,"jumpmark",{chapterTitle:p,collapseCount:++f});else{y=Number.POSITIVE_INFINITY;const e=document.createElement("span");e.classList.add("ardplayer-control",P.CSS_CLASS_MARKER),h=e,f=0,p=(0,d.z3)(i.title)?`Abschnitt ${t+1}`:i.title,this.makeClickTarget(e,i,p),v=document.createElement("i"),v.className="ardp-jpmrk-pip-icon ardplayer-icon-after ardplayer-icon-after-pill-plus",e.appendChild(v),this.uiJumpMarkContainer.appendChild(e),e.style.transform=`translateX(-50%) rotate(0.02deg) translate3d(${(i.seekBarPosition*this.uiJumpMarkContainerWidth).toFixed(8)}px, 0, 0)`,e.style.display=i.seekBarPosition<0||i.seekBarPosition>1?"none":"block",m=i.seekBarPosition*this.uiJumpMarkContainerWidth+2*e.clientWidth,(c.O.isMobileDevice||c.O.isAndroidTV)&&e.classList.add("mobile"),e.addEventListener("touchstart",this.jumpMarkClick),e.addEventListener("touchend",(e=>{e.preventDefault(),e.stopImmediatePropagation()}),{capture:!0}),e.addEventListener("touchmove",(e=>{e.preventDefault(),e.stopImmediatePropagation()}),{capture:!0}),e.addEventListener("mouseenter",(e=>{this.jumpMarkEnter(e,!1)})),e.addEventListener("mouseout",(t=>{var i,r;e.contains(t.relatedTarget)||null!==(r=null===(i=this.overlayContainer)||void 0===i?void 0:i.contains(t.relatedTarget))&&void 0!==r&&r||this.jumpMarkLeave()})),e.addEventListener("click",this.jumpMarkClick),e.addEventListener("focus",(e=>{var t,i;(null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i?void 0:i.isKeyboardNavigating)&&this.jumpMarkEnter(e,!0)})),e.addEventListener("blur",(e=>{var t,i,r,n;(null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i?void 0:i.isKeyboardNavigating)&&(null!==(n=null===(r=this.overlayContainer)||void 0===r?void 0:r.contains(e.relatedTarget))&&void 0!==n&&n||this.jumpMarkLeave())})),e.addEventListener("keydown",(e=>{var t,i;if("enter"===e.key.toLowerCase()||" "===e.key)this.jumpMarkLeave();else if("arrowup"===e.key.toLowerCase()&&e.shiftKey&&e.ctrlKey&&(null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i?void 0:i.isKeyboardNavigating)){if(this.isBreakpointS)return;this.jumpMarkEnter(e,!0),e.preventDefault(),e.stopImmediatePropagation()}}))}i.pipDomElement=h,v&&!(0,d.z3)(i.highlightIconUrl)&&i.highlightIconPriority<y&&(y=i.highlightIconPriority,v.style.display="block",v.style.backgroundImage=`url(${i.highlightIconUrl})`)}}}if(this.uiJumpmarkHint){const e=this.chapters.some((e=>e.seekBarPosition>0&&e.seekBarPosition<=1));this.uiJumpmarkHint.style.display=e?"":"none"}rr(this,l,null!==(s=null===(a=null==g?void 0:g.find((e=>(0,he.Fl)(e.pipDomElement))))||void 0===a?void 0:a.pipDomElement)&&void 0!==s?s:null,"f")}makeClickTarget(e,t,i){e.classList.add(P.CSS_CLASS_CLICK_TARGET),e.dataset.time=t.seconds.toFixed(0),e.tabIndex=0,(0,k.$)(this.player,e,"jumpmark",{chapterTitle:i}),e.addEventListener("focus",(()=>{rr(this,u,Object.assign({},t),"f")}),!0)}getClickTarget(e){let t=e;do{if(t.classList.contains(P.CSS_CLASS_CLICK_TARGET))break;t=t.parentElement}while(null!=t);return t}showPopupForChapter(e,t){this.isBreakpointS||(e.pipDomElement&&(0,he.Fl)(e.pipDomElement)?this.showPopupForPip(e.pipDomElement,t?e:null):(this.log("tried to focus invisible pip"),this.jumpMarkLeave()))}showPopupForChapters(e,t=null){var i,r,n,a,s,o,c;if(this.isBreakpointS||!this.overlayContainer||!this.uiJumpMarkContainer||!this.playerView||!this.viewCtrl)return;if(!e)return;if(0===(e=e.filter((e=>!(""===e.title&&!e.hasLoadedImage)))).length)return;if(null!=nr(this,h,"f")&&nr(this,h,"f").length===e.length&&-1===e.findIndex((e=>{var t;return!(null===(t=nr(this,h,"f"))||void 0===t?void 0:t.find((t=>t.equals(e))))}))){const t=this.overlayContainer.querySelector("."+P.CSS_CLASS_POPUP);if(t)return rr(this,l,null!==(i=e[0].pipDomElement)&&void 0!==i?i:null,"f"),void(this.mc.isLive&&this.updatePopupPosition(e[0],t))}null===(n=null===(r=this.viewCtrl)||void 0===r?void 0:r.keyboardCtrl)||void 0===n||n.setBackNavigationHandler(this),null===(s=null===(a=this.viewCtrl)||void 0===a?void 0:a.playerView)||void 0===s||s.classList.add("ardplayer-showing-chapter-popup"),rr(this,u,t?Object.assign({},t):null,"f"),rr(this,h,e,"f"),rr(this,l,null!==(o=e[0].pipDomElement)&&void 0!==o?o:null,"f"),(0,d.Ie)(this.overlayContainer);const p=document.createElement("div");p.dataset.verticalNavAbsPos="true",p.classList.add(P.CSS_CLASS_POPUP);let f=null;if(e.length>1||e[0].forceCondensed){const i=document.createElement("div");i.className="adrp-jpmrk-scroller",p.appendChild(i),p.classList.add("--condensed"),f=this.renderCondensedChapters(e,i,t),(0,k.$)(this.player,p,"multi-jumpmark-popup",{chapterTitle:e[0].title,collapseCount:e.length-1}),(0,k.$)(this.player,i,"multi-jumpmark-select",{chapterTitle:e[0].title,collapseCount:e.length-1})}else p.classList.add("--one-up"),this.renderSingleChapter(e[0],p),this.makeClickTarget(p,e[0],e[0].title),f=null===t?null:p;this.overlayContainer.appendChild(p);const v=document.createElement("span");v.className="time-display",p.appendChild(v),(e.length>1||e[0].forceCondensed)&&(p.style.maxHeight=this.playerView.clientHeight-20-parseInt(getComputedStyle(p).bottom,10)+"px"),this.updatePopupPosition(e[0],p),null===(c=this.viewCtrl.timeline)||void 0===c||c.setHoverLabelHidden(!0),this.viewCtrl.toggleForceControlsVisible(this.ID,!0),f&&(0,he.GW)(f,!0),this.addPopupEventHandlers(p)}renderCondensedChapters(e,t,i=null){if(!this.viewCtrl)return null;let r=null;return e.forEach((e=>{var n,a,s;const o=document.createElement("div");if(o.className="ardp-jpmrk-chapter",!(0,d.z3)(e.highlightIconUrl)||!(0,d.z3)(e.highlightTime)){const t=document.createElement("div");if(t.className="ardp-jpmrk-hlgt",!(0,d.z3)(e.highlightIconUrl)){const i=document.createElement("i");i.style.backgroundImage=`url(${e.highlightIconUrl})`,(0,d.z3)(e.highlightIconA11yDescription)||(i.setAttribute("aria-label",e.highlightIconA11yDescription),i.title=e.highlightIconA11yDescription),t.appendChild(i)}if(!(0,d.z3)(e.highlightTime)){const i=document.createElement("p");i.textContent=e.highlightTime===qt.HIGHLIGHT_TIME_EPG&&null!==(s=(0,re.J9)(this.player.getCtrl(),this.mc.isLive&&null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrUnixToRel(e.seconds))&&void 0!==a?a:e.seconds,!0,!0,!1))&&void 0!==s?s:e.highlightTime,t.appendChild(i)}o.appendChild(t)}if(e.hasLoadedImage){const t=e.getSpritesheetCoordinates(this.spritesheetColumnCount);if(!1!==t){const i=document.createElement("div");i.classList.add("ardp-jpmrk-img"),i.style.backgroundImage=`url(${e.loadedImageSrc})`,i.style.backgroundPosition=`${-t.x}px ${-t.y}px`,o.appendChild(i)}}const l=document.createElement("div");if(l.className="ardp-jpmrk-title",!(0,d.z3)(e.title)){const t=document.createElement("p");t.textContent=e.title,l.appendChild(t)}if(!(0,d.z3)(e.subtitle)){const t=document.createElement("p");t.textContent=e.subtitle,l.appendChild(t)}if(o.appendChild(l),!(0,d.z3)(e.gutterIconUrl)){const t=document.createElement("div");t.className="ardp-jpmrk-gutter";const i=document.createElement("i");i.style.backgroundImage=`url(${e.gutterIconUrl})`,(0,d.z3)(e.gutterIconA11yDescription)||(i.setAttribute("aria-label",e.gutterIconA11yDescription),i.title=e.gutterIconA11yDescription),t.appendChild(i),o.appendChild(t)}t.appendChild(o),this.makeClickTarget(o,e,e.title),i===e&&(r=o),o.dataset.verticalNavAbsPos="true"})),r}renderSingleChapter(e,t){if(e.hasLoadedImage){const i=e.getSpritesheetCoordinates(this.spritesheetColumnCount);if(!1!==i){const r=document.createElement("div");r.classList.add("ardp-jpmrk-img"),r.style.backgroundImage=`url(${e.loadedImageSrc})`,r.style.backgroundPosition=`${-i.x}px ${-i.y}px`,t.appendChild(r),t.classList.add("--with-image")}}if(""!==e.title){const i=document.createElement("p");i.textContent=e.title,t.appendChild(document.createElement("b")),t.appendChild(i),t.appendChild(document.createElement("b"))}if(""!==e.subtitle){const i=document.createElement("p");i.classList.add("ardplayer-jumpmark-subtitle"),i.textContent=e.subtitle,t.appendChild(i),t.classList.add("--with-subtitle")}}addPopupEventHandlers(e){e.addEventListener("click",(e=>{(0,he.GW)(nr(this,l,"f")),this.jumpMarkClick(e)})),e.addEventListener("mouseout",(t=>{var i;e.contains(t.relatedTarget)||(null===(i=nr(this,l,"f"))||void 0===i?void 0:i.contains(t.relatedTarget))||this.jumpMarkLeave()})),e.addEventListener("blur",(t=>{var i;e.contains(t.relatedTarget)||(null===(i=nr(this,l,"f"))||void 0===i?void 0:i.contains(t.relatedTarget))||this.jumpMarkLeave()}),!0),e.addEventListener("keydown",(t=>{var i,r,n,a,s,o;const d=(null!==(i=null==t?void 0:t.key)&&void 0!==i?i:"").toLowerCase();let u=!1;if(c.O.isEmbedded){const e=null===(r=this.viewCtrl)||void 0===r?void 0:r.keyboardCtrl;e&&(e.preemptNavigationInputs=!0)}switch(d){case"tab":if(t.shiftKey){if((c.O.isEmbedded||t.target===P.lastTabSibling(t.target,!1))&&(0,he.Fl)(null===(n=nr(this,l,"f"))||void 0===n?void 0:n.previousElementSibling))this.jumpMarkEnterPip(null===(a=nr(this,l,"f"))||void 0===a?void 0:a.previousElementSibling,!0,!1),u=!0;else if(!c.O.isEmbedded)if(t.target===P.lastTabSibling(t.target,!1)){u=!0;const e=nr(this,l,"f");this.jumpMarkLeave(),(0,he.YR)(this.playerView,!1,!0,e)}else u=(0,he.YR)(e,!1,!1,null,!0)}else if((c.O.isEmbedded||t.target===P.lastTabSibling(t.target,!0))&&(0,he.Fl)(null===(s=nr(this,l,"f"))||void 0===s?void 0:s.nextElementSibling))this.jumpMarkEnterPip(null===(o=nr(this,l,"f"))||void 0===o?void 0:o.nextElementSibling,!0,!1),u=!0;else if(!c.O.isEmbedded){const i=t.target===P.lastTabSibling(t.target,!0);u=(0,he.YR)(i?this.playerView:e,!0,!1,i?nr(this,l,"f"):null,!i)}c.O.isEmbedded&&(u=!0);break;case"arrowdown":if(t.shiftKey&&t.ctrlKey)if(t.target===P.lastTabSibling(t.target,!0)){const e=nr(this,l,"f");this.jumpMarkLeave(),(0,he.YR)(this.playerView,!0,!1,e),u=!0}else u=(0,he.YR)(e,!0,!1,null,!0);break;case"arrowup":if(t.shiftKey&&t.ctrlKey)if(t.target===P.lastTabSibling(t.target,!1)){const e=nr(this,l,"f");this.jumpMarkLeave(),(0,he.YR)(this.playerView,!1,!1,e),u=!0}else u=(0,he.YR)(e,!1,!1,null,!0)}u&&(t.preventDefault(),t.stopImmediatePropagation()),c.O.isEmbedded&&this.player.safeTimeout((()=>{var e;const t=null===(e=this.viewCtrl)||void 0===e?void 0:e.keyboardCtrl;t&&(t.preemptNavigationInputs=!1)}))}))}static lastTabSibling(e,t){var i,r;return null!==(r=null===(i=null==e?void 0:e.parentElement)||void 0===i?void 0:i.querySelector(t?"[tabindex]:last-of-type":"[tabindex]:first-of-type"))&&void 0!==r?r:null}updatePopupPosition(e,t){var i,r,n,a,s,o;if(!(this.overlayContainer&&this.uiJumpMarkContainer&&this.playerView&&this.viewCtrl))return;if((!this.mc.isLive||!this.viewCtrl.dvrState.enabledAndRequested||(0,d.z3)(null===(i=t.lastElementChild)||void 0===i?void 0:i.textContent))&&t.lastElementChild){const i=this.mc.isLive&&null!==(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.dvrUnixToRel(e.seconds))&&void 0!==n?n:e.seconds;t.lastElementChild.textContent=(0,re.J9)(this.player.getCtrl(),i)}const l=(0,he.Fl)(null===(a=e.pipDomElement)||void 0===a?void 0:a.previousElementSibling),c=(0,he.Fl)(null===(s=e.pipDomElement)||void 0===s?void 0:s.nextElementSibling);t.classList.toggle("ardplayer-icon",l),t.classList.toggle("ardplayer-icon-arrowleft",l),t.classList.toggle("ardplayer-icon-after",c),t.classList.toggle("ardplayer-icon-after-arrowright",c);const u=this.playerView.getBoundingClientRect(),h=this.uiJumpMarkContainer.getBoundingClientRect(),p=null===(o=e.pipDomElement)||void 0===o?void 0:o.getBoundingClientRect(),f=t.offsetWidth;let v=void 0!==p?p.left-u.left+p.width/2-f/2:0;const m=h.left-u.left,y=m+h.width;v<m?v=m:v+f>y&&(v=y-f),t.style.transform=`translateX(${v}px)`}isSupportedInShard(){return!0}isSupported(){var e,t,i,r;const n=this.mc.isLive;return!(null!==(e=this.conf.chaptersEnabled)&&void 0!==e&&!e)&&(!(n&&(null===(t=this.mc.isDvrEnabled)||void 0===t||!t))&&(!(!n||(0,d.z3)(this.conf.url))||!n&&(void 0!==this.conf.chapterArray&&null!==this.conf.chapterArray&&this.conf.chapterArray.length>0||void 0!==this.conf.eventStream&&null!==this.conf.eventStream&&(null===(r=null===(i=this.conf.eventStream)||void 0===i?void 0:i.events)||void 0===r?void 0:r.length)>0||!this.player.isAudio&&void 0!==this.conf.ctaSections&&null!==this.conf.ctaSections&&this.conf.ctaSections.length>0||void 0!==this.conf.url)))}hasCurrentInfo(){return this.mc.isLive&&null!==this.currEPGChapter}renderCurrentInfoToDisplayList(e){var t,i;if(!this.mc.isLive||null===this.currEPGChapter)return!1;const r=this.mc.meta,n=this.currEPGChapter;I.hc.renderHeading(e,n.title,"Sendungstitel");const a=(0,d.z3)(n.rawEvent.currentStartDate)?n.rawEvent.startDate:n.rawEvent.currentStartDate;if(!(0,d.z3)(a)){const t=new Date(a);if((0,d.z3)(n.rawEvent.endDate))I.hc.renderByline(e,(0,pe.fU)(t),"Sendungsbeginn");else{const i=new Date(n.rawEvent.endDate);I.hc.renderByline(e,`${(0,pe.fU)(t,!1)} - ${(0,pe.fU)(i)}`,"Sendezeit")}}if((0,d.z3)(n.subtitle)||I.hc.renderByline(e,n.subtitle,"Untertitel"),r.publicationService&&null!==(i=null===(t=r.publicationService)||void 0===t?void 0:t.name)&&void 0!==i&&i&&I.hc.renderByline(e,r.publicationService.name,"Sender"),this.mc.isLive&&I.hc.renderChip(e,"LIVE","Livebertragung"),(0,d.z3)(n.synopsis)?I.hc.renderBodyText(e,""):I.hc.renderBodyText(e,n.synopsis,"Zusammenfassung"),this.nextEPGChapter){const t=this.nextEPGChapter;if(t&&!(0,d.z3)(t.title)){I.hc.renderByline(e,`Im Anschluss: ${t.title}`,"Folgesendung");const i=(0,d.z3)(t.rawEvent.currentStartDate)?t.rawEvent.startDate:t.rawEvent.currentStartDate;if(!(0,d.z3)(i)){const r=new Date(i);if((0,d.z3)(t.rawEvent.endDate))I.hc.renderByline(e,(0,pe.fU)(r),"Sendungsbeginn der Folgesendung");else{const i=new Date(t.rawEvent.endDate);I.hc.renderByline(e,`${(0,pe.fU)(r,!1)} - ${(0,pe.fU)(i)}`,"Sendezeit der Folgesendung")}}}}return!0}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,h=new WeakMap,ir(f,"AddonJumpmarks"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=A[Symbol.metadata])&&void 0!==e?e:null):void 0;v=[ne.$z],m=[ne.$z],y=[ne.$z],b=[ne.$z],E=[ne.Rc],w=[(0,ne.NR)(void 0)],er(f,null,v,{kind:"getter",name:"renderExtender",static:!1,private:!1,access:{has:e=>"renderExtender"in e,get:e=>e.renderExtender},metadata:t},null,L),er(f,null,m,{kind:"getter",name:"chapterRenderer",static:!1,private:!1,access:{has:e=>"chapterRenderer"in e,get:e=>e.chapterRenderer},metadata:t},null,L),er(f,null,y,{kind:"getter",name:"radioScreenRenderer",static:!1,private:!1,access:{has:e=>"radioScreenRenderer"in e,get:e=>e.radioScreenRenderer},metadata:t},null,L),er(f,null,b,{kind:"getter",name:"radioDrawerRenderer",static:!1,private:!1,access:{has:e=>"radioDrawerRenderer"in e,get:e=>e.radioDrawerRenderer},metadata:t},null,L),er(f,null,E,{kind:"method",name:"updateDisplayList",static:!1,private:!1,access:{has:e=>"updateDisplayList"in e,get:e=>e.updateDisplayList},metadata:t},null,L),er(f,null,w,{kind:"method",name:"updateCTA",static:!1,private:!1,access:{has:e=>"updateCTA"in e,get:e=>e.updateCTA},metadata:t},null,L),er(null,p={value:f},S,{kind:"class",name:f.name,metadata:t},null,C),P=f=p.value,t&&Object.defineProperty(f,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),f.SCREEN_CHAPTERS="chapters",f.SCREEN_RADIO_SHOWS="radioShows",f.SCREEN_RADIO_SHOWS_DRAWER="radioShowsDrawer",f.CSS_CLASS_CLICK_TARGET="ardp-jpmrk-click",f.CSS_CLASS_MARKER="ardplayer-controlbar-jumpmark",f.CSS_CLASS_MARKER_PILL="ardplayer-controlbar-jumpmark-multi",f.CSS_CLASS_POPUP="ardplayer-popup-jumpmark",Xi(f,C),P=f})();const sr={type:"addon",Clazz:ar,package:"@ardplayer/addon-jumpmarks",version:"7.7.0",rev:"[G]201271bb7"};class or{constructor(e){this.delegate=e,this.prevPosition=0,this.prevEvent="",this.sessionId=(0,d.N4)(),this.lastTimestamp=0,this.modifyEventWhitelist=["av.play","av.start","av.pause","av.resume","av.stop","av.heartbeat","av.buffer.start","av.buffer.heartbeat","av.rebuffer.start","av.rebuffer.heartbeat","av.seek.start","av.backward","av.forward"],c.O.isDebug&&window.console.warn("[TrackingPiano]","USING COLLECTION API TRANSFORMER")}track(e){var t;if(null!=e.options&&this.modifyEventWhitelist.includes(e.type)){"av.seek.start"===e.type&&(e.options.av_position=e.options.av_previous_position),e.options.av_prev_position=this.prevPosition,this.prevPosition=e.options.av_position,e.options.av_previous_event=this.prevEvent,this.prevEvent=e.type;const t=Date.now();this.lastTimestamp=this.lastTimestamp>=t?this.lastTimestamp+1:t,e.options.device_timestamp_utc=this.lastTimestamp}else null!==(t=e.options)&&void 0!==t||(e.options={});e.options.av_session_id=this.sessionId,this.delegate.track(e),"av.stop"===e.type&&(this.prevPosition=0,this.sessionId=(0,d.N4)())}dispose(){"function"!=typeof this.delegate.dispose?window.console.warn("[TrackingPiano]","invalid delegate - no dispose() method - skipping delegate disposal"):this.delegate.dispose()}}var lr=function(e,t,i,r,n,a){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,d="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?r.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h=!1,p=i.length-1;p>=0;p--){var f={};for(var v in r)f[v]="access"===v?{}:r[v];for(var v in r.access)f.access[v]=r.access[v];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,i[p])("accessor"===l?{get:u.get,set:u.set}:u[d],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=s(m.get))&&(u.get=o),(o=s(m.set))&&(u.set=o),(o=s(m.init))&&n.unshift(o)}else(o=s(m))&&("field"===l?n.unshift(o):u[d]=o)}c&&Object.defineProperty(c,r.name,u),h=!0},dr=function(e,t,i){for(var r=arguments.length>2,n=0;n<t.length;n++)i=r?t[n].call(e,i):t[n].call(e);return r?i:void 0},cr=function(e,t,i){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})},ur=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},hr=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};const pr={0:5,1:12,12:15,18:30},fr={0:5,1:10,5:60};let vr=(()=>{var e,t,i,n,a,s,o,l,u,h,p,f,v;let m,y,g=[ne.JW],b=[],E=Pe;var w=y=class extends E{constructor(){super(...arguments),this.ID="TrackingPiano",this.trackingKey="Piano",this.delegate=null,this.delegateParceled=!1,this.playbackEvents=[],this.eventWhitelist=[],e.set(this,!0),t.set(this,!1),i.set(this,!0),n.set(this,!1),a.set(this,-1),s.set(this,!1),o.set(this,!1),this.trackStreamEnd=()=>{this.sendEvent("av.stop",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),this.setHeartbeat(0),hr(this,i,!0,"f"),hr(this,a,-1,"f"),hr(this,u,!1,"f"),hr(this,s,!1,"f"),hr(this,e,!0,"f")},l.set(this,null),u.set(this,!1),this.trackLiveStreamPlayWhenDurationValid=()=>{null==ur(this,l,"f")&&(hr(this,l,(e=>{null!=ur(this,l,"f")&&isFinite(e.duration)&&!isNaN(e.duration)&&e.duration>0&&(this.player.loop.removeEventListener(r.a.EVENT_UPDATE_STREAM_DURATION,ur(this,l,"f")),hr(this,l,null,"f"),this.trackStreamPlay(),ur(this,u,"f")&&this.trackInitialFrame())}),"f"),this.player.loop.addEventListener(r.a.EVENT_UPDATE_STREAM_DURATION,ur(this,l,"f")))},this.trackStreamPlay=()=>{var r,n;let o=Math.max(0,this.currentPositionMs);if(this.player.isLive&&0===o&&!this.isIcecast){const e=null!==(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.getDuration())&&void 0!==n?n:0;if(e<=0||isNaN(e)||!isFinite(e))return void this.trackLiveStreamPlayWhenDurationValid();o=e}hr(this,i,!1,"f"),hr(this,a,o,"f"),this.sendEvent("av.play",{av_position:ur(this,a,"f")},this.avPlayProperties()),this.sendEvent("av.buffer.start",{av_position:ur(this,a,"f")},{}),hr(this,e,!0,"f"),hr(this,t,!1,"f"),hr(this,s,!1,"f"),this.setHeartbeat(2)},this.trackInitialFrame=()=>{if(-1===ur(this,a,"f"))return this.info("swallowed initial frame"),void(null!=ur(this,l,"f")&&hr(this,u,!0,"f"));hr(this,u,!1,"f"),this.sendEvent("av.start",{av_position:ur(this,a,"f")},{}),hr(this,a,-1,"f"),this.setHeartbeat(1),hr(this,e,!1,"f")},h.set(this,-1),p.set(this,0),f.set(this,0),this.beatHeart=()=>{0!==ur(this,p,"f")&&(this.sendEvent(1===ur(this,p,"f")?"av.heartbeat":ur(this,e,"f")?"av.buffer.heartbeat":"av.rebuffer.heartbeat",{av_position:this.currentPositionMs},{}),this.setHeartbeatTimeout())},v.set(this,null)}parcelData(){var e;if(this.executionContextProvider._isShard&&this.delegate){null!==(e=window.PIANO_SHARD_TRACKER_DELEGATE)&&void 0!==e||(window.PIANO_SHARD_TRACKER_DELEGATE=new Map);const t=this.player.getId();return window.PIANO_SHARD_TRACKER_DELEGATE.set(t,this.delegate),window.setTimeout((()=>{var e,i,r;null===(i=null===(e=window.PIANO_SHARD_TRACKER_DELEGATE)||void 0===e?void 0:e.get(t))||void 0===i||i.dispose(),null===(r=window.PIANO_SHARD_TRACKER_DELEGATE)||void 0===r||r.delete(t)}),1e3),this.delegateParceled=!0,{delegateId:t}}return null}restoreParceledData(e){var t,i;super.restoreParceledData(e);const r=null===(t=window.PIANO_SHARD_TRACKER_DELEGATE)||void 0===t?void 0:t.get(e.delegateId);null===(i=window.PIANO_SHARD_TRACKER_DELEGATE)||void 0===i||i.delete(e.delegateId),r&&(this.delegate=r)}dispose(){var e;if(null!=ur(this,l,"f")&&(this.player.loop.removeEventListener(r.a.EVENT_UPDATE_STREAM_DURATION,ur(this,l,"f")),hr(this,l,null,"f")),this.trackStreamEnd(),this.delegateParceled)this.log("skipped delegate disposal after parceling from shard");else try{null!=this.delegate&&"function"!=typeof this.delegate.dispose?this.error("invalid delegate - no dispose() method - skipping delegate disposal"):null===(e=this.delegate)||void 0===e||e.dispose()}catch(e){this.error("failed to dispose of delegate!",e)}this.delegate=null,c.O.isEmbedded||window.removeEventListener("pagehide",this.trackStreamEnd),super.dispose()}register(){var e,t;if(super.register()){if(this.delegate)this.log("using restored delegate from shard");else if("object"==typeof ARDPlayerPianoDelegate){if(this.delegate=ARDPlayerPianoDelegate.getTracker(),"function"!=typeof this.delegate.track)return this.error("invalid delegate - no track() method"),!1;"function"!=typeof this.delegate.dispose&&this.error("invalid delegate - no dispose() method - starting anyway")}else if("web"===c.O.platform){if("function"!=typeof(null===(t=null===(e=window.pa)||void 0===e?void 0:e.avInsights)||void 0===t?void 0:t.Media))return this.error("pa.avInsights.Media not found"),!1;try{const e=new window.pa.avInsights.Media;this.log("created web sdk session",e.getSessionID());const t=()=>{this.info("dispose web sdk session",e.getSessionID())};this.delegate={dispose:t,track(t){e.track(t.type,t.options,null,t.properties)}}}catch(e){return this.error("could not create Piano SDK Media instance",e),!1}}return this.loadConfig(),this.startTracking(),!0}return!1}loadConfig(){var e,t,i,r,n;!0===(null===(e=this.conf.config)||void 0===e?void 0:e.useCollectionApiTransformer)&&null!=this.delegate&&(this.delegate=new or(this.delegate));const a=null!==(t=this.conf.avContent)&&void 0!==t?t:{},s={};if(Object.getOwnPropertyNames(a).forEach((e=>{this.validatePropertyName(e)?s[e]=a[e]:this.warn("discarding invalid mediaProperty",e)})),this.conf.avContent=s,this.conf.avContent.av_player_version=this.player.Extensions.core.version+"_"+c.O.platform,null===(i=this.conf.config)||void 0===i?void 0:i.dimensionTransform){const e=this.conf.config.dimensionTransform,t={};Object.getOwnPropertyNames(e).forEach((i=>{this.validatePropertyName(i)?this.validatePropertyName(e[i])?t[i]=e[i]:this.warn("ignoring renaming to invalid property key",e[i]):this.warn("ignoring renaming of invalid property key",i)})),this.conf.config.dimensionTransform=t}this.playbackEvents=((...e)=>e)("av.play","av.buffer.start","av.start","av.pause","av.rebuffer.start","av.resume","av.stop","av.seek.start","av.forward","av.backward","av.heartbeat","av.buffer.heartbeat","av.rebuffer.heartbeat"),this.eventWhitelist=[...this.playbackEvents,...null!==(n=null===(r=this.conf.config)||void 0===r?void 0:r.events)&&void 0!==n?n:[]],this.info("event whitelist:",this.eventWhitelist)}isSupportedInShard(){return!0}isSupported(){var e,t,i;if(!super.isSupported())return!1;if(!this.conf.avContent||0===Object.getOwnPropertyNames(this.conf.avContent).length||(0,d.z3)(this.conf.avContent.av_content_id))return this.warn("no avContent or missing av_content_id"),!1;(0,d.z3)(this.conf.avContent.av_launch_reason)&&this.warn("missing av_launch_reason in config");const r=null===(e=this.executionContextProvider)||void 0===e?void 0:e.getPreservedExecutionContext("piano.avContent");if((0,d.UU)(null==r?void 0:r.data)){this.warn("got preserved avContent overrides, merging into config",r.data);for(const e in r.data)this.conf.avContent[e]=r.data[e]}if("object"!=typeof ARDPlayerPianoDelegate){if("web"!==c.O.platform)return this.error("configured, but no delegate implementation available"),!1;if("function"!=typeof(null===(i=null===(t=window.pa)||void 0===t?void 0:t.avInsights)||void 0===i?void 0:i.Media))return this.error("configured, but neither delegate implementation nor pa.avInsights.Media found"),!1}return!0}startTracking(){const l=this.player.model;c.O.isEmbedded||window.addEventListener("pagehide",this.trackStreamEnd),this.registerPlayerEvent(r.a.EVENT_MEDIUM_CHANGE,(()=>{ur(this,i,"f")||hr(this,o,!0,"f")})),this.registerPixelEvent("super_initial_play",(()=>{this.trackStreamPlay()})),this.registerPixelEvent("super_replay",(()=>{this.trackStreamPlay()})),this.registerPlayerEvent(r.a.EVENT_PLAY_STREAM,(()=>{ur(this,i,"f")?this.trackStreamPlay():ur(this,s,"f")&&!ur(this,n,"f")&&(hr(this,s,!1,"f"),this.sendEvent("av.resume",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),this.setHeartbeat(1))})),this.registerPlayerEvent(r.a.EVENT_INITIAL_FRAME,(()=>{this.trackInitialFrame()})),this.registerPlayerEvent(r.a.EVENT_PAUSE_STREAM,(e=>{e.ended||ur(this,i,"f")||ur(this,s,"f")||(this.sendEvent("av.pause",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),hr(this,s,!0,"f"),this.setHeartbeat(0))})),this.registerPlayerEvent(r.a.EVENT_END_STREAM,this.trackStreamEnd),this.registerPlayerEvent(r.a.EVENT_STOP_STREAM,(()=>{ur(this,o,"f")?hr(this,o,!1,"f"):this.trackStreamEnd()})),this.registerPlayerEvent(r.a.EVENT_SEEK_START_INTENT,(e=>{ur(this,i,"f")||(hr(this,n,!0,"f"),this.setHeartbeat(0),2===l.playstate&&this.sendEvent("av.pause",{av_position:this.positionToMs(e.from)},{av_interaction_source:this.avInteractionSource()}),this.sendEvent("av.seek.start",{av_previous_position:this.positionToMs(e.from)},{av_interaction_source:this.avInteractionSource()}),this.sendEvent(e.from<e.to?"av.forward":"av.backward",{av_previous_position:this.positionToMs(e.from),av_position:this.positionToMs(e.to)},{av_interaction_source:this.avInteractionSource()}))})),this.registerPlayerEvent(r.a.EVENT_SEEK_END,(e=>{ur(this,i,"f")||(hr(this,n,!1,"f"),2===l.playstate?(hr(this,s,!1,"f"),-1===ur(this,a,"f")&&(this.sendEvent("av.resume",{av_position:this.positionToMs(e.position)},{}),this.setHeartbeat(1))):hr(this,s,!0,"f"))})),this.registerPlayerEvent(r.a.EVENT_BUFFERING,(r=>{ur(this,i,"f")||2!==l.playstate||ur(this,n,"f")||(r.isBuffering?(hr(this,t,!ur(this,e,"f"),"f"),ur(this,t,"f")&&this.sendEvent("av.pause",{av_position:this.currentPositionMs},{av_interaction_source:this.avInteractionSource()}),2!==ur(this,p,"f")&&(this.sendEvent(ur(this,t,"f")?"av.rebuffer.start":"av.buffer.start",{av_position:this.currentPositionMs},{}),this.setHeartbeat(2))):ur(this,t,"f")&&(this.sendEvent("av.resume",{av_position:this.currentPositionMs},{}),this.setHeartbeat(1)))})),this.registerPlayerEvent(r.a.PLAYBACK_RATE_CHANGE,(e=>{this.sendEvent("av.speed",null,{av_speed:e.rate<0?1:e.rate,av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(r.a.EVENT_QUALITY_CHANGE,(e=>{if(!1!==e.toQuality&&e.fromQuality!==e.toQuality){const e=this.player.currentMedium;e&&this.sendEvent("av.quality",null,{av_quality:e.qualityLabel,av_interaction_source:this.avInteractionSource()})}})),this.registerPixelEvent(Gt.k.SUPER_VOLUME_CHANGE,(e=>{this.sendEvent("av.volume",null,{av_mute:e.muted,av_volume:Math.round(100*e.volume),av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.SUPER_VOLUME_MUTE,(()=>{this.sendEvent("av.volume.mute",null,{av_mute:!0,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.SUPER_VOLUME_UNMUTE,(()=>{this.sendEvent("av.volume.mute",null,{av_mute:!1,av_interaction_source:this.avInteractionSource()})}));let u={av_language:"",av_original_version:!1};if(this.registerPixelEvent(Gt.k.SUPER_AUDIOSTREAM_CHANGE,(e=>{var t;const i={av_language:null!==(t=e.language)&&void 0!==t?t:"off",av_original_version:!1,av_interaction_source:this.avInteractionSource()};u.av_language===i.av_language&&u.av_original_version===i.av_original_version?this.warn("skipped duplicate language event",i):(u=i,this.sendEvent("av.language",null,i))})),this.registerPixelEvent(Gt.k.SUPER_SUBTITLE_ACTIVATION,(e=>{this.sendEvent("av.subtitle",null,{av_subtitles:e.language,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.SUPER_SUBTITLE_DEACTIVATION,(()=>{this.sendEvent("av.subtitle",null,{av_subtitles:"off",av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.SUPER_AUDIODESCRIPTION_ACTIVATION,(()=>{this.sendEvent("av.audiodescription",null,{av_audio_description:!0,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.SUPER_AUDIODESCRIPTION_DEACTIVATION,(()=>{this.sendEvent("av.audiodescription",null,{av_audio_description:!1,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.SUPER_SIGN_LANGUAGE_ACTIVATION,(()=>{this.sendEvent("av.signlanguage",null,{av_sign_language:!0,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.SUPER_SIGN_LANGUAGE_DEACTIVATION,(()=>{this.sendEvent("av.signlanguage",null,{av_sign_language:!1,av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(r.a.EVENT_ERROR,(e=>{const t=`${e.message}${(0,d.Ed)(e.info)?`\n${e.info}`:""}`;this.sendEvent("av.error",{av_player_error:t},{error_message:t})})),this.registerPixelEvent("Stream_error",(e=>{const t=`${e.plugin} ${e.mime} ${e.stream} ${e.message}`;this.sendEvent("av.error",{av_player_error:t},{error_message:t})})),this.registerPixelEvent("dialog_open",(e=>{const t=this.mapDialogName(e.addonKey,e.dialog);t&&this.sendEvent("av.dialog.open",null,{av_dialog:t,av_interaction_source:`${this.avInteractionSource()}:${e.addonKey}.${e.dialog}`})})),this.registerPixelEvent("dialog_close",(e=>{const t=this.mapDialogName(e.addonKey,e.dialog);t&&this.sendEvent("av.dialog.close",null,{av_dialog:t,av_interaction_source:`${this.avInteractionSource()}:${e.addonKey}.${e.dialog}`})})),this.registerPlayerEvent(r.a.EMBED_BUTTON_PRESSED,(()=>{var e,t;this.sendEvent("av.embed.click",null,{av_embed:null!==(t=null===(e=this.player.model.mediaCollection.meta.embed)||void 0===e?void 0:e.enabled)&&void 0!==t&&t})})),this.registerPixelEvent(Gt.k.SHARE,(e=>{this.sendEvent("av.share",null,{av_sharing:e.method,av_interaction_source:this.avInteractionSource()})})),this.registerPixelEvent(Gt.k.JUMPMARK_SELECT,(e=>{var t,i;this.sendEvent("av.jumpmark",null,{av_jumpmark:`${null!==(t=e.title)&&void 0!==t?t:""}${(0,d.z3)(e.title)||(0,d.z3)(e.subtitle)?"":" - "}${null!==(i=e.subtitle)&&void 0!==i?i:""}`,av_jumpark_type:e.jumpmarkType,av_interaction_source:this.avInteractionSource()})})),this.registerEvent("AddonRecommendations.EVENT_TEASER_SELECT",(e=>{const t=(0,d.Ed)(e.id)?e.id:(0,d.Ed)(e.payload.longTitle)?e.payload.longTitle:(0,d.Ed)(e.payload.mediumTitle)?e.payload.mediumTitle:(0,d.Ed)(e.payload.shortTitle)?e.payload.shortTitle:null;null!==t&&this.sendEvent("av.recommendation",null,{av_selected:t,av_launch_reason:e.timer?"Autoplay_First_Reco":0===e.index?"First_Reco":"Reco",av_auto_mode:this.av_auto_mode(),av_interaction_source:this.avInteractionSource()})})),this.registerEvent("AudioApp.goTo",(e=>{this.sendEvent("av.goto",null,{av_interaction_source:this.avInteractionSource()})})),this.registerEvent("Playlist.userSelectItem",(e=>{(0,d.Ed)(e.itemId)&&this.sendEvent("av.playlist",null,{av_selected:e.itemId,av_interaction_source:this.avInteractionSource()})})),this.registerEvent("Playlist.itemSelected",(e=>{(0,d.Ed)(e.item.id)&&this.sendEvent("av.playlist",null,{av_selected:e.item.id,av_interaction_source:this.avInteractionSource()})})),this.registerEvent("AddonSleepTimer.TIMER_DISABLED",(()=>{this.sendEvent("av.set.sleeptimer",null,{av_sleeptimer:"off"}),this.sendEvent("av.sleeptimer",null,{av_sleep_time:-1})})),this.registerEvent("AddonSleepTimer.TIMER_SET",(e=>{this.sendEvent("av.set.sleeptimer",null,{av_sleeptimer:e.duration===Number.MAX_SAFE_INTEGER?"clip_end":""+e.duration/60}),this.sendEvent("av.sleeptimer",null,{av_sleep_time:e.duration===Number.MAX_SAFE_INTEGER?86400:e.duration})})),c.O.isEmbedded&&this.player.isAudio){let e="";this.registerPlayerEvent(r.a.BROADCAST_STICKY_SHEET_STATE,(t=>{t.state!==e&&(e=t.state,"hidden"===t.state&&this.sendEvent("av.drop.player",null,{}))}))}this.registerPlayerEvent(r.a.TOGGLE_FULLSCREEN,(()=>{this.sendEvent("av.playermode",null,{av_player_mode:this.avPlayerMode(),av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(r.a.REMOTE_PLAYBACK_CHANGED,(()=>{this.sendEvent("av.playermode",null,{av_player_mode:this.avPlayerMode(),av_interaction_source:this.avInteractionSource()})})),this.registerPlayerEvent(r.a.PIP_STATUS_CHANGE,(()=>{this.sendEvent("av.playermode",null,{av_player_mode:this.avPlayerMode(),av_interaction_source:this.avInteractionSource()})}))}setHeartbeat(e){ur(this,p,"f")!==e&&(clearTimeout(ur(this,h,"f")),hr(this,p,e,"f"),0!==e&&(hr(this,f,performance.now(),"f"),this.setHeartbeatTimeout()))}setHeartbeatTimeout(){var e,t,i,r;if(0!==ur(this,p,"f")){clearTimeout(ur(this,h,"f"));const n=1===ur(this,p,"f")?null!==(t=null===(e=this.conf.config)||void 0===e?void 0:e.heartbeatDuration)&&void 0!==t?t:pr:null!==(r=null===(i=this.conf.config)||void 0===i?void 0:i.bufferingHeartbeatDuration)&&void 0!==r?r:fr,a=1===ur(this,p,"f")?5:1;if("object"==typeof n){const e=(performance.now()-ur(this,f,"f"))/6e4;let t=-1;Object.getOwnPropertyNames(n).forEach((i=>{const r=parseInt(i,10);r>t&&r<=e&&(t=r)})),hr(this,h,this.player.safeTimeoutWithContext({type:"timeout",initiator:"heartbeat"},this.beatHeart,1e3*Math.max(t<0?a:n[t],a)),"f")}else hr(this,h,this.player.safeTimeoutWithContext({type:"timeout",initiator:"heartbeat"},this.beatHeart,1e3*Math.max(n,a)),"f")}}sendEvent(e,t,r){var n,a,s;if(this.delegate){if(ur(this,i,"f")&&this.playbackEvents.includes(e)){if(null==ur(this,l,"f"))return void this.warn("skipped playback event outside of regular playback",e);if(ur(this,l,"f").call(this,{duration:null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.getDuration())&&void 0!==a?a:NaN}),ur(this,i,"f"))return void this.warn("skipped playback event outside of regular playback while waiting for live duration",e)}if(!this.eventWhitelist.includes(e))return void this.warn("skipped event, not listed in config:",e);if(null!=ur(this,v,"f")&&ur(this,v,"f").type===e&&(0,d.bD)(ur(this,v,"f").options,t)&&(0,d.bD)(ur(this,v,"f").properties,r))return void this.info("skipped duplicate event",e);hr(this,v,{type:e,options:t,properties:r},"f"),!0===(null===(s=this.conf.config)||void 0===s?void 0:s.debug)&&this.info(e,t,r);const o=this.createEvent(e,t,r),c=this.transformEvent(o);try{this.delegate.track(c)}catch(e){this.error("error in piano delegate",e)}}else this.warn("unable to send event",e,t,r)}createEvent(e,t,i){var r;const n=this.player.isLive&&t&&(0,d.i5)(t,"av_position")?{av_position_timestamp_source:(null===(r=this.player.getCtrl())||void 0===r?void 0:r.canCalculateDvrUnixTime())?"stream":"device"}:{};return{type:e,options:t,properties:Object.assign(n,this.conf.avContent,i)}}transformEvent(e){var t,i,r,n;const a=null===(i=null===(t=this.conf.config)||void 0===t?void 0:t.eventsTransform)||void 0===i?void 0:i[e.type],s=Object.assign({},e.properties);if(null===(r=this.conf.config)||void 0===r?void 0:r.dimensionTransform){const t=null===(n=this.conf.config)||void 0===n?void 0:n.dimensionTransform,i=[];Object.getOwnPropertyNames(t).forEach((r=>{(0,d.i5)(e.properties,r)&&(s[t[r]]=e.properties[r],i.push(t[r]),i.includes(r)||delete s[r])}))}return{type:(0,d.Ed)(a)?a:e.type,options:e.options,properties:s}}validatePropertyName(e){return(0,d.Ed)(e)&&/^(a:)?([snfdb]:)?[a-ln-z][a-z0-9_]{0,39}$/.test(e)&&!e.startsWith("visit_")}get currentPositionMs(){var e,t;return this.positionToMs(null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.getCurrentTimeWithoutSeek())&&void 0!==t?t:this.player.model.time)}positionToMs(e){if(this.player.isLive){const t=this.player.getCtrl();return(null==t?void 0:t.canCalculateDvrUnixTime())?Math.floor(1e3*t.dvrRelToUnix(e)):this.isIcecast?Date.now():Math.floor(Date.now()-1e3*(this.player.model.duration-e))}return Math.floor(1e3*e)}get isIcecast(){var e,t,i;return(this.player.model.duration===1/0||0===this.player.model.duration)&&this.player.isAudio&&null!==(i=null===(t=null===(e=this.player.currentMedium)||void 0===e?void 0:e.mimeType)||void 0===t?void 0:t.startsWith("audio/"))&&void 0!==i&&i}mapDialogName(e,t){switch(e){case"info":return"info";case"sharing":return"share";case"playlist":return"playlist";case"internals/settings":return"settings";case"recommendation":return"recommendation";case"internals/language":return"accessibility";case"sleepTimer":return"sleeptimer";case"breakingNews":return"breakingnews";case"jumpmarks":switch(t){case"radioShowsDrawer":return null;case"radioShows":return"jumpmark_radio_now_next";default:return"jumpmark_highlights"}case"internals/addonButtons":return"settings_overview";case"cast-ios":return"cast_targets";case"variant-selector":return"variants";default:return`${e}.${t}`}}avInteractionSource(){var e;const t=this.player.executionContext;return null===t&&!0===(null===(e=this.conf.config)||void 0===e?void 0:e.debug)&&this.player.console.trace("no context"),null!==t?`${t.type}:${t.initiator}`:"unknown"}avPlayerMode(){var e,t,i;return this.player.isRemotePlayback?null!==(i=null===(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.remotePlaybackDevice)||void 0===t?void 0:t.kind)&&void 0!==i?i:"chromecast":this.player.isFullscreen?"fullscreen":this.player.isPiP?"pip":"normal"}av_auto_mode(){return"true"===Xe.x.for(this.player).get(w.AUTOPLAY_SETTING,!0,"true")}avPlayProperties(){var e,t,i,r,n,a;const s=this.player.currentQuality,o=Xe.x.for(this.player),l=Xe.x.subtitleEnabled(this.player)||this.player.model.playerConfig.generic.isShowSubtitleAtStart?null!==(e=o.get(Xe.x.SUBTITLE_LANGUAGE,!1,null))&&void 0!==e?e:o.get(Xe.x.AUDIO_LANGUAGE,!1,"deu"):"off";return{av_autoplay:this.player.model.playerConfig.generic.isAutoplay,av_auto_mode:this.av_auto_mode(),av_audio_description:"audio-description"===o.get(Xe.x.AUDIO_KIND,!1,"standard"),av_sign_language:"sign-language"===(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind),av_language:o.get(Xe.x.AUDIO_LANGUAGE,!1,"deu"),av_original_version:!1,av_subtitles:l,av_embed:null!==(r=null===(i=this.player.model.mediaCollection.meta.embed)||void 0===i?void 0:i.enabled)&&void 0!==r&&r,av_quality:s<0?"Auto":null!==(a=null===(n=this.player.currentMedium)||void 0===n?void 0:n.qualityLabel)&&void 0!==a?a:"Auto",av_mute:Xe.x.muted(this.player),av_volume:Math.round(Xe.x.volume(this.player)),av_interaction_source:this.avInteractionSource()}}};return e=new WeakMap,t=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,cr(y,"AddonPiano"),(()=>{var e;const t="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=E[Symbol.metadata])&&void 0!==e?e:null):void 0;lr(null,m={value:y},g,{kind:"class",name:y.name,metadata:t},null,b),w=y=m.value,t&&Object.defineProperty(y,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:t})})(),y.AUTOPLAY_SETTING="recos_allow_autoplay",dr(y,b),w=y})();const mr={type:"addon",Clazz:vr,package:"@ardplayer/addon-tracking-piano",version:"7.7.0",rev:"[G]201271bb7"};var yr,gr;!function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",e.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",e.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.ASSET_LIST_LOAD_ERROR="assetListLoadError",e.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",e.ASSET_LIST_PARSING_ERROR="assetListParsingError",e.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.ATTACH_MEDIA_ERROR="attachMediaError",e.UNKNOWN="unknown"}(yr||(yr={})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.MEDIA_ENDED="hlsMediaEnded",e.STALL_RESOLVED="hlsStallResolved",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFERED_TO_END="hlsBufferedToEnd",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",e.ASSET_LIST_LOADING="hlsAssetListLoading",e.ASSET_LIST_LOADED="hlsAssetListLoaded",e.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",e.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",e.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",e.INTERSTITIAL_STARTED="hlsInterstitialStarted",e.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",e.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",e.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",e.INTERSTITIAL_ENDED="hlsInterstitialEnded",e.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",e.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",e.EVENT_CUE_ENTER="hlsEventCueEnter"}(gr||(gr={}));const br="1.8.5",Er="DNS",wr="Player",Sr="Disabled",Cr="no_cdn_http_header",Ar={NAME:"Beacon"},Tr={NAME:"BrowserWindow"},Ir={NAME:"BufferLevel",VIDEO:"video",AUDIO:"audio",TEXT:"text",SYNCED:"synced",MUXED:"muxed"},kr={NAME:"ErrorMetric"},Lr={NAME:"HttpTransaction"},Pr={NAME:"LiveEdgeDelay"},xr={NAME:"Misc"},_r={NAME:"Network"},Or={NAME:"Playback"},Mr={NAME:"RepSwitch"},Dr={NAME:"Screen"},Rr={NAME:"StartupTime"},Nr={NAME:"Video"};var Ur;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HTML_AUDIO=1]="HTML_AUDIO",e[e.HTML_VIDEO=2]="HTML_VIDEO",e[e.HLS=3]="HLS",e[e.DASH=4]="DASH"}(Ur||(Ur={}));const Vr={type:"addon",Clazz:class extends Pe{constructor(){super(...arguments),this.playerPlugin=Ur.UNKNOWN,this.sandLib=null,this.channel=null,this.beacon={streamID:"",manifest:"",mcdnType:"Disabled",cdn:"",playerType:"HTMLMediaElement",fatals:0,warnings:0,manifestCount:0,segmentCount:0,fragmentLoadIndicator:-1,currentLevel:0,it:"AUTO",t:-1,ts:-1,dt:"",dts:""},this.outstandingOptionals=[],this.delayedMetrics=[],this.streamID="unknown",this.streamtype="",this.manifest="",this.mcdnType=Sr,this.playerType="HTMLMediaElement",this.playerNameVersion="",this._isReporting=!1,this._initTimestamp=(new Date).getTime(),this.metricInterval=2e3,this.reportinginterval=2e3,this.adaptiveReportingInterval=3e4,this.adaptiveIntervalInit=6e4,this.initAdaptiveIntervalID=-1,this.adaptiveIntervalInitialized=!1,this.lastReportedValues={},this.beaconIntervalID=-1,this.beaconInterval=3e4,this._windowResizeTimer=void 0,this._isInBackground=!1,this.headIntervalID=-1,this.headInterval=1e4,this.miscIntervalID=-1,this.miscInterval=3e4,this.bufferLevelIntervalID=-1,this.trequestF=-1,this.trequestL=-1,this.liveEdgeDelayIntervalID=-1,this.initial_playout=!0,this.firstFrameTime=null,this.firstRepSwitch=!0,this.manifestLoadingInitialized=-1,this.manifestLoaded=-1,this.canPlay=-1,this.isStartupTimeReported=!1,this._isFullScreen=!0,this._lastDroppedFrames=-1,this.lastReportedError={},this.mcdnStatistics=[],this.requestID=0,this.headLastRequest=this.getSessionTimestamp(),this.eventLoadStream=()=>{var e,t,i;this.log(`EVENT_LOAD_STREAM playerId: ${this.player.getId()} - senderId: ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:""}`),null===(i=this.sandLib)||void 0===i||i.setSenderId(),this.setStreamID()},this.eventReady=()=>{var e,t;this.log(`EVENT_READY playerId: ${this.player.getId()} - senderId: ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:""}`);try{(this.hlsInUse||this.dashVideoInUse||this.htmlAudioInUse||this.htmlVideoInUse)&&(this.exitSAND(),this.initSAND())}catch(e){this.log(e)}},this.eventInit=()=>{var e,t;this.log(`EVENT_INIT [${this.player.getId()}] - ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:"NONE"}`),this.setPluginType()},this.eventPlayStream=()=>{var e,t;this.log(`EVENT_PLAY_STREAM [${this.player.getId()}] - ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:"NONE"}`)},this.eventPauseStream=()=>{var e,t;this.log(`EVENT_PAUSE_STREAM [${this.player.getId()}] - ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:"NONE"}`)},this.sendDelayedMetrics=()=>{this.delayedMetrics.forEach((({key:e,value:t})=>{this.sandAddNewMetric(e,t)})),this.delayedMetrics=[],this.reportMisc(this.manifest,this.streamtype)},this.sendBeacon=()=>{try{this.beacon.playerType=this.playerType,this.sandAddNewMetric(Ar.NAME,this.beacon),this.beacon.manifestCount=0,this.beacon.segmentCount=0,this.beacon.fatals=0,this.beacon.warnings=0}catch(e){this.log(e)}},this.flushChannels=()=>{var e;try{null===(e=this.sandLib)||void 0===e||e.getChannelController().getChannels().forEach((e=>{e.send()}))}catch(e){this.log(e)}},this.stopReporting=()=>{try{this.stopEventBasedMetrics(),this.stopIntervalBasedMetrics(),this.flushChannels()}catch(e){this.log(e)}},this.handleEventHlsFragLoading=(e,t)=>{try{this.log("Events.FRAG_LOADING",e,t),this.trequestF=this.getSessionTimestamp()}catch(e){this.log(e)}},this.handleEventHlsLevelLoading=(e,t)=>{try{this.log("Events.LEVEL_LOADING",e,t),this.trequestL=this.getSessionTimestamp()}catch(e){this.log(e)}},this.handleEventHlsLevelLoaded=(e,t)=>{var i,r,n,a,s,o;try{this.log("Events.LEVEL_LOADED",e,t),this.beacon.manifestCount++;let l=Cr;if(this.mcdnType===Er){const e=(null!==(r=null===(i=null==t?void 0:t.networkDetails)||void 0===i?void 0:i.getAllResponseHeaders())&&void 0!==r?r:"").toLowerCase();(e.startsWith("cdn:")||e.includes("\r\ncdn:"))&&(l=(null!==(a=null===(n=null==t?void 0:t.networkDetails)||void 0===n?void 0:n.getResponseHeader("cdn"))&&void 0!==a?a:Cr).split(",")[0].trim().toLowerCase())}this.sandSetOptionalParam("cdn",l);const d=this.trequestL,c=this.getSessionTimestamp(),u=c-d;this.sandAddNewMetric(Lr.NAME,{contentType:"application/x-mpegURL",actualurl:"",interval:u,range:-1,responsecode:null===(s=null==t?void 0:t.networkDetails)||void 0===s?void 0:s.status,t:this.getSessionElapsedMS(),tcpid:-1,trequest:d,tresponse:c,type:"Manifest",url:null===(o=null==t?void 0:t.details)||void 0===o?void 0:o.url,trace:[]})}catch(e){this.log(e)}},this.handleEventHlsLevelSwitching=(e,t)=>{try{this.log("Events.LEVEL_SWITCHING",e,t),this.sandSetOptionalParam("currentLevel",null==t?void 0:t.bitrate),this.beacon.currentLevel=null==t?void 0:t.bitrate;const i=this.firstRepSwitch?200:0;this.firstRepSwitch=!1,this.player.safeTimeout((()=>{var e,i,r;this.sandAddNewMetric(Mr.NAME,{mt:null!==(r=null===(i=null===(e=this.mediaPlayerHls)||void 0===e?void 0:e.media)||void 0===i?void 0:i.currentTime)&&void 0!==r?r:-1,t:this.getSessionElapsedMS(),to:null==t?void 0:t.level,tobandwidth:(null==t?void 0:t.bitrate)/1e3,height:null==t?void 0:t.height,width:null==t?void 0:t.width,mediatype:"muxed"})}),i)}catch(e){this.log(e)}},this.handleEventHlsAudioTracksUpdated=(e,t)=>{try{this.log("Events.AUDIO_TRACKS_UPDATED",e,t)}catch(e){this.log(e)}},this.handleEventHlsAudioTrackLoaded=(e,t)=>{try{this.log("Events.AUDIO_TRACK_LOADED",e,t)}catch(e){this.log(e)}},this.handleEventPlaying=e=>{try{this.log("handleEventPlaying",e),this.firstFrameTime=e.timeStamp}catch(e){this.log(e)}},this.handleEventPlayback=e=>{var t;try{this.log("handleEventPlayback",e);const i=e.timeStamp;let r=-1;const n=null===(t=this.mediaPlayerHls)||void 0===t?void 0:t.media;n&&(r=n.currentTime);let a="",s=0,o=[];"play"===e.type&&(this.initial_playout?(a="initial_playout",this.initial_playout=!1,this.firstFrameTime||(s=5e3)):a="resume"),this.player.safeTimeout((()=>{var e;s>0&&(o=[{representationid:"",representationbandwidth:-1,subreplevel:-1,start:new Date(null!==(e=this.firstFrameTime)&&void 0!==e?e:0),mstart:0,duration:"",playbackspeed:-1,stopreason:""}]);const t={start:i,mstart:r,starttype:a,trace:o};this.sandAddNewMetric(Or.NAME,t)}),s)}catch(e){this.log(e)}},this.handleEventPause=e=>{var t,i,r;this.log("handleEventPause",e),this.sandAddNewMetric(Or.NAME,{start:e.timeStamp,mstart:null!==(r=null===(i=null===(t=this.mediaPlayerHls)||void 0===t?void 0:t.media)||void 0===i?void 0:i.currentTime)&&void 0!==r?r:-1,starttype:"pause"})},this.handleEventStartupTime=e=>{var t,i;try{if(this.log("handleEventStartupTime",e),!this.isStartupTimeReported)if("loadstart"===e.type)this.manifestLoadingInitialized=this.getSessionElapsedMS();else if("loadedmetadata"===e.type)this.manifestLoaded=this.getSessionElapsedMS();else{this.canPlay=this.getSessionElapsedMS();const e=this.manifestLoadingInitialized&&this.manifestLoadingInitialized>-1?this.canPlay-this.manifestLoadingInitialized:this.canPlay-this.manifestLoaded,r=null!==(i=null===(t=this.sandLib)||void 0===t?void 0:t.getInitTS())&&void 0!==i?i:this._initTimestamp,n={manifestLoadingInitialized:r+this.manifestLoadingInitialized,manifestLoaded:r+this.manifestLoaded,canPlay:r+this.canPlay,startupTime:e};this.sandAddNewMetric(Rr.NAME,n),this.isStartupTimeReported=!0}}catch(e){this.log(e)}},this.handleEventFpsDrop=(e,t)=>{try{this.log("Events.FPS_DROP",e,t),this.reportDroppedFrames()}catch(e){this.log(e)}},this.handleEventWindowError=e=>{var t;try{this.log("Events.ERROR",e);const i={type:null!==(t=e.type)&&void 0!==t?t:"Window.ErrorEvent",fatal:!1,code:null,message:e.message,raw:e,url:void 0};this.reportMetricErrorList(i)}catch(e){this.log(e)}},this.handleEventMediaElementError=e=>{var t;try{this.log("Events.ERROR",e);const i={type:null!==(t=e.info)&&void 0!==t?t:"Player.EVENT_ERROR",fatal:e.isCritical,code:null,message:e.message,raw:e,url:void 0};this.reportMetricErrorList(i)}catch(e){this.log(e)}},this.handleEventHlsError=(e,t)=>{var i,r,n,a,s,o,l,d,c,u,h,p,f,v,m,y,g,b,E,w,S,C,A,T,I,k,L,P,x,_,O,M,D,R,N,U,V;try{this.log("Events.ERROR",e,t);const j={type:null!==(i=null==t?void 0:t.type)&&void 0!==i?i:"GENERIC_ERROR_HLSJS",fatal:null==t?void 0:t.fatal,code:null!==(r=null==t?void 0:t.code)&&void 0!==r?r:null,message:null==t?void 0:t.details,raw:t,url:null!==(a=null!==(n=null==t?void 0:t.url)&&void 0!==n?n:null)&&void 0!==a?a:void 0};switch(j.code=null!==(o=null===(s=null==t?void 0:t.response)||void 0===s?void 0:s.code)&&void 0!==o?o:j.code,null==t?void 0:t.details){case yr.MANIFEST_LOAD_ERROR:j.message=`Error while loading manifest: ${null!==(d=null===(l=null==t?void 0:t.context)||void 0===l?void 0:l.url)&&void 0!==d?d:"NO_URL"}`,j.url=null===(c=null==t?void 0:t.context)||void 0===c?void 0:c.url;break;case yr.MANIFEST_LOAD_TIMEOUT:j.message=`Timeout while loading manifest: ${null!==(h=null===(u=null==t?void 0:t.context)||void 0===u?void 0:u.url)&&void 0!==h?h:"NO_URL"}`,j.url=null===(p=null==t?void 0:t.context)||void 0===p?void 0:p.url;break;case yr.MANIFEST_PARSING_ERROR:j.message=`Error while parsing manifest: ${null!==(f=null==t?void 0:t.reason)&&void 0!==f?f:"NO_REASON"}`;break;case yr.LEVEL_LOAD_ERROR:j.message=`Error while loading level playlist: ${null!==(m=null===(v=null==t?void 0:t.context)||void 0===v?void 0:v.url)&&void 0!==m?m:"NO_URL"}`,j.url=null===(y=null==t?void 0:t.context)||void 0===y?void 0:y.url;break;case yr.LEVEL_LOAD_TIMEOUT:j.message=`Timeout while loading level playlist: ${null!==(b=null===(g=null==t?void 0:t.context)||void 0===g?void 0:g.url)&&void 0!==b?b:"NO_URL"}`,j.url=null===(E=null==t?void 0:t.context)||void 0===E?void 0:E.url;break;case yr.LEVEL_SWITCH_ERROR:j.message=`Error while trying to switch to level ${null!==(w=null==t?void 0:t.level)&&void 0!==w?w:"NO_LEVEL"}`;break;case yr.FRAG_LOAD_ERROR:j.message=`Error while loading fragment ${null!==(C=null===(S=null==t?void 0:t.frag)||void 0===S?void 0:S.url)&&void 0!==C?C:"NO_URL"}`,j.url=null===(A=null==t?void 0:t.context)||void 0===A?void 0:A.url;break;case yr.FRAG_LOAD_TIMEOUT:j.message=`Timeout while loading fragment ${null!==(I=null===(T=null==t?void 0:t.frag)||void 0===T?void 0:T.url)&&void 0!==I?I:"NO_URL"}`,j.url=null===(k=null==t?void 0:t.context)||void 0===k?void 0:k.url;break;case yr.FRAG_DECRYPT_ERROR:j.message=`Decrypting error: ${null!==(L=null==t?void 0:t.reason)&&void 0!==L?L:"NO_REASON"}`;break;case yr.FRAG_PARSING_ERROR:j.message=`Parsing error: ${null!==(P=null==t?void 0:t.reason)&&void 0!==P?P:"NO_REASON"}`;break;case yr.KEY_LOAD_ERROR:j.message=`Error while loading key ${null!==(O=null===(_=null===(x=null==t?void 0:t.frag)||void 0===x?void 0:x.decryptdata)||void 0===_?void 0:_.uri)&&void 0!==O?O:"NO_URI"}`;break;case yr.KEY_LOAD_TIMEOUT:j.message=`Timeout while loading key ${null!==(R=null===(D=null===(M=null==t?void 0:t.frag)||void 0===M?void 0:M.decryptdata)||void 0===D?void 0:D.uri)&&void 0!==R?R:"NO_URI"}`;break;case yr.BUFFER_APPEND_ERROR:j.message="Buffer append error";break;case yr.BUFFER_ADD_CODEC_ERROR:j.message=`Buffer add codec error for ${null!==(N=null==t?void 0:t.mimeType)&&void 0!==N?N:"NO_MIME_TYPE"}:${null!==(V=null===(U=null==t?void 0:t.error)||void 0===U?void 0:U.message)&&void 0!==V?V:"NO_MESSAGE"}`;break;case yr.BUFFER_APPENDING_ERROR:j.message="Buffer appending error";break;case yr.BUFFER_STALLED_ERROR:j.message="Buffer stalled"}this.reportMetricErrorList(j)}catch(e){this.log(e)}},this.handleEventHlsManifestLoading=(e,t)=>{try{this.log("Events.MANIFEST_LOADING",e,t),this.streamtype="HLS",this.manifest=new URL(null==t?void 0:t.url,window.location.href).href,this.sandSetOptionalParam("manifest",this.manifest),this.checkCDN()}catch(e){this.log(e)}},this.handleEventHlsManifestLoaded=(e,t)=>{var i,r,n,a,s,o,l,d,c;try{this.log("Events.MANIFEST_LOADED",e,t),this.log("Events.MANIFEST_LOADED hls.nextLoadLevel",null===(i=this.mediaPlayerHls)||void 0===i?void 0:i.nextLoadLevel),this.log("Events.MANIFEST_LOADED levelBitrate:",null===(a=null==t?void 0:t.levels[null!==(n=null===(r=this.mediaPlayerHls)||void 0===r?void 0:r.nextLoadLevel)&&void 0!==n?n:0])||void 0===a?void 0:a.bitrate);let u=Cr;if(this.mcdnType===Er){const e=(null!==(o=null===(s=null==t?void 0:t.networkDetails)||void 0===s?void 0:s.getAllResponseHeaders())&&void 0!==o?o:"").toLowerCase();(e.startsWith("cdn:")||e.includes("\r\ncdn:"))&&(this.log("Events.MANIFEST_LOADED CDN:",null===(l=null==t?void 0:t.networkDetails)||void 0===l?void 0:l.getResponseHeader("cdn")),u=(null!==(c=null===(d=null==t?void 0:t.networkDetails)||void 0===d?void 0:d.getResponseHeader("cdn"))&&void 0!==c?c:Cr).split(",")[0].trim().toLowerCase())}this.sandSetOptionalParam("cdn",u)}catch(e){this.log(e)}},this.handleEventHlsFragLoaded=(e,t)=>{var i,r,n,a,s,o,l,d,c,u,h,p,f,v,m,y;try{this.beacon.segmentCount++;let e=Cr;if(this.mcdnType===Er){const c=(null!==(n=null===(r=null===(i=t.networkDetails)||void 0===i?void 0:i.getAllResponseHeaders)||void 0===r?void 0:r.call(i))&&void 0!==n?n:"").toLowerCase();(c.startsWith("cdn:")||c.includes("\r\ncdn:"))&&(this.log("Events.FRAG_LOADED CDN:",null===(s=null===(a=t.networkDetails)||void 0===a?void 0:a.getResponseHeader)||void 0===s?void 0:s.call(a,"cdn")),e=(null!==(d=null===(l=null===(o=t.networkDetails)||void 0===o?void 0:o.getResponseHeader)||void 0===l?void 0:l.call(o,"cdn"))&&void 0!==d?d:Cr).split(",")[0].trim().toLowerCase())}this.sandSetOptionalParam("cdn",e);const g=t.frag;if((null===(c=null==g?void 0:g.stats)||void 0===c?void 0:c.loading)&&t.networkDetails&&(null==g?void 0:g.duration)&&(null===(h=null===(u=null==g?void 0:g.stats)||void 0===u?void 0:u.loading)||void 0===h?void 0:h.end)&&(null===(f=null===(p=null==g?void 0:g.stats)||void 0===p?void 0:p.loading)||void 0===f?void 0:f.start)){const e=null===(v=null==t?void 0:t.networkDetails)||void 0===v?void 0:v.responseURL;"string"==typeof e&&this.checkMCDNStatistics(e,1e3*g.duration,g.stats.loading.end-g.stats.loading.start)}const b=[],E=this.trequestF,w=this.getSessionTimestamp(),S={contentType:"video/MP2T",actualurl:"",interval:w-E,range:-1,responsecode:null===(m=null==t?void 0:t.networkDetails)||void 0===m?void 0:m.status,tcpid:-1,trequest:E,tresponse:w,type:"MediaSegment",url:null===(y=null==t?void 0:t.frag)||void 0===y?void 0:y.url,trace:b};this.sandAddNewMetric(Lr.NAME,S)}catch(e){this.log(e)}}}get ID(){return"AddonSAND"}get trackingKey(){return"SAND"}get hlsInUse(){return this.playerPlugin===Ur.HLS}get dashVideoInUse(){return this.playerPlugin===Ur.DASH}get htmlAudioInUse(){return this.playerPlugin===Ur.HTML_AUDIO}get htmlVideoInUse(){return this.playerPlugin===Ur.HTML_VIDEO}get htmlPlayer(){var e;const t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.mediaElement;return t instanceof HTMLMediaElement?t:null}get mediaPlayerHls(){var e,t;return this.playerPlugin===Ur.HLS&&null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.hlsInstance)&&void 0!==t?t:null}get mediaPlayerDash(){return null}startupHook(){return null===this.sandLib&&(s.e(402).then(s.t.bind(s,76321,23)).then((e=>{var t,i,r,n;this.sandLib=new e.SANDLibrary,this._initTimestamp=(new Date).getTime();const a=(null!==(i=null===(t=this.conf)||void 0===t?void 0:t.mcdnType)&&void 0!==i?i:"").toLowerCase();this.mcdnType=a===Er.toLowerCase()?Er:a===wr.toLowerCase()?wr:Sr,(null===(r=this.sandLib)||void 0===r?void 0:r.setGlobalTimer)&&(null===(n=this.sandLib)||void 0===n||n.setGlobalTimer({setTimeout:(e,t,...i)=>window.setTimeout((()=>{try{e(...i)}catch(e){}}),t),setInterval:(e,t,...i)=>{const r=window.setInterval((()=>{try{e(...i)}catch(e){window.clearInterval(r)}}),t);return r},clearTimeout:window.clearTimeout.bind(window),clearInterval:window.clearInterval.bind(window)})),this.player.readyTrigger()})).catch((e=>{this.error("[AddonSAND] ERROR loading SAND Lib: ",e)})),!0)}register(){return!!super.register()&&(this.registerPlayerEvent(r.a.EVENT_LOAD_STREAM,this.eventLoadStream),this.registerPlayerEvent(r.a.EVENT_READY,this.eventReady),this.registerPlayerEvent(r.a.EVENT_INIT,this.eventInit),this.registerPlayerEvent(r.a.EVENT_PLAY_STREAM,this.eventPlayStream),this.registerPlayerEvent(r.a.EVENT_PAUSE_STREAM,this.eventPauseStream),this.log("Plugin registered: AddonSAND"),!0)}dispose(){this.exitSAND(),super.dispose()}log(...e){this.isDebugMode()&&super.log(...e)}isSupported(){var e,t;return super.isSupported()&&null!==(t=null===(e=this.conf)||void 0===e?void 0:e.SANDEnabled)&&void 0!==t&&t}isDebugMode(){var e;return!!(null===(e=this.conf)||void 0===e?void 0:e.SANDDebug)}setPluginType(){let e=Ur.UNKNOWN;switch(this.player.currentPluginName){case"hls":e=Ur.HLS,this.playerType="hls.js";break;case"dashVideo":e=Ur.DASH,this.playerType="dash.js";break;case"htmlAudio":e=Ur.HTML_AUDIO,this.playerType="HTMLMediaElement";break;case"htmlVideo":e=Ur.HTML_VIDEO,this.playerType="HTMLMediaElement"}this.playerPlugin=e}initSAND(){var e,t,i,r,n,a,s,o,l,d,c,u,h,p,f,v,m,y,g,b,E,w,S,C,A,T;try{this.log(`initSAND [${null===(e=this.player)||void 0===e?void 0:e.getId()}]`),null===(t=this.sandLib)||void 0===t||t.setSenderId(),this.setStreamID(),this._initTimestamp=(new Date).getTime();let I="",k="",L=["cdn","manifest"];switch(this.playerPlugin){case Ur.HLS:I="hls.js",k="",this.playerType="hls.js",L=["cdn","manifest","currentLevel","fragmentLoadIndicator"];break;case Ur.DASH:I="dash.js",k=null!==(r=null===(i=this.mediaPlayerDash)||void 0===i?void 0:i.getVersion())&&void 0!==r?r:"",this.playerType="dash.js";break;case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:I="HTMLMediaElement",k="(Type 1)",this.playerType="HTMLMediaElement"}switch(this.playerNameVersion=[I,k].join(" "),null===(n=this.sandLib)||void 0===n||n.setPlayer([I,k].join(" ")),null===(a=this.sandLib)||void 0===a||a.setSANDAdapterVersion(br),null===(s=this.sandLib)||void 0===s||s.setReferrer(window.location.href),null===(o=this.sandLib)||void 0===o||o.updateSANDChannelConfiguration(null!==(d=null===(l=this.conf)||void 0===l?void 0:l.reporting)&&void 0!==d?d:[],this.channel?[this.channel]:[],null!==(u=null===(c=this.conf)||void 0===c?void 0:c.configuration)&&void 0!==u?u:{}),null===(h=this.sandLib)||void 0===h||h.getChannelController().getChannels().forEach((e=>{var t,i,r,n;e._reportMetricTypes.includes("Beacon")&&e.registerSendCallback(this.onBeaconSent),e.registerSendCallback(this.onMessageSent),e.setMessageInterval(null!==(n=null===(r=null===(i=null===(t=this.conf)||void 0===t?void 0:t.configuration)||void 0===i?void 0:i.defaults)||void 0===r?void 0:r.reportingInterval)&&void 0!==n?n:2e3)})),this.sandSetOptionalParam("customerID",null===(f=null===(p=this.conf)||void 0===p?void 0:p.configuration)||void 0===f?void 0:f.customerID),this.sandSetOptionalParam("mcdnType",this.mcdnType),this.sandSetOptionalParam("streamID",this.getStreamID()),this.sandSetOptionalParam("isLive",-1),"isLive"in this.player&&this.sandSetOptionalParam("isLive","boolean"==typeof this.player.isLive&&this.player.isLive?1:0),this.sandSetOptionalParam("cdn",Cr),this.sandSetOptionalParam("currentLevel",-1),this.sandSetOptionalParam("bandwidthEstimate",-1),this.sandSetOptionalParam("fragmentLoadIndicator",-1),this.sandSetOptionalParam("streamtype",""),this.log(`SAND Adapter for ARD-Player initialized @${new Date(null!==(m=null===(v=this.sandLib)||void 0===v?void 0:v.getInitTS())&&void 0!==m?m:Date.now()).toISOString()}`),this.log(`clientID: ${null!==(g=null===(y=this.sandLib)||void 0===y?void 0:y.getClientId())&&void 0!==g?g:""}`),this.log(`streamingSessionID: ${null!==(E=null===(b=this.sandLib)||void 0===b?void 0:b.getStreamingSessionId())&&void 0!==E?E:""}`),this.playerPlugin){case Ur.HLS:null===(S=null===(w=this.mediaPlayerHls)||void 0===w?void 0:w.media)||void 0===S||S.addEventListener("ended",this.stopReporting),this.mediaPlayerHls&&(this.mediaPlayerHls.on(gr.MEDIA_DETACHED,this.stopReporting),this.mediaPlayerHls.on(gr.DESTROYING,this.stopReporting));break;case Ur.DASH:null===(A=null===(C=this.mediaPlayerDash)||void 0===C?void 0:C.getVideoElement())||void 0===A||A.addEventListener("ended",this.stopReporting);case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:case Ur.UNKNOWN:}null===(T=this.htmlPlayer)||void 0===T||T.addEventListener("ended",this.stopReporting),this.outstandingOptionals=L.slice(0),this.startReporting()}catch(e){this.log(e)}}exitSAND(){var e,t,i,r,n,a,s;try{switch(this.log(`exitSAND [${null===(e=this.player)||void 0===e?void 0:e.getId()}]`),this.stopReporting(),this.playerPlugin){case Ur.HLS:null===(i=null===(t=this.mediaPlayerHls)||void 0===t?void 0:t.media)||void 0===i||i.removeEventListener("ended",this.stopReporting),this.mediaPlayerHls&&(this.mediaPlayerHls.off(gr.MEDIA_DETACHED,this.stopReporting),this.mediaPlayerHls.off(gr.DESTROYING,this.stopReporting));break;case Ur.DASH:null===(n=null===(r=this.mediaPlayerDash)||void 0===r?void 0:r.getVideoElement())||void 0===n||n.removeEventListener("ended",this.stopReporting);case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:case Ur.UNKNOWN:}null===(a=this.htmlPlayer)||void 0===a||a.removeEventListener("ended",this.stopReporting),null===(s=this.sandLib)||void 0===s||s.removeAllChannels()}catch(e){this.log(e)}}getSessionTimestamp(){var e,t;const i=(new Date).getTime();return(null===(e=this.sandLib)||void 0===e?void 0:e.getInitTS())?(null===(t=this.sandLib)||void 0===t?void 0:t.getInitTS())+(i-this._initTimestamp):Date.now()}getSessionElapsedMS(){return(new Date).getTime()-this._initTimestamp}sandSetOptionalParam(e,t){var i;if(null===(i=this.sandLib)||void 0===i||i.setOptionalParamsObjectEntry(e,t),this.outstandingOptionals.length>0){const t=this.outstandingOptionals.indexOf(e);t>-1&&(this.outstandingOptionals.splice(t,1),0===this.outstandingOptionals.length&&this.sendDelayedMetrics())}}setStreamingSessionID(e){var t,i,r,n,a,s,o,l,d;const c=null!==(i=null===(t=this.sandLib)||void 0===t?void 0:t.getSenderId())&&void 0!==i?i:"";if(c.includes("--")&&c.length>2){const t=null!==(n=null===(r=this.sandLib)||void 0===r?void 0:r.getClientId())&&void 0!==n?n:"";null===(a=this.sandLib)||void 0===a||a.setSenderId([t,e].join("--"))}else{null===(s=this.sandLib)||void 0===s||s.setSenderId();const t=null!==(l=null===(o=this.sandLib)||void 0===o?void 0:o.getClientId())&&void 0!==l?l:"";null===(d=this.sandLib)||void 0===d||d.setSenderId([t,e].join("--"))}}getStreamingSessionID(){var e,t;return null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getStreamingSessionId())&&void 0!==t?t:""}setStreamID(e){var t,i,r,n;this.streamID=void 0!==e?e:null!==(n=null!==(t=this.conf.av_content_id)&&void 0!==t?t:null===(r=null===(i=this.mc.getPluginData("trackingPiano"))||void 0===i?void 0:i.avContent)||void 0===r?void 0:r.av_content_id)&&void 0!==n?n:"unknown",this.sandSetOptionalParam("streamID",this.getStreamID())}getStreamID(){return this.streamID}setManifestUrl(){var e,t,i,r;let n,a=0;switch(this.playerPlugin){case Ur.HLS:case Ur.DASH:break;case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:a=!1!==this.player.currentMedia?this.player.currentMedia:0,n=null!==(r=null===(i=null===(t=null===(e=this.player)||void 0===e?void 0:e.currentStream)||void 0===t?void 0:t.media[a])||void 0===i?void 0:i.url)&&void 0!==r?r:void 0}n&&n.length>1?(this.manifest=n,this.sandSetOptionalParam("manifest",n)):this.player.safeTimeout((()=>{this.setManifestUrl()}),100)}sandAddNewMetric(e,t){var i;this.log("addNewMetric",e,t);const r=Object.assign(Object.assign({},t),{t:this.getSessionElapsedMS()});this.outstandingOptionals.length>0?this.delayedMetrics.push({key:e,value:r}):null===(i=this.sandLib)||void 0===i||i.addNewMetric(e,r)}sandReportMisc(){this.log("reportMisc",this.manifest,this.streamtype);let e=-1;switch(this.playerPlugin){case Ur.HLS:this.mediaPlayerHls&&"bandwidthEstimate"in this.mediaPlayerHls&&(e=this.mediaPlayerHls.bandwidthEstimate);case Ur.DASH:case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:case Ur.UNKNOWN:}isNaN(e)||this.sandSetOptionalParam("bandwidthEstimate",Math.round(e)),0===this.outstandingOptionals.length&&this.reportMisc(this.manifest,this.streamtype)}setDeviceInformation(e,t,i,r){var n,a;const s=navigator,o=null!==(a=null!==(n=s.connection)&&void 0!==n?n:s.mozConnection)&&void 0!==a?a:s.webkitConnection;this.createScreen(),this.createBrowserWindow(),this.createVideo("common"),this.reportMisc(e,t,i,r),void 0!==o&&(this.createNetwork(),o.addEventListener("change",(()=>{this.createNetwork()})))}startReporting(){var e,t,i,r,n,a,s,o,l,d,c,u,h,p,f,v,m,y,g,b,E;try{null===(e=this.sandLib)||void 0===e||e.prepareReporting(),this.initEventBasedMetrics(),this.initAdaptiveInterval(null!==(n=null===(r=null===(i=null===(t=this.conf)||void 0===t?void 0:t.configuration)||void 0===i?void 0:i.adaptiveInterval)||void 0===r?void 0:r.init)&&void 0!==n?n:1e4),this.initMiscIntervalReporting(null!==(l=null===(o=null===(s=null===(a=this.conf)||void 0===a?void 0:a.configuration)||void 0===s?void 0:s.defaults)||void 0===o?void 0:o.miscInterval)&&void 0!==l?l:3e4),this.initBeaconIntervalReporting(null!==(h=null===(u=null===(c=null===(d=this.conf)||void 0===d?void 0:d.configuration)||void 0===c?void 0:c.defaults)||void 0===u?void 0:u.beaconInterval)&&void 0!==h?h:3e4),this.initIntervalBasedMetrics(null!==(m=null===(v=null===(f=null===(p=this.conf)||void 0===p?void 0:p.configuration)||void 0===f?void 0:f.defaults)||void 0===v?void 0:v.metricInterval)&&void 0!==m?m:2e3),this.setManifestUrl(),this.mcdnType===Er?this.initHeadIntervalRequest(null!==(E=null===(b=null===(g=null===(y=this.conf)||void 0===y?void 0:y.configuration)||void 0===g?void 0:g.defaults)||void 0===b?void 0:b.headInterval)&&void 0!==E?E:3e4):(this.sandSetOptionalParam("cdn",Cr),this.sandSetOptionalParam("currentLevel",-1),this.sandSetOptionalParam("fragmentLoadIndicator",-1),this.sandSetOptionalParam("bandwidthEstimate",-1),this.sandSetOptionalParam("streamtype",""))}catch(e){this.log(e)}}initEventBasedMetrics(){var e;try{switch(this.playerPlugin){case Ur.HLS:this.mediaPlayerHls&&(this.mediaPlayerHls.on(gr.MANIFEST_LOADING,this.handleEventHlsManifestLoading),this.mediaPlayerHls.on(gr.MANIFEST_LOADED,this.handleEventHlsManifestLoaded),this.mediaPlayerHls.on(gr.LEVEL_LOADING,this.handleEventHlsLevelLoading),this.mediaPlayerHls.on(gr.LEVEL_LOADED,this.handleEventHlsLevelLoaded),this.mediaPlayerHls.on(gr.LEVEL_SWITCHING,this.handleEventHlsLevelSwitching),this.mediaPlayerHls.on(gr.AUDIO_TRACKS_UPDATED,this.handleEventHlsAudioTracksUpdated),this.mediaPlayerHls.on(gr.AUDIO_TRACK_LOADED,this.handleEventHlsAudioTrackLoaded),this.mediaPlayerHls.on(gr.FRAG_LOADING,this.handleEventHlsFragLoading),this.mediaPlayerHls.on(gr.FRAG_LOADED,this.handleEventHlsFragLoaded),this.mediaPlayerHls.on(gr.FPS_DROP,this.handleEventFpsDrop),this.mediaPlayerHls.on(gr.ERROR,this.handleEventHlsError));case Ur.DASH:case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:case Ur.UNKNOWN:}const t=this.htmlPlayer;t&&(t.addEventListener("loadstart",this.handleEventStartupTime),t.addEventListener("loadedmetadata",this.handleEventStartupTime),t.addEventListener("canplay",this.handleEventStartupTime),t.addEventListener("play",this.handleEventPlayback),t.addEventListener("playing",this.handleEventPlaying),t.addEventListener("pause",this.handleEventPause),null===(e=this.player)||void 0===e||e.loop.addEventListener(r.a.EVENT_ERROR,this.handleEventMediaElementError)),window.addEventListener("error",this.handleEventWindowError),this.initMetricVideoEventReporting(),this.initMetricBrowserWindowEventReporting(),this.initMetricScreenEventReporting()}catch(e){this.log(e)}}initAdaptiveInterval(e){try{this.initAdaptiveIntervalID=this.player.safeTimeout((()=>{var e,t,i,r,n;this.adaptiveIntervalInitialized=!0,null===(e=this.sandLib)||void 0===e||e.getChannelController().getChannels().forEach((e=>{var t,i,r,n;e.setMessageInterval(null!==(n=null===(r=null===(i=null===(t=this.conf)||void 0===t?void 0:t.configuration)||void 0===i?void 0:i.adaptiveInterval)||void 0===r?void 0:r.reportingInterval)&&void 0!==n?n:3e4)})),this.clearIntervalBasedMetrics(),this.initIntervalBasedMetrics(null!==(n=null===(r=null===(i=null===(t=this.conf)||void 0===t?void 0:t.configuration)||void 0===i?void 0:i.adaptiveInterval)||void 0===r?void 0:r.metricInterval)&&void 0!==n?n:3e4)}),e)}catch(e){this.log(e)}}initBeaconIntervalReporting(e){this.sendBeacon(),this.beaconIntervalID=this.player.safeInterval((()=>{try{this.sendBeacon()}catch(e){this.log(e)}}),e)}initMiscIntervalReporting(e){this.miscIntervalID=this.player.safeInterval((()=>{try{this.sandReportMisc()}catch(e){this.log(e)}}),e)}initIntervalBasedMetrics(e){try{switch(this.initBufferLevelIntervalReporting(e),this.playerPlugin){case Ur.HLS:case Ur.DASH:this.initLiveEdgeDelayIntervalReporting(e)}}catch(e){this.log(e)}}clearIntervalBasedMetrics(){clearInterval(this.bufferLevelIntervalID),clearInterval(this.liveEdgeDelayIntervalID)}reportMisc(e,t,i,r){var n,a;const s={t:i&&i>0?i:this.getSessionElapsedMS(),ts:null===(n=this.sandLib)||void 0===n?void 0:n.getInitTS(),version:br,oscpu:null,timezone:"Europe/Berlin",locale:"de",referrer:null===(a=this.sandLib)||void 0===a?void 0:a.getReferrer(),type:null,manifest:e,mpdurl:e,player:this.playerNameVersion};if(window&&window.navigator){const e=window.navigator;void 0!==e.oscpu&&(s.oscpu=e.oscpu)}if("object"==typeof Intl&&Intl.DateTimeFormat&&"function"==typeof Intl.DateTimeFormat&&void 0!==Intl.DateTimeFormat().resolvedOptions()){const e=Intl.DateTimeFormat().resolvedOptions();s.locale=e.locale,s.timezone=e.timeZone}t&&(s.streamtype=t),(null==r?void 0:r.hbbCapabilities)&&(s.HbbCapabilities=r.hbbCapabilities),(null==r?void 0:r.hbbPodduration)&&(s.HbbPodduration=r.hbbPodduration),this.sandAddNewMetric(xr.NAME,s)}initHeadIntervalRequest(e){this.headIntervalID=this.player.safeInterval((()=>{try{const e=this.getSessionTimestamp()-this.headLastRequest;this.manifest&&e>=this.headInterval&&this.checkXHRHeadRequest(this.manifest,null)}catch(e){this.log(e)}}),e)}stopEventBasedMetrics(){var e;try{switch(this.playerPlugin){case Ur.HLS:this.mediaPlayerHls&&(this.mediaPlayerHls.off(gr.MANIFEST_LOADING,this.handleEventHlsManifestLoading),this.mediaPlayerHls.off(gr.MANIFEST_LOADED,this.handleEventHlsManifestLoaded),this.mediaPlayerHls.off(gr.LEVEL_LOADING,this.handleEventHlsLevelLoading),this.mediaPlayerHls.off(gr.LEVEL_LOADED,this.handleEventHlsLevelLoaded),this.mediaPlayerHls.off(gr.LEVEL_SWITCHING,this.handleEventHlsLevelSwitching),this.mediaPlayerHls.off(gr.AUDIO_TRACKS_UPDATED,this.handleEventHlsAudioTracksUpdated),this.mediaPlayerHls.off(gr.AUDIO_TRACK_LOADED,this.handleEventHlsAudioTrackLoaded),this.mediaPlayerHls.off(gr.FRAG_LOADING,this.handleEventHlsFragLoading),this.mediaPlayerHls.off(gr.FRAG_LOADED,this.handleEventHlsFragLoaded),this.mediaPlayerHls.off(gr.FPS_DROP,this.handleEventFpsDrop),this.mediaPlayerHls.off(gr.ERROR,this.handleEventHlsError));case Ur.DASH:case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:case Ur.UNKNOWN:}const t=this.htmlPlayer;t&&(t.removeEventListener("loadstart",this.handleEventStartupTime),t.removeEventListener("loadedmetadata",this.handleEventStartupTime),t.removeEventListener("canplay",this.handleEventStartupTime),t.removeEventListener("play",this.handleEventPlayback),t.removeEventListener("playing",this.handleEventPlaying),null===(e=this.player)||void 0===e||e.loop.removeEventListener(r.a.EVENT_ERROR,this.handleEventMediaElementError)),window.removeEventListener("error",this.handleEventWindowError),this.removeMetricVideoEventReporting(),this.removeMetricBrowserWindowEventReporting(),this.removeMetricScreenEventReporting()}catch(e){this.log(e)}}stopIntervalBasedMetrics(){try{clearInterval(this.initAdaptiveIntervalID),clearInterval(this.beaconIntervalID),clearInterval(this.miscIntervalID),clearInterval(this.headIntervalID),clearInterval(this.bufferLevelIntervalID),clearInterval(this.liveEdgeDelayIntervalID)}catch(e){this.log(e)}}initBufferLevelIntervalReporting(e){this.bufferLevelIntervalID=this.player.safeInterval((()=>{var e,t,i,r,n,a,s,o,l,d,c,u,h;try{let p=-1,f=Ir.MUXED;if(null===(t=null===(e=this.htmlPlayer)||void 0===e?void 0:e.buffered)||void 0===t?void 0:t.length)p=this.htmlPlayer.buffered.end(0)-this.htmlPlayer.currentTime,f=Ir.MUXED;else switch(this.playerPlugin){case Ur.HLS:(null===(n=null===(r=null===(i=this.mediaPlayerHls)||void 0===i?void 0:i.media)||void 0===r?void 0:r.buffered)||void 0===n?void 0:n.length)&&(p=(null===(s=null===(a=this.mediaPlayerHls)||void 0===a?void 0:a.media)||void 0===s?void 0:s.buffered.end(0))-(null===(l=null===(o=this.mediaPlayerHls)||void 0===o?void 0:o.media)||void 0===l?void 0:l.currentTime),f=Ir.MUXED);break;case Ur.DASH:(null===(d=this.mediaPlayerDash)||void 0===d?void 0:d.getBufferLength("video"))&&(p=null===(c=this.mediaPlayerDash)||void 0===c?void 0:c.getBufferLength("video"),f=Ir.VIDEO);break;case Ur.HTML_AUDIO:(null===(h=null===(u=this.htmlPlayer)||void 0===u?void 0:u.buffered)||void 0===h?void 0:h.length)&&(p=this.htmlPlayer.buffered.end(0)-this.htmlPlayer.currentTime,f=Ir.AUDIO);case Ur.UNKNOWN:case Ur.HTML_VIDEO:}isNaN(p)||(p=Math.max(1e3*p,0),this.handleEventBufferLevel(f,p))}catch(e){this.log(e)}}),e)}handleEventBufferLevel(e,t){try{const i={level:t,bufferType:e};this.log("handleEventBufferLevel",i),this.shouldReportIntervalDrivenMetric(Ir.NAME,i)&&(this.sandAddNewMetric(Ir.NAME,i),this.lastReportedValues[Ir.NAME]=i)}catch(e){this.log(e)}}initLiveEdgeDelayIntervalReporting(e){this.liveEdgeDelayIntervalID=this.player.safeInterval((()=>{var e,t;try{let i=-1;switch(this.playerPlugin){case Ur.HLS:this.player.isLive&&this.mediaPlayerHls&&"latency"in this.mediaPlayerHls&&(i=this.mediaPlayerHls.latency,this.handleEventLiveEdgeDelay(i));break;case Ur.DASH:(null===(e=this.mediaPlayerDash)||void 0===e?void 0:e.getCurrentLiveLatency())&&(i=null===(t=this.mediaPlayerDash)||void 0===t?void 0:t.getCurrentLiveLatency())}!isNaN(i)&&i>-1&&(i=Math.max(1e3*i,0),this.handleEventLiveEdgeDelay(i))}catch(e){this.log(e)}}),e)}handleEventLiveEdgeDelay(e){try{const t={delay:e};this.log("handleEventLiveEdgeDelay"),this.shouldReportIntervalDrivenMetric(Pr.NAME,t)&&(this.sandAddNewMetric(Pr.NAME,t),this.lastReportedValues[Pr.NAME]=t)}catch(e){this.log(e)}}initMetricVideoEventReporting(){try{document.addEventListener("webkitfullscreenchange",this.onFullScreenChange),document.addEventListener("mozfullscreenchange",this.onFullScreenChange),document.addEventListener("fullscreenchange",this.onFullScreenChange)}catch(e){}}removeMetricVideoEventReporting(){try{document.removeEventListener("webkitfullscreenchange",this.onFullScreenChange),document.removeEventListener("mozfullscreenchange",this.onFullScreenChange),document.removeEventListener("fullscreenchange",this.onFullScreenChange)}catch(e){}}handleEventGapJumping(e){try{this._isReporting&&this.reportGapJumping(e)}catch(e){}}onFullScreenChange(){this._isFullScreen=!this._isFullScreen,this.createVideo("fullScreenChange")}reportDroppedFrames(){this.createVideo("droppedFrames")}reportGapJumping(e){this.createVideo(e.type,e)}createVideo(e,t){var i;const r=document.getElementsByTagName("video")[0];let n=-1;try{if("webkitDroppedFrameCount"in window.HTMLVideoElement.prototype)try{n=r.webkitDroppedFrameCount}catch(e){}else if(r&&"function"==typeof r.getVideoPlaybackQuality)try{n=r.getVideoPlaybackQuality().droppedVideoFrames}catch(e){}}catch(e){}const a={t:this.getSessionElapsedMS(),ts:null===(i=this.sandLib)||void 0===i?void 0:i.getInitTS(),elementheigt:r?r.clientHeight:-1,elementwidth:r?r.clientWidth:-1,videoheight:r?r.videoHeight:-1,videowidth:r?r.videoWidth:-1,droppedframes:n,fullscreen:this._isFullScreen};e&&e.length>0&&(a.eventType=e),(null==t?void 0:t.seekTime)&&(a.seekTime=t.seekTime),(null==t?void 0:t.duration)&&(a.duration=t.duration),this.sandAddNewMetric(Nr.NAME,a)}initMetricBrowserWindowEventReporting(){try{window.addEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.addEventListener("resize",this.handleEventWindowResize.bind(this))}catch(e){}}removeMetricBrowserWindowEventReporting(){try{window.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("resize",this.handleEventWindowResize)}catch(e){}}handleEventWindowResize(){try{clearTimeout(this._windowResizeTimer),this._windowResizeTimer=this.player.safeTimeout((()=>{this.createBrowserWindow()}),250)}catch(e){}}onVisibilityChange(){try{this._isInBackground=!this._isInBackground,this.createBrowserWindow()}catch(e){}}createBrowserWindow(){var e;try{const t={t:this.getSessionElapsedMS(),ts:null===(e=this.sandLib)||void 0===e?void 0:e.getInitTS(),innerheight:window.innerHeight,innerwidth:window.innerWidth,clientheight:document.documentElement.clientHeight,clientwidth:document.documentElement.clientWidth,background:this._isInBackground};this.sandAddNewMetric(Tr.NAME,t)}catch(e){}}initMetricScreenEventReporting(){try{window.addEventListener("orientationchange",this.createScreen)}catch(e){}}removeMetricScreenEventReporting(){try{window.removeEventListener("orientationchange",this.createScreen)}catch(e){}}createScreen(){var e;try{let t=null;void 0!==window.screen.orientation&&(t=window.screen.orientation.type);const i={t:this.getSessionElapsedMS(),ts:null===(e=this.sandLib)||void 0===e?void 0:e.getInitTS(),height:window.screen.availHeight,width:window.screen.availWidth,pixelratio:window.devicePixelRatio,orientation:t};this.sandAddNewMetric(Dr.NAME,i)}catch(e){}}createNetwork(){var e,t,i,r;const n=navigator,a=null!==(i=null!==(t=null!==(e=n.connection)&&void 0!==e?e:n.mozConnection)&&void 0!==t?t:n.webkitConnection)&&void 0!==i?i:{};let s=null,o=null,l=-1,d=-1;void 0!==a.type&&(s=a.type),void 0!==a.effectiveType&&(o=a.effectiveType),void 0!==a.downlink&&(l=a.downlink),void 0!==a.rtt&&(d=a.rtt);const c={t:this.getSessionElapsedMS(),ts:null===(r=this.sandLib)||void 0===r?void 0:r.getInitTS(),downlink:l,effectivetype:o,rtt:d,connectiontype:s};this.sandAddNewMetric(_r.NAME,c)}checkCDN(){try{switch(this.log(`checkCDN [${this.mcdnType}]`),this.mcdnType){case Er:this.checkXHRHeadRequest(this.manifest,null);break;case wr:switch(this.playerPlugin){case Ur.HLS:this.mediaPlayerHls&&this.mediaPlayerHls.on(gr.FRAG_LOADED,((e,t)=>{var i,r;this.sandSetOptionalParam("cdn",null===(r=null===(i=null==t?void 0:t.frag)||void 0===i?void 0:i.url)||void 0===r?void 0:r.split("/")[2])}));case Ur.DASH:case Ur.HTML_AUDIO:case Ur.HTML_VIDEO:case Ur.UNKNOWN:}break;default:this.sandSetOptionalParam("cdn",Cr)}}catch(e){this.log(e)}}checkErrorHasBeenReported(e){try{return this.lastReportedError.t===e.t&&this.lastReportedError.type===e.type&&this.lastReportedError.message===e.message}catch(e){return this.log(e),!1}}reportMetricErrorList(e){var t;try{this.checkErrorHasBeenReported(e)||(this.beacon[e.fatal?"fatals":"warnings"]+=1,e.code=String(e.code),this.sandAddNewMetric(kr.NAME,e),this.lastReportedError=e,null===(t=this.sandLib)||void 0===t||t.getChannelController().getChannels().forEach((e=>{e.getReportMetricTypes().includes(kr.NAME)&&e.send()})))}catch(e){this.log(e)}}checkXHRHeadRequest(e,t){let i=!1,r=!1;try{const n=this.getSessionTimestamp(),a=n-this.headLastRequest;if(e&&a>=this.headInterval){this.headLastRequest=n;let a=Cr;this.mcdnStatistics.length<1&&(this.mcdnStatistics=[{n:a}]);const s=`${e}${e.indexOf("?")>0?"&":"?"}rn=${this.requestID}`,o=()=>{r||(this.log("SAND: Error accessing MediaUrl Headers from: "+s),r=!0),i||t&&(i=!0,t())},l=new XMLHttpRequest;l.open("HEAD",s),l.onreadystatechange=()=>{var e;if(l.readyState&&2===l.readyState)if(this.requestID++,l.status&&200===l.status){const r=(null!==(e=l.getAllResponseHeaders())&&void 0!==e?e:"").toLowerCase();if(r.startsWith("cdn:")||r.includes("\r\ncdn:")){const e=l.getResponseHeader("cdn");a=null!==e?this.checkXHRHeaderValues(e):Cr}this.mcdnStatistics[0].n=a,this.sandSetOptionalParam("cdn",a),i||t&&(i=!0,t())}else o()},l.onerror=o,l.ontimeout=o,l.send()}else this.log(`SAND: last XHR-HEAD-request was ${a} ms ago`)}catch(n){this.log(n),r||(this.log("error","SAND: Error accessing MediaUrl Headers from: "+e),r=!0),i||t&&(i=!0,t())}}checkXHRHeaderValues(e){try{return((null==e?void 0:e.includes(","))?e.substring(0,e.indexOf(",")):e).toLowerCase()}catch(e){return this.log(e),Cr}}checkMCDNStatistics(e,t,i){var r,n;try{if(this.mcdnType===Sr)return;if(!e||!(t>0&&i>0)||this.mcdnType!==wr&&this.mcdnType!==Er&&this.mcdnType!==Sr)return void this.log("SAND: Error in checkMCDNStatistics(string, number, number) arguments from: "+e);let a,s=null;switch(this.mcdnType){case wr:if(a=e.split("/")[2],!a)return void this.log("SAND: Could not parse host name from: "+e);a.indexOf("?")>0&&(a=a.split("?")[0]);for(const e of this.mcdnStatistics)if(e.n===a){s=e;break}s||this.mcdnStatistics.push(s={n:a,fc:0,flit:0});break;case Er:0===this.mcdnStatistics.length&&this.mcdnStatistics.push({n:Cr,fc:0,flit:0}),s=this.mcdnStatistics[0]}if(s&&!e.toLowerCase().includes(".m3u8")&&!e.toLowerCase().includes(".mpd")){s.fc=(null!==(r=s.fc)&&void 0!==r?r:0)+1;const e=Math.round(i/t*100)/100;s.flit=Math.round(100*((null!==(n=s.flit)&&void 0!==n?n:0)+e))/100,this.sandSetOptionalParam("fragmentLoadIndicator",s.flit/s.fc),this.beacon.fragmentLoadIndicator=s.flit/s.fc}}catch(e){this.log(e)}}getSessionInfos(){var e,t,i;try{return{initTS:null===(e=this.sandLib)||void 0===e?void 0:e.getInitTS(),clientID:null===(t=this.sandLib)||void 0===t?void 0:t.getClientId(),streamingSessionID:null===(i=this.sandLib)||void 0===i?void 0:i.getStreamingSessionId()}}catch(e){return this.log(e),{}}}shouldReportIntervalDrivenMetric(e,t){var i,r,n,a,s,o,l,d,c,u,h,p,f;try{if(this.adaptiveIntervalInitialized){if(!(null===(i=this.lastReportedValues)||void 0===i?void 0:i[e]))return!0;if(this.getSessionTimestamp()-this.lastReportedValues[e].t>3e4)return!0;switch(e){case"BufferLevel":return this.isThresholdReached(null!==(r=t.level)&&void 0!==r?r:0,"number"==typeof this.lastReportedValues[e].level?this.lastReportedValues[e].level:void 0,null!==(l=null===(o=null===(s=null===(a=null===(n=this.conf)||void 0===n?void 0:n.configuration)||void 0===a?void 0:a.adaptiveInterval)||void 0===s?void 0:s.threshold)||void 0===o?void 0:o.bufferLevelFactor)&&void 0!==l?l:1);case"LiveEdgeDelayList":return this.isThresholdReached(null!==(d=t.delay)&&void 0!==d?d:0,"number"==typeof this.lastReportedValues[e].delay?this.lastReportedValues[e].delay:void 0,null!==(f=null===(p=null===(h=null===(u=null===(c=this.conf)||void 0===c?void 0:c.configuration)||void 0===u?void 0:u.adaptiveInterval)||void 0===h?void 0:h.threshold)||void 0===p?void 0:p.liveEdgeDelayFactor)&&void 0!==f?f:1)}}return!0}catch(e){return this.log(e),!1}}isThresholdReached(e,t,i){try{return e!==t&&(!e||!t||(e/t>i||t/e>i))}catch(e){return this.log(e),!1}}onMessageSent(){}onBeaconSent(){try{this.mcdnStatistics=[]}catch(e){this.log(e)}}},package:"@ardplayer/addon-tracking-sand",version:"1.8.5",rev:"[G]201271bb7"};var jr=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Br={type:"plugin",Clazz:{exports:{name:"dashVideo",library(){return jr(this,void 0,void 0,(function*(){return(yield s.e(670).then(s.bind(s,45610))).default}))},canPlay:(e,t)=>!t&&(!c.O.isIOSDevice||c.O.isIPadDevice)&&"application/dash+xml"===e.mimeType&&!c.O.isEmbedded,priority:2,canSubSelectQualities:()=>!0}},package:"@ardplayer/plugin-dash-js",version:"7.7.0",rev:"[G]201271bb7",libs:[{package:"dashjs",version:"5.0.3"}]};var Fr=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Hr={type:"plugin",Clazz:{exports:{name:"hls",library(){return Fr(this,void 0,void 0,(function*(){return(yield s.e(965).then(s.bind(s,71047))).default}))},canPlay(e,t){if(c.O.isEmbedded){if(!c.O.isDebug)return!1;window.console.warn("debug build: allowing HLS despite isEmbedded")}return!c.O.browserIsSafari&&!c.O.isIOSDevice&&"application/vnd.apple.mpegurl"===e.mimeType},priority:1,canSubSelectQualities:()=>!0}},package:"@ardplayer/plugin-hls-js",version:"7.7.0",rev:"[G]201271bb7",libs:[{package:"hls.js",version:"1.6.9"}]};var Wr=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const zr=/maybe|probably/i,Gr={type:"plugin",Clazz:{exports:{name:"htmlAudio",library(){return Wr(this,void 0,void 0,(function*(){return(yield s.e(158).then(s.bind(s,95198))).default}))},canPlay(e,t){if(!t)return!1;if(c.O.isEmbedded){if(!c.O.isDebug)return!1;window.console.warn("debug build: Allowing htmlAudio despite isEmbedded")}if("MediaSource"in window&&MediaSource.isTypeSupported(e.mimeType))return!0;const i=document.createElement("audio");if(!(null==i?void 0:i.canPlayType))return!1;if(zr.test(i.canPlayType(e.mimeType)))return!0;const r=/.*\.(\w{3,})(\??.*)$/gim.exec(e.url);if(r&&r.length>1){const e=r[1];let t=!1;switch(e){case"m3u":case"m3u8":t=zr.test(i.canPlayType("audio/x-mpegurl"));break;case"mp3":t=zr.test(i.canPlayType("audio/mpeg"))}return t||zr.test(i.canPlayType("audio/"+e))}return!1},priority:0,canSubSelectQualities:()=>!1}},package:"@ardplayer/plugin-html-media/audio",version:"7.7.0",rev:"[G]201271bb7"};var $r=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Yr=/maybe|probably/i,Kr={type:"plugin",Clazz:{exports:{name:"htmlVideo",library(){return $r(this,void 0,void 0,(function*(){return(yield s.e(777).then(s.bind(s,50882))).default}))},canPlay(e,t){if(t)return!1;if(c.O.isEmbedded){if(!c.O.debugBuild)return!1;window.console.warn("debug build: allowing HTMLVideo despite isEmbedded")}if("MediaSource"in window&&MediaSource.isTypeSupported(e.mimeType))return!0;const i=document.createElement("video");if(!(null==i?void 0:i.canPlayType))return!1;if(Yr.test(i.canPlayType(e.mimeType)))return!0;if(Number.isInteger(e.fallbackGroup)&&!(0,d.z3)(e.mimeType))return!1;const r=/.*\.(\w{3,})(\??.*)$/gim.exec(e.url);if(r&&r.length>1){const e=r[1];let t=!1;switch(e){case"mp4":t=Yr.test(i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'));break;case"ogg":t=Yr.test(i.canPlayType('video/ogg; codecs="theora"'));break;case"webm":t=Yr.test(i.canPlayType('video/webm; codecs="vp8, vorbis"'));break;case"m3u8":t=Yr.test(i.canPlayType("application/x-mpegURL"))}return t||Yr.test(i.canPlayType("video/"+e))}return!1},priority:0,canSubSelectQualities:()=>!1}},package:"@ardplayer/plugin-html-media/video",version:"7.7.0",rev:"[G]201271bb7"},qr=ie.withAddons(Ae,He,Ke,nt,dt,yt,Ut,sr,mr,Vr).withPlugins(Kr,Gr,Hr,Br).prepare()})(),o})()));