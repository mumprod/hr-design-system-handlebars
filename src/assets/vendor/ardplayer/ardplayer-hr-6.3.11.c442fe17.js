!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ardplayer=t():e.ardplayer=t()}(self,(()=>(()=>{var e,t,i,r,n={67058:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Environment:()=>r.qA,ErrorController:()=>r.hW,IconFontConfig:()=>r.AJ,Player:()=>r.J5,PlayerModel:()=>r.Sg,PlayerPixelController:()=>r.JL,console:()=>r.iV,debug:()=>r.fF,getCircularReplacer:()=>r.fd,noUiSlider:()=>r.O,removeArdPlayer:()=>r.O2});var r=i(15465)},67950:function(e,t,i){var r;
/*! bigscreen
 * v2.0.5 - 2019-03-12
 *
 * Copyright 2019 Brad Dougherty <me@brad.is>; MIT License
 */!function(n,a,s){"use strict";var o=/i(Pad|Phone|Pod)/.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/,"$1.$2"),10)>=7,l=function(){var e=a.createElement("video"),t={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},i={};for(var r in t)for(var n=0,s=t[r].length;n<s;n++)if(t[r][n]in e||t[r][n]in a||"on"+t[r][n].toLowerCase()in a){i[r]=t[r][n];break}return i}();function d(e){var t=null;if("VIDEO"===e.tagName)t=e;else{var i=e.getElementsByTagName("video");i[0]&&(t=i[0])}return t}var u=null,c=null,h=function(){},p=[],v=!1;function f(e){var t=d(e);if(t&&t.webkitEnterFullscreen){try{t.readyState<t.HAVE_METADATA?(t.addEventListener("loadedmetadata",(function e(){t.removeEventListener("loadedmetadata",e,!1),t.webkitEnterFullscreen(),c=!!t.getAttribute("controls")}),!1),t.load()):(t.webkitEnterFullscreen(),c=!!t.getAttribute("controls")),u=t}catch(t){return E("not_supported",e)}return!0}return E(void 0===l.request?"not_supported":"not_enabled",e)}function g(){S.element||(b(),m())}function m(){s&&"webkitfullscreenchange"===l.change&&window.removeEventListener("resize",g,!1)}navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(v=parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/,"$1"),10)||!0);var y=function(e){var t=p[p.length-1];t&&(e!==t.element&&e!==u||!t.hasEntered)&&("VIDEO"===e.tagName&&(u=e),1===p.length&&S.onenter(S.element),t.enter.call(t.element,e||t.element),t.hasEntered=!0)},b=function(){!u||c||o||(u.setAttribute("controls","controls"),u.removeAttribute("controls")),u=null,c=null;var e=p.pop();e&&(e.exit.call(e.element),S.element||(p.forEach((function(e){e.exit.call(e.element)})),p=[],S.onexit()))},E=function(e,t){if(p.length>0){var i=p.pop();t=t||i.element,i.error.call(t,e),S.onerror(t,e)}},S={request:function(e,t,i,r){if(e=e||a.body,p.push({element:e,enter:t||h,exit:i||h,error:r||h}),void 0!==l.request)if(s&&!1===a[l.enabled])f(e);else if(!1!==v&&v<32)f(e);else{if(s&&void 0===l.enabled)return l.enabled="webkitFullscreenEnabled",e[l.request](),void setTimeout((function(){a[l.element]?a[l.enabled]=!0:(a[l.enabled]=!1,f(e))}),250);try{e[l.request](),!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&setTimeout((function(){a[l.element]||E(s?"not_enabled":"not_allowed",e)}),100)}catch(t){E("not_enabled",e)}}else f(e)},exit:function(){m();try{a[l.exit]()}catch(e){E("not_enabled")}},toggle:function(e,t,i,r){S.element?S.exit():S.request(e,t,i,r)},videoEnabled:function(e){if(S.enabled)return!0;var t=d(e=e||a.body);return!(!t||void 0===t.webkitSupportsFullscreen)&&(t.readyState<t.HAVE_METADATA?"maybe":t.webkitSupportsFullscreen)},onenter:h,onexit:h,onchange:h,onerror:h};try{Object.defineProperties(S,{element:{enumerable:!0,get:function(){return u&&u.webkitDisplayingFullscreen?u:a[l.element]||null}},enabled:{enumerable:!0,get:function(){return"webkitCancelFullScreen"===l.exit&&!s||!(!1!==v&&v<32)&&(a[l.enabled]||!1)}}}),l.change&&a.addEventListener(l.change,(function(e){if(S.onchange(S.element),S.element){var t=p[p.length-2];t&&t.element===S.element?b():(y(S.element),s&&"webkitfullscreenchange"===l.change&&window.addEventListener("resize",g,!1))}else b()}),!1),a.addEventListener("webkitbeginfullscreen",(function(e){var t=!0;if(p.length>0)for(var i=0,r=p.length;i<r;i++){if(d(p[i].element)===e.srcElement){t=!1;break}}t&&p.push({element:e.srcElement,enter:h,exit:h,error:h}),S.onchange(e.srcElement),y(e.srcElement)}),!0),a.addEventListener("webkitendfullscreen",(function(e){S.onchange(e.srcElement),b(e.srcElement)}),!0),l.error&&a.addEventListener(l.error,(function(e){E("not_allowed")}),!1)}catch(e){S.element=null,S.enabled=!1}void 0===(r=function(){return S}.call(t,i,t,e))||(e.exports=r)}(0,document,self!==top)},42097:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var r=JSON.parse('{"playpause":{"title":"Wiedergabe / Pause [Leertaste oder K]","aria-controls":"{{assetitem}}"},"seekforward":{"title":"10 Sekunden vorspulen [L oder Pfeiltaste Rechts]","aria-controls":"{{assetitem}}"},"seekbackward":{"title":"10 Sekunden zurückspulen [J oder Pfeiltaste Links]","aria-controls":"{{assetitem}}"},"subtitle":{"title":"Untertitel an / aus [C oder U]","aria-pressed":"{{pressed}}"},"accessibility":{"title":"Barrierefreiheit an / aus","aria-pressed":"{{pressed}}"},"language":{"title":"Sprache und Barrierefreiheit an / aus","data-display-title":"Sprache und Barrierefreiheit","aria-pressed":"{{pressed}}"},"recommend":{"title":"Empfehlungen an / aus","data-display-title":"Empfehlungen","aria-pressed":"{{pressed}}"},"sharing":{"title":"Teilen an / aus","data-display-title":"Teilen","aria-pressed":"{{pressed}}"},"info":{"title":"Info an / aus","data-display-title":"Info","aria-pressed":"{{pressed}}"},"sleeptimer":{"title":"Sleeptimer an / aus","data-display-title":"Sleeptimer","aria-pressed":"{{pressed}}"},"playlist":{"title":"Playliste an / aus","data-display-title":"Playliste","aria-pressed":"{{pressed}}"},"playlistNext":{"title":"Nächster Titel","aria-pressed":"false"},"playlistPrev":{"title":"Vorheriger Titel","aria-pressed":"false"},"bookmark":{"title":"Merkliste","aria-pressed":"{{isBookmarked}}"},"download":{"title":"Clip herunterladen an / aus","aria-pressed":"{{pressed}}"},"volume":{"title":"Lautstärke einstellen [Pfeiltasten hoch/ runter] für Ton an/ aus [M]"},"volumeslider":{"role":"slider","title":"Schieberegler für die Lautstärke [Pfeiltasten hoch/ runter]","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"{{volume}}","aria-valuetext":"{{volume}}% Lautstärke"},"settings":{"title":"Einstellungen an / aus","data-display-title":"Einstellungen","aria-pressed":"{{pressed}}"},"metasettings":{"title":"Menü an / aus","aria-pressed":"{{pressed}}"},"fullscreen-on":{"title":"Vollbild ein [F]","aria-pressed":"{{pressed}}"},"fullscreen-off":{"title":"Vollbild aus [F oder ESC]","aria-pressed":"{{pressed}}"},"progressbar":{"title":"Schieberegler zum Spulen des {{assetType}}s [J (zurück) und L (vor)]","role":"progress","aria-live":"off","aria-valuemin":"0","aria-valuemax":"{{duration}}","aria-valuenow":"{{position}}","aria-valuetext":"{{positionlabel}}"},"posterbackdrop":{"title":"{{title}}","alt":"{{title}}"},"posterframe":{"title":"{{title}}","alt":"{{title}}"},"posterplay":{"title":"Wiedergabe [Leertaste]","aria-controls":"{{assetitem}}"},"replay":{"title":"Video erneut abspielen [0]","aria-controls":"{{assetitem}}"},"jump-to-live":{"title":"Zu Live-Position springen","aria-controls":"{{assetitem}}"},"jumpmark-next":{"title":"Abschnitt {{index}}: {{label}} [Shift + L]"},"jumpmark-prev":{"title":"Abschnitt {{index}}: {{label}} [Shift + J]"},"jumpmarks":{"title":"Highlights an / aus","data-display-title":"Highlights"},"xr":{"title":"In den VR Mode wechseln"},"chromecast":{"title":"Chromecast"},"airplay":{"title":"Airplay"},"pip":{"title":"In den Bild-In-Bild Modus wechseln"},"variant-selector":{"title":"{{menuTitle}} an / aus","data-display-title":"{{menuTitle}}"}}'),n=JSON.parse('{"NO_PLAYER_DEFINED":"Es wurde kein Player definiert.","MC_JSON_FILE_NOT_FOUND":"Es wurde keine MediaCollection-Json-Datei gefunden.","MC_JSON_FILE_WRONG_URI":"Die URI f&uuml;r die MediaCollection-Json-Datei ist falsch.","MC_UNKNOWN":"Dieser Clip kann auf Ihrem Betriebssystem nicht abgespielt werden.","PC_JSON_FILE_NOT_FOUND":"Es wurde keine PlayerConfiguration-Json-Datei gefunden.","PC_JSON_FILE_WRONG_URI":"Die URI f&uuml;r die PlayerConfiguration-Json-Datei ist falsch.","PC_UNKNOWN":"Die PlayerConfiguration ist unbekannt.","IDENTIFIER_IS_UNDEFINED":"Identifier ist unbekannt.","ERROR_FOOTER_LINK":""}'),a={Accessibility:JSON.parse('{"override":{"title":"Überschriebener Wert in der Vererbung","aria-controls":"{{assetitem}}"}}')},s={Accessibility:r,ErrorMessages:n},o=e=>Object.assign({},s[e],a[e])},77708:(e,t,i)=>{"use strict";i.d(t,{h:()=>c});var r,n=i(15465),a=i(95491),s=i(47982),o=i(38254),l=i(42097),d=i(4178),u=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},c=r=class{constructor(e){var t;this.player=null,this.isFinalErrorState=!1,this.player=e,this.playerID=null!==(t=null==e?void 0:e.getId())&&void 0!==t?t:"_undefined",r.playerIDs[this.playerID]=this,e&&r.players.push(e),r.parseErrorMessagesConfig((0,l.i)("ErrorMessages"))}get criticalError(){return this.isFinalErrorState}static resetSingleton(){r.playerIDs={},r.players=[]}static getInstance(e){var t,i;return void 0===e&&(e=null),null!==(i=r.playerIDs[null!==(t=null==e?void 0:e.getId())&&void 0!==t?t:"_undefined"])&&void 0!==i?i:new r(e)}static getInstanceByPlayerID(e){return r.playerIDs[e]}static forceRemovePlayer(e){var t,i=r.players.findIndex((t=>t===e));i>=0&&r.players.splice(i,1);var n=null!==(t=null==e?void 0:e.getId())&&void 0!==t?t:"_undefined";delete r.playerIDs[n]}static parseErrorMessagesConfig(e){var t,i=/^addon/i,a=/^(addon[^_]+)_(.+)$/i;for(var s in e)if(i.test(s)){var[o,l,d]=null!==(t=a.exec(s))&&void 0!==t?t:[];void 0===r.addonMessages[l]&&(r.addonMessages[l]={}),r.addonMessages[l][d]=e[s]}else try{r[s]=e[s]}catch(e){n.iV.warn("Tried to override unknown error message",s)}}throwStreamError(e,t){var i;void 0===t&&(t=!1),n.iV.error("STREAM ERROR: ",e,(new Error).stack);for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l];var d=0===s.length?"":"\n"+s.join("\n\n")+"\n";if(null!==this.player){var u=this.player.model;if(!t)try{if(this.player.currentStream&&!1!==this.player.currentMedia){var c=this.player.currentStream.media[this.player.currentMedia];this.player.pixelController.triggerCustomPixel(a.J.STREAM_ERROR,!1,{message:d,stream:c.url,mime:c.mimeType,plugin:1})}}catch(e){n.iV.info(e)}n.iV.log("[Error] {M:"+this.player.currentMedia+"} stream error"),(null===(i=this.player.getCtrl())||void 0===i?void 0:i.model.playstate)===o.S.PLAYSTATE_PLAYING&&(u.playerConfig.generic.isAutoplay=!0),this.player.streamError()}else this.throwError(e,!0)}throwError(e,t,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this._throwErrorEvent(e,t),t&&(null!==i?this.showErrorUI(e,i,r):this.showGenericErrorUI(e,r))}_throwErrorEvent(e,t,i,r){var a,o,l,d;if(void 0===i&&(i=0),void 0===r&&(r=!1),r||void 0===(null===(a=this.player)||void 0===a?void 0:a.viewCtrl)||(null===(o=this.player)||void 0===o||o.loop.dispatchEvent(s.J.EVENT_ERROR,{isCritical:t,message:e}),r=!0),t){if(this.isFinalErrorState)return;(null===(l=this.player)||void 0===l?void 0:l.viewCtrl)?(this.isFinalErrorState=!0,null===(d=this.player.viewCtrl.bottomSheet)||void 0===d||d.conceal(null),this.player.viewCtrl.dispose()):i<10&&this.player?this.player.safeTimeout((()=>{this._throwErrorEvent(e,t,i+1,r)})):(n.iV.error("Kritischer Fehler konnte nach "+i+" versuchen nicht korrekt behandelt werden!",e),this.isFinalErrorState=!0)}}showGenericErrorUI(e,t){var i,n,a,s;void 0===t&&(t=null);var o="ardplayer-icon-error";null!==(s=null===(a=null===(n=null===(i=this.player)||void 0===i?void 0:i.model)||void 0===n?void 0:n.mediaCollection)||void 0===a?void 0:a.isGeoBlocked)&&void 0!==s&&s&&(e=r.ERROR_PLAYBACK_GEOBLOCK,o="ardplayer-icon-error-geoblock"),this.showErrorUI(e,o,t)}showErrorUI(e,t,i){var a,s,o,l;void 0===i&&(i=null);var d=null===(a=this.player)||void 0===a?void 0:a.getTarget();if(d){try{null===(s=this.player)||void 0===s||s.checkState()}catch(e){return void n.iV.warn("aborting async",e)}d.querySelectorAll(".ardplayer-errorframe").forEach((e=>e.remove()));var u=document.createElement("div");u.innerHTML=' <div class="ardplayer-errorframe"> <div class="ardplayer-errorframe-content"> <i class="ardplayer-error-icon ardplayer-icon"></i><span class="ardplayer-error-message"></span></div> </div> ',d.append(u.firstElementChild),e=e.replace(/\${([^|]*)\|([^}]*)}/g,(null===(o=this.player)||void 0===o?void 0:o.isAudio)?"$2":"$1"),""!==r.ERROR_FOOTER_LINK&&(e+='<span class="ardplayer-error-link">'+r.ERROR_FOOTER_LINK+"</span>");var c=d.querySelector(".ardplayer-error-message");if(c&&(c.innerHTML=e),null===(l=d.querySelector(".ardplayer-error-icon"))||void 0===l||l.classList.add(t),d.classList.add("ardplayer","ardplayer-show-errorframe"),i){var h=d.querySelector(".ardplayer-errorframe-content");h&&i(h)}}else n.iV.error("could not display friendly error message",t,e)}dispose(){delete r.playerIDs[this.playerID]}};c.playerIDs={},c.players=[],c.addonMessages={},c.NO_PLAYER_DEFINED="Es wurde kein Player definiert.",c.MC_JSON_FILE_NOT_FOUND="Es wurde keine MediaCollection-Json-Datei gefunden.",c.MC_JSON_FILE_WRONG_URI="Die URI f&uuml;r die MediaCollection-Json-Datei ist falsch.",c.MC_UNKNOWN="Dieser Clip kann auf Ihrem Betriebssystem nicht abgespielt werden.",c.MC_INVALID="Die MediaCollection konnte nicht validiert werden.",c.PC_JSON_FILE_NOT_FOUND="Es wurde keine PlayerConfiguration-Json-Datei gefunden.",c.PC_JSON_FILE_WRONG_URI="Die URI f&uuml;r die PlayerConfiguration-Json-Datei ist falsch.",c.PC_UNKNOWN="Die PlayerConfiguration ist unbekannt.",c.PC_INVALID="Die PlayerConfiguration konnte nicht validiert werden.",c.MEDIACANVAS_COULD_NOT_GENERATED="MediaCanvas konnte nicht generiert werden.",c.IDENTIFIER_IS_UNDEFINED="Identifier ist undefined.",c.ERROR_PLAYBACK="${Dieses Video|Dieser Audioclip} kann leider nicht abgespielt werden. Wir bitten um Ihr Verst&auml;ndnis.",c.ERROR_PLAYBACK_GEOBLOCK="${Dieses Video|Dieser Audioclip} kann leider nicht abgespielt werden. Wir bitten um Ihr Verst&auml;ndnis. Wichtig: Inhalte mit Geoblocking können nur von Deutschland aus abgerufen werden.",c.ERROR_PLAYBACK_MATURITY_16="${Das Video|Der Audioclip} ist für Kinder und Jugendliche unter 16 Jahren nicht geeignet und kann ab 22 Uhr abgespielt werden.",c.ERROR_PLAYBACK_MATURITY_18="${Das Video|Der Audioclip} ist für Kinder und Jugendliche unter 18 Jahren nicht geeignet und kann ab 23 Uhr abgespielt werden.",c.ERROR_FOOTER_LINK="",c=r=u([d.V],c)},95491:(e,t,i)=>{"use strict";i.d(t,{J:()=>g});var r,n,a,s,o,l,d=i(65855),u=i(15465),c=i(4178),h=i(52009),p=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},v=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},f=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},g=l=class{constructor(e){r.set(this,0),n.set(this,""),a.set(this,!0),s.set(this,!1),o.set(this,!1),this._isReplay=!1,this.looper=null,this.looper=new h.J(e)}triggerEvent(e,t){var i;d.q.isDebugPixelEvent&&u.iV.log("[PIXEL]",e,t),null===(i=this.looper)||void 0===i||i.dispatchEvent(e,t)}loadStream(e){this.triggerEvent(l.STREAM_LOAD,{streamurl:e,isQualityChanged:v(this,s,"f"),isPluginChanged:v(this,o,"f")}),f(this,s,!1,"f"),f(this,o,!1,"f")}initialPlayTrigger(){v(this,a,"f")&&(f(this,a,!1,"f"),this.triggerPixel(l.SUPER_INITIAL_PLAY))}triggerQualityChanged(e){f(this,s,!0,"f"),this.triggerPixel(e),this.triggerPixel(l.SUPER_QUALITY_CHANGE)}triggerTrackingPixelInitialPlay(){var e;0===v(this,r,"f")&&(this.triggerEvent(l.INTERACTION_INITIAL_PLAY,{}),f(this,r,(e=v(this,r,"f"),++e),"f"))}triggerPixel(e,t){void 0===t&&(t=!1),t&&e===v(this,n,"f")||(this.triggerEvent(e,{}),f(this,n,e,"f"))}triggerCustomPixel(e,t,i){t&&e===v(this,n,"f")||(this.triggerEvent(e,i),f(this,n,e,"f"))}dispose(){var e;null===(e=this.looper)||void 0===e||e.dispose(),this.looper=null}};r=new WeakMap,n=new WeakMap,a=new WeakMap,s=new WeakMap,o=new WeakMap,g.IA_MOUSE_SUBTITLE_ACTIVATION="ia_mouse_subtitle_activation",g.IA_MOUSE_SUBTITLE_DEACTIVATION="ia_mouse_subtitle_deactivation",g.IA_MOUSE_VOLUME_MUTE="ia_mouse_volume_mute",g.IA_MOUSE_VOLUME_UNMUTE="ia_mouse_volume_unmute",g.IA_MOUSE_VOLUME_CHANGE="ia_mouse_volume_change",g.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_mouse_scrubbar_change_position_forward",g.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND="ia_mouse_scrubbar_change_position_rewind",g.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_mouse_scrubbar_change_position_rewind_timeshift",g.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON="ia_mouse_fullscreen_activation_button",g.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON="ia_mouse_fullscreen_deactivation_button",g.IA_MOUSE_PLAY_BUTTON="ia_mouse_play_button",g.IA_MOUSE_PLAY_VIEWPORT="ia_mouse_play_viewport",g.IA_MOUSE_PAUSE_BUTTON="ia_mouse_pause_button",g.IA_MOUSE_PAUSE_VIEWPORT="ia_mouse_pause_viewport",g.IA_MOUSE_PLAY_AGAIN_BUTTON="ia_mouse_play_again_button",g.IA_MOUSE_PLAY_AGAIN_VIEWPORT="ia_mouse_play_again_viewport",g.IA_MOUSE_QUALITY_CHANGE="ia_mouse_quality_change",g.IA_KEY_SUBTITLE_ACTIVATION="ia_key_subtitle_activation",g.IA_KEY_SUBTITLE_DEACTIVATION="ia_key_subtitle_deactivation",g.IA_KEY_AUDIODESCRIPTION_ACTIVATION="ia_key_audiodescription_activation",g.IA_KEY_AUDIODESCRIPTION_DEACTIVATION="ia_key_audiodescription_deactivation",g.IA_KEY_SIGN_LANGUAGE_ACTIVATION="ia_key_sign_language_activation",g.IA_KEY_SIGN_LANGUAGE_DEACTIVATION="ia_key_sign_language_deactivation",g.IA_KEY_VOLUME_MUTE="ia_key_volume_mute",g.IA_KEY_VOLUME_UNMUTE="ia_key_volume_unmute",g.IA_KEY_VOLUME_CHANGE="ia_key_volume_change",g.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD="ia_key_scrubbar_change_position_forward",g.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND="ia_key_scrubbar_change_position_rewind",g.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT="ia_key_scrubbar_change_position_rewind_timeshift",g.IA_KEY_PLAY="ia_key_play",g.IA_KEY_PAUSE="ia_key_pause",g.IA_KEY_PLAY_AGAIN="ia_key_play_again",g.IA_KEY_QUALITY_CHANGE="ia_key_quality_change",g.STREAM_LOAD="stream_load",g.INTERACTION_INITIAL_PLAY="interaction_initial_play",g.CLIP_ENDED="clip_ended",g.STREAM_ERROR="Stream_error",g.PLAYER_LOADING="player_loading",g.PLAYER_UNLOAD="player_unloading",g.SUPER_SUBTITLE_ACTIVATION="super_subtitle_activation",g.SUPER_SUBTITLE_DEACTIVATION="super_subtitle_deactivation",g.SUPER_SUBTITLE_UNAVAILABLE="super_subtitle_unavailable",g.SUPER_AUDIODESCRIPTION_ACTIVATION="super_audiodescription_activation",g.SUPER_AUDIODESCRIPTION_DEACTIVATION="super_audiodescription_deactivation",g.SUPER_AUDIODESCRIPTION_UNAVAILABLE="super_audiodescription_unavailable",g.SUPER_AUDIOSTREAM_CHANGE="super_audiostream_change",g.SUPER_SIGN_LANGUAGE_ACTIVATION="super_sign_language_activation",g.SUPER_SIGN_LANGUAGE_DEACTIVATION="super_sign_language_deactivation",g.SUPER_SIGN_LANGUAGE_UNAVAILABLE="super_sign_language_unavailable",g.SUPER_VOLUME_MUTE="super_volume_mute",g.SUPER_VOLUME_UNMUTE="super_volume_unmute",g.SUPER_VOLUME_CHANGE="super_volume_change",g.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD="super_scrubbar_change_position_forward",g.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND="super_scrubbar_change_position_rewind",g.SUPER_FULLSCREEN_ACTIVATION="super_fullscreen_activation",g.SUPER_FULLSCREEN_DEACTIVATION="super_fullscreen_deactivation",g.SUPER_PLAY="super_play",g.SUPER_PAUSE="super_pause",g.SUPER_REPLAY="super_replay",g.SUPER_INITIAL_PLAY="super_initial_play",g.SUPER_QUALITY_CHANGE="super_quality_change",g.SUPER_BACK_TO_LIVE="super_back_to_live",g.SUPER_DVR_ACTIVE="super_dvr_active",g.SUPER_PLAYHEAD_POSITION="super_playhead_position",g=l=p([c.V],g)},56757:(e,t,i)=>{"use strict";i.d(t,{N:()=>te});var r=i(77708),n=i(67950),a=i(95491),s=i(47982),o=i(65855),l=i(4178),d=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},u=class{constructor(e,t,i,r){void 0===r&&(r=null),this.imageMap=e,this.imageDomObject=t,this.errorCallback=r,this.targetMap={},this.currentWidth=-1,this.targetWidth=-1,this.currentHigher=Number.MAX_VALUE,i>=0?this.setSize(i):this.updateSize(),e.push(e[e.length-1])}updateSize(){this.setSize(this.imageDomObject.offsetWidth)}setSize(e){if(!(e<=0||-1!==this.targetWidth&&e<this.currentHigher&&e>=this.targetWidth)){var t=this.imageMap.findIndex((t=>t[0]>e))-1;if(t<0&&(t=this.imageMap.length-1),t<0)return this.currentHigher=Number.MAX_VALUE,void this.switchRepresentation(-1);this.currentHigher=t>=this.imageMap.length-1?Number.MAX_VALUE:this.imageMap[t+1][0],this.switchRepresentation(this.imageMap[t][0])}}switchRepresentation(e){var t,i,r,n;if(e<0)null!==this.errorCallback&&(this.errorCallback(),this.errorCallback=null);else if(this.targetWidth!==e)if(this.targetWidth=e,null===(i=null===(t=this.targetMap[e])||void 0===t?void 0:t.error)||void 0===i||i){var a=this.imageMap.find((t=>{var i,r;return t[0]>e&&!(null===(r=null===(i=this.targetMap[t[0]])||void 0===i?void 0:i.error)||void 0===r||r)}));a&&e/a[0]>.7?this.setSize(a[0]):null!==(n=null===(r=this.targetMap[e])||void 0===r?void 0:r.error)&&void 0!==n&&n?(delete this.targetMap[e],this.imageMap.splice(this.imageMap.findIndex((t=>t[0]===e)),1),this.currentHigher=Number.MAX_VALUE,this.setSize(e)):this.preloadImage(e)}else this.showImage(e)}preloadImage(e){var t,i,r=document.createElement("img"),n={image:r,loaded:!1,error:!1};this.targetMap[e]=n,r.onload=()=>{r.onload=null,r.onerror=null,n.loaded=!0,this.showImage(e)},r.onerror=()=>{r.onload=null,r.onerror=null,n.error=!0,this.targetWidth===e&&this.setSize(e)},r.src=null!==(i=null===(t=this.imageMap.find((t=>t[0]===e)))||void 0===t?void 0:t[1])&&void 0!==i?i:""}showImage(e){var t,i,r,n;if(this.targetWidth===e&&this.currentWidth!==e){var a=this.targetMap[e];null===(t=null==a?void 0:a.loaded)||void 0===t||!t||null!==(i=a.error)&&void 0!==i&&i||null!==a.image&&(this.imageDomObject.src=null!==(n=null===(r=a.image)||void 0===r?void 0:r.src)&&void 0!==n?n:"",this.currentWidth=e)}}dispose(){this.targetMap={}}};u=d([l.V],u);var c,h,p,v,f,g,m,y,b,E=i(96735),S=i(23197),w=i(15465),A=i(52009),C=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},I=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},T=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},L=class{constructor(e){this.viewController=e,this.attached=!1,this.embedded=!1,this.isKeyboardNavigating=!1,this.preemptNavigationInputs=!1,c.set(this,-1),h.set(this,-1),p.set(this,10),v.set(this,60),f.set(this,T(this,p,"f")),g.set(this,null),m.set(this,null),y.set(this,!1),b.set(this,!1),this.handleKeyDown=e=>{var t,i,r,n,a,l,d=(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:"").toLowerCase();if(w.iV.info("[ARDP][KeyboardCtrl]","keydown",d),"shift"!==d&&"control"!==d){var u=e.shiftKey,g=this.player.getCtrl(),m=this.viewController.controlsVisible||this.viewController.posterFrameVisible;if(this.embedded||this.attached||"tab"!==d){var E=null!==(i=document.activeElement)&&void 0!==i?i:null;if(null!==E){var A=E.nodeName.toLowerCase();if("textarea"===A||"input"===A&&"checkbox"!==E.type||!this.embedded&&!this.viewController.isWithinPlayer(E))return}if(this.embedded)switch(d){case"enter":m||(null==E?void 0:E.classList.contains("ardplayer-always-visible-control"))||(d="mediaplaypause"),"progress"===(null===(r=this.viewController.lastFocusElement)||void 0===r?void 0:r.getAttribute("role"))&&(-1!==T(this,h,"f")&&(window.clearTimeout(T(this,h,"f")),I(this,h,-1,"f")),-1!==T(this,c,"f")&&(window.clearTimeout(T(this,c,"f")),I(this,c,-1,"f"),I(this,f,T(this,p,"f"),"f")),this.viewController.programmaticSeekDone(),this.player.isPlaying||(d="mediaplaypause"));break;case"mediafastforward":case"mediarewind":return this.viewController.focusControlBar(),this.viewController.programmaticSeek("mediafastforward"===d,T(this,v,"f")),e.stopImmediatePropagation(),void e.preventDefault();case"tab":this.showFocusOutlines(),m||(null==E?void 0:E.classList.contains("ardplayer-always-visible-control"))||this.viewController.focusControlBar(),"progress"===(null===(n=this.viewController.lastFocusElement)||void 0===n?void 0:n.getAttribute("role"))&&(this.viewController.programmaticSeek(!e.shiftKey,T(this,f,"f")),-1===T(this,h,"f")&&I(this,h,this.player.safeTimeout((()=>{I(this,f,Math.min(T(this,v,"f"),T(this,f,"f")+T(this,p,"f")/2),"f"),I(this,h,-1,"f")}),1500),"f"),window.clearTimeout(T(this,c,"f")),I(this,c,this.player.safeTimeout((()=>{I(this,c,-1,"f"),I(this,f,T(this,p,"f"),"f")}),250),"f"),e.stopImmediatePropagation(),e.preventDefault())}if(null!==E&&E instanceof HTMLElement&&E.tabIndex>=0&&(m||E.classList.contains("ardplayer-always-visible-control"))&&!E.classList.contains("ardplayer-controlbar")&&("enter"===d||" "===d&&!E.classList.contains("ardplayer-button-fullscreen")))return e.stopImmediatePropagation(),e.preventDefault(),void E.click();switch((this.embedded||"tab"!==d)&&this.viewController.setOver(),d){case"0":case"home":this.handleSeek(0);break;case"f8":case"mediaplaypause":case"k":case" ":e.stopImmediatePropagation(),e.preventDefault(),this.handlePlayPause(e);break;case"mediaplay":e.stopImmediatePropagation(),e.preventDefault(),this.viewController.posterFrameVisible?this.viewController.handlePosterFrame(e):this.player.playInternal();break;case"mediapause":e.stopImmediatePropagation(),e.preventDefault(),this.player.pauseInternal();break;case"j":case"arrowleft":if(e.stopImmediatePropagation(),e.preventDefault(),u)return void this.player.loop.dispatchEvent(s.J.EVENT_KEYBOARD_RELEASE,{shortcut:e.key.toLowerCase(),shiftKey:e.shiftKey,ctrlKey:e.ctrlKey});g&&this.handleSeek(g.getCurrentTime()-Math.max(10,Math.floor(.01*g.getDuration())));break;case"l":case"arrowright":if(e.stopImmediatePropagation(),e.preventDefault(),u)return void this.player.loop.dispatchEvent(s.J.EVENT_KEYBOARD_RELEASE,{shortcut:e.key.toLowerCase(),shiftKey:e.shiftKey,ctrlKey:e.ctrlKey});g&&this.handleSeek(g.getCurrentTime()+Math.max(10,Math.floor(.01*g.getDuration())));break;case"arrowup":if(e.ctrlKey&&e.shiftKey)return I(this,b,!0,"f"),e.stopImmediatePropagation(),e.preventDefault(),this.showFocusOutlines(),m||(null==E?void 0:E.classList.contains("ardplayer-always-visible-control"))?void(this.preemptNavigationInputs||(0,S.pr)(this.viewController.playerView,!1,!1,null,!0,o.q.isEmbedded)):void this.viewController.setOver();case"audiovolumeup":e.stopImmediatePropagation(),e.preventDefault(),this.handleVolume(.1);break;case"arrowdown":if(e.ctrlKey&&e.shiftKey)return I(this,y,!0,"f"),e.stopImmediatePropagation(),e.preventDefault(),this.showFocusOutlines(),m||(null==E?void 0:E.classList.contains("ardplayer-always-visible-control"))?void(this.preemptNavigationInputs||(0,S.pr)(this.viewController.playerView,!0,!1,null,!0,o.q.isEmbedded)):void this.viewController.setOver();case"audiovolumedown":e.stopImmediatePropagation(),e.preventDefault(),this.handleVolume(-.1);break;case"audiovolumemute":case"m":this.handleMuteToggle();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":g&&this.handleSeek(g.getDuration()*(Number(e.key)/10));break;case"end":g&&this.handleSeek(g.getDuration());break;case"+":this.handleQuality(1);break;case"-":this.handleQuality(-1);break;case"f":this.handleFullscreen(e);break;case"tab":if(this.showFocusOutlines(),!this.embedded&&null!==(l=null!==(null===(a=this.viewController)||void 0===a?void 0:a.lastFocusElement))&&void 0!==l&&l&&!this.viewController.posterFrameVisible&&this.viewController.isOut)return e.stopImmediatePropagation(),e.preventDefault(),this.viewController.setOver(),void this.player.safeTimeout((()=>{(0,S.n6)(this.viewController.lastFocusElement)}),500);null==this.viewController.bottomSheet.activeScreen&&(this.preemptNavigationInputs||(0,S.pr)(this.viewController.playerView,!u,!0,null,!0,o.q.isEmbedded))&&(e.stopImmediatePropagation(),e.preventDefault());break;case":":this.player.loop.dispatchEvent(s.J.EVENT_KEYBOARD_RELEASE,{shortcut:u?".":":",shiftKey:u,ctrlKey:e.ctrlKey});break;case";":this.player.loop.dispatchEvent(s.J.EVENT_KEYBOARD_RELEASE,{shortcut:u?",":";",shiftKey:u,ctrlKey:e.ctrlKey});break;default:this.player.loop.dispatchEvent(s.J.EVENT_KEYBOARD_RELEASE,{shortcut:d,shiftKey:!1,ctrlKey:e.ctrlKey})}}else this.player.safeTimeout((()=>{var e,t,i;null!==(t=null!==(null===(e=this.viewController)||void 0===e?void 0:e.lastFocusElement))&&void 0!==t&&t&&(this.showFocusOutlines(),(0,S.n6)(null===(i=this.viewController)||void 0===i?void 0:i.lastFocusElement))}))}},this.handleKeyUp=e=>{var t,i;if(this.embedded||this.attached){var r=null!==(t=document.activeElement)&&void 0!==t?t:null;if(null!==r){var n=r.nodeName.toLowerCase();if("textarea"===n||"input"===n&&"checkbox"!==r.type||!this.embedded&&!this.viewController.isWithinPlayer(r))return}switch((null!==(i=null==e?void 0:e.key)&&void 0!==i?i:"").toLowerCase()){case" ":e.preventDefault();break;case"arrowdown":T(this,y,"f")&&T(this,b,"f")&&this.player.loop.dispatchEvent(s.J.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!0}),I(this,y,!1,"f");break;case"arrowup":T(this,y,"f")&&T(this,b,"f")&&this.player.loop.dispatchEvent(s.J.EVENT_KEYBOARD_RELEASE,{shortcut:"contextmenu",shiftKey:!1,ctrlKey:!0}),I(this,b,!1,"f")}}},this.player=e.player,this.embedded=o.q.isEmbedded,document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),o.q.isEmbedded&&(I(this,g,new A.J(this.player),"f"),T(this,g,"f").addEventListener("NavControl.backPressed",(()=>{var e;null===(e=T(this,m,"f"))||void 0===e||e.handleBackNavigation()})))}attach(){this.attached=!0}detach(){this.attached=!1}showFocusOutlines(){var e,t;null===(t=null===(e=this.viewController)||void 0===e?void 0:e.playerView)||void 0===t||t.classList.add("ardplayer-show-focus-outlines"),this.isKeyboardNavigating=!0}handlePlayPause(e){this.viewController.posterFrameVisible?this.viewController.handlePosterFrame(e):this.viewController.handlePlayPauseBtn(e)}handleSeek(e){var t=this.player.getCtrl();if(t){var i=0,r=0,n=t.getCurrentTime();e=Math.min(Math.max(e,0),t.getDuration());var s=this.viewController;s._dvrEnabledAndRequested&&(i=Math.min(s._lastDuration-n,s._lastDuration),r=Math.min(s._lastDuration-e,s._lastDuration));var o={seekto:e,current:n,dvrRelativeFrom:i,dvrRelativeTo:r};e>n?(this.player.pixelController.triggerCustomPixel(a.J.IA_KEY_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,o),this.player.pixelController.triggerCustomPixel(a.J.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,o)):(this.player.model.mediaCollection.isLive?this.player.pixelController.triggerCustomPixel(a.J.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,o):this.player.pixelController.triggerCustomPixel(a.J.IA_KEY_SCRUBBAR_CHANGE_POSITION_REWIND,!1,o),this.player.pixelController.triggerCustomPixel(a.J.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,o)),this.player.seekToInternal(e)}}handleVolume(e){var t=this.player.viewCtrl.volumeLevel/100;0!==e&&(t+=e),t=Math.max(Math.min(t,1),0),this.player.pixelController.triggerCustomPixel(a.J.IA_KEY_VOLUME_CHANGE,!0,{volume:t}),this.player.pixelController.triggerCustomPixel(a.J.SUPER_VOLUME_CHANGE,!0,{volume:t}),this.player.viewCtrl.setVolumeLevel(100*t,!0,!1,!0)}handleMuteToggle(){var e=this.player.viewCtrl.volumeLevel/100,t=this.player.viewCtrl.toggleVolumeMuted(!0);t||0!==e||this.player.viewCtrl.setVolumeLevel(100,!0,!1,!0),this.player.pixelController.triggerCustomPixel(a.J.IA_KEY_VOLUME_CHANGE,!0,{volume:e}),this.player.pixelController.triggerCustomPixel(a.J.SUPER_VOLUME_CHANGE,!0,{volume:e}),t?(this.player.pixelController.triggerPixel(a.J.IA_KEY_VOLUME_MUTE),this.player.pixelController.triggerPixel(a.J.SUPER_VOLUME_MUTE)):(this.player.pixelController.triggerPixel(a.J.IA_KEY_VOLUME_UNMUTE),this.player.pixelController.triggerPixel(a.J.SUPER_VOLUME_UNMUTE))}handleQuality(e){var t=this.player.qualityList;if(!(t.length<=1)){var i=this.player.currentQuality,r=this.player.qualityList.findIndex((e=>e.level===i));if(-1!==r){var n=i;e>0?r<t.length-1&&(n=t[r+1].level):r>0&&(n=t[r-1].level),n!==i&&(this.player.pixelController.triggerQualityChanged(a.J.IA_KEY_QUALITY_CHANGE),this.player.switchQuality(n))}}}handleFullscreen(e){this.viewController.toggleFullscreen(e)}setBackNavigationHandler(e){var t;I(this,m,e,"f"),o.q.isEmbedded&&(null===(t=window.controller)||void 0===t||t.updateStateBool("willHandleBackNav",!0))}removeBackNavigationHandler(e){var t;T(this,m,"f")===e&&(I(this,m,null,"f"),o.q.isEmbedded&&(null===(t=window.controller)||void 0===t||t.updateStateBool("willHandleBackNav",!1)))}dispose(){var e;this.detach(),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),null===(e=T(this,g,"f"))||void 0===e||e.dispose(),I(this,g,null,"f"),I(this,m,null,"f"),window.clearTimeout(T(this,h,"f")),window.clearTimeout(T(this,c,"f")),delete this.player,delete this.viewController}};c=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,L=C([l.V],L);var _,P=i(35996),k=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},x=_=class{constructor(e){var t,i,r,n,l;this.player=e,this.polling=!1,this.bufferHistoryIndex=0,this.graphHeight=30,this.graphLength=300,this.graphColors=["#039BE5","#7CB342","#FFB300","#E53935","#8E24AA","#00ACC1","#C0CA33","#00897B","#5E35B1","#FDD835","#43A047","#3949AB"],this.eventSize=4,this.eventCount=0,this.lastEventTime=-this.eventSize,w.iV.log("SHOWING DEBUGGER"),this.container=document.createElement("div"),this.container.className="ardplayer-debugger-container",this.container.dataset.verticalNavAfter=".ardplayer-buttons-main.ardplayer-button-big";var d=document.createElement("button");d.classList.add("ardplayer-icon","ardplayer-icon-close"),d.tabIndex=0,this.container.appendChild(d),d.addEventListener("click",(()=>{this.hide()})),this.state=this.addRow("Status"),this.state.innerText=this.getPlayState();var u=this.addRow("Volume");u.innerText=this.player.getVolume()+"%"+(this.player.isMuted?" [mute]":""),this.resolution=this.addRow("Viewport / Resolution"),this.resolution.innerText=this.getRes(),this.frames=this.addRow("Frames"),this.frames.innerText=this.getFrames(),this.time=this.addRow("Duration / Time"),this.time.innerText=this.getTime(),this.lang=this.addRow("Audio / Subtitle"),this.lang.innerText=this.getLang();var c=this.addRow("Stream Selection"),h=this.addRow("Media selection"),p=()=>{var e;c.innerText=this.player.streamDebug();var t=this.player.qualityList.find((e=>e.level===this.player.currentQuality));h.innerText=t?t.level+" | "+t.label+" | "+(null!==(e=t.debug)&&void 0!==e?e:"-"):"-"};p();var v=this.addRow("Stream-URL");v.innerText=null!==(r=null===(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia||0])||void 0===i?void 0:i.url)&&void 0!==r?r:"-";var f=this.addRow("Buffer");f.className="ardplayer-debug-graph";var g=document.createElement("canvas");g.style.height=this.graphHeight+"px",g.style.width=this.graphLength+"px",g.height=this.graphHeight,g.width=this.graphLength,this.bufferRenderContext=g.getContext("2d"),this.bufferText=document.createElement("span"),this.bufferLegend=document.createElement("p");var m=document.createElement("p");m.className="ardplayer-legend-vertical",m.innerHTML='\n            <span style="background:#aa00ff" title="LOAD"></span>\n            <span style="background:#ffea00" title="PAUSE"></span>\n            <span style="background:#00e676" title="PLAY"></span>\n            <span style="background:#2979ff" title="SEEK"></span>\n        ',f.append(g,this.bufferText,this.bufferLegend,m);var y=this.addRow("Plugin / Mime");y.innerText=this.getPlugin(),this.controller=this.addRow("Ctrl-Debug"),this.controller.innerText=null!==(l=null===(n=this.player.getCtrl())||void 0===n?void 0:n.debugString())&&void 0!==l?l:"-",this.dvr=this.player.isLive?this.addRow("DVR"):null,this.dvr&&(this.dvr.innerText=this.getDvr());var b=this.addRow("Debug");b.innerHTML='\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" checked="checked"/>ON</label>\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" '+(o.q.isDebugPlayerEvent?'checked="checked"':"")+' />Player Events</label>\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" '+(o.q.isDebugPixelEvent?'checked="checked"':"")+' />Pixel Events</label>\n            <label><input type="checkbox" tabindex="0" class="ardplayer-always-visible-control" '+(o.q.isDebugVerboseUI?'checked="checked"':"")+" />Verbose UI</label>\n        ";var S=Array.from(b.querySelectorAll("input")),[A,C,I,T]=S;S.forEach((e=>{e.parentElement.dataset.verticalNavAfter=".ardplayer-debugger-container"})),(0,E.nx)(A,(function(){this.checked||(C.checked=!1,I.checked=!1,T.checked=!1),(0,w.fF)(this.checked)})),(0,E.nx)(C,(function(){this.checked&&(A.checked=!0),o.q.isDebugPlayerEvent=this.checked})),(0,E.nx)(I,(function(){this.checked&&(A.checked=!0),o.q.isDebugPixelEvent=this.checked})),(0,E.nx)(T,(function(){this.checked&&(A.checked=!0),o.q.isDebugVerboseUI=this.checked}));var L=this.addRow("");L.className="debug-id",L.innerText=this.player.getId(),this.listener=e=>{var t,i,r;switch(e.type){case s.J.EVENT_SEEK_START:case s.J.EVENT_SEEK_END:this.addEventToGraph("#2979ff");break;case s.J.EVENT_QUALITY_CHANGE:p();break;case s.J.EVENT_LOAD_STREAM:case s.J.EVENT_STATUS_CHANGE:v.innerText=null!==(r=null===(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia||0])||void 0===i?void 0:i.url)&&void 0!==r?r:"-",y.innerText=this.getPlugin(),p(),this.resolution.innerText=this.getRes(),this.state.innerText=this.getPlayState(),this.lang.innerText=this.getLang(),this.addEventToGraph(e.type===s.J.EVENT_LOAD_STREAM?"#aa00ff":"pause"===e.status?"#ffea00":"#00e676");break;case s.J.PLAYBACK_RATE_CHANGE:this.state.innerText=this.getPlayState();break;case a.J.SUPER_VOLUME_CHANGE:case a.J.SUPER_VOLUME_MUTE:case a.J.SUPER_VOLUME_UNMUTE:u.innerText=this.player.getVolume()+"%"+(this.player.isMuted?" [mute]":"");break;case s.J.VIEWPORT_RESIZE:this.resolution.innerText=this.getRes();break;case a.J.SUPER_AUDIOSTREAM_CHANGE:this.lang.innerText=this.getLang();break;case s.J.EVENT_UPDATE_STREAM_TIME:this.dvr&&(this.dvr.innerText=this.getDvr())}},this.player.addEventListener("*",this.listener),P.K.for(this.player).storageListeners.add(this),this.polling=!0,this.poll(),e.getTarget().appendChild(this.container)}onStorageValueChanged(e,t){switch(e){case P.K.CURRENT_PLAYERID:this.state.innerText=this.getPlayState();break;case P.K.SUBTITLE_ENABLED:this.lang.innerText=this.getLang()}}addRow(e){var t=document.createElement("span");t.innerText=e;var i=document.createElement("div");return this.container.append(t,i),i}poll(){var e,t;try{if(!this.polling)return;this.resolution.innerText=this.getRes(),this.frames.innerText=this.getFrames(),this.time.innerText=this.getTime(),this.controller.innerText=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugString())&&void 0!==t?t:"-",this.updateBuffer(),this.player.safeTimeout((()=>{this.poll()}),250)}catch(e){this.polling=!1}}hide(){this.polling=!1,this.player.getTarget().removeChild(this.container),this.player.removeEventListener("*",this.listener),P.K.for(this.player).storageListeners.delete(this)}static show(e){e.getTarget().querySelector(".ardplayer-debugger-container")||new _(e)}updateBuffer(){var e,t,i=this.player.mediaElement,r=0;if(i)for(var n=i.buffered,a=i.currentTime,s=0;s<n.length;s++)if(n.start(s)<=a&&n.end(s)>=a){r=n.end(s)-a;break}if(this.bufferRenderContext){var[o,l]=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.debugQualityLevel())&&void 0!==t?t:[-1,1],d=Math.min(r,60)/60*this.graphHeight,u=this.bufferRenderContext;if(u.clearRect(this.bufferHistoryIndex,0,3,this.graphHeight),u.fillStyle="red",u.fillRect(this.bufferHistoryIndex+1,0,1,this.graphHeight),u.fillStyle=this.graphColors[Math.max(0,o)%this.graphColors.length],u.fillRect(this.bufferHistoryIndex,this.graphHeight-d,1,d),o>=0){if(this.bufferLegend.style.display="block",this.bufferLegend.childElementCount!==l){(0,E.cS)(this.bufferLegend);for(var c=0;c<l;c++){var h=document.createElement("span");h.style.backgroundColor=this.graphColors[c%this.graphColors.length],h.title="Quality "+(c+1),this.bufferLegend.append(h)}}}else this.bufferLegend.style.display="none";this.bufferHistoryIndex=++this.bufferHistoryIndex>=this.graphLength?0:this.bufferHistoryIndex}this.bufferText.innerText=r.toFixed(2)+"s"}addEventToGraph(e){if(this.bufferRenderContext){Math.abs(this.bufferHistoryIndex-this.lastEventTime)>this.eventSize?(this.lastEventTime=this.bufferHistoryIndex,this.eventCount=0):this.eventCount++;var t=this.bufferRenderContext;t.fillStyle=e,t.fillRect(this.bufferHistoryIndex-this.eventSize,this.eventSize*this.eventCount,this.eventSize,this.eventSize),t.strokeStyle="black",t.strokeRect(this.bufferHistoryIndex-this.eventSize,this.eventSize*this.eventCount,this.eventSize,this.eventSize)}}getPlayState(){var e,t=null!==(e={0:"UNSPECIFIED",1:"PAUSED",2:"PLAYING",3:"STOPPED"}[this.player.model.playstate])&&void 0!==e?e:"UNKNOWN "+this.player.model.playstate;return(this.player.isLive?"LIVE":"OD")+" | "+(2===this.player.model.playstate?t+" ["+this.player.model.playbackRate+"x]":t)+" | "+(this.player.getId()===P.K.get(P.K.SUFFIX_GLOBAL,P.K.CURRENT_PLAYERID,!0)?"ACTIVE":"INACTIVE")}getDvr(){var e,t,i,r,n,a,s,o,l,d,u,c,h=1e3*(null!==(r=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrRelToUnix(null!==(i=null===(t=this.player.getCtrl())||void 0===t?void 0:t.getCurrentTime())&&void 0!==i?i:0))&&void 0!==r?r:0),p=1e3*(null!==(o=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrRelToUnix(null!==(s=null===(a=this.player.getCtrl())||void 0===a?void 0:a.getDuration())&&void 0!==s?s:0))&&void 0!==o?o:0),v=1e3*(null!==(d=null===(l=this.player.getCtrl())||void 0===l?void 0:l.dvrRelToUnix(0))&&void 0!==d?d:0),f=null!==(c=null===(u=this.player.getCtrl())||void 0===u?void 0:u.__cumulativeDrift)&&void 0!==c?c:0;return"HEAD: "+(h<=0?0:new Date(h).toISOString())+"\n        REAL: "+(p<=0?0:new Date(p).toISOString())+"\n        LEFT: "+(v<=0?0:new Date(v).toISOString())+"\n        DRIFT: "+f}getRes(){var e=this.player.mediaElement;return this.player.getTarget().offsetWidth+"x"+this.player.getTarget().offsetHeight+" | "+(e instanceof HTMLVideoElement?e.videoWidth+"x"+e.videoHeight:"-")}getPlugin(){var e,t,i;return((0,E.fp)(this.player.currentPluginName)?"-":this.player.currentPluginName)+" | "+(null!==(i=null===(t=null===(e=this.player.currentStream)||void 0===e?void 0:e.media[this.player.currentMedia||0])||void 0===t?void 0:t.mimeType)&&void 0!==i?i:"-")}getLang(){var e,t;return(null!==(t=null===(e=this.player.currentAudio)||void 0===e?void 0:e.languageCode)&&void 0!==t?t:"-")+" | "+(P.K.subtitleEnabled(this.player)?String(P.K.for(this.player).get("subtitleLang")):"-")}getFrames(){var e=this.player.mediaElement;if(e instanceof HTMLVideoElement){var t=e.getVideoPlaybackQuality();return t.droppedVideoFrames+" dropped of "+t.totalVideoFrames}return"no video info available"}getTime(){return this.player.model.duration.toFixed(2)+"s | "+this.player.model.time.toFixed(2)+"s"}};x=_=k([l.V],x);var R=i(11757),O=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},D=class{constructor(e,t,i){var r;this.menu=null,this.disposeKeydown=null,this.showClick=e=>null!=e&&null!==this.menu&&(e.preventDefault(),!(!e.altKey&&!e.ctrlKey)&&(this.show(Math.min(e.pageX-window.scrollX,window.innerWidth-this.menu.offsetWidth),Math.min(e.pageY-window.scrollY,window.innerHeight-this.menu.offsetHeight)),!1)),this.showTouch=e=>{null!=e&&null!==this.menu&&e.touches.length>2&&(e.stopPropagation(),e.stopImmediatePropagation(),this.show(Math.min(e.touches[0].pageX-window.scrollX,window.innerWidth-this.menu.offsetWidth),Math.min(e.touches[0].pageY-window.scrollY,window.innerHeight-this.menu.offsetHeight)))},this.show=(e,t)=>{if(null!==this.menu)if(this.menu.classList.add("ardplayer-open"),o.q.isEmbedded){var i=Math.min(this.hostElement.offsetHeight/(25+this.menu.offsetHeight),1);this.menu.style.top=25*i+"px",this.menu.style.left="30%",this.menu.style.transform="scale("+i.toFixed(3)+")",this.menu.style.transformOrigin="top"}else this.menu.style.left=e+"px",this.menu.style.top=t+"px"},this.hide=e=>{var t;null==e||e.stopImmediatePropagation(),null===(t=this.menu)||void 0===t||t.classList.remove("ardplayer-open")},this.hostElement=t,this.items=i,this.menu=document.createElement("ul"),this.menu.className="ardplayer-contextmenu";var n=document.createElement("li");for(var a of(n.innerHTML='<button class="ardplayer-context-debug" tabindex="0"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M20,8H17.19C16.74,7.2 16.12,6.5 15.37,6L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.05,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6C7.87,6.5 7.26,7.21 6.81,8H4V10H6.09C6.03,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.03,15.67 6.09,16H4V18H6.81C8.47,20.87 12.14,21.84 15,20.18C15.91,19.66 16.67,18.9 17.19,18H20V16H17.91C17.97,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.97,10.33 17.91,10H20V8M16,15A4,4 0 0,1 12,19A4,4 0 0,1 8,15V11A4,4 0 0,1 12,7A4,4 0 0,1 16,11V15M14,10V12H10V10H14M10,14H14V16H10V14Z" /></svg></button><button class="ardplayer-context-copy" tabindex="0"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></button><button class="ardplayer-context-close" tabindex="0"><svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg></button>',n.dataset.verticalNavAfter=".ardplayer-buttons-main.ardplayer-button-big",this.menu.appendChild(n),(0,E.nx)(this.menu.querySelector("button.ardplayer-context-debug"),(()=>{x.show(e),this.hide()})),(0,E.nx)(this.menu.querySelector("button.ardplayer-context-copy"),(()=>{var e,t="";for(var i of this.items)t+=(null!==(e=i.name)&&void 0!==e?e:"--")+"\n";t+="\n_____license_____\n"+R.I.core.license+"|"+R.I.core.signature,t+="\n_____debug_____\n"+w.iV._buffer,this.copyToClipboard(t)})),(0,E.nx)(this.menu.querySelector("button.ardplayer-context-close"),(()=>{this.hide()})),this.items)){var l=document.createElement("li");(0,E.nr)(a,"name")?(l.className="ardplayer-item",l.textContent=null!==(r=a.name)&&void 0!==r?r:""):l.className="ardplayer-divider",(0,E.nr)(a,"inactive")&&(l.className+=" ardplayer-item-inactive"),(0,E.nx)(l,this.hide),this.menu.appendChild(l)}this.hostElement.appendChild(this.menu),this.hostElement.addEventListener("contextmenu",this.showClick),o.q.isMobileDevice&&this.hostElement.addEventListener("touchstart",this.showTouch,{passive:!0});var d=e=>{if(e.ctrlKey&&"contextmenu"===e.shortcut)if(o.q.isEmbedded)this.show(0,-10);else{var t=this.hostElement.getBoundingClientRect();this.show(t.left,t.top)}};this.disposeKeydown=()=>{e.loop.removeEventListener(s.J.EVENT_KEYBOARD_RELEASE,d),this.disposeKeydown=null},e.loop.addEventListener(s.J.EVENT_KEYBOARD_RELEASE,d)}copyToClipboard(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}dispose(){var e,t,i;this.menu&&(this.hide(),null===(t=null===(e=this.menu)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.menu),this.menu=null,this.hostElement.removeEventListener("contextmenu",this.showClick),o.q.isMobileDevice&&this.hostElement.removeEventListener("touchstart",this.showTouch),null===(i=this.disposeKeydown)||void 0===i||i.call(this))}};D=O([l.V],D);var M,N,V,U,B,F,H,j,G,W,q,K=i(71027),z=i(73155),J=i(69765),Y=i(42097),$=i(84169),Q=' <div class="ardplayer-posterbackdrop"> <img alt="ARD Player Poster"> </div><div class="ardplayer-viewport" tabindex="-2"></div> <div class="ardplayer-viewport-addon-overlays"></div> <div class="ardplayer-background"></div><div class="ardplayer-title-container"> <div class="ardplayer-title-sizer"> <a class="ardplayer-title-widget" tabindex="-2"> <div class="ardplayer-title-widget-img" tabindex="0"></div><div class="ardplayer-title-widget-link"><span class="ardplayer-icon ardplayer-icon-arrowright"></span></div><i class="ardplayer-icon ardplayer-icon-arrowleft" tabindex="0" data-vertical-nav-offset="-1" data-vertical-nav-abs-pos="true"></i><div class="ardplayer-title-widget-text"> <p class="ardplayer-title-widget-main"></p><p class="ardplayer-title-widget-byline"></p></div> </a></div> </div><div class="ardplayer-header"> <div class="ardplayer-addons-container"></div></div> <div class="ardplayer-center"> <div class="ardplayer-buttons-main"> <button class="ardplayer-button-prevclip ardplayer-icon ardplayer-icon-prevclip ardplayer-button-disabled" title="" role="button" tabindex="0"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" title="" role="button" tabindex="0"></button><button class="ardplayer-button-jumpbackward ardplayer-icon ardplayer-icon-jumpbackward" title="" role="button" tabindex="0"></button> <button class="ardplayer-button-replay ardplayer-button-big ardplayer-icon ardplayer-icon-return" tabindex="0"></button> <button class="ardplayer-button-playpause ardplayer-button-big ardplayer-icon ardplayer-icon-play" tabindex="0"></button><button class="ardplayer-button-jumpforward ardplayer-icon ardplayer-icon-jumpforward" title="" role="button" tabindex="0"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" title="" role="button" tabindex="0"></button><button class="ardplayer-button-nextclip ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" title="" role="button" tabindex="0"></button> </div></div> <div class="ardplayer-audio"> <h3 class="ardplayer-audio-subtitle"></h3><h2 class="ardplayer-audio-title"></h2></div> <div class="ardplayer-footer"> <span class="ardplayer-time-playhead" aria-live="off" role="timer" aria-atomic="true">00:00</span><span class="ardplayer-time-remaining" aria-live="off" role="timer" aria-atomic="true">00:00</span><div class="ardplayer-controlbar" tabindex="0" data-vertical-nav-abs-pos="true"> <div class="ardplayer-controlbar-hover" aria-live="off" role="timer" aria-atomic="true" aria-hidden="true">00:00</div><div class="ardplayer-controlbar-thumb-input"> <span class="ardplayer-controlbar-seek-indicator"></span><span class="ardplayer-controlbar-buffer"></span></div> </div><div class="ardplayer-buttons-main ardplayer-button-big"> <button class="ardplayer-button-replay ardplayer-icon ardplayer-icon-return" tabindex="0"></button> <button class="ardplayer-button-playpause ardplayer-icon ardplayer-icon-play" tabindex="0"></button><button class="ardplayer-button-skipbackward ardplayer-icon ardplayer-icon-skipbackward ardplayer-button-disabled" title="" role="button" tabindex="0"></button><button class="ardplayer-button-skipforward ardplayer-icon ardplayer-icon-skipforward ardplayer-button-disabled" title="" role="button" tabindex="0"></button><button class="ardplayer-button-jumptolive ardplayer-icon ardplayer-icon-nextclip ardplayer-button-disabled" role="button" tabindex="0"></button> <div class="ardplayer-button-volume"> <button class="ardplayer-icon ardplayer-icon-volume-low" tabindex="0"></button><div class="ardplayer-volume-fader"> <div class="slider-wrapper"> <div class="ardplayer-volume-fader-input"></div></div> </div></div> </div><div class="ardplayer-addons-container-big ardplayer-button-big"> <div class="ardplayer-addons-container"></div></div> <div class="ardplayer-button-fullscreen-container ardplayer-button-big" data-vertical-nav-offset="2"> <button class="ardplayer-button-settings-small ardplayer-icon ardplayer-icon-addons" tabindex="0"></button><button class="ardplayer-button-settings-reveal ardplayer-icon ardplayer-icon-more" tabindex="0"></button><button class="ardplayer-button-fullscreen ardplayer-icon ardplayer-icon-fullscreen" tabindex="0"></button></div> </div><div class="ardplayer-playstate-zoom ardplayer-icon"></div><div class="ardplayer-buffering"> <div class="ardplayer-loader"> <div class="ardplayer-loader-inner ardplayer-ball-scale-multiple"> <div></div><div></div><div></div></div> </div></div> <div class="ardplayer-bottom-sheet-container ardplayer-bottom-sheet-container-toggle"> <div class="ardplayer-bottom-sheet-background" tabindex="-2"></div><div class="ardplayer-bottom-sheet-stage" role="dialog" aria-hidden="true" aria-labelledby="ardplayer-bottom-sheet-title-{{puid}}"> <div class="ardplayer-bottom-sheet-topbar"> <button class="ardplayer-bottom-sheet-back-button ardplayer-icon ardplayer-icon-arrowleft" tabindex="-1" aria-label="Einen Bildschirm zurück gehen."></button><h2 class="ardplayer-bottom-sheet-title" role="heading" aria-level="1" id="ardplayer-bottom-sheet-title-{{puid}}"></h2><button class="ardplayer-bottom-sheet-close-button ardplayer-icon ardplayer-icon-close" tabindex="-1" aria-label="Fenster schliessen."></button></div> <div class="ardplayer-bottom-sheet-content-wrapper"> <div class="ardplayer-bottom-sheet-content"> </div></div> </div></div> <div class="ardplayer-posterframe" tabindex="-2"> <img alt="ARD Player Posterframe"> <span class="ardplayer-posterframe-title"></span><span class="ardplayer-posterframe-duration">0 Min</span><div class="ardplayer-posterframe-buttons"> <button class="ardplayer-button-posterframe ardplayer-button-big ardplayer-button-hero ardplayer-icon ardplayer-icon-play" tabindex="0"></button></div> </div> ',X=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},Z=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},ee=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},te=q=class extends J.s{constructor(e){var t,i,l;super(),t=this,this.player=e,this.listenerDisposers=[],this.lastFocusElement=null,this.isOut=!0,this._lastDuration=0,this._dvrEnabled=!1,this._dvrIsLive=!0,this._dvrWindow=0,this._dvrEnabledAndRequested=!1,M.set(this,-1),N.set(this,-1),V.set(this,-1),U.set(this,!1),this.controlsVisible=!1,B.set(this,new Set),F.set(this,new Set),H.set(this,new Set),this.isAudioView=!1,j.set(this,!1),this.accessibilityConfig=(0,Y.i)("Accessibility"),this.addonButtonsVisible=!0,this.settingsVisible=!1,this.posterFrameVisible=!1,this.volumeLevel=100,this.isMobile=o.q.isMobileDevice,this.viewportMultiClick=!1,this.viewportMultiTimeout=-1,this.volumePixelDelayTimeout=-1,this.fadeOutTimeout=-1,this.volumeIsOut=!0,this.controlBarIsDragging=!1,this.controlBarMouseOver=!1,this.volumeIsDragging=!1,this.controlsHovered=!1,this.mediaQueries=[],this.volumeThumbSlider=[],this.posterImgResponsive=null,this.posterBackdropImgResponsive=null,G.set(this,null),this.controlBarHoverListeners=new Set,this.volumeBtn=[],this.volumeThumbInput=[],this.volumeContainer=[],W.set(this,-1),this.programmaticSeekDone=()=>{Z(this,W,"f")>=0&&(window.clearTimeout(Z(this,W,"f")),ee(this,W,-1,"f"),this.controlBarHoverListeners.forEach((e=>{var t;return null===(t=e.handleControlbarLeave)||void 0===t?void 0:t.call(e,!0)})),this.setOutDelayed(),this.controlbarSeek(this.controlBarThumbSlider.get(!0)),this.playerView.classList.remove("ardplayer-show-controlbar-thumb-hover"),this.controlBarIsDragging=!1,this.controlBarMouseOver=!1)},this.toggleFullscreen=function(e){var i,r,l,d;if(void 0===e&&(e=null),!t.isAudioView)if(n.enabled||Z(t,G,"f")instanceof HTMLVideoElement&&n.videoEnabled(Z(t,G,"f"))){var u=()=>{var i,r,n;t.applyFullscreenState(!1),null!==(null===(i=t.player)||void 0===i?void 0:i.pixelController)&&void 0!==(null===(r=t.player)||void 0===r?void 0:r.pixelController)&&(e instanceof KeyboardEvent||t.player.pixelController.triggerPixel(a.J.IA_MOUSE_FULLSCREEN_DEACTIVATION_BUTTON),t.player.pixelController.triggerPixel(a.J.SUPER_FULLSCREEN_DEACTIVATION)),null===(n=t.player)||void 0===n||n.loop.dispatchEvent(s.J.TOGGLE_FULLSCREEN,{fullscreen:!1})};o.q.isIOSDevice&&(n.onchange=()=>{Z(t,U,"f")&&u()}),n.toggle(t.playerView,(()=>{var i,r,n;document.activeElement&&!t.isWithinPlayer(document.activeElement)&&(0,S.n6)(t.viewport),null!==t.lastFocusElement&&t.player.safeTimeout((()=>{(0,S.n6)(t.lastFocusElement)}),1e3),t.applyFullscreenState(!0),e instanceof KeyboardEvent||null===(i=t.player)||void 0===i||i.pixelController.triggerPixel(a.J.IA_MOUSE_FULLSCREEN_ACTIVATION_BUTTON),null===(r=t.player)||void 0===r||r.pixelController.triggerPixel(a.J.SUPER_FULLSCREEN_ACTIVATION),null===(n=t.player)||void 0===n||n.loop.dispatchEvent(s.J.TOGGLE_FULLSCREEN,{fullscreen:!0})}),u),t.setOver()}else"fixed"===t.playerView.style.position?(t.playerView.removeAttribute("style"),t.applyFullscreenState(!1),null===(i=t.player)||void 0===i||i.pixelController.triggerPixel(a.J.SUPER_FULLSCREEN_DEACTIVATION),null===(r=t.player)||void 0===r||r.loop.dispatchEvent(s.J.TOGGLE_FULLSCREEN,{fullscreen:!1})):(t.playerView.style.position="fixed",t.playerView.style.top="0",t.playerView.style.bottom="0",t.playerView.style.left="0",t.playerView.style.right="0",t.playerView.style.zIndex="20000",t.applyFullscreenState(!0),null===(l=t.player)||void 0===l||l.pixelController.triggerPixel(a.J.SUPER_FULLSCREEN_ACTIVATION),null===(d=t.player)||void 0===d||d.loop.dispatchEvent(s.J.TOGGLE_FULLSCREEN,{fullscreen:!0})),t.setOver()},this.handleMouseMove=()=>{this.setOver()},this.handleMouseLeave=()=>{this.setOut()},this.setOver=()=>{this.forcedControlsHidden?this.log("showControls() prevented by setForceUIHidden"):(this.isOut=!1,this.posterFrameVisible||this.showControls())},this.setOut=function(e){var i,r,n,a;void 0===e&&(e=!1),!t.forcedOver||t.forcedControlsHidden?(t.isOut=!0,!t.forcedControlsHidden&&(!e&&!(null===(r=null===(i=t.player)||void 0===i?void 0:i.getCtrl())||void 0===r?void 0:r.isPlaying())||t.controlBarIsDragging||t.controlBarMouseOver&&!o.q.isEmbedded||t.volumeIsDragging||t.controlsHovered||t.settingsVisible||!t.controlsVisible||t.forcedControlsVisible||t.isAudioView)?(t.setOutDelayed(),t.log("setOut prevented - ",[e||(null===(a=null===(n=t.player)||void 0===n?void 0:n.getCtrl())||void 0===a?void 0:a.isPlaying())?"":"playing ",t.controlBarIsDragging?"ctrlBarDragging ":"",t.controlBarMouseOver?"ctrlBarMouseOver ":"",t.volumeIsDragging?"volumeDragging ":"",t.controlsHovered?"controlsHover ":"",t.settingsVisible?"settingsVisible ":"",t.controlsVisible?"":"controlsVisible ",t.forcedControlsVisible?"forcedControlsVisible ("+[...Z(t,B,"f")].join(", ")+") ":"",t.isAudioView?"audioView ":""].join(""))):(t.log("setOut! forcedHidden clients: "+[...Z(t,F,"f")].join(", ")),t.controlsVisible=!1,t.playerView.classList.remove("ardplayer-show-controls"),t.player.loop.dispatchEvent(s.J.EVENT_CTRLBAR_FADEOUT,{}))):t.log("setOut preempted: forcedOver")},this.handlePlayPauseBtn=e=>{var t,i,r=null===(t=this.player)||void 0===t?void 0:t.getCtrl();this.player&&null!=r?r.isPlaying()?((e instanceof MouseEvent||"undefined"!=typeof TouchEvent&&e instanceof TouchEvent)&&this.player.pixelController.triggerPixel(a.J.IA_MOUSE_PAUSE_BUTTON),this.player.pixelController.triggerPixel(a.J.SUPER_PAUSE),r.pause(),this.showPauseAnimation(),this.showPlayBtn()):((e instanceof MouseEvent||"undefined"!=typeof TouchEvent&&e instanceof TouchEvent)&&this.player.pixelController.triggerPixel(a.J.IA_MOUSE_PLAY_BUTTON),this.player.pixelController.triggerPixel(a.J.SUPER_PLAY),r.play(),this.showPlayAnimation(),this.showPauseBtn()):null===(i=this.player)||void 0===i||i.playInternal()},this.handleReplayBtn=()=>{var e,t,i;null===(e=this.player)||void 0===e||e.pixelController.triggerPixel(a.J.IA_MOUSE_PLAY_AGAIN_BUTTON),this.hidePlayAgain(),null===(i=null===(t=this.player)||void 0===t?void 0:t.getCtrl())||void 0===i||i.restartMedia()},this.handleStatus=e=>{switch(e.status){case"play":this.hidePlayAgain(),this.showPauseBtn(),this.setOver();break;case"pause":this.showPlayBtn(),this.setOver()}},this.handleViewportClick=e=>{if("dblclick"!==e.type)if(!this.player||!this.isMobile||this.controlsVisible||this.player.model.mediaCollection.isLive&&!this._dvrEnabledAndRequested)this.isMobile?this.handleViewportClickNow():(e.stopImmediatePropagation(),e.preventDefault(),clearTimeout(this.viewportMultiTimeout),this.viewportMultiClick?(this.viewportMultiClick=!1,this.toggleFullscreen(e)):(this.viewportMultiClick=!0,this.viewportMultiTimeout=this.player.safeTimeout((()=>{this.handleViewportClickNow()}),q.MULTI_CLICK_DELAY)));else{e.stopImmediatePropagation(),e.preventDefault(),clearTimeout(this.viewportMultiTimeout);var t=this.player.model.duration;if(this.viewportMultiClick&&t>0){var i=(0,E.We)(e,this.playerView),r=this.playerView.offsetWidth,n=this.player.model.time;i.left<.5*r?this.player.seekToInternal(Math.max(n-10,0)):this.player.seekToInternal(Math.min(n+10,t)),this.viewportMultiTimeout=this.player.safeTimeout((()=>{this.viewportMultiClick=!1}),q.MULTI_CLICK_DELAY)}else this.viewportMultiClick=!0,this.viewportMultiTimeout=this.player.safeTimeout((()=>{this.handleViewportClickNow()}),q.MULTI_CLICK_DELAY)}},this.handlePosterFrame=e=>{e.stopImmediatePropagation(),e.preventDefault(),this.player&&(this.player.loop.dispatchEvent(s.J.POSTER_FRAME_PRESSED,{}),this.handleInitialPlay(),e instanceof KeyboardEvent?this.player.pixelController.triggerPixel(a.J.IA_KEY_PLAY):this.player.pixelController.triggerPixel(a.J.IA_MOUSE_PLAY_VIEWPORT),this.player.pixelController.triggerPixel(a.J.SUPER_PLAY),this.player.playInternal())},this.handleControlBarEnter=e=>{this.isOut&&this.setOver(),this.controlBarMouseOver=!0,this.playerView.classList.add("ardplayer-show-controlbar-hover"),this.updateControlBarLabel(e)},this.handleControlBarMove=e=>{this.controlBarMouseOver=!0,this.updateControlBarLabel(e)},this.handleControlBarLeave=e=>{this.controlBarMouseOver=!1,this.playerView.classList.remove("ardplayer-show-controlbar-hover"),this.updateControlBarLabel(e),this.controlBarHoverListeners.forEach((e=>{var t;return null===(t=e.handleControlbarLeave)||void 0===t?void 0:t.call(e,!1)})),this.isMobile&&this.setOutDelayed()},this.handleControlBarClick=e=>{this.controlBarMouseOver=!1,this.updateControlBarLabel(e,!e.defaultPrevented),this.controlBarHoverListeners.forEach((e=>{var t;return null===(t=e.handleControlbarLeave)||void 0===t?void 0:t.call(e,!1)})),this.isMobile&&this.setOutDelayed()},this.handleVolumeEnter=()=>{this.settingsVisible||(this.volumeIsOut=!1,this.playerView.classList.add("ardplayer-volume-open"))},this.handleVolumeLeave=()=>{this.volumeIsOut=!0,this.volumeIsDragging||this.playerView.classList.remove("ardplayer-volume-open")},this.handleVolumeClick=()=>{this.volumeBtn.length>0&&this.volumeBtn[0].classList.contains("ardplayer-icon-volume-mute")?this.setVolumeLevel(0===this.volumeLevel?100:this.volumeLevel,!0,!1):this.setVolumeLevel(this.volumeLevel,!0,!0)},this.handleResize=()=>{var e,t,i;this.applyMediaQueries(this.playerView.offsetWidth),null===(e=this.posterImgResponsive)||void 0===e||e.updateSize(),null===(t=this.posterBackdropImgResponsive)||void 0===t||t.updateSize(),(null===(i=this.player)||void 0===i?void 0:i.model)&&this.updateTimeline(this.player.model.time,this.player.model.duration)},this.focusHandler=e=>{if(this.hotfixActiveElement(e),this.isWithinPlayer(document.activeElement)){if(document.activeElement===this.playerView)return void(this.posterFrameVisible?this.lastFocusElement=this.btnPlayPausePosterframe:this.lastFocusElement=null);this.lastFocusElement=document.activeElement,clearTimeout(Z(this,N,"f")),ee(this,N,this.player.safeTimeout((()=>{this.setOver()})),"f"),this.keyboardCtrl.attach()}},this.blurHandler=e=>{this.hotfixActiveElement(e),this.isWithinPlayer(this.lastFocusElement)||(this.lastFocusElement=null,this.setOutDelayed(),this.keyboardCtrl.detach())},this.playerID=e.getId(),this.playerView=this.player.getTarget();var d=this.playerView,u=[];d.classList.forEach((e=>{e.startsWith("ardplayer")&&u.push(e)})),this.log("removing state classes",u),d.classList.remove(...u),u.includes("ardplayer-state-audio-sticky")&&document.documentElement.classList.remove("ardplayer-sticky-visible"),d.innerHTML=Q.replace(/{{puid}}/gm,this.player.getId()),d.classList.add("ardplayer","ardplayer-init"),d.tabIndex=-2,this.player.model.mediaCollection.isLive&&(d.classList.add("ardplayer-state-live"),this.player.model.mediaCollection.isDvrEnabled||d.classList.add("ardplayer-state-live-nodvr")),o.q.isEmbedded&&d.classList.add("ardplayer-state-embedded"),o.q.isAndroidTV&&d.classList.add("ardplayer-android-tv"),o.q.isFrame&&d.classList.add("ardplayer-framed"),o.q.isOldWebkit&&d.classList.add("ardplayer-old-webkit"),this.isAudioView=this.player.isAudio&&!(null!==(i=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i);var c,h=document.createElement("video");try{h.volume=.42,c=.42===h.volume}catch(e){c=!1}if(!this.isMobile&&c||d.classList.add("ardplayer-state-mobile"),this.viewport=this.playerView.querySelector(".ardplayer-viewport"),this.mainButtons=d.querySelector(".ardplayer-footer .ardplayer-buttons-main"),this.addonButtons=d.querySelector(".ardplayer-addons-container-big"),this.bottomSheetAriaModals=Array.from(d.querySelectorAll(".ardplayer-header, .ardplayer-center, .ardplayer-footer")),this.addonButtonsAriaModals=Array.from(d.querySelectorAll(".ardplayer-footer .ardplayer-buttons-main")),this.btnPlayPause=Array.from(d.querySelectorAll(".ardplayer-button-playpause")),this.playstateZoom=d.querySelector(".ardplayer-playstate-zoom"),this.btnPlayPausePosterframe=d.querySelector(".ardplayer-button-posterframe"),this.btnReplay=Array.from(d.querySelectorAll(".ardplayer-button-replay")),this.btnJumpToLive=Array.from(d.querySelectorAll(".ardplayer-button-jumptolive")),this.btnFullscreen=d.querySelector(".ardplayer-button-fullscreen"),this.posterFrameView=d.querySelector(".ardplayer-posterframe"),this.posterBackdropView=d.querySelector(".ardplayer-posterbackdrop"),this.controlBar=d.querySelector(".ardplayer-controlbar"),this.bufferedBar=d.querySelector(".ardplayer-controlbar-buffer"),this.seekIndicatorBar=d.querySelector(".ardplayer-controlbar-seek-indicator"),this.controlBarThumbInput=d.querySelector(".ardplayer-controlbar-thumb-input"),this.controlBarLabel=d.querySelector(".ardplayer-controlbar-hover"),this.timePlayheadLabel=d.querySelector(".ardplayer-time-playhead"),this.timeRemainingLabel=d.querySelector(".ardplayer-time-remaining"),this.volumeBtn.push(d.querySelector(".ardplayer-button-volume button")),this.volumeThumbInput.push(d.querySelector(".ardplayer-volume-fader-input")),this.volumeContainer.push(d.querySelector(".ardplayer-button-volume")),this.btnMore=d.querySelector(".ardplayer-button-settings-small"),this.btnSeekForward=d.querySelector(".ardplayer-button-jumpforward"),this.btnSeekBackward=d.querySelector(".ardplayer-button-jumpbackward"),this.contextMenu=this.setupContextMenu(),this.setupAudioTitle(),this.setupEmbedPlayer(),this.bottomSheet=$.K.getImpl(this.player,this.playerView,(()=>{this.settingsVisible=!0,this.updateAccessibleVisibility()}),(()=>{this.settingsVisible=!1,this.updateAccessibleVisibility(),this.setOver()})),this.isAudioView||(this.onClick(this.viewport,this.handleViewportClick),this.addEventListener(this.viewport,"dblclick",this.handleViewportClick)),this.btnPlayPause.forEach((e=>this.onClick(e,this.handlePlayPauseBtn))),this.btnReplay.forEach((e=>this.onClick(e,this.handleReplayBtn))),this.onClick(this.btnPlayPausePosterframe,this.handlePosterFrame),this.onClick(this.btnFullscreen,this.toggleFullscreen),this.addEventListener(this.playstateZoom,"animationend",(function(){this.classList.remove("ardplayer-icon-play","ardplayer-icon-pause")})),this.onClick(this.btnMore,(()=>{var e;null===(e=this.bottomSheet)||void 0===e||e.reveal(this.player.addons.find((e=>e instanceof z.X)),z.X.OverviewScreen)})),this.onClick(this.btnSeekBackward,(()=>{this.player.seekToInternal(Math.max(this.player.model.time-10,0)),this.setOutDelayed()})),this.onClick(this.btnSeekForward,(()=>{this.player.seekToInternal(Math.min(this.player.model.time+10,this.player.model.duration)),this.setOutDelayed()})),this.btnJumpToLive.forEach((e=>this.onClick(e,(()=>{var e;!this._dvrIsLive&&this._dvrEnabledAndRequested&&(this.player.pixelController.triggerPixel(a.J.SUPER_BACK_TO_LIVE),this.player.seekToLiveInternal(),this.player.isPlaying||null===(e=this.player.getCtrl())||void 0===e||e.play())})))),"function"==typeof ResizeObserver?(this.resizeObserver=new ResizeObserver((()=>{this.handleResize()})),this.resizeObserver.observe(this.playerView)):window.addEventListener("resize",this.handleResize),this.isMobile?(this.addEventListener(this.controlBar,"touchstart",this.handleControlBarEnter,{passive:!0}),this.addEventListener(this.controlBar,"touchmove",this.handleControlBarMove,{passive:!0}),this.addEventListener(this.controlBar,"touchend",this.handleControlBarLeave),this.addEventListener(this.controlBar,"touchcancel",this.handleControlBarLeave),this.addEventListener(this.controlBar,"touchend",this.handleControlBarClick),this.addEventListener(this.controlBar,"touchcancel",this.handleControlBarClick)):(this.addEventListener(this.playerView,"mousemove",this.handleMouseMove),this.addEventListener(this.playerView,"mouseleave",this.handleMouseLeave),this.addEventListener(this.controlBar,"mouseenter",this.handleControlBarEnter),this.addEventListener(this.controlBar,"mousemove",this.handleControlBarMove),this.addEventListener(this.controlBar,"mouseleave",this.handleControlBarLeave),this.addEventListener(this.controlBar,"click",this.handleControlBarClick),o.q.isEmbedded||null===(l=this.playerView.querySelectorAll(".ardplayer-footer, .ardplayer-center, .ardplayer-title-container"))||void 0===l||l.forEach((e=>{e&&(this.addEventListener(e,"mouseenter",(()=>{this.controlsHovered=!0})),this.addEventListener(e,"mouseleave",(()=>{this.controlsHovered=!1})))}))),requestAnimationFrame((()=>{this.playerView.classList.remove("ardplayer-init")})),this.player.addEventListener(s.J.EVENT_STATUS_CHANGE,this.handleStatus),this.isAudioView){this.controlsVisible=!0,this.addonButtonsVisible=!1,d.classList.add("ardplayer-show-controls","ardplayer-state-audio"),this.player.model.playerConfig.web.isAudioSticky&&this.setSticky(!0);var p=d.querySelector(".ardplayer-button-settings-reveal");this.onClick(p,(()=>{this.addonButtonsVisible=!this.addonButtonsVisible,this.playerView.classList.toggle("ardplayer-reveal-settings",this.addonButtonsVisible),p.classList.toggle("ardplayer-icon-minus",this.addonButtonsVisible),p.classList.toggle("ardplayer-icon-more",!this.addonButtonsVisible),this.evalAccessibility(p,"metasettings",{pressed:this.addonButtonsVisible}),this.updateAccessibleVisibility()}))}if(this.player.model.playerConfig.web.isForcedVideoView&&(this.player.isAudio&&(this.toggleForceOver("VC_Audio",!0),d.classList.add("ardplayer-no-fullscreen")),!this.isMobile)){var v=document.createElement(this.volumeContainer[0].tagName);v.className=this.volumeContainer[0].className,v.innerHTML=this.volumeContainer[0].innerHTML,v.classList.add("ardplayer-show-s","ardplayer-control"),v.style.position="absolute",this.volumeBtn.push(v.querySelector(".ardplayer-button-volume button")),this.volumeThumbInput.push(v.querySelector(".ardplayer-volume-fader-input")),d.insertBefore(v,d.querySelector(".ardplayer-center")),this.volumeContainer.push(v),this.bottomSheetAriaModals.push(v)}this.createPosterFrame(),this.controlBarThumbSlider=this.createControlBar(),this.updateTime(this.player.model.time),this.volumeThumbInput.forEach((e=>this.volumeThumbSlider.push(this.createVolumeSlider(e)))),this.volumeBtn.forEach((e=>this.addEventListener(e,"mouseenter",this.handleVolumeEnter))),this.volumeContainer.forEach((e=>this.addEventListener(e,"mouseleave",this.handleVolumeLeave))),this.volumeBtn.forEach((e=>this.onClick(e,this.handleVolumeClick))),this.assetItemId=this.player.getId()+"-assetItem",this.setupAccessibility(),this.observeTabIndex(),this.keyboardCtrl=new L(this),this.registerMediaQuery(this.playerView,[{max:413,styles:["ardplayer-xs"]},{max:474,styles:["ardplayer-s"]},{max:850,styles:["ardplayer-m"]},{min:1441,styles:["ardplayer-xl"]}]),this.applyMediaQueries(this.playerView.offsetWidth),null===this.playerID?r.h.getInstance(e).throwError(r.h.NO_PLAYER_DEFINED,!0):(q.playerIDs[this.playerID]=this,q.players.push(e)),this.player.safeTimeout((()=>{this.player&&(this.player.loop.dispatchEvent(s.J.SETUP_VIEW,{controller:this,viewport:this.playerView.querySelector(".ardplayer-viewport-addon-overlays"),container:this.playerView.querySelector(".ardplayer-footer .ardplayer-addons-container"),secondaryContainer:this.playerView.querySelector(".ardplayer-header .ardplayer-addons-container")}),this.setupTitleDeeplink(),this.player.loop.dispatchEvent(s.J.SETUP_VIEW_COMPLETE,{controller:this}),this.updateAccessibleVisibility(),o.q.isEmbedded&&this.focusPlayButton())}))}get isSticky(){return Z(this,j,"f")}setSticky(e){return!!this.isAudioView&&(this.player.model.playerConfig.web.isAudioSticky=e,e?!!this.isSticky||!document.documentElement.classList.contains("ardplayer-sticky-visible")&&(this.playerView.classList.add("ardplayer-state-audio-sticky"),document.documentElement.classList.add("ardplayer-sticky-visible"),ee(this,j,!0,"f"),this.player.loop.dispatchEvent(s.J.STICKY_STATE_CHANGED,{sticky:this.isSticky}),!0):(this.isSticky&&(this.playerView.classList.remove("ardplayer-state-audio-sticky"),document.documentElement.classList.remove("ardplayer-sticky-visible"),ee(this,j,!1,"f"),this.player.loop.dispatchEvent(s.J.STICKY_STATE_CHANGED,{sticky:this.isSticky})),!0))}setMenuState(e,t){var i,r,n,a,s,l,d=null!==(r=null===(i=this.playerView)||void 0===i?void 0:i.querySelector("[ardplayer-menu-hero]"))&&void 0!==r?r:null;if(null==d||d.removeAttribute("ardplayer-menu-hero"),this.isAudioView){this.playerView.classList.toggle("ardplayer-menu-none",!t&&null==e),this.playerView.classList.toggle("ardplayer-menu-collapse",!t&&null!==e),this.playerView.classList.toggle("ardplayer-menu-hero",t&&null!==e);var u=this.playerView.querySelector(".ardplayer-button-settings-reveal");if(d&&(null===(n=u.parentElement)||void 0===n?void 0:n.contains(d))&&(null===(a=u.parentElement)||void 0===a||a.removeChild(d)),null!==e)if(t){var c=e.cloneNode(!0);null===(s=u.parentElement)||void 0===s||s.insertBefore(c,u),c.setAttribute("ardplayer-menu-hero",""),(0,E.nx)(c,(t=>{var i=e.tabIndex;e.tabIndex=-2,e.click(),e.tabIndex=i}))}else null===(l=u.parentElement)||void 0===l||l.insertBefore(e,u),e.setAttribute("ardplayer-menu-hero","")}else this.controlBar.parentElement&&(e&&e.setAttribute("ardplayer-menu-hero",""),o.q.isAndroidTV?(d&&this.mainButtons.contains(d)&&this.mainButtons.removeChild(d),e&&this.mainButtons.appendChild(e)):(d&&d!==e&&(delete d.dataset.verticalNavAfter,delete d.dataset.verticalNavAbsPos,this.controlBar.parentElement.contains(d)&&d.remove()),this.controlBar.parentElement.classList.toggle("ardplayer-controlbar-hero",null!==e),e&&(e.dataset.verticalNavAfter=".ardplayer-controlbar",e.dataset.verticalNavAbsPos="true",e.classList.add("ardplayer-button-big"),this.controlBar.nextElementSibling?this.controlBar.parentElement.insertBefore(e,this.controlBar.nextElementSibling):this.controlBar.parentElement.appendChild(e))))}get ID(){return"ViewController"}writeToParcel(e){super.writeToParcel(e),this.bottomSheet.writeToParcel(e)}restoreFromParcel(e){super.restoreFromParcel(e),this.player.safeTimeout((()=>{var t;null===(t=this.bottomSheet)||void 0===t||t.restoreFromParcel(e)}))}parcelData(){return{isFullscreen:Z(this,U,"f")}}restoreParceledData(e){e.isFullscreen&&this.applyFullscreenState(!0)}addEventListener(e,t,i,r){e.addEventListener(t,i,r),this.listenerDisposers.push((()=>{e.removeEventListener(t,i,r)}))}onClick(e,t,i){void 0===i&&(i=!0),this.listenerDisposers.push((0,E.nx)(e,t,i))}static resetSingleton(){q.playerIDs={},q.players=[]}static getInstance(e){var t;return null!==(t=q.playerIDs[e.getId()])&&void 0!==t?t:new q(e)}static getInstanceByPlayerID(e){return q.playerIDs[e]}static forceRemovePlayer(e){if(e){var t=q.players.findIndex((t=>t===e));t>=0&&q.players.splice(t,1),delete q.playerIDs[e.getId()]}}setupContextMenu(){var e,t,i,r,n=this,a=[],s=R.I.core;for(var o of(a.push({name:s.package+"@"+s.version+((0,E.fp)(s.rev)?"":"#"+(null!==(e=s.rev)&&void 0!==e?e:""))}),a.push({name:"build "+(null!==(t=s.build)&&void 0!==t?t:""),inactive:!0}),a.push({}),R.I.plugin))a.push({name:o.package.substr(10)+"@"+o.version+((0,E.fp)(o.rev)?"":"#"+(null!==(i=o.rev)&&void 0!==i?i:""))});a.push({});var l=function(e){var t=n.player.addons.some((t=>t.constructor.name===e.Clazz.name)),i=e.package.substr(10)+"@"+e.version+((0,E.fp)(e.rev)?"":"#"+(null!==(r=e.rev)&&void 0!==r?r:""));a.push({name:t?i:"["+i+"]"})};for(var d of R.I.addon)l(d);return new D(this.player,this.playerView,a)}setupAudioTitle(){var e,t,i=this.player.model.mediaCollection.meta,r=i.embed;this.playerView.querySelector(".ardplayer-audio-subtitle").innerText=(0,E.fp)(i.seriesTitle)?null!==(e=i.subHeading)&&void 0!==e?e:"":i.seriesTitle,this.playerView.querySelector(".ardplayer-audio-title").innerText=(0,E.fp)(i.title)?null!==(t=null==r?void 0:r.title)&&void 0!==t?t:"":i.title}setupTitleDeeplink(){var e=e=>{e.stopImmediatePropagation(),this.player.loop.dispatchEvent(s.J.TITLE_TEXT_CLICKED,{})},t=this.playerView.querySelector(".ardplayer-audio");t.tabIndex=-2,(0,E.nx)(t,e),this.posterBackdropView.tabIndex=-2,(0,E.nx)(this.posterBackdropView,e)}setupEmbedPlayer(){var e,t,i,r,n,a,o,l,d,u,c,h,p,v=this.player.model.mediaCollection.meta,f=v.embed,g=null!==(e=null==f?void 0:f.enabled)&&void 0!==e&&e;if(g||null!==(t=this.player.model.playerConfig.web.enableBackButton)&&void 0!==t&&t)try{if(this.playerView.classList.add(g?"ardplayer-embedded":"ardplayer-showback"),g||!0!==this.player.model.playerConfig.web.disableBackButtonTitle){this.playerView.querySelector(".ardplayer-title-widget-main").innerText=null!==(n=null!==(r=null==f?void 0:f.title)&&void 0!==r?r:v.title)&&void 0!==n?n:"";var m=null!==(a=v.subHeading)&&void 0!==a?a:"";(0,E.fp)(v.seriesTitle)||(m=v.seriesTitle,(0,E.fp)(null===(o=v.publicationService)||void 0===o?void 0:o.name)||(m+=" | "+v.publicationService.name)),this.playerView.querySelector(".ardplayer-title-widget-byline").innerText=m,this.playerView.querySelector(".ardplayer-title-widget-link span").innerText=null!==(l=null==f?void 0:f.linkText)&&void 0!==l?l:"Zur Mediathek"}else null===(d=this.playerView.querySelector(".ardplayer-title-widget-text"))||void 0===d||d.remove();if(g){if(""!==(null!==(u=null==f?void 0:f.link)&&void 0!==u?u:"")){var y=this.playerView.querySelector(".ardplayer-title-widget");y.setAttribute("href",null!==(c=null==f?void 0:f.link)&&void 0!==c?c:"#"),y.setAttribute("target","_blank")}this.playerView.querySelector(".ardplayer-title-widget-img").className="ardplayer-title-widget-img ardplayer-publisher-"+(null!==(p=null===(h=v.publicationService)||void 0===h?void 0:h.id)&&void 0!==p?p:"default")}else{var b=e=>{e.preventDefault(),e.stopPropagation(),this.player.loop.dispatchEvent(s.J.BACK_BUTTON_PRESSED,{})};this.onClick(this.playerView.querySelector(".ardplayer-title-widget"),b),this.onClick(this.playerView.querySelector(".ardplayer-title-widget .ardplayer-icon-arrowleft"),b)}}catch(e){w.iV.error("EmbedSetup Error: ",e)}else null===(i=this.playerView.querySelector(".ardplayer-title-widget"))||void 0===i||i.remove()}setupAccessibility(){this.viewport.setAttribute("id",this.assetItemId),this.evalAccessibility(this.posterBackdropView.querySelector("img"),"posterbackdrop"),this.evalAccessibility(this.posterFrameView.querySelector("img"),"posterframe"),this.btnPlayPause.forEach((e=>this.evalAccessibility(e,"playpause"))),this.btnReplay.forEach((e=>this.evalAccessibility(e,"replay"))),this.btnJumpToLive.forEach((e=>this.evalAccessibility(e,"jump-to-live"))),this.volumeBtn.forEach((e=>this.evalAccessibility(e,"volume"))),this.evalAccessibility(this.btnSeekForward,"seekforward"),this.evalAccessibility(this.btnSeekBackward,"seekbackward"),this.evalAccessibility(this.btnPlayPausePosterframe,"posterplay"),this.evalAccessibility(this.btnMore,"metasettings",{pressed:this.settingsVisible}),this.evalAccessibility(this.btnFullscreen,Z(this,U,"f")?"fullscreen-off":"fullscreen-on",{pressed:!1}),this.evalAccessibility(this.controlBar,"progressbar",{duration:0,position:0,positionlabel:"",assetType:this.player.isAudio?"Audio":"Video"})}updateAccessibleVisibility(){this.evalAccessibility(this.btnMore,"metasettings",{pressed:this.settingsVisible});var e=this.settingsVisible||!this.isAudioView&&this.posterFrameVisible;this.bottomSheetAriaModals.forEach((t=>{t.setAttribute("aria-hidden",e?"true":"false"),t.querySelectorAll('[tabindex]:not([tabindex="-2"]):not(.noUi-handle)').forEach((t=>{t.tabIndex=e?-1:0}))})),this.playerView.querySelectorAll(".ardplayer-control").forEach((t=>{t.setAttribute("aria-hidden",e?"true":"false"),t.tabIndex>=-1&&(t.tabIndex=e?-1:0),t.querySelectorAll('[tabindex]:not([tabindex="-2"]):not(.noUi-handle)').forEach((t=>{t.tabIndex=e?-1:0}))}));var t=this.isAudioView&&this.addonButtonsVisible||e;this.addonButtonsAriaModals.forEach((e=>{e.setAttribute("aria-hidden",t?"true":"false"),e.querySelectorAll("[tabindex]:not(.noUi-handle)").forEach((e=>{e.tabIndex=t?-1:0}))}));var i=!this.addonButtonsVisible||e;this.addonButtons.setAttribute("aria-hidden",i?"true":"false"),this.addonButtons.querySelectorAll("[tabindex]:not(.noUi-handle)").forEach((e=>{e.tabIndex=i?-1:0}))}evalAccessibility(e,t,i){var r,n,a,s,o=this.accessibilityConfig[t];for(var l in(0,E.nr)(o,"title")&&!(0,E.nr)(o,"aria-label")&&(o["aria-label"]=o.title),i=Object.assign({title:null!==(n=null===(r=this.player)||void 0===r?void 0:r.model.mediaCollection.meta.title)&&void 0!==n?n:""},null!=i?i:null,{assetitem:this.assetItemId,puid:null!==(s=null===(a=this.player)||void 0===a?void 0:a.getId())&&void 0!==s?s:""}),o){var d=o[l];if(/{{[A-Za-z]*}}/gi.test(d))for(var u in i)d=d.replace("{{"+u+"}}",i[u]);e.setAttribute(l,d)}}dispose(){var e,t,i,n,a,o,l,d,u;if(q.forceRemovePlayer(this.player),null===(e=this.player)||void 0===e||e.removeEventListener(s.J.EVENT_STATUS_CHANGE,this.handleStatus),ee(this,G,null,"f"),this.controlBarHoverListeners.clear(),null===(t=this.viewport)||void 0===t||t.remove(),null===(i=this.keyboardCtrl)||void 0===i||i.dispose(),null===(n=this.bottomSheet)||void 0===n||n.dispose(),clearTimeout(this.fadeOutTimeout),window.removeEventListener("resize",this.handleResize),document.removeEventListener("focus",this.focusHandler,!0),document.removeEventListener("blur",this.blurHandler,!0),this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),null===(a=this.controlBarThumbSlider)||void 0===a||a.off(""),this.volumeThumbSlider.forEach((e=>e.off(""))),this.volumeThumbSlider.splice(0),this.posterImgResponsive=null,this.posterBackdropImgResponsive=null,this.playerView){var c=[],h=[];this.mediaQueries.forEach((e=>e.definitions.forEach((e=>h.push(...e.styles))))),this.playerView.classList.forEach((e=>{e.startsWith("ardplayer")&&!h.includes(e)&&c.push(e)})),this.log("removing non-responsive state classes",c),this.playerView.classList.remove(...c),this.player&&null!==(l=null===(o=r.h.getInstanceByPlayerID(this.player.getId()))||void 0===o?void 0:o.criticalError)&&void 0!==l&&l?(this.isAudioView&&this.playerView.classList.add("ardplayer-state-audio"),(this.isSticky||c.includes("ardplayer-state-audio-sticky"))&&this.playerView.classList.add("ardplayer-state-audio-sticky")):(null===(d=this.resizeObserver)||void 0===d||d.disconnect(),this.resizeObserver=void 0,null===(u=this.contextMenu)||void 0===u||u.dispose(),c.includes("ardplayer-state-audio-sticky")&&document.documentElement.classList.remove("ardplayer-sticky-visible"))}delete this.player,delete this.bottomSheet,delete this.keyboardCtrl}setMediaCanvas(e){this.removeMediaCanvas(),null!=e&&(ee(this,G,e,"f"),this.viewport.appendChild(e),Z(this,G,"f").classList.add("ardplayer-mediacanvas"))}removeMediaCanvas(){null!==Z(this,G,"f")&&(Z(this,G,"f").remove(),ee(this,G,null,"f"))}createPosterFrame(){var e,t,i,r;if(this.player){var n=this.player.model,a=n.mediaCollection,o=this.playerView.querySelector(".ardplayer-posterframe>span.ardplayer-posterframe-title");null!==o&&((0,E.fp)(a.meta.title)||!0===n.playerConfig.web.disablePosterTitle?o.remove():o.innerHTML=a.meta.title);var l=this.playerView.querySelector(".ardplayer-posterframe-duration"),d=null!==(e=a.meta.durationSeconds)&&void 0!==e?e:0;if(d>0&&(null===(t=a.meta.hideDuration)||void 0===t||!t)?l.innerHTML=d>=60?Math.round(d/60)+" Min":(d<10?"00:0":"00:")+d+" Min":l.remove(),n.playerConfig.web.disablePosterImage&&this.playerView.classList.add("ardplayer-posterframe-transparent"),this.isAudioView||this.player.isAudio)this.preparePosterBackdrop(),null!==(i=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==i&&i&&(this.posterBackdropView.style.display="block");else{var u=null,c=()=>{null==u||u(),this.preparePosterBackdrop()};u=()=>{this.player.loop.removeEventListener(s.J.EVENT_INITIAL_FRAME,c);var e=this.listenerDisposers.findIndex((e=>e===u));e>=0&&(this.listenerDisposers[e]=null)},this.player.loop.addEventListener(s.J.EVENT_INITIAL_FRAME,c)}null!==(r=!n.playerConfig.generic.isAutoplay)&&void 0!==r&&r&&this.showPosterFrame()}}registerMediaQuery(e,t){this.mediaQueries.push({target:e,definitions:t})}applyMediaQueries(e){var t;null===(t=this.player)||void 0===t||t.safeTimeout((()=>{var e;null===(e=this.player)||void 0===e||e.loop.dispatchEvent(s.J.VIEWPORT_RESIZE,{})})),this.mediaQueries.forEach((t=>{var i=t.target,r=[],n=[];t.definitions.forEach((t=>{var i,a,s,o,l=t.styles,d=isNaN(null!==(i=t.min)&&void 0!==i?i:0)?0:null!==(a=t.min)&&void 0!==a?a:0,u=isNaN(null!==(s=t.max)&&void 0!==s?s:Number.MAX_VALUE)?Number.MAX_VALUE:null!==(o=t.max)&&void 0!==o?o:Number.MAX_VALUE;d<=e&&e<=u?n.push(...l):r.push(...l)})),(r.length>0||n.length>0)&&(i.classList.add("ardplayer-init"),r.length>0&&i.classList.remove(...r),n.length>0&&i.classList.add(...n),requestAnimationFrame((()=>{i.classList.remove("ardplayer-init")}))),i.dataset.size=String(e)}))}focusPlayButton(){this.posterFrameVisible?(0,S.n6)(this.btnPlayPausePosterframe):(this.setOver(),(0,S.n6)(this.btnPlayPause.find((e=>(0,S.n3)(e)))))}focusControlBar(){this.setOver(),this.controlBar.focus({preventScroll:!0}),this.lastFocusElement=this.controlBar}programmaticSeek(e,t){void 0===t&&(t=10),this.controlsVisible||this.setOver(),this.controlBarIsDragging=!0,this.playerView.classList.add("ardplayer-show-controlbar-thumb-hover");var i=this.controlBarThumbSlider.get(!0),r=(e?1:-1)*t/(this.player.model.duration/100),n=Math.max(0,Math.min(i+r,100));this.controlBarThumbSlider.setHandle(0,n,!1),window.clearTimeout(Z(this,W,"f")),ee(this,W,this.player.safeTimeout(this.programmaticSeekDone,1500),"f")}createControlBar(){var e=K.create(this.controlBarThumbInput,{start:0,connect:"lower",behaviour:"snap",orientation:"horizontal",direction:"ltr",keyboardSupport:!1,range:{min:0,max:100}});return this.controlBarThumbInput.querySelectorAll(".noUi-handle").forEach((e=>{e.tabIndex=-1,e.setAttribute("aria-live","off"),e.setAttribute("role","progress")})),e.on("start",(()=>{this.controlsVisible||this.setOver(),this.playerView.classList.add("ardplayer-show-controlbar-thumb-hover"),this.controlBarIsDragging=!0})),e.on("end",(()=>{this.playerView.classList.remove("ardplayer-show-controlbar-thumb-hover"),this.controlBarIsDragging=!1,this.setOutDelayed(),this.controlbarSeek(e.get(!0))})),e.on("slide",(()=>{this.controlBarIsDragging=!0})),e.on("update",(()=>{this.controlBarIsDragging&&(this.updateBufferProgress(0),this.handleControlBarMove(null))})),e}createVolumeSlider(e){var t=K.create(e,{start:0,connect:"lower",behaviour:"snap",orientation:"horizontal",direction:"ltr",keyboardSupport:!1,range:{min:0,max:100}});return e.querySelectorAll(".noUi-handle").forEach((e=>{e.tabIndex=-1})),t.on("start",(()=>{this.controlsVisible||this.setOver(),this.volumeIsDragging=!0})),t.on("end",(()=>{this.volumeIsDragging=!1,this.volumeIsOut&&this.handleVolumeLeave(),this.setVolumeLevel(t.get(!0),!1)})),t.on("slide",(()=>{this.setVolumeLevel(t.get(!0),!1)})),t}setVolumeLevel(e,t,i,r,n){var s,o;if(void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),this.player){this.volumeLevel=e;var l=!1,d=!1,u="ardplayer-icon-volume-low";switch(!0){case 0===e:case i:u="ardplayer-icon-volume-mute",l=!P.K.muted(this.player);break;case e>=50:u="ardplayer-icon-volume-high",d=P.K.muted(this.player);break;default:d=P.K.muted(this.player)}this.volumeBtn.forEach((e=>{e.classList.remove("ardplayer-icon-volume-high","ardplayer-icon-volume-low","ardplayer-icon-volume-mute"),e.classList.add(u)})),t&&this.volumeThumbSlider.forEach((t=>t.setHandle(0,e,!1))),null===(s=this.player.getCtrl())||void 0===s||s.setVolume(e,n),null===(o=this.player.getCtrl())||void 0===o||o.setMuted(0===e||i,n),this.volumeThumbInput.forEach((t=>{this.evalAccessibility(t,"volumeslider",{volume:e})})),clearTimeout(this.volumePixelDelayTimeout),r||(this.volumePixelDelayTimeout=this.player.safeTimeout((e=>{this.player&&(this.player.pixelController.triggerCustomPixel(a.J.IA_MOUSE_VOLUME_CHANGE,!0,{volume:e}),this.player.pixelController.triggerCustomPixel(a.J.SUPER_VOLUME_CHANGE,!0,{volume:e}),l&&(this.player.pixelController.triggerPixel(a.J.IA_MOUSE_VOLUME_MUTE),this.player.pixelController.triggerPixel(a.J.SUPER_VOLUME_MUTE)),d&&(this.player.pixelController.triggerPixel(a.J.IA_MOUSE_VOLUME_UNMUTE),this.player.pixelController.triggerPixel(a.J.SUPER_VOLUME_UNMUTE)))}),500,i?0:e/100))}}setVolumeMuted(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.setVolumeLevel(this.volumeLevel,!0,e,t,i)}toggleVolumeMuted(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),!this.player)return!1;var i=!P.K.muted(this.player);return this.setVolumeLevel(this.volumeLevel,!0,i,e,t),i}showBufferingIndicator(){var e;(null===(e=this.player.model)||void 0===e?void 0:e.time)>=0?-1===Z(this,V,"f")&&ee(this,V,this.player.safeTimeout((()=>{ee(this,V,-1,"f"),this.playerView.classList.add("ardplayer-state-buffering")}),50),"f"):this.playerView.classList.add("ardplayer-state-buffering")}hideBufferingIndicator(){window.clearTimeout(Z(this,V,"f")),ee(this,V,-1,"f"),this.playerView.classList.remove("ardplayer-state-buffering")}getImageMap(e){var t,i,r;if(!this.player)return[];var n=null;return"preview"!==e&&(n=null===(t=this.player.model.mediaCollection.meta.images.find((t=>t.kind===e&&!(0,E.fp)(t.url))))||void 0===t?void 0:t.url),n=null!==(r=null!=n?n:null===(i=this.player.model.mediaCollection.meta.images.find((e=>"preview"===e.kind&&!(0,E.fp)(e.url))))||void 0===i?void 0:i.url)&&void 0!==r?r:this.player.model.playerConfig.web.baseUrl+"base/img/posterframe-{size}.jpg",this.player.model.playerConfig.generic.imageTemplateConfig.resolveTemplate(n)}preparePosterBackdrop(){null===this.posterBackdropImgResponsive&&(this.posterBackdropImgResponsive=new u(this.getImageMap(this.player.isAudio?"audio":"preview"),this.playerView.querySelector(".ardplayer-posterbackdrop>img"),this.isAudioView?72:this.viewport.offsetWidth))}setPosterImageType(e){var t;null===(t=this.posterImgResponsive)||void 0===t||t.dispose(),this.posterImgResponsive=new u(this.getImageMap(e),this.playerView.querySelector(".ardplayer-posterframe>img"),this.isAudioView?72:this.viewport.offsetWidth)}showPosterFrame(){var e;this.posterFrameVisible||((null===(e=this.player)||void 0===e?void 0:e.model.playerConfig.web.disablePosterImage)||this.posterImgResponsive||this.setPosterImageType(this.isAudioView?"audio":"preview"),this.onClick(this.playerView.querySelector(".ardplayer-posterframe"),this.handlePosterFrame),this.playerView.classList.add("ardplayer-show-posterframe"),this.posterFrameVisible=!0,this.updateAccessibleVisibility())}hidePosterFrame(){this.posterFrameVisible&&(this.isWithinPlayer(document.activeElement)&&this.player.safeTimeout((()=>{(0,S.n6)(this.btnPlayPause.find((e=>e.scrollWidth>0||e.scrollHeight>0)))})),this.playerView.classList.remove("ardplayer-show-posterframe"),this.posterFrameVisible=!1,this.updateAccessibleVisibility(),this.setOutDelayed())}showPlayAgain(){this.playerView.classList.add("ardplayer-state-completed")}hidePlayAgain(){this.playerView.classList.remove("ardplayer-state-completed")}showPlayBtn(){this.btnPlayPause.forEach((e=>e.classList.remove("ardplayer-icon-pause"))),this.btnPlayPause.forEach((e=>e.classList.add("ardplayer-icon-play")))}showPauseAnimation(){this.playstateZoom.classList.remove("ardplayer-icon-play"),this.playstateZoom.classList.add("ardplayer-icon-pause")}showPauseBtn(){this.btnPlayPause.forEach((e=>e.classList.add("ardplayer-icon-pause"))),this.btnPlayPause.forEach((e=>e.classList.remove("ardplayer-icon-play")))}showPlayAnimation(){this.playstateZoom.classList.remove("ardplayer-icon-pause"),this.playstateZoom.classList.add("ardplayer-icon-play")}onDVRCallback(e,t,i){var r;if(this.player&&!isNaN(t)){var n=this._dvrIsLive;this._dvrEnabled=e,this._dvrIsLive=i,this._dvrWindow=t,this._dvrEnabledAndRequested=e&&this.player.model.mediaCollection.isDvrEnabled,this.playerView.classList.toggle("ardplayer-state-live-nodvr",this.player.model.mediaCollection.isLive&&!this._dvrEnabledAndRequested),this._dvrEnabledAndRequested&&(-1!==Z(this,M,"f")&&clearTimeout(Z(this,M,"f")),n!==i&&!i&&(null===(r=this.player.getCtrl())||void 0===r?void 0:r.isPlaying())&&ee(this,M,this.player.safeTimeout((()=>{var e,t,i;ee(this,M,-1,"f"),(null===(t=null===(e=this.player)||void 0===e?void 0:e.getCtrl())||void 0===t?void 0:t.isSeeking())||null===(i=this.player)||void 0===i||i.pixelController.triggerPixel(a.J.SUPER_DVR_ACTIVE,!1)}),500),"f"))}}updateBufferProgress(e){this.bufferedBar.style.width=Math.min(Math.max(e,0),100)+"%"}updateTimeline(e,t){if(!this.controlBarIsDragging){var i=Math.min(Math.max(e/t*100,0),100);this.controlBarThumbSlider.setHandle(0,i,!1)}}updateTime(e){var t,i,r,n,a,s,o,l,d,u,c,h,p,v;e=Math.round(e);var f=null!==(i=null===(t=this.player)||void 0===t?void 0:t.model.duration)&&void 0!==i?i:0;f=0!==f?f:null!==(a=null===(n=null===(r=this.player)||void 0===r?void 0:r.model)||void 0===n?void 0:n.mediaCollection.meta.durationSeconds)&&void 0!==a?a:0,null!==(o=!(null===(s=this.player)||void 0===s?void 0:s.isLive))&&void 0!==o&&o&&(this.timePlayheadLabel.textContent=this.formatTimestring(e));var g=f-e;if(null!==(d=null===(l=this.player)||void 0===l?void 0:l.isLive)&&void 0!==d&&d){var m=!1;if(g<(null!==(h=null===(c=null===(u=this.player)||void 0===u?void 0:u.getCtrl())||void 0===c?void 0:c.minDisplayedLiveOffset)&&void 0!==h?h:-1))this.timeRemainingLabel.textContent="00:00",m=!0;else{var y=this.formatTimestring(g);m="00:00"===y,this.timeRemainingLabel.textContent=m?y:"-"+y}this.btnJumpToLive.forEach((e=>{e.classList.toggle("ardplayer-button-disabled",m)}))}else null!==(v=null===(p=this.player)||void 0===p?void 0:p.model.playerConfig.generic.isTimeRemainingDisplay)&&void 0!==v&&v?this.timeRemainingLabel.textContent="-"+this.formatTimestring(g):this.timeRemainingLabel.textContent=this.formatTimestring(f);this.timeRemainingLabel.textContent.length>5&&this.timeRemainingLabel.classList.add("ardplayer-time-remaining-long"),this.evalAccessibility(this.controlBar,"progressbar",{duration:f>>0,position:e>>0,positionlabel:this.formatTimestring(e),assetType:this.player.isAudio?"Audio":"Video"})}formatTimestring(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=!0),void 0===r&&(r=!1),e=Math.max(e,0);var n=Math.floor(e/3600);e-=3600*n;var a=Math.floor(e/60);e=Math.floor(e-60*a);var s=i?":"+(e<10?"0":"")+e:"",o=(a<10?"0":"")+a;return n>0||t?(r&&n<10?"0":"")+n+":"+o+s:""+o+s}formatPointInTimeString(e,t,i,r){var n,a,s,o,l;if(void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!0),this._dvrEnabledAndRequested){var d=null!==(s=null===(a=null===(n=this.player)||void 0===n?void 0:n.getCtrl())||void 0===a?void 0:a.dvrRelToUnix(e))&&void 0!==s?s:0;if(d>0){var u=new Date(1e3*d),c=u.getHours(),h=u.getMinutes(),p=u.getSeconds();return(c<10?"0":"")+c+":"+(h<10?"0":"")+h+(i?"":":"+(p<10?"0":"")+p)+(r?" Uhr":"")}return"-"+this.formatTimestring((null!==(l=null===(o=this.player)||void 0===o?void 0:o.model.duration)&&void 0!==l?l:0)-e,t,!i,!0)}return this.formatTimestring(e,t,!i,t)}applyFullscreenState(e){ee(this,U,e,"f"),this.playerView.classList.toggle("ardplayer-state-fullscreen",e),this.btnFullscreen.classList.toggle("ardplayer-icon-smallscreen",e),this.btnFullscreen.classList.toggle("ardplayer-icon-fullscreen",!e),this.evalAccessibility(this.btnFullscreen,e?"fullscreen-off":"fullscreen-on",{pressed:!1})}handleLeaveFullscreenEmulation(){n.enabled||Z(this,G,"f")instanceof HTMLVideoElement&&n.videoEnabled(Z(this,G,"f"))||this.exitFullscreen()}exitFullscreen(){Z(this,U,"f")?this.toggleFullscreen():(o.q.isIPhoneDevice||o.q.isIPodDevice)&&n.exit()}setFullscreen(e){e?Z(this,U,"f")||this.toggleFullscreen():this.exitFullscreen()}showControls(){var e;this.settingsVisible||(this.controlsVisible||(this.controlsVisible=!0,this.playerView.classList.add("ardplayer-show-controls"),null===(e=this.player)||void 0===e||e.loop.dispatchEvent(s.J.EVENT_CTRLBAR_FADEIN,{})),this.setOutDelayed())}toggleForceOver(e,t){t?(Z(this,H,"f").add(e),this.setOver()):(Z(this,H,"f").delete(e),this.setOutDelayed()),this.log("forceOver clients: "+[...Z(this,B,"f")].join(", "))}get forcedOver(){return Z(this,H,"f").size>0}toggleForceControlsVisible(e,t){t?(Z(this,B,"f").add(e),this.setOver()):(Z(this,B,"f").delete(e),this.setOutDelayed()),this.log("forceControlsVisible clients: "+[...Z(this,B,"f")].join(", "))}get forcedControlsVisible(){return Z(this,B,"f").size>0}toggleForceControlsHidden(e,t){t?(Z(this,F,"f").add(e),this.setOut(!0)):(Z(this,F,"f").delete(e),this.setOver()),this.log("forceControlsHidden clients: "+[...Z(this,F,"f")].join(", "))}get forcedControlsHidden(){return Z(this,F,"f").size>0}setOutDelayed(){clearTimeout(this.fadeOutTimeout),this.fadeOutTimeout=this.player.safeTimeout(this.setOut,q.UI_AUTOHIDE_DELAY)}updateControlBarLabel(e,t){var i,r,n;void 0===t&&(t=!1);var a=this.controlBar.offsetWidth;if(this.controlBarIsDragging)n=this.controlBarThumbSlider.get(!0)/100*a;else{if(null===e)return;var s=(0,E.We)(e,this.controlBar);n=Math.min(Math.max(s.left,0),a)}var o=n/a,l=(null!==(r=null===(i=this.player)||void 0===i?void 0:i.model.duration)&&void 0!==r?r:0)*o;this.controlBarHoverListeners.forEach((e=>e.handleControlBarHover(o,l,-1!==Z(this,W,"f"))));var d=this.controlBarLabel.firstChild;d&&(d.textContent=this.formatPointInTimeString(l)),this.seekIndicatorBar.style.width=100*o+"%";var u=this.controlBarLabel.offsetWidth;if(u>0){var c=Math.max(0,Math.min(a-u,n-u/2));this.controlBarLabel.style.transform="translateX("+c+"px)"}t&&this.controlbarSeek(100*o)}controlbarSeek(e){var t,i=null===(t=this.player)||void 0===t?void 0:t.getCtrl();if(this.player&&i){var r=i.getCurrentTime();i.setTimeByPercent(e);var n=i.getCurrentTime(),s=this.player.pixelController,o=0,l=0,d=r,u=n,c=this.player.model.mediaCollection.isLive;this._dvrEnabledAndRequested&&(o=Math.min(this._lastDuration-d,this._lastDuration),l=Math.min(this._lastDuration-u,this._lastDuration));var h={seekto:u,current:d,dvrRelativeFrom:o,dvrRelativeTo:l};u>=d?(s.triggerCustomPixel(a.J.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,h),s.triggerCustomPixel(a.J.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_FORWARD,!1,h)):(c?s.triggerCustomPixel(a.J.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND_TIMESHIFT,!1,h):s.triggerCustomPixel(a.J.IA_MOUSE_SCRUBBAR_CHANGE_POSITION_REWIND,!1,h),s.triggerCustomPixel(a.J.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,!1,h))}}handleViewportClickNow(){var e;clearTimeout(this.viewportMultiTimeout),this.viewportMultiClick=!1;var t=null===(e=this.player)||void 0===e?void 0:e.getCtrl();if(this.player&&null!=t){if(o.q.isEmbedded||o.q.isMobileDevice)return void(this.isOut&&!this.controlsVisible?this.setOver():this.setOut(!0));t.isPlaying()?this.isMobile&&!this.controlsVisible?this.setOver():(this.player.pixelController.triggerPixel(a.J.IA_MOUSE_PAUSE_VIEWPORT),this.player.pixelController.triggerPixel(a.J.SUPER_PAUSE),t.pause(),this.showPauseAnimation()):(t.isAtEnd?this.player.pixelController.triggerPixel(a.J.IA_MOUSE_PLAY_AGAIN_VIEWPORT):(this.player.pixelController.triggerPixel(a.J.IA_MOUSE_PLAY_VIEWPORT),this.player.pixelController.triggerPixel(a.J.SUPER_PLAY)),t.play(),this.showPlayAnimation())}}handleInitialPlay(){var e;if(this.hidePosterFrame(),this.setLiveInitialBufferState(),this.player&&!this.player.model.playerConfig.web.disablePosterImage&&!this.player.isAudio){this.posterBackdropView.style.display="block";var t=()=>{var e;null===(e=this.player)||void 0===e||e.removeEventListener(s.J.EVENT_INITIAL_FRAME,t),this.posterBackdropView.style.display=""};this.player.addEventListener(s.J.EVENT_INITIAL_FRAME,t)}null===(e=this.player)||void 0===e||e.pixelController.triggerTrackingPixelInitialPlay(),this.showPauseBtn()}setLiveInitialBufferState(){if(this.player.isLive&&this.player.model.mediaCollection.isDvrEnabled&&!this.playerView.classList.contains("ardplayer-state-live-initial-buffer")){this.playerView.classList.toggle("ardplayer-state-live-initial-buffer",!0);var e=null,t=()=>{null==e||e(),this.playerView.classList.toggle("ardplayer-state-live-initial-buffer",!1)};e=()=>{this.player.loop.removeEventListener(s.J.EVENT_INITIAL_FRAME,t),this.setOver();var i=this.listenerDisposers.findIndex((t=>t===e));i>=0&&(this.listenerDisposers[i]=null)},this.listenerDisposers.push(e),this.player.loop.addEventListener(s.J.EVENT_INITIAL_FRAME,t)}}observeTabIndex(){"function"==typeof document.addEventListener&&(document.addEventListener("focus",this.focusHandler,!0),document.addEventListener("blur",this.blurHandler,!0))}isWithinPlayer(e){for(var t=e;null!=(null==t?void 0:t.parentNode);){if(t===this.playerView)return!0;t=t.parentNode}return!1}hotfixActiveElement(e){if(void 0!==(null==e?void 0:e.target))try{null==document.activeElement&&(document.activeElement=e.target===document?null:e.target)}catch(e){}}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];w.iV.log("[VIEWCTRL]",...t)}};M=new WeakMap,N=new WeakMap,V=new WeakMap,U=new WeakMap,B=new WeakMap,F=new WeakMap,H=new WeakMap,j=new WeakMap,G=new WeakMap,W=new WeakMap,te.MULTI_CLICK_DELAY=300,te.UI_AUTOHIDE_DELAY=4e3,te.playerIDs={},te.players=[],te=q=X([l.V],te)},11757:(e,t,i)=>{"use strict";i.d(t,{I:()=>bt});var r=i(56248),n=i(65855),a=i(47982),s='<div class="ardplayer-modal-container ardplayer-modal-container-toggle"> <div class="ardplayer-modal-stage" role="dialog" aria-labelledby="ardplayer-modal-title-{{puid}}"> <div class="ardplayer-modal-topbar"> <button class="ardplayer-modal-down-button ardplayer-icon ardplayer-icon-arrowdown" tabindex="0" aria-label="Ansicht schliessen"></button></div> <div class="ardplayer-modal-content-wrapper"> <div class="ardplayer-modal-content"></div></div> </div></div> ';class o extends r.Sh{constructor(){super(...arguments),this.container=null,this.content=null,this.stage=null,this.topBar=null,this.btnClose=null,this.buttonMutex=!1,this.isClosing=!1,this.addonButtonsVisibleCache=!1,this.borrowedNodes=[]}get ID(){return"AddonModalControls"}get configKey(){return"modalControls"}isSupported(){var e;return this.player.isAudio&&!(null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e)&&!n.q.isFrame}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),!0)}borrowNode(e,t=this.content,i){if(t&&(null==e?void 0:e.parentElement)){const r=e.cloneNode(!0);return e.parentElement.insertBefore(r,e),t.appendChild(e),null==i||i.forEach((t=>{e.classList.toggle(t)})),e.querySelectorAll("[tabindex]").forEach((e=>{e.tabIndex=0})),r.querySelectorAll("[tabindex]").forEach((e=>{e.tabIndex=-1})),r.setAttribute("aria-hidden","true"),this.borrowedNodes.push({node:e,standIn:r,toggledClasses:i}),e}return null}returnBorrowedNodes(){var e;this.borrowedNodes.forEach((e=>{var t,i;null===(t=e.standIn.parentElement)||void 0===t||t.insertBefore(e.node,e.standIn),null===(i=e.toggledClasses)||void 0===i||i.forEach((t=>{e.node.classList.toggle(t)})),e.standIn.remove()})),this.borrowedNodes=[],null===(e=this.player.viewCtrl)||void 0===e||e.updateAccessibleVisibility()}reveal(){var e,t,i;return!!this.player.getTarget().classList.contains("ardplayer-m")&&(this.log("revealing modal controls"),this.isClosing=!1,this.player.getTarget().classList.add("ardplayer-show-modal-player"),n.q.browserIsSafari&&this.player.isSticky&&document.body.classList.add("ardplayer-safari-noscroll-modal"),null===(e=this.stage)||void 0===e||e.setAttribute("aria-hidden","false"),!!this.content&&(this.addonButtonsVisibleCache=this.player.viewCtrl.addonButtonsVisible,this.player.viewCtrl.addonButtonsVisible=!0,this.player.viewCtrl.updateAccessibleVisibility(),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-posterbackdrop>img")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-audio-subtitle")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-audio-title")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-center")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-time-playhead")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-time-remaining")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-controlbar")),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-btn-chromecast"),this.topBar),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-btn-airplay"),this.topBar),this.borrowNode(this.player.viewCtrl.playerView.querySelector(".ardplayer-addons-container-big"),this.content,["ardplayer-button-big"]),null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.posterBackdropImgResponsive)||void 0===i||i.updateSize(),!0))}conceal(){var e;this.log("hiding modal controls"),this.isClosing=!0,null===(e=this.stage)||void 0===e||e.setAttribute("aria-hidden","true"),n.q.browserIsSafari&&document.body.classList.remove("ardplayer-safari-noscroll-modal"),this.player.getTarget().classList.remove("ardplayer-show-modal-player")}concealDone(){var e;this.returnBorrowedNodes(),this.player.viewCtrl&&(null===(e=this.player.viewCtrl.posterBackdropImgResponsive)||void 0===e||e.updateSize(),this.player.viewCtrl.addonButtonsVisible=this.addonButtonsVisibleCache,this.player.viewCtrl.updateAccessibleVisibility()),this.isClosing=!1}handleResize(){var e,t;this.content&&(this.content.classList.toggle("ardplayer-modal-landscape",this.content.offsetWidth>=this.content.offsetHeight),null===(t=null===(e=this.player.viewCtrl)||void 0===e?void 0:e.posterBackdropImgResponsive)||void 0===t||t.updateSize())}eventSetupView(e){const t=document.createElement("div");t.innerHTML=s.replace(/{{puid}}/gm,this.player.getId()),this.container=t.firstElementChild;const i=e.controller.playerView;i.insertBefore(this.container,i.querySelector(".ardplayer-bottom-sheet-container")),this.stage=this.container.querySelector(".ardplayer-modal-stage"),this.topBar=this.container.querySelector(".ardplayer-modal-topbar"),this.content=this.container.querySelector(".ardplayer-modal-content"),this.btnClose=this.container.querySelector(".ardplayer-modal-down-button"),this.stage.setAttribute("aria-hidden","true"),"function"==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{this.handleResize()})),this.handleResize(),this.resizeObserver.observe(this.content)),this.onClick(this.btnClose,(()=>{this.buttonMutex||this.conceal()})),this.onClick(this.topBar,(e=>{e.target!==this.topBar||this.buttonMutex||this.conceal()})),this.addEventListener(this.stage,"animationstart",(e=>{e.target===this.stage&&(this.buttonMutex=!0)})),this.addEventListener(this.stage,"animationend",(e=>{e.target===this.stage&&(this.buttonMutex=!1)}));const r=this.content.parentElement;r&&this.addEventListener(r,"animationend",(e=>{this.isClosing&&e.target===r&&this.concealDone()}));const n=e.controller.playerView.querySelector(".ardplayer-audio");n&&this.onClick(n,(e=>{this.reveal()&&e.stopImmediatePropagation()}))}dispose(){var e;super.dispose(),this.container=null,this.content=null,this.stage=null,this.btnClose=null,this.topBar=null,null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=void 0}}class l{constructor(){this.pipDomElement=null,this.seekBarPosition=-1,this.imageDomObject=null,this.imageIsGlobalSpritesheet=!1,this.imageGlobalSpritesheetIndex=-1}equals(e){return e.id===this.id&&e.title===this.title&&e.subtitle===this.subtitle&&e.synopsis===this.synopsis&&e.isEPG===this.isEPG&&e.seconds===this.seconds&&e.imageRaw===this.imageRaw&&e.gutterIconUrl===this.gutterIconUrl&&e.gutterIconA11yDescription===this.gutterIconA11yDescription&&e.highlightTime===this.highlightTime&&e.highlightIconUrl===this.highlightIconUrl&&e.highlightIconA11yDescription===this.highlightIconA11yDescription}hasImage(){return!!this.imageRaw.trim()}getImageUrl(){return this.hasImage()?this.imageRaw.replace(/#.*$/,""):""}setPreloadedImage(e,t,i){this.imageDomObject=e,this.imageIsGlobalSpritesheet=t,this.imageGlobalSpritesheetIndex=i}setPreloadedImageFrom(e){this.imageDomObject=e.imageDomObject,this.imageIsGlobalSpritesheet=e.imageIsGlobalSpritesheet,this.imageGlobalSpritesheetIndex=e.imageGlobalSpritesheetIndex}get hasLoadedImage(){return null!==this.imageDomObject}get loadedImageSrc(){var e,t;return null!==(t=null===(e=this.imageDomObject)||void 0===e?void 0:e.src)&&void 0!==t?t:""}getSpritesheetCoordinates(e){var t,i,r,n,a;if(!this.imageDomObject)return!1;let s,o,l,d;if(this.imageIsGlobalSpritesheet)s=this.imageDomObject.width/e,o=s/16*9,l=Math.floor(this.imageGlobalSpritesheetIndex%e)*s,d=Math.floor(this.imageGlobalSpritesheetIndex/e)*o;else{const e=/#xybh=(\d+),(\d+),(\d+),(\d+)$/;if(e.test(this.imageRaw)){const u=null!==(t=this.imageRaw.match(e))&&void 0!==t?t:[];l=parseInt(null!==(i=u[1])&&void 0!==i?i:0),d=parseInt(null!==(r=u[2])&&void 0!==r?r:0),s=parseInt(null!==(n=u[3])&&void 0!==n?n:0),o=parseInt(null!==(a=u[4])&&void 0!==a?a:0)}else l=0,d=0,s=this.imageDomObject.width,o=this.imageDomObject.height}return{x:l,y:d,w:s,h:o}}}l.HIGHLIGHT_ICON_EPG="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSIxNSIgeT0iMTgiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxMSIgcng9IjEiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMTkiIHk9IjMyIiB3aWR0aD0iMTAiIGhlaWdodD0iMiIgcng9IjEiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",l.HIGHLIGHT_TIME_EPG="EPG_TIME";var d=i(96735),u=i(15465);class c extends l{constructor(e){var t,i,r,a,s,o,d,u,c,h,p,v;super(),this.id="",this.title="",this.subtitle="",this.synopsis="",this.isLive=!1,this.seconds=0,this.imageRaw="",this.isEPG=!0,this.forceCondensed=!1,this.gutterIconUrl="",this.gutterIconA11yDescription="",this.highlightIconPriority=Number.POSITIVE_INFINITY,this.highlightTime=l.HIGHLIGHT_TIME_EPG,this.highlightIconUrl=l.HIGHLIGHT_ICON_EPG,this.highlightIconA11yDescription="",this.type="",null!=e&&"object"==typeof e&&(this.seconds=null!==(i=null!==(t=e.chapterTime)&&void 0!==t?t:e._chapterTime)&&void 0!==i?i:0,this.id=String(this.seconds),this.seconds>1e12&&(this.seconds=this.seconds/1e3<<0),this.isLive=this.seconds>1e9,this.title=(null!==(a=null!==(r=e.chapterTitle)&&void 0!==r?r:e._chapterTitle)&&void 0!==a?a:"").trim(),this.subtitle=(null!==(o=null!==(s=e.chapterSubtitle)&&void 0!==s?s:e._chapterSubtitle)&&void 0!==o?o:"").trim(),this.type=null!==(d=e.type)&&void 0!==d?d:"",this.imageRaw=null!==(c=null!==(u=e.chapterImg)&&void 0!==u?u:e._chapterImg)&&void 0!==c?c:""),n.q.isEmbedded&&((null===(h=this.imageRaw)||void 0===h?void 0:h.startsWith("//"))&&(this.imageRaw="https:"+this.imageRaw),(null===(p=this.gutterIconUrl)||void 0===p?void 0:p.startsWith("//"))&&(this.gutterIconUrl="https:"+this.gutterIconUrl),(null===(v=this.highlightIconUrl)||void 0===v?void 0:v.startsWith("//"))&&(this.highlightIconUrl="https:"+this.highlightIconUrl))}}class h extends l{constructor(e,t){var i,r,a,s,o,l,u,c,h,p,v,f;super(),this.isLive=!0,this.seconds=0,this.subtitle="",this.synopsis="",this.isEPG=!1,this.forceCondensed=!0,this.gutterIconUrl="",this.gutterIconA11yDescription="",this.highlightIconPriority=Number.MAX_SAFE_INTEGER,this.highlightIconUrl="",this.highlightIconA11yDescription="",this.imageRaw="",this.title=(0,d.fp)(e.title)?"":e.title,this.id=`scene-${(0,d.NZ)(e.id)?(0,d.HP)():e.id}`,this.highlightIconPriority=(0,d.NZ)(e.category.priority)||isNaN(Number(e.category.priority))?Number.MAX_SAFE_INTEGER:Number(e.category.priority),this.highlightIconUrl=(0,d.fp)(null===(i=e.category.iconUrl)||void 0===i?void 0:i.svg)?(0,d.fp)(null===(r=e.category.iconUrl)||void 0===r?void 0:r.png)?"":e.category.iconUrl.png:e.category.iconUrl.svg,this.highlightIconA11yDescription=(0,d.fp)(e.category.name)?"":e.category.name,this.highlightTime=(0,d.fp)(e.description)?"":e.description.trim().substring(0,6),this.gutterIconUrl=(0,d.fp)(null===(s=null===(a=e.team)||void 0===a?void 0:a.icon)||void 0===s?void 0:s.svg)?(0,d.fp)(null===(l=null===(o=e.team)||void 0===o?void 0:o.icon)||void 0===l?void 0:l.png)?"":e.team.icon.png:e.team.icon.svg,this.gutterIconA11yDescription=null!==(c=null===(u=e.team)||void 0===u?void 0:u.name)&&void 0!==c?c:"",this.isLive=t,this.seconds=t?new Date(null!==(h=e.start)&&void 0!==h?h:0).getTime()/1e3<<0:parseInt(e.offset,10),n.q.isEmbedded&&((null===(p=this.imageRaw)||void 0===p?void 0:p.startsWith("//"))&&(this.imageRaw="https:"+this.imageRaw),(null===(v=this.gutterIconUrl)||void 0===v?void 0:v.startsWith("//"))&&(this.gutterIconUrl="https:"+this.gutterIconUrl),(null===(f=this.highlightIconUrl)||void 0===f?void 0:f.startsWith("//"))&&(this.highlightIconUrl="https:"+this.highlightIconUrl))}}class p extends l{constructor(e,t){var i,r,a,s,o,u;super(),this.seconds=-1,this.id="",this.title="",this.subtitle="",this.synopsis="",this.highlightTime=l.HIGHLIGHT_TIME_EPG,this.isEPG=!0,this.forceCondensed=!1,this.gutterIconUrl="",this.gutterIconA11yDescription="",this.highlightIconPriority=0,this.highlightIconA11yDescription="Programmhinweis",this.highlightIconUrl=l.HIGHLIGHT_ICON_EPG,this.imageRaw="",null!=e&&"object"==typeof e&&(this.title=(0,d.fp)(e.title.short)?null!==(i=e.title.long)&&void 0!==i?i:"":e.title.short,this.subtitle=(0,d.fp)(e.title.subTitle)?"":e.title.subTitle,this.imageRaw=(null!==(a=null===(r=e.image)||void 0===r?void 0:r.contentUrl)&&void 0!==a?a:"").replace("{width}","240"),this.id=`epg-${(0,d.NZ)(e.id)?(0,d.HP)():e.id}`,(0,d.fp)(e.synopsis)||(this.synopsis=e.synopsis),t&&(this.seconds=new Date((0,d.fp)(e.currentStartDate)?(0,d.fp)(e.startDate)?0:e.startDate:e.currentStartDate).getTime()/1e3<<0)),this.isLive=t,n.q.isEmbedded&&((null===(s=this.imageRaw)||void 0===s?void 0:s.startsWith("//"))&&(this.imageRaw="https:"+this.imageRaw),(null===(o=this.gutterIconUrl)||void 0===o?void 0:o.startsWith("//"))&&(this.gutterIconUrl="https:"+this.gutterIconUrl),(null===(u=this.highlightIconUrl)||void 0===u?void 0:u.startsWith("//"))&&(this.highlightIconUrl="https:"+this.highlightIconUrl))}static createFor(e,t){const i=new p(e,t),r=(0,d.fp)(e.endDate)?Number.POSITIVE_INFINITY:new Date(e.endDate).getTime()/1e3<<0;return e.scene&&e.scene.length>0?[i,...e.scene.map((e=>new h(e,t))).filter((e=>e.seconds>=i.seconds&&e.seconds<=r))]:[i]}}var v,f,g,m,y,b,E,S,w,A=i(23197),C=i(30187),I=i(78136),T=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},L=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},_=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class P extends C.p{constructor(){super(...arguments),this.isBreakpointS=!1,this.imageQueue=new Set,this.legacyChapterArray=null,this.eventStream=null,this.chapters=[],this.duration=0,this.drawingComplete=!1,this.reloadTimeout=-1,this.currentTime=0,this.viewCtrl=null,this.uiJumpMarkContainer=null,this.uiJumpMarkContainerWidth=0,this.uiJumpmarkHint=null,this.overlayContainer=null,this.playerView=null,this.btnSkipBackward=[],this.btnSkipForward=[],this.spritesheetColumnCount=4,this.prevChapter=null,this.nextChapter=null,this.lastSkippedToChapter=null,v.set(this,!1),f.set(this,[]),g.set(this,null),m.set(this,[]),this.renderChaptersToVContainer=(e,t)=>{L(this,m,[],"f"),this.chapters.filter((e=>e.seekBarPosition>=0&&e.seekBarPosition<=1)).forEach((i=>{var r,n;const a=_(this,f,"f").some((e=>e.equals(i))),s=I.mf.renderJumpmark(e,i.title,(()=>{var e;this.player.seekToAndPlayInternal(i.seconds),null===(e=this.bottomSheet)||void 0===e||e.conceal(null)}),i.subtitle,"",i.isEPG,a,i.highlightIconUrl,i.highlightIconA11yDescription,i.highlightTime===l.HIGHLIGHT_TIME_EPG?this.viewCtrl.formatPointInTimeString(this.mc.isLive&&null!==(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.dvrUnixToRel(i.seconds))&&void 0!==n?n:i.seconds,!0,!0,!1):i.highlightTime,i.hasImage()?i.getImageUrl():void 0,i.gutterIconUrl,i.gutterIconA11yDescription,i.id);a&&null===(null==t?void 0:t.focusRequest)&&(null==t||t.setRequestedFocus(s)),i.displayListNode=s,_(this,m,"f").push(i)}))},y.set(this,!1),this.handleSkipForward=()=>{var e,t;this.nextChapter&&(this.lastSkippedToChapter=this.nextChapter,this.player.seekToInternal(this.nextChapter.seconds),this.currentTime=this.mc.isLive?null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrUnixToRel(this.nextChapter.seconds))&&void 0!==t?t:Number.MAX_SAFE_INTEGER:this.nextChapter.seconds,this.updateButtons())},this.handleSkipBackward=()=>{var e,t;this.prevChapter&&(this.lastSkippedToChapter=this.prevChapter,this.player.seekToInternal(this.prevChapter.seconds),this.currentTime=this.mc.isLive?null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrUnixToRel(this.prevChapter.seconds))&&void 0!==t?t:0:this.prevChapter.seconds,this.updateButtons())},b.set(this,-1),this.jumpMarkClick=e=>{var t,i;const r=null==e?void 0:e.target;if(r){const e=this.getClickTarget(r);if(e)if((this.isBreakpointS||n.q.isMobileDevice||n.q.isEmbedded||this.player.isAudio)&&!n.q.isAndroidTV)L(this,f,this.chapters.filter((t=>t.pipDomElement===e)),"f"),null===(t=this.bottomSheet)||void 0===t||t.reveal(this,P.SCREEN_CHAPTERS,!0);else{const t=parseInt(null!==(i=e.dataset.time)&&void 0!==i?i:"0",10);this.player.seekToAndPlayInternal(t),this.jumpMarkLeave()}}return e.stopImmediatePropagation(),e.preventDefault(),!0},this.jumpMarkEnter=(e,t)=>{if(this.isBreakpointS)return;const i=e.target;if(!i.classList.contains(P.CSS_CLASS_CLICK_TARGET))return;let r=t;if(t&&"focus"===e.type&&e.relatedTarget){r=e.relatedTarget.getBoundingClientRect().top>i.getBoundingClientRect().top}this.jumpMarkEnterPip(i,t,r)},this.jumpMarkEnterPip=(e,t,i)=>{var r,n;this.isBreakpointS||this.player.isAudio||(this.showPopupForPip(e),t&&this.player.safeTimeout((()=>{var e;(0,A.n6)(null===(e=this.overlayContainer)||void 0===e?void 0:e.querySelector(`[tabindex]:${i?"last":"first"}-of-type`),!0)})),null===(r=this.uiJumpMarkContainer)||void 0===r||r.querySelectorAll(".ardplayer-focus-outline").forEach((e=>e.classList.remove("ardplayer-focus-outline"))),t&&(null===(n=this.uiJumpMarkContainer)||void 0===n||n.classList.add("ardplayer-pip-focused"),e.classList.add("ardplayer-focus-outline")))},this.showPopupForPip=(e,t=null)=>{this.isBreakpointS||this.showPopupForChapters(this.chapters.filter((t=>t.pipDomElement===e&&t.seekBarPosition>=0&&t.seekBarPosition<=1)),t)},E.set(this,null),S.set(this,null),w.set(this,null),this.handleBackNavigation=()=>{const e=_(this,E,"f");this.jumpMarkLeave(),(0,A.pr)(this.playerView,!0,!1,e)},this.jumpMarkLeave=()=>{var e,t,i,r;_(this,E,"f")&&this.viewCtrl&&(this.viewCtrl.toggleForceControlsVisible(this.ID,!1),this.viewCtrl.setOutDelayed(),this.viewCtrl.controlBarLabel.style.display=""),null===(t=null===(e=this.viewCtrl)||void 0===e?void 0:e.keyboardCtrl)||void 0===t||t.removeBackNavigationHandler(this),null===(i=_(this,E,"f"))||void 0===i||i.classList.remove("ardplayer-focus-outline"),null===(r=this.uiJumpMarkContainer)||void 0===r||r.classList.remove("ardplayer-pip-focused"),L(this,E,null,"f"),L(this,S,null,"f"),L(this,w,null,"f"),(0,d.cS)(this.overlayContainer)}}get ID(){return"AddonSprungmarken"}get configKey(){return"jumpmarks"}register(){var e,t,i,r;return!!super.register()&&(!(null!==(e=this.conf.chaptersEnabled)&&void 0!==e&&!e)&&(this.legacyChapterArray=(null!==(i=null===(t=this.conf.chapterArray)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0?JSON.parse(JSON.stringify(this.conf.chapterArray)):this.legacyChapterArray,this.eventStream=null!==(null!==(r=this.conf.eventStream)&&void 0!==r?r:null)?JSON.parse(JSON.stringify(this.conf.eventStream)):this.eventStream,this.registerPlayerEvent(a.J.EVENT_READY,this.initLoading),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_TIME,this.timeChangeHandler),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_DURATION,this.durationChangeHandler),this.registerPlayerEvent(a.J.EVENT_DVR_CHANGE,this.dvrChangeHandler),this.registerPlayerEvent(a.J.EVENT_KEYBOARD_RELEASE,this.keyboardHandler),this.registerPlayerEvent(a.J.VIEWPORT_RESIZE,this.viewportResizeHandler),this.registerPlayerEvent(a.J.EVENT_CTRLBAR_FADEIN,this.ctrlBarFadeinHandler),!0))}parcelData(){return(0,d.fp)(this.conf.url)||!this.mc.isLive||0===this.conf.refreshSeconds?null:{url:this.conf.url,legacyChapterArray:this.legacyChapterArray,eventStream:this.eventStream}}restoreParceledData(e){super.restoreParceledData(e),e.url===this.conf.url&&(this.legacyChapterArray=e.legacyChapterArray,this.eventStream=e.eventStream)}dispose(){var e;L(this,v,!0,"f"),clearTimeout(this.reloadTimeout),null===(e=this.player.viewCtrl.keyboardCtrl)||void 0===e||e.removeBackNavigationHandler(this),super.dispose(),this.chapters.splice(0,this.chapters.length),this.imageQueue.clear(),this.drawingComplete=!1,this.duration=0,this.spritesheetColumnCount=4,this.uiJumpMarkContainer&&this.uiJumpMarkContainer.remove(),this.uiJumpmarkHint&&this.uiJumpmarkHint.remove()}listAddonButtons(){return this.addonButtonVisible()?[{screen:P.SCREEN_CHAPTERS,heroPriority:10,classList:["ardplayer-icon","ardplayer-icon-chapter-list"],accessibilityKey:"jumpmarks"}]:[]}addonButtonVisible(){return this.chapters.length>=0&&this.chapters.some((e=>e.seekBarPosition>=0&&e.seekBarPosition<=1))}renderToDisplayList(e,t){if(t===P.SCREEN_CHAPTERS){e.title="Highlights";const t=I.mf.createUpdatingVerticalContainer(e);L(this,g,t,"f"),this.renderChaptersToVContainer(t,e),L(this,f,[],"f")}}onScreenClosed(e){var t,i;L(this,g,null,"f"),L(this,m,[],"f"),this.chapters.forEach((e=>delete e.displayListNode)),null===(t=this.viewCtrl)||void 0===t||t.toggleForceControlsVisible(this.ID,!1),null===(i=this.viewCtrl)||void 0===i||i.setOutDelayed(),super.onScreenClosed(e)}updateDisplayList(){var e,t;if(null===_(this,g,"f"))return;const i=this.chapters.filter((e=>e.seekBarPosition>=0&&e.seekBarPosition<=1));if(i.length!==_(this,m,"f").length||i.some((e=>!_(this,m,"f").some((t=>e.id===t.id&&t.seconds===e.seconds)))))_(this,g,"f").replaceContent(this.renderChaptersToVContainer);else for(let r=0;r<_(this,m,"f").length;r++){const n=_(this,m,"f")[r],a=i.find((e=>e.id===n.id));if(a&&!n.equals(a)){const i=n.displayListNode;i&&(i.subtitle=a.subtitle,i.synopsis="",i.isEPG=a.isEPG,i.highlightIconUrl=a.highlightIconUrl,i.highlightIconA11yDescription=a.highlightIconA11yDescription,i.highlightTime=a.highlightTime===l.HIGHLIGHT_TIME_EPG?this.viewCtrl.formatPointInTimeString(this.mc.isLive&&null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrUnixToRel(a.seconds))&&void 0!==t?t:a.seconds,!0,!0,!1):a.highlightTime,i.image=a.hasImage()?a.getImageUrl():void 0,i.gutterIconUrl=a.gutterIconUrl,i.gutterIconA11yDescription=a.gutterIconA11yDescription,i.updateRender()),_(this,m,"f")[r]=a,_(this,m,"f")[r].displayListNode=i}}}keyboardHandler(e){if(e.shiftKey)switch(e.shortcut){case"l":this.handleSkipForward();break;case"j":this.handleSkipBackward()}}eventSetupView(e){var t;super.eventSetupView(e),this.viewCtrl=e.controller,this.player.getTarget().classList.add("ardplayer-state-jumpmarks"),this.overlayContainer=document.createElement("div"),this.overlayContainer.classList.add("ardplayer-addon-sprungmarken-overlays"),null===(t=e.viewport)||void 0===t||t.appendChild(this.overlayContainer),this.playerView=e.controller.playerView,this.btnSkipBackward=Array.from(this.playerView.querySelectorAll(".ardplayer-button-skipbackward")),this.btnSkipForward=Array.from(this.playerView.querySelectorAll(".ardplayer-button-skipforward")),this.btnSkipBackward.forEach((e=>this.onClick(e,this.handleSkipBackward))),this.btnSkipForward.forEach((e=>this.onClick(e,this.handleSkipForward)))}initLoading(){var e,t,i;if(_(this,y,"f"))return;L(this,y,!0,"f");const r=null!==(e=this.conf.chapterSpriteImage)&&void 0!==e?e:"";if(r.trim()){this.imageQueue.add(r);const e=this.conf.chapterSpriteColumns;e&&!isNaN(e)&&e>0&&(this.spritesheetColumnCount=e)}this.conf.url?null!=this.legacyChapterArray&&this.legacyChapterArray.length>0?(this.parseLegacyChapterArray(),this.mc.isLive&&0!==this.conf.refreshSeconds&&(clearTimeout(this.reloadTimeout),this.reloadTimeout=this.player.safeTimeout((()=>{this.loadRemoteChapters()}),1e3*(null!==(t=this.conf.refreshSeconds)&&void 0!==t?t:10)))):null!=this.eventStream&&this.eventStream.events.length>0?(this.parseEventStream(),this.mc.isLive&&0!==this.conf.refreshSeconds&&(clearTimeout(this.reloadTimeout),this.reloadTimeout=this.player.safeTimeout((()=>{this.loadRemoteChapters()}),1e3*(null!==(i=this.conf.refreshSeconds)&&void 0!==i?i:10)))):this.loadRemoteChapters():null!=this.legacyChapterArray?this.parseLegacyChapterArray():null!=this.eventStream?this.parseEventStream():this.log("neither legacyChapterArray nor eventStream available!")}loadRemoteChapters(){(0,d.fp)(this.conf.url)||fetch(this.conf.url,{method:"GET",headers:{Accept:"application/json"}}).then((e=>T(this,void 0,void 0,(function*(){return(0,d.Ue)(yield e.json())})))).then((e=>{var t;if(!_(this,v,"f")){try{this.player.checkState()}catch(e){return void u.iV.warn("aborting async",e)}var i;Array.isArray(e)&&(0===e.length||(i=e[0],(0,d.l$)(i,"chapterTime")))?(this.log("updating LegacyMediaChapter[]"),this.legacyChapterArray&&JSON.stringify(e)===JSON.stringify(this.legacyChapterArray)||(this.legacyChapterArray=e,this.parseLegacyChapterArray())):!function(e){return"object"==typeof e&&"string"==typeof e.name&&Array.isArray(e.events)&&(0===e.events.length||!!e.events[0].id)}(e)?this.log("could not interpret data as MediaChapter[] or EventStream",e):(this.log("updating EventStream"),this.eventStream&&JSON.stringify(e)===JSON.stringify(this.eventStream)||(this.eventStream=e,this.parseEventStream())),this.mc.isLive&&0!==this.conf.refreshSeconds&&(clearTimeout(this.reloadTimeout),this.reloadTimeout=this.player.safeTimeout((()=>{this.loadRemoteChapters()}),1e3*(null!==(t=this.conf.refreshSeconds)&&void 0!==t?t:10)))}})).catch((e=>{this.log("unexpected error",e)}))}sanitizeChapters(){this.chapters.sort(((e,t)=>e.seconds-t.seconds));for(let e=0;e<this.chapters.length-2;e++)this.chapters[e].equals(this.chapters[e+1])&&(this.chapters.splice(e,1),e--)}parseEventStream(){var e,t;this.legacyChapterArray=null;const i=this.chapters.filter((e=>e.hasImage()&&e.hasLoadedImage)),r=null==_(this,E,"f")?[]:this.chapters.filter((e=>e.pipDomElement===_(this,E,"f")));if(this.chapters=[],null===(t=null===(e=this.eventStream)||void 0===e?void 0:e.events)||void 0===t||t.forEach((e=>{p.createFor(e,this.mc.isLive).forEach((e=>{if(this.chapters.push(e),e.hasImage()){const t=i.find((t=>t.loadedImageSrc===e.getImageUrl()));t?e.setPreloadedImageFrom(t):this.imageQueue.add(e.getImageUrl())}}))})),r.map((e=>this.chapters.find((t=>e.equals(t))))).forEach((e=>{null!=e&&(e.pipDomElement=_(this,E,"f"))})),this.sanitizeChapters(),this.imageQueue.size>0){const[e]=this.imageQueue;this.imageQueue.delete(e),this.preloadImage(e)}this.drawingComplete=!1,this.draw(),this.renderButtons(),this.updateDisplayList()}parseLegacyChapterArray(){var e;this.eventStream=null;const t=this.chapters.filter((e=>e.hasImage()&&e.hasLoadedImage)),i=null==_(this,E,"f")?[]:this.chapters.filter((e=>e.pipDomElement===_(this,E,"f"))),r=null!==(e=this.legacyChapterArray)&&void 0!==e?e:[];if(this.chapters=r.map((e=>{const i=new c(e);if(i.hasImage()){const e=t.find((e=>e.loadedImageSrc===i.getImageUrl()));e?i.setPreloadedImageFrom(e):this.imageQueue.add(i.getImageUrl())}return i})),i.map((e=>this.chapters.find((t=>e.equals(t))))).forEach((e=>{null!=e&&(e.pipDomElement=_(this,E,"f"))})),this.sanitizeChapters(),this.imageQueue.size>0){const[e]=this.imageQueue;this.imageQueue.delete(e),this.preloadImage(e)}this.drawingComplete=!1,this.draw(),this.renderButtons(),this.updateDisplayList()}preloadImage(e){if(!e)return;const t=()=>{if(this.imageQueue.size>0){const[e]=this.imageQueue;this.imageQueue.delete(e),this.preloadImage(e)}},i=document.createElement("img");i.onload=i=>{const r=e===this.conf.chapterSpriteImage;for(let t=0,n=-1;t<this.chapters.length;t++){const a=this.chapters[t];!a.hasImage()&&r&&++n,(a.getImageUrl()===e||!a.hasImage()&&r)&&a.setPreloadedImage(i.target,r,n)}t.call(this)},i.onerror=()=>{t.call(this)},i.setAttribute("src",e)}timeChangeHandler(e){this.currentTime=e.currentTime,this.updateButtons(),this.mc.isLive&&this.draw()}updateButtons(){var e,t,i,r,n,a,s;let o=null,l=null;const d=this.mc.isLive&&null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.dvrRelToUnix(this.currentTime))&&void 0!==t?t:this.currentTime,u=this.mc.isLive?null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.dvrRelToUnix(this.duration))&&void 0!==r?r:0:this.duration,c=this.mc.isLive&&null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrRelToUnix(0))&&void 0!==a?a:0;this.lastSkippedToChapter&&Math.abs(this.lastSkippedToChapter.seconds-d)>2&&(this.lastSkippedToChapter=null);for(let e=0;e<this.chapters.length;e++){const t=this.chapters[e];if(!(t.seconds<c||t.seconds>u||t.seconds===(null===(s=this.lastSkippedToChapter)||void 0===s?void 0:s.seconds)))if(t.seconds<d)o=t;else if(t.seconds>d){l=t;break}}this.prevChapter=o,this.nextChapter=l,this.btnSkipBackward.forEach((e=>{var t;e.classList.toggle("ardplayer-button-disabled",null===o),o?null===(t=this.viewCtrl)||void 0===t||t.evalAccessibility(e,"jumpmark-prev",{label:null==o?void 0:o.title,index:this.chapters.indexOf(o)+1}):e.title=""})),this.btnSkipForward.forEach((e=>{var t;e.classList.toggle("ardplayer-button-disabled",null===l),l?null===(t=this.viewCtrl)||void 0===t||t.evalAccessibility(e,"jumpmark-next",{label:null==l?void 0:l.title,index:this.chapters.indexOf(l)+1}):e.title=""}))}durationChangeHandler(){var e,t;this.duration=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.getDuration())&&void 0!==t?t:0,this.draw()}dvrChangeHandler(){this.draw()}viewportResizeHandler(){var e,t,i;this.isBreakpointS=null!==(i=null===(t=null===(e=this.playerView)||void 0===e?void 0:e.classList)||void 0===t?void 0:t.contains("ardplayer-s"))&&void 0!==i&&i,this.chapters&&this.chapters.length>0&&-1===_(this,b,"f")&&L(this,b,this.player.safeTimeout((()=>{this.drawingComplete=!1,this.draw(),L(this,b,-1,"f")}),250),"f")}ctrlBarFadeinHandler(){this.drawingComplete||this.draw()}renderButtons(){super.renderButtons(),this.draw()}draw(){var e,t,i,r,n,a;const s=this.addonButtonVisible();if((0,A.n3)(this.uiJumpMarkContainer)&&this.uiJumpMarkContainerWidth!==this.uiJumpMarkContainer.clientWidth&&(this.drawingComplete=!1),!this.drawingComplete&&this.duration>0)this.drawingComplete=!0,this.generateDomElements(),this.updateDisplayList();else if(this.drawingComplete&&this.mc.isLive){if(this.player.isLive&&!0!==(null===(e=this.player.getCtrl())||void 0===e?void 0:e.canCalculateDvrUnixTime()))return;const s=[];let o=!1;if(this.chapters.forEach((e=>{var t;const i=e.seconds,r=null===(t=this.player.getCtrl())||void 0===t?void 0:t.dvrUnixToRel(i),n=e.seekBarPosition>=0&&e.seekBarPosition<=1;e.seekBarPosition=(0,d.NZ)(r)||this.duration<=0?-1:r/this.duration;const a=e.seekBarPosition>=0&&e.seekBarPosition<=1;a&&s.push(e),o=o||n!==a})),o)this.generateDomElements(!1),this.updateDisplayList();else{let e=null;this.chapters.forEach((t=>{const i=t.pipDomElement;i&&i!==e&&t.seekBarPosition<=1&&(e=i,i.style.transform=`translateX(-50%) rotate(0.02deg) translate3d(${(t.seekBarPosition*this.uiJumpMarkContainerWidth).toFixed(8)}px, 0, 0)`,i.style.display=t.seekBarPosition<0||t.seekBarPosition>1?"none":"block")}))}if(s.length>0&&!this.isBreakpointS)if(_(this,S,"f")){const e=null!==(i=null===(t=_(this,S,"f").pipDomElement)||void 0===t?void 0:t.classList.contains("ardplayer-focus-outline"))&&void 0!==i&&i;let o=null!==(n=null!==(r=s.find((e=>e.id===_(this,S,"f").id)))&&void 0!==r?r:s.find((e=>e.seconds===_(this,S,"f").seconds)))&&void 0!==n?n:null;if(!o){const e=s.findIndex((e=>e.seconds>=_(this,S,"f").seconds));if(e<0)o=s[s.length-1];else if(0===e)o=s[0];else{const t=s[e-1],i=s[e];o=i.seconds-_(this,S,"f").seconds<_(this,S,"f").seconds-t.seconds?i:t}}o&&(this.showPopupForChapter(o,!0),e&&(null===(a=o.pipDomElement)||void 0===a||a.classList.add("ardplayer-focus-outline")))}else _(this,E,"f")?this.showPopupForPip(_(this,E,"f")):this.jumpMarkLeave();else this.jumpMarkLeave()}this.addonButtonVisible()!==s&&this.renderButtons()}generateDomElements(e=!0){var t,i,r,a,s,o;if(this.player.isLive&&!0!==(null===(t=this.player.getCtrl())||void 0===t?void 0:t.canCalculateDvrUnixTime()))return void(this.drawingComplete=!1);if(this.uiJumpMarkContainer)(0,d.cS)(this.uiJumpMarkContainer);else{const e=this.player.viewCtrl.playerView.querySelector(".ardplayer-controlbar-thumb-input");this.uiJumpMarkContainer=document.createElement("div"),this.uiJumpMarkContainer.classList.add("ardplayer-controlbar-jumpmarks"),this.uiJumpMarkContainer.dataset.verticalNavBefore=".ardplayer-controlbar",null==e||e.appendChild(this.uiJumpMarkContainer),this.uiJumpmarkHint=document.createElement("div"),this.uiJumpmarkHint.classList.add("ardplayer-controlbar-jumpmark-hint","ardplayer-icon-after","ardplayer-icon-after-shift"),this.uiJumpmarkHint.textContent="Highlights",null==e||e.appendChild(this.uiJumpmarkHint)}if(!(0,A.n3)(this.uiJumpMarkContainer))return this.drawingComplete=!1,void(this.uiJumpmarkHint&&(this.uiJumpmarkHint.style.display="none"));this.uiJumpMarkContainerWidth=this.uiJumpMarkContainer.clientWidth;const l=this.mc.isLive&&null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.dvrRelToUnix(0))&&void 0!==r?r:0,u=this.mc.isLive?Number.MAX_SAFE_INTEGER:this.duration;let c=null,h=null,p=-1,v=Number.POSITIVE_INFINITY;const f=null==_(this,E,"f")?null:this.chapters.filter((e=>e.pipDomElement===_(this,E,"f")));for(let t=0;t<this.chapters.length;t++){const i=this.chapters[t];if(i.seconds<l||i.seconds>u)this.log("skipped rendering jumpmark outside valid range"),i.pipDomElement=null;else{if(e)if(i.isLive){const e=null===(a=this.player.getCtrl())||void 0===a?void 0:a.dvrUnixToRel(i.seconds);i.seekBarPosition=(0,d.NZ)(e)||this.duration<=0?-1:e/this.duration}else i.seekBarPosition=i.seconds/this.duration;if(i.seekBarPosition<0)this.log("skipped rendering jumpmark with invalid time"),i.pipDomElement=null;else{if(null!=c&&p>=i.seekBarPosition*this.uiJumpMarkContainerWidth)c.classList.contains(P.CSS_CLASS_MARKER_PILL)||(p-=c.clientWidth,c.classList.add(P.CSS_CLASS_MARKER_PILL),p+=c.clientWidth);else{v=Number.POSITIVE_INFINITY;const e=document.createElement("span");e.classList.add("ardplayer-control",P.CSS_CLASS_MARKER),c=e,this.makeClickTarget(e,i,`Abschnitt ${t+1}`),h=document.createElement("i"),h.className="ardp-jpmrk-pip-icon ardplayer-icon-after ardplayer-icon-after-pill-plus",e.appendChild(h),this.uiJumpMarkContainer.appendChild(e),e.style.transform=`translateX(-50%) rotate(0.02deg) translate3d(${(i.seekBarPosition*this.uiJumpMarkContainerWidth).toFixed(8)}px, 0, 0)`,e.style.display=i.seekBarPosition<0||i.seekBarPosition>1?"none":"block",p=i.seekBarPosition*this.uiJumpMarkContainerWidth+2*e.clientWidth,n.q.isMobileDevice?(e.classList.add("mobile"),e.addEventListener("touchstart",this.jumpMarkClick),e.addEventListener("touchend",(e=>{e.preventDefault(),e.stopImmediatePropagation()}),{capture:!0})):(e.addEventListener("mouseenter",(e=>{this.jumpMarkEnter(e,!1)})),e.addEventListener("mouseout",(t=>{var i,r;e.contains(t.relatedTarget)||null!==(r=null===(i=this.overlayContainer)||void 0===i?void 0:i.contains(t.relatedTarget))&&void 0!==r&&r||this.jumpMarkLeave()}))),e.addEventListener("click",this.jumpMarkClick),e.addEventListener("focus",(e=>{var t,i;(null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i?void 0:i.isKeyboardNavigating)&&this.jumpMarkEnter(e,!0)})),e.addEventListener("blur",(e=>{var t,i,r,n;(null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i?void 0:i.isKeyboardNavigating)&&(null!==(n=null===(r=this.overlayContainer)||void 0===r?void 0:r.contains(e.relatedTarget))&&void 0!==n&&n||this.jumpMarkLeave())})),e.addEventListener("keydown",(e=>{var t,i;"enter"===e.key.toLowerCase()||" "===e.key?this.jumpMarkLeave():"arrowup"===e.key.toLowerCase()&&e.shiftKey&&e.ctrlKey&&(null===(i=null===(t=this.player.viewCtrl)||void 0===t?void 0:t.keyboardCtrl)||void 0===i?void 0:i.isKeyboardNavigating)&&(this.jumpMarkEnter(e,!0),e.preventDefault(),e.stopImmediatePropagation())}))}i.pipDomElement=c,h&&!(0,d.fp)(i.highlightIconUrl)&&i.highlightIconPriority<v&&(v=i.highlightIconPriority,h.style.display="block",h.style.backgroundImage=`url(${i.highlightIconUrl})`)}}}if(this.uiJumpmarkHint){const e=this.chapters.some((e=>e.seekBarPosition>0&&e.seekBarPosition<=1));this.uiJumpmarkHint.style.display=e?"":"none"}L(this,E,null!==(o=null===(s=null==f?void 0:f.find((e=>(0,A.n3)(e.pipDomElement))))||void 0===s?void 0:s.pipDomElement)&&void 0!==o?o:null,"f")}makeClickTarget(e,t,i=""){e.classList.add(P.CSS_CLASS_CLICK_TARGET),e.setAttribute("title",""),e.setAttribute("role","button"),e.dataset.time=t.seconds.toFixed(0);const r=(0,d.fp)(t.title)?i:t.title;(0,d.fp)(r)||e.setAttribute("aria-label",r),e.tabIndex=0,e.addEventListener("focus",(()=>{L(this,S,Object.assign({},t),"f")}),!0)}getClickTarget(e){let t=e;do{if(t.classList.contains(P.CSS_CLASS_CLICK_TARGET))break;t=t.parentElement}while(null!=t);return t}showPopupForChapter(e,t){this.isBreakpointS||((0,A.n3)(e.pipDomElement)?this.showPopupForPip(e.pipDomElement,t?e:null):(this.log("tried to focus invisible pip"),this.jumpMarkLeave()))}showPopupForChapters(e,t=null){var i,r,n,a;if(this.isBreakpointS||!this.overlayContainer||!this.uiJumpMarkContainer||!this.playerView||!this.viewCtrl)return;if(!e)return;if(0===(e=e.filter((e=>!(""===e.title&&!e.hasLoadedImage)))).length)return;if(null!=_(this,w,"f")&&_(this,w,"f").length===e.length&&-1===e.findIndex((e=>!_(this,w,"f").find((t=>t.equals(e)))))){const t=this.overlayContainer.querySelector("."+P.CSS_CLASS_POPUP);if(t)return L(this,E,null!==(i=e[0].pipDomElement)&&void 0!==i?i:null,"f"),void(this.mc.isLive&&this.updatePopupPosition(e[0],t))}null===(n=null===(r=this.viewCtrl)||void 0===r?void 0:r.keyboardCtrl)||void 0===n||n.setBackNavigationHandler(this),L(this,S,t?Object.assign({},t):null,"f"),L(this,w,e,"f"),L(this,E,null!==(a=e[0].pipDomElement)&&void 0!==a?a:null,"f"),(0,d.cS)(this.overlayContainer);const s=document.createElement("div");s.dataset.verticalNavAbsPos="true",s.classList.add(P.CSS_CLASS_POPUP);const o=document.createElement("div");let l;o.className="adrp-jpmrk-scroller",s.appendChild(o),e.length>1||e[0].forceCondensed?(s.classList.add("--condensed"),l=this.renderCondensedChapters(e,o,t)):(s.classList.add("--one-up"),this.renderSingleChapter(e[0],o),this.makeClickTarget(s,e[0]),l=null===t?null:s),this.overlayContainer.appendChild(s);const u=document.createElement("span");u.className="time-display",s.appendChild(u),(e.length>1||e[0].forceCondensed)&&(s.style.maxHeight=this.playerView.clientHeight-20-parseInt(getComputedStyle(s).bottom,10)+"px"),this.updatePopupPosition(e[0],s),this.viewCtrl.controlBarLabel.style.display="none",this.viewCtrl.toggleForceControlsVisible(this.ID,!0),l&&(0,A.n6)(l,!0),this.addPopupEventHandlers(s)}renderCondensedChapters(e,t,i=null){if(!this.viewCtrl)return null;let r=null;return e.forEach((e=>{var n,a;const s=document.createElement("div");s.className="ardp-jpmrk-chapter";const o=document.createElement("div");if(o.className="ardp-jpmrk-hlgt",!(0,d.fp)(e.highlightIconUrl)){const t=document.createElement("i");t.style.backgroundImage=`url(${e.highlightIconUrl})`,(0,d.fp)(e.highlightIconA11yDescription)||(t.setAttribute("aria-label",e.highlightIconA11yDescription),t.title=e.highlightIconA11yDescription),o.appendChild(t)}if(!(0,d.fp)(e.highlightTime)){const t=document.createElement("p");t.textContent=e.highlightTime===l.HIGHLIGHT_TIME_EPG?this.viewCtrl.formatPointInTimeString(this.mc.isLive&&null!==(a=null===(n=this.player.getCtrl())||void 0===n?void 0:n.dvrUnixToRel(e.seconds))&&void 0!==a?a:e.seconds,!0,!0,!1):e.highlightTime,o.appendChild(t)}if(s.appendChild(o),e.hasLoadedImage){const t=e.getSpritesheetCoordinates(this.spritesheetColumnCount);if(!1!==t){const i=document.createElement("div");i.classList.add("ardp-jpmrk-img"),i.style.backgroundImage=`url(${e.loadedImageSrc})`,i.style.backgroundPosition=`${-t.x}px ${-t.y}px`,s.appendChild(i)}}const u=document.createElement("div");if(u.className="ardp-jpmrk-title",!(0,d.fp)(e.title)){const t=document.createElement("p");t.textContent=e.title,u.appendChild(t)}if(!(0,d.fp)(e.subtitle)){const t=document.createElement("p");t.textContent=e.subtitle,u.appendChild(t)}if(s.appendChild(u),!(0,d.fp)(e.gutterIconUrl)){const t=document.createElement("div");t.className="ardp-jpmrk-gutter";const i=document.createElement("i");i.style.backgroundImage=`url(${e.gutterIconUrl})`,(0,d.fp)(e.gutterIconA11yDescription)||(i.setAttribute("aria-label",e.gutterIconA11yDescription),i.title=e.gutterIconA11yDescription),t.appendChild(i),s.appendChild(t)}t.appendChild(s),this.makeClickTarget(s,e),i===e&&(r=s),s.dataset.verticalNavAbsPos="true"})),r}renderSingleChapter(e,t){if(e.hasLoadedImage){const i=e.getSpritesheetCoordinates(this.spritesheetColumnCount);if(!1!==i){const r=document.createElement("div");r.classList.add("ardp-jpmrk-img"),r.style.backgroundImage=`url(${e.loadedImageSrc})`,r.style.backgroundPosition=`${-i.x}px ${-i.y}px`,t.appendChild(r),t.classList.add("--with-image")}}if(""!==e.title){const i=document.createElement("p");i.textContent=e.title,t.appendChild(document.createElement("b")),t.appendChild(i),t.appendChild(document.createElement("b"))}if(""!==e.subtitle){const i=document.createElement("p");i.classList.add("ardplayer-jumpmark-subtitle"),i.textContent=e.subtitle,t.appendChild(i),t.classList.add("--with-subtitle")}}addPopupEventHandlers(e){e.addEventListener("click",(e=>{(0,A.n6)(_(this,E,"f")),this.jumpMarkClick(e)})),e.addEventListener("mouseout",(t=>{var i;e.contains(t.relatedTarget)||(null===(i=_(this,E,"f"))||void 0===i?void 0:i.contains(t.relatedTarget))||this.jumpMarkLeave()})),e.addEventListener("blur",(t=>{var i;e.contains(t.relatedTarget)||(null===(i=_(this,E,"f"))||void 0===i?void 0:i.contains(t.relatedTarget))||this.jumpMarkLeave()}),!0),e.addEventListener("keydown",(t=>{var i,r,a,s,o,l;const d=(null!==(i=null==t?void 0:t.key)&&void 0!==i?i:"").toLowerCase();let u=!1;if(n.q.isEmbedded){const e=null===(r=this.viewCtrl)||void 0===r?void 0:r.keyboardCtrl;e&&(e.preemptNavigationInputs=!0)}switch(d){case"tab":if(t.shiftKey)(n.q.isEmbedded||t.target===P.lastTabSibling(t.target,!1))&&(0,A.n3)(null===(a=_(this,E,"f"))||void 0===a?void 0:a.previousElementSibling)?(this.jumpMarkEnterPip(null===(s=_(this,E,"f"))||void 0===s?void 0:s.previousElementSibling,!0,!1),u=!0):n.q.isEmbedded||(t.target===P.lastTabSibling(t.target,!1)?(u=!0,this.jumpMarkLeave(),(0,A.pr)(this.playerView,!1,!0,_(this,E,"f"))):u=(0,A.pr)(e,!1,!1,null,!0));else if((n.q.isEmbedded||t.target===P.lastTabSibling(t.target,!0))&&(0,A.n3)(null===(o=_(this,E,"f"))||void 0===o?void 0:o.nextElementSibling))this.jumpMarkEnterPip(null===(l=_(this,E,"f"))||void 0===l?void 0:l.nextElementSibling,!0,!1),u=!0;else if(!n.q.isEmbedded){const i=t.target===P.lastTabSibling(t.target,!0);u=(0,A.pr)(i?this.playerView:e,!0,!1,i?_(this,E,"f"):null,!i)}n.q.isEmbedded&&(u=!0);break;case"arrowdown":if(t.shiftKey&&t.ctrlKey)if(t.target===P.lastTabSibling(t.target,!0)){const e=_(this,E,"f");this.jumpMarkLeave(),(0,A.pr)(this.playerView,!0,!1,e),u=!0}else u=(0,A.pr)(e,!0,!1,null,!0);break;case"arrowup":if(t.shiftKey&&t.ctrlKey)if(t.target===P.lastTabSibling(t.target,!1)){const e=_(this,E,"f");this.jumpMarkLeave(),(0,A.pr)(this.playerView,!1,!1,e),u=!0}else u=(0,A.pr)(e,!1,!1,null,!0)}u&&(t.preventDefault(),t.stopImmediatePropagation()),n.q.isEmbedded&&this.player.safeTimeout((()=>{var e;const t=null===(e=this.viewCtrl)||void 0===e?void 0:e.keyboardCtrl;t&&(t.preemptNavigationInputs=!1)}))}))}static lastTabSibling(e,t){var i,r;return null!==(r=null===(i=null==e?void 0:e.parentElement)||void 0===i?void 0:i.querySelector(t?"[tabindex]:last-of-type":"[tabindex]:first-of-type"))&&void 0!==r?r:null}updatePopupPosition(e,t){var i,r,n,a,s,o;if(!(this.overlayContainer&&this.uiJumpMarkContainer&&this.playerView&&this.viewCtrl))return;if(!this.mc.isLive||!this.viewCtrl._dvrEnabledAndRequested||(0,d.fp)(null===(i=t.lastElementChild)||void 0===i?void 0:i.textContent)){const i=this.mc.isLive&&null!==(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.dvrUnixToRel(e.seconds))&&void 0!==n?n:e.seconds;t.lastElementChild.textContent=this.viewCtrl.formatPointInTimeString(i)}const l=(0,A.n3)(null===(a=e.pipDomElement)||void 0===a?void 0:a.previousElementSibling),u=(0,A.n3)(null===(s=e.pipDomElement)||void 0===s?void 0:s.nextElementSibling);t.classList.toggle("ardplayer-icon",l),t.classList.toggle("ardplayer-icon-arrowleft",l),t.classList.toggle("ardplayer-icon-after",u),t.classList.toggle("ardplayer-icon-after-arrowright",u);const c=this.playerView.getBoundingClientRect(),h=this.uiJumpMarkContainer.getBoundingClientRect(),p=null===(o=e.pipDomElement)||void 0===o?void 0:o.getBoundingClientRect(),v=t.offsetWidth;let f=void 0!==p?p.left-c.left+p.width/2-v/2:0;const g=h.left-c.left,m=g+h.width;f<g?f=g:f+v>m&&(f=m-v),t.style.transform=`translateX(${f}px)`}isSupported(){var e,t;const i=this.mc.isLive;return!(null!==(e=this.conf.chaptersEnabled)&&void 0!==e&&!e)&&(!(i&&(null===(t=this.mc.isDvrEnabled)||void 0===t||!t))&&(!(!i||(0,d.fp)(this.conf.url))||!i&&(void 0!==this.conf.chapterArray&&null!==this.conf.chapterArray||void 0!==this.conf.eventStream&&null!==this.conf.eventStream||void 0!==this.conf.url)))}}v=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,E=new WeakMap,S=new WeakMap,w=new WeakMap,P.SCREEN_CHAPTERS="chapters",P.CSS_CLASS_CLICK_TARGET="ardp-jpmrk-click",P.CSS_CLASS_MARKER="ardplayer-controlbar-jumpmark",P.CSS_CLASS_MARKER_PILL="ardplayer-controlbar-jumpmark-multi",P.CSS_CLASS_POPUP="ardplayer-popup-jumpmark";var k=i(95491);class x{constructor(e){this.addon=e}onSetupView(e){}onInit(){}onStop(){}onPlayStream(e){}onPauseStream(e){}onUpdateStreamTime(e){}get priority(){return 0}suppressPlayerNotifications(){return!1}showSubtitles(e,t=!1){}hideSubtitles(e=!1){}dispose(){}}var R,O,D=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},M=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},N=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class V extends x{constructor(e){super(e),this.subtitleContainer=null,this.imsc=null,this.imscRequested=!1,this.xmlCache={},this.currentLang="",this.ttObj=null,this.updateTimeInterval=-1,this.subtitlesShowing=!1,this.addon360=null,this.hasLongOrLat=!1,R.set(this,[]),O.set(this,[]),this.renderCurrentSubtitle=()=>{var e;if(this.clearRenderedSubtitles(),null===this.ttObj||null===this.imsc||!this.subtitlesShowing)return;const t=this.imsc.generateISD(this.ttObj,this.addon.player.getCurrentTime()),i=this.subtitleContainer;if(!i)return;let r=9/16;try{const t=null===(e=this.addon.player.getCtrl())||void 0===e?void 0:e.mediaElement;t&&(0,d.l$)(t,"videoHeight")&&(r=t.videoHeight/t.videoWidth)}catch(e){}i.style.height=i.clientWidth*r+"px",t&&(this.addon360&&this.addon360.ctrl360.renderSubtitle(t,this.getAngle(this.addon.player.getCurrentTime())),this.imsc.renderHTML(t,this.subtitleContainer,this.resolveImage.bind(this),i.clientHeight,i.clientWidth,!1,u.iV.error))},this.resolveImage=this.resolveImage.bind(this)}get priority(){return 2}onSetupView(e){var t;super.onSetupView(e),this.subtitleContainer=document.createElement("div"),this.subtitleContainer.classList.add(J.CLASS_SUBTITLE_PLACEHOLDER),null===(t=e.viewport)||void 0===t||t.appendChild(this.subtitleContainer)}onInit(){this.imscRequested||(this.imscRequested=!0,this.loadLibrary()),this.addon360=this.addon.player.addons.find((e=>"Addon360"===e.ID))}onPlayStream(e){super.onPlayStream(e),this.startInterval()}onPauseStream(e){super.onPauseStream(e),this.stopInterval()}onStop(){this.stopInterval()}onUpdateStreamTime(e){super.onUpdateStreamTime(e),this.renderCurrentSubtitle()}loadLibrary(){this.imsc=null,i.e(984).then(i.t.bind(i,33584,19)).then((e=>{this.imsc=e,this.beginRenderingCurrentSubtitle()})).catch((()=>{}))}beginRenderingCurrentSubtitle(){const e=this.xmlCache[this.currentLang];(0,d.fp)(e)||null===this.imsc||null!==this.ttObj||(this.ttObj=this.imsc.fromXML(e,u.iV.error),this.hasLongOrLat&&M(this,O,"f").length>0&&(N(this,R,M(this,O,"f").map((e=>({begin:V.parseTimeExpression(this.ttObj.tickRate,this.ttObj.effectiveFrameRate,e.begin),end:V.parseTimeExpression(this.ttObj.tickRate,this.ttObj.effectiveFrameRate,e.end),latitude:e.latitude,longitude:e.longitude}))),"f"),N(this,O,[],"f"),M(this,R,"f").sort(((e,t)=>{const i=e.begin-t.begin;return 0!==i?i:e.end-t.end}))),this.renderCurrentSubtitle(),window.addEventListener("resize",this.renderCurrentSubtitle))}loadSubtitle(e){var t,i;if(this.currentLang!==e.languageCode&&(this.ttObj=null),this.currentLang=e.languageCode,(0,d.fp)(this.xmlCache[e.languageCode])){const r=null!==(i=null===(t=e.sources.find((e=>"ebutt"===e.kind)))||void 0===t?void 0:t.url)&&void 0!==i?i:"";fetch(n.q.isEmbedded&&r.startsWith("//")?"https:"+r:r).then((e=>D(this,void 0,void 0,(function*(){return yield e.text()})))).then((e=>(new DOMParser).parseFromString(e,"text/xml"))).then((t=>{var i,r,n;try{this.addon.player.checkState()}catch(e){return void u.iV.warn("aborting async",e)}this.hasLongOrLat=!1,N(this,R,[],"f"),N(this,O,[],"f");for(const e of t.getElementsByTagName("tt:p")){const t=e.attributes.getNamedItem("begin"),a=e.attributes.getNamedItem("end");(null==t?void 0:t.nodeValue)&&(t.nodeValue=t.nodeValue.replace(/^([1-9][0-9]+)(:[0-9:.]+)$/,((e,t,i)=>`${String(parseInt(t)-10).padStart(2,"0")}${i}`))),(null==a?void 0:a.nodeValue)&&(a.nodeValue=a.nodeValue.replace(/^([1-9][0-9]+)(:[0-9:.]+)$/,((e,t,i)=>`${String(parseInt(t)-10).padStart(2,"0")}${i}`)));const s=e.attributes.getNamedItem("imac:equirectangularLongitude"),o=e.attributes.getNamedItem("imac:equirectangularLatitude");this.hasLongOrLat||(this.hasLongOrLat=null!==s||null!==o),this.hasLongOrLat&&M(this,O,"f").push({begin:null!==(i=null==t?void 0:t.nodeValue)&&void 0!==i?i:"",end:null!==(r=null==a?void 0:a.nodeValue)&&void 0!==r?r:"",longitude:(null==s?void 0:s.nodeValue)?parseFloat(s.nodeValue):null,latitude:(null==o?void 0:o.nodeValue)?parseFloat(o.nodeValue):null});for(const t of e.getElementsByTagName("tt:span")){const e=document.createTextNode(null!==(n=t.textContent)&&void 0!==n?n:"");(0,d.cS)(t),t.append(e)}}this.xmlCache[e.languageCode]=(new XMLSerializer).serializeToString(t).replace(/\r\n/g,"\n"),this.beginRenderingCurrentSubtitle()})).catch((e=>{u.iV.error(e)}))}else this.beginRenderingCurrentSubtitle()}static parseTimeExpression(e,t,i){let r;if(null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(i))){if(null!==t)return parseFloat(r[1])/t}else if(null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(i))){if(null!==e)return parseFloat(r[1])/e}else{if(null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(i)))return parseFloat(r[1])/1e3;if(null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(i)))return parseFloat(r[1]);if(null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(i)))return 3600*parseFloat(r[1]);if(null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(i)))return 60*parseFloat(r[1]);if(null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(i)))return 3600*parseInt(r[1])+60*parseInt(r[2])+parseFloat(r[3]);if(null!==(r=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/.exec(i))&&null!==t)return 3600*parseInt(r[1])+60*parseInt(r[2])+parseInt(r[3])+(null===r[4]?0:parseInt(r[4])/t)}return 0}resolveImage(e,t){new Promise((function(t){const i=new Image;i.onload=function(){const e=document.createElement("canvas");e.width=i.naturalWidth,e.height=i.naturalHeight;const r=e.getContext("2d");null==r||r.drawImage(i,0,0),t(e.toDataURL("image/png"))},i.src=e})).then((e=>{t.src=e})).catch((()=>{}))}startInterval(){clearInterval(this.updateTimeInterval),this.updateTimeInterval=this.addon.player.safeInterval((()=>{this.renderCurrentSubtitle()}),250)}stopInterval(){clearInterval(this.updateTimeInterval)}getAngle(e){let t=0,i=M(this,R,"f").length-1;for(;t<=i;){const r=Math.floor((t+i)/2),n=M(this,R,"f")[r];if(n.begin<=e&&n.end>=e)return n;n.end<e?t=r+1:i=r-1}return null}clearRenderedSubtitles(){(0,d.cS)(this.subtitleContainer)}showSubtitles(e,t=!1){this.imscRequested||(this.imscRequested=!0,this.loadLibrary()),this.subtitlesShowing=!0,this.loadSubtitle(e)}hideSubtitles(e=!1){this.subtitlesShowing=!1,this.currentLang="",this.ttObj=null,this.clearRenderedSubtitles()}dispose(){var e,t;super.dispose(),this.stopInterval(),null===(t=null===(e=this.subtitleContainer)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.subtitleContainer),this.xmlCache={},N(this,R,[],"f"),N(this,O,[],"f"),this.ttObj=null,window.removeEventListener("resize",this.renderCurrentSubtitle)}currentStateSupports(e){return this.supports(e)&&!this.addon.player.isRemotePlayback}supports(e){return e.sources.some((e=>"ebutt"===e.kind))}}R=new WeakMap,O=new WeakMap;var U=i(3987);class B extends x{hideSubtitles(e=!1){var t,i;try{const e=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(e){const t=e.textTracks;for(let e=0;e<t.length;e++){const i=t[e];"subtitles"!==i.kind&&"captions"!==i.kind||(i.mode="hidden")}null===(i=this.hlsCtrl)||void 0===i||i.setWebVTTSubtitlesEnabled(!1)}}catch(e){u.iV.error(e)}}showSubtitles(e,t=!1){var i;try{this.hideSubtitles(t);const r=this.findTrackFor(e);null!==r&&(r.mode="showing",null===(i=this.hlsCtrl)||void 0===i||i.setWebVTTSubtitlesEnabled(!0))}catch(e){u.iV.error(e)}}findTrackFor(e){var t;const i=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(!i)return null;const r=i.textTracks;for(let t=0;t<r.length;t++){const i=r[t];if(("subtitles"===i.kind||"captions"===i.kind)&&""!==i.label&&!i.id.startsWith("vtt-synthetic-track-")&&(0,d.Sz)(i.language,e.languageCode)&&(void 0===i.renderingType||void 0===i.isEmbedded||void 0===i.isTTML))return i}return null}currentStateSupports(e){return!!this.supports(e)&&null!==this.findTrackFor(e)}supports(e){return e.sources.some((e=>(0,d.fp)(e.url)&&("webvtt"===e.kind||"embedded"===e.kind)))}get hlsInUse(){return"hls"===this.addon.player.currentPluginName}get hlsCtrl(){return this.hlsInUse?this.addon.player.getCtrl():null}}class F extends B{constructor(e){n.q.isDebug&&n.q.isEmbedded&&u.iV.warn("debug build: Allowing VTTTrack Subtitle despite isEmbedded"),super(e),this.subtitleWaitingForInit=null,this.onError=e=>{var t,i;const r=null===(i=null===(t=this.addon.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.mediaElement;r instanceof HTMLMediaElement&&(null==r||r.removeChild(e.target))}}get priority(){return 3}onInit(){super.onInit(),u.iV.log("vtt-track onInit",this.subtitleWaitingForInit),null!==this.subtitleWaitingForInit&&(u.iV.log("re-try adding vtt-track on stream init on next tick",this.subtitleWaitingForInit),this.addon.player.safeTimeout((()=>{null!==this.subtitleWaitingForInit?(this.showSubtitles(this.subtitleWaitingForInit),this.subtitleWaitingForInit=null):u.iV.info("vtt stream init superseded during tick!")})))}dispose(){super.dispose(),this.subtitleWaitingForInit=null}static getIdFor(e){return`vtt-synthetic-track-${String(e.languageCode)}`}addTrackForSubtitle(e){var t,i,r;const n=F.getIdFor(e),a=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;if(a&&a instanceof HTMLVideoElement){if(null===a.textTracks.getTrackById(n)){a.setAttribute("crossorigin","anonymous");const t=document.createElement("track");t.setAttribute("default","false"),t.setAttribute("id",n),t.setAttribute("label",J.displayName(e)),t.setAttribute("kind","subtitles"),t.setAttribute("srclang",e.languageCode),t.setAttribute("src",null!==(r=null===(i=e.sources.find((e=>"webvtt"===e.kind&&!(0,d.fp)(e.url))))||void 0===i?void 0:i.url)&&void 0!==r?r:""),t.addEventListener("error",this.onError),a.appendChild(t)}}else this.subtitleWaitingForInit=e,u.iV.log("vtt track could not be added",this.subtitleWaitingForInit)}showSubtitles(e,t=!1){this.subtitleWaitingForInit=null,this.addTrackForSubtitle(e),super.showSubtitles(e,t)}hideSubtitles(e=!1){e||(this.subtitleWaitingForInit=null),super.hideSubtitles(e)}findTrackFor(e){var t,i;const r=null===(t=this.addon.player.getCtrl())||void 0===t?void 0:t.mediaElement;return r instanceof HTMLMediaElement&&null!==(i=r.textTracks.getTrackById(F.getIdFor(e)))&&void 0!==i?i:null}currentStateSupports(e){var t,i;return this.supports(e)&&(null===(i=null===(t=this.addon.player)||void 0===t?void 0:t.getCtrl())||void 0===i?void 0:i.mediaElement)instanceof HTMLVideoElement}supports(e){return(!n.q.isEmbedded||n.q.isDebug)&&e.sources.some((e=>"webvtt"===e.kind&&!(0,d.fp)(e.url)))}}var H,j,G,W,q=i(35996),K=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},z=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class J extends C.p{constructor(){super(...arguments),H.add(this),this.capabilities=[],this.currentSubtitle=null,this.prevSubtitle=null,this.currentCapability=null,this.metaSubtitles=[],this.signLanguageStreams=[],this.metaAudioList=[],this.metaAudioListAd=[],this.currentAudio=null,j.set(this,null),this.languageSelect=null,this.audioDescriptionSelect=null,this.signLanguageSelect=null,this.subtitleSelect=null,this._lastTimeCode=0,this.displaySubtitles=!1,G.set(this,-2)}get ID(){return"AddonSubtitle"}get configKey(){return"subtitle"}get buttonOrder(){return 20}listAddonButtons(){return this.addonButtonVisible()?[{classList:["ardplayer-button-language","ardplayer-icon","ardplayer-icon-language"],screen:J.OVERVIEW_SCREEN,accessibilityKey:"language"}]:[]}listSecondaryAddonButtons(){return this.player.isAudio||0===this.metaSubtitles.length||!this.metaSubtitles.some((e=>this.subtitleCurrentlyAvailable(e)))?[]:[{classList:["ardplayer-icon",null==this.currentSubtitle?"ardplayer-icon-ut":"ardplayer-icon-utactive"],accessibilityKey:"subtitle",accessibilityVariables:{pressed:!1}}]}secondaryAddonButtonClicked(e,t){"subtitle"===t.accessibilityKey&&(this.toggleSubtitles(!1,!1,!0),e.classList.toggle("ardplayer-icon-ut",null==this.currentSubtitle),e.classList.toggle("ardplayer-icon-utactive",null!=this.currentSubtitle))}get targetAudio(){var e;return null!==(e=K(this,j,"f"))&&void 0!==e?e:this.currentAudio}get adActive(){var e;return"audio-description"===(null===(e=this.targetAudio)||void 0===e?void 0:e.kind)}get player(){return super.player}register(){var e,t,i;if(!super.register())return!1;if(this.registerPlayerEvent(a.J.EVENT_LOAD_STREAM,this.onLoadStream),this.registerPlayerEvent(a.J.REMOTE_PLAYBACK_CHANGED,this.onLoadStream),this.registerPlayerEvent(a.J.EVENT_KEYBOARD_RELEASE,this.onKeyboardRelease),this.registerPlayerEvent(a.J.VIEW_RESTORE_DEFAULTS,this.onViewRestoreDefaults),this.registerPlayerEvent(a.J.SETUP_VIEW,this.onSetupView),this.registerPlayerEvent(a.J.SETUP_VIEW_COMPLETE,this.onSetupViewComplete),this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,this.onPlayStream),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,this.onPauseStream),this.registerPlayerEvent(a.J.EVENT_STOP_STREAM,this.onStopStream),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_TIME,this.onUpdateStreamTime),this.registerEvent(J.EVENT_TGGL_SUBTITLES,this.toggleSubtitles),this.registerEvent(J.EVENT_SHOW_SUBTITLES,(()=>{this.toggleSubtitleState(!0,!1,!0)})),this.registerEvent(J.EVENT_HIDE_SUBTITLES,(()=>{this.toggleSubtitleState(!1,!1,!0)})),q.K.for(this.player).storageListeners.add(this),this.log("subtitle enabled by default",this.player.model.playerConfig.generic.isShowSubtitleAtStart,this.metaSubtitles),(this.player.model.playerConfig.generic.isShowSubtitleAtStart||q.K.subtitleEnabled(this.player))&&this.metaSubtitles.length>0){const r=null!==(t=null!==(e=q.K.for(this.player).get(J.SUBTITLE_LANGUAGE,!1,null))&&void 0!==e?e:q.K.for(this.player).get(J.AUDIO_LANGUAGE,!1,null))&&void 0!==t?t:"deu";this.currentSubtitle=null!==(i=this.metaSubtitles.find((e=>(0,d.Sz)(e.languageCode,r))))&&void 0!==i?i:this.metaSubtitles[0],this.displaySubtitles=!0,this.log("restored subtitle target",this.currentSubtitle)}return this.log("registered"),!0}onScreenClosed(e){super.onScreenClosed(e),this.languageSelect=null,this.audioDescriptionSelect=null,this.signLanguageSelect=null,this.subtitleSelect=null}renderToDisplayList(e,t){if(e.title="Sprache",this.log("audiolist",this.metaAudioList,this.currentAudioIndex,this.currentAudio),this.metaAudioList.length>0&&(this.languageSelect=I.mf.renderSelect(e,"Audiosprache",this.metaAudioList.map((e=>J.audioDisplayName(e))),this.currentAudioIndex,(e=>{this.selectAudioLang(this.metaAudioList[e]),this.updateSubtitleUi()}),((e,t,i)=>this.audioCurrentlyAvailable(this.metaAudioList[i])))),this.metaAudioListAd.length>0&&(this.audioDescriptionSelect=I.mf.renderSelect(e,"Audiodeskription",["Aus","An"],this.adActive?1:0,(e=>{this.setAdActive(1===e),this.updateLanguageUI(),this.updateSignLanguageUi(),this.updateSubtitleUi()}),((e,t,i)=>0===i?this.metaAudioList.some((e=>!0!==e.adPhantomMarker)):this.adCurrentlyAvailable()))),this.signLanguageStreams.length>0&&(this.signLanguageSelect=I.mf.renderSelect(e,"Gebärdensprache",["Aus",...this.signLanguageStreams.map((e=>(0,d.vY)(e.videoLanguageCode)))],this.player.currentStream?this.signLanguageStreams.indexOf(this.player.currentStream)+1:0,(e=>{var t;0===e?this.disableSignedStream():(this.switchStream(this.signLanguageStreams[e-1]),this.player.pixelController.triggerCustomPixel(k.J.SUPER_SIGN_LANGUAGE_ACTIVATION,!1,{language:null===(t=this.player.currentStream)||void 0===t?void 0:t.videoLanguageCode})),this.updateLanguageUI(),this.updateAudioDescriptionUi(),this.updateSubtitleUi()}),((e,t,i)=>0===i?this.mc.streams.some((e=>"main"===e.kind)):this.signedCurrentlyAvailable()))),this.capabilities.length>0){const t=["Aus",...this.metaSubtitles.map((e=>{const t=J.displayName(e);return 1===this.metaSubtitles.length&&"Unbekannt"===t?"An":t}))];this.subtitleSelect=I.mf.renderSelect(e,"Untertitel",t,this.currentSubtitle?this.metaSubtitles.indexOf(this.currentSubtitle)+1:0,(e=>{0===e?this.hideSubtitles():this.showSubtitles(this.metaSubtitles[e-1]),this.updateSignLanguageUi()}),((e,t,i)=>0===i?this.mc.streams.some((e=>"subtitle-burn-in"!==e.kind)):this.subtitleCurrentlyAvailable(this.metaSubtitles[i-1])))}}updateSignLanguageUi(){var e;null===(e=this.signLanguageSelect)||void 0===e||e.updateSelection(this.player.currentStream?this.signLanguageStreams.indexOf(this.player.currentStream)+1:0)}updateSubtitleUi(){var e;null===(e=this.subtitleSelect)||void 0===e||e.updateSelection(this.currentSubtitle?this.metaSubtitles.indexOf(this.currentSubtitle)+1:0,!0),this.renderSecondaryButtons()}updateAudioDescriptionUi(){var e;null===(e=this.audioDescriptionSelect)||void 0===e||e.updateSelection(this.adActive?1:0)}updateLanguageUI(){var e;null===(e=this.languageSelect)||void 0===e||e.updateValues(this.metaAudioList.map((e=>J.audioDisplayName(e))),this.currentAudioIndex)}subtitleCurrentlyAvailable(e){return this.capabilities.some((t=>t.currentStateSupports(e)))}audioCurrentlyAvailable(e){var t,i,r,n;if(this.adActive&&"standard"!==e.kind)return!1;if(this.player.isAudio)return!0;const a="standard"===e.kind&&this.adActive?"audio-description":e.kind,s=!1===this.player.currentMedia?null:null!==(i=null===(t=this.player.currentStream)||void 0===t?void 0:t.media[this.player.currentMedia])&&void 0!==i?i:null;return null!==(n=null===(r=this.player.currentStream)||void 0===r?void 0:r.media.some((t=>t.audios.some((i=>(0,d.Sz)(i.languageCode,e.languageCode)&&i.kind===a&&(i.channels===e.channels||"audio-description"===a&&void 0===e.channels)&&(i.channelCount===e.channelCount||"audio-description"===a&&void 0===e.channelCount)&&((0,d.fp)(e.label)||i.label===e.label||this.adActive&&!0===e.default)&&(t!==s||this.audioNativeTrackAvailable(i,t.audios.length<2)))))))&&void 0!==n&&n||this.adActive&&this.metaAudioList[this.currentAudioIndex]===e}audioNativeTrackAvailable(e,t){var i,r;const n=null!==(r=null===(i=this.player.getCtrl())||void 0===i?void 0:i.getAudioTracks())&&void 0!==r?r:[];if(0===n.length)return t;if(t&&1===n.length&&(0,d.fp)(n[0].language)&&(0,d.fp)(n[0].label))return!0;if(!(0,d.fp)(e.nativeId))return-1!==n.findIndex((t=>t.id===e.nativeId));if(!(0,d.fp)(e.label))return-1!==n.findIndex((t=>t.label===e.label));const a=n.filter((t=>(0,d.Sz)(t.language,e.languageCode)));return Number.isFinite(e.channelCount)?a.some((t=>t.channelCount===e.channelCount)):"surround"===e.channels?a.some((e=>{var t;return(null!==(t=e.channelCount)&&void 0!==t?t:-1)>2})):a.length>0}onLoadStream(){var e,t,i;let r=!1;if(null===this.currentAudio){r=!0;const n=q.K.for(this.player).get(J.AUDIO_LANGUAGE,!1,"deu"),a=q.K.for(this.player).get(J.AUDIO_KIND,!1,"standard");this.currentAudio=null!==(i=null!==(t=null!==(e="audio-description"===a?this.metaAudioListAd.find((e=>(0,d.Sz)(e.languageCode,n))):null)&&void 0!==e?e:this.metaAudioList.find((e=>e.kind===a&&(0,d.Sz)(e.languageCode,n))))&&void 0!==t?t:this.metaAudioList.find((e=>(0,d.Sz)(e.languageCode,n))))&&void 0!==i?i:null}this.player.safeTimeout((()=>{var e,t,i,n,a,s,o;null===(e=this.player.getCtrl())||void 0===e||e.addSubtitleListener(this),null===(t=this.player.getCtrl())||void 0===t||t.addAudioTrackListener(this);const l=this.currentAudio;this.updateCurrentAudio(),!l||(0,d.Sz)(null===(i=this.currentAudio)||void 0===i?void 0:i.languageCode,l.languageCode)&&(null===(n=this.currentAudio)||void 0===n?void 0:n.kind)===l.kind||this.setAudioConfig(l,!r,!r),this.currentSubtitle&&((null===(a=this.currentCapability)||void 0===a?void 0:a.currentStateSupports(this.currentSubtitle))?(null===(s=this.currentCapability)||void 0===s||s.onInit(),null===(o=this.currentCapability)||void 0===o||o.showSubtitles(this.currentSubtitle)):this.showSubtitles(this.currentSubtitle,r,!0,!0)),this.renderSecondaryButtons(),this.updateSubtitleUi(),this.updateSignLanguageUi()}))}onTextTracksChanged(e){var t;let i=!1;if(this.log("subtitle track added",e),"addtrack"===e.type&&e.track&&!e.track.id.startsWith("vtt-synthetic-")&&("captions"===e.track.kind||"subtitles"===e.track.kind)&&!(0,d.fp)(e.track.language)&&"und"!==e.track.language&&"null"!==e.track.language){const t=this.metaSubtitles.find((t=>{var i,r;return"normal"===t.kind&&(0,d.Sz)(t.languageCode,null!==(r=null===(i=e.track)||void 0===i?void 0:i.language)&&void 0!==r?r:"")}));if(t?t.sources.some((e=>"embedded"===e.kind))||(t.sources.push({kind:"embedded"}),i=!0):(this.metaSubtitles.push({languageCode:e.track.language,kind:"normal",sources:[{kind:"embedded"}]}),i=!0),i){const t={languageCode:e.track.language,kind:"normal",sources:[{kind:"embedded"}]};this.log("meta-subtitle added",t);const i=J.CAPABILITIES.filter((e=>!this.capabilities.some((t=>t instanceof e)))).map((e=>new e(this))).filter((e=>e.supports(t)));i.length>0&&(this.log("capabilities added",i.map((e=>e.constructor.name))),this.capabilities.push(...i),this.capabilities.sort(((e,t)=>t.priority-e.priority)),this.log("prioritized capabilities:",this.capabilities.map((e=>`${e.constructor.name} - ${e.priority}`)))),this.renderButtons(),this.renderSecondaryButtons()}this.currentSubtitle&&!this.currentCapability&&(this.log("try to restore inactive current subtitle"),this.showSubtitles(this.currentSubtitle,!1,!1,!0))}null===(t=this.subtitleSelect)||void 0===t||t.updateEnabledOptions()}onAudioTracksChanged(e){var t;let i=!1;e.filter((e=>!(0,d.fp)(e.language)&&"und"!==e.language&&"null"!==e.language)).forEach((e=>{var t,r,n,a;const s=!0===e.isAudioDescription||/audio\s*des[ck]ription/i.test(e.label)?"audio-description":"standard",o="audio-description"===s?this.metaAudioListAd:this.metaAudioList,l=e.channelCount?e.channelCount<=1?"mono":e.channelCount>2?"surround":"stereo":"stereo",u=null!==(t=(0,d.fp)(e.id)?void 0:o.find((t=>t.nativeId===e.id&&(0,d.Sz)(e.language,t.languageCode))))&&void 0!==t?t:o.find((t=>t.kind===s&&(0,d.Sz)(t.languageCode,e.language)&&((0,d.fp)(e.label)||"audio-description"===s||e.label===t.label||(0,d.Sz)(e.label,t.languageCode))&&l===t.channels&&e.channelCount===t.channelCount&&(!0!==e.default||!0===t.default)));if(u)(null===(n=this.player.currentStream)||void 0===n?void 0:n.media[this.player.currentMedia||0].audios.some((e=>(0,d.Sz)(e.languageCode,u.languageCode)&&e.kind===u.kind)))||(null===(a=this.player.currentStream)||void 0===a||a.media[this.player.currentMedia||0].audios.push(u),i=!0);else{null===(r=this.player.currentStream)||void 0===r||r.media[this.player.currentMedia||0].audios.push({kind:s,languageCode:e.language,nativeId:e.id,label:e.label,channelCount:e.channelCount,default:e.default,channels:l});o.find((t=>t.kind===s&&(0,d.Sz)(t.languageCode,e.language)&&((0,d.fp)(e.label)||"audio-description"===s||(0,d.fp)(t.label)||e.label===t.label||(0,d.Sz)(e.label,t.languageCode))&&(l===t.channels||void 0===t.channels)&&(e.channelCount===t.channelCount||void 0===t.channelCount||void 0===e.channelCount)))||o.push({kind:s,languageCode:e.language,label:(0,d.fp)(e.label)||e.label===e.language?void 0:e.label,channelCount:e.channelCount,default:e.default,channels:l}),i=!0}})),i?(this.updateCurrentAudio(),this.renderButtons(),this.renderSecondaryButtons()):null===(t=this.languageSelect)||void 0===t||t.updateEnabledOptions(),null!=K(this,j,"f")&&(this.log("retry audio switch after audios available"),this.setAudioConfig(K(this,j,"f"),!0,!0),this.updateCurrentAudio())}onStorageValueChanged(e,t){e!==q.K.SUBTITLE_ENABLED||(0,d.NZ)(t)||this.displaySubtitles===t||this.toggleSubtitles(!0,!0,!0)}onStopStream(){var e;null===(e=this.currentCapability)||void 0===e||e.onStop()}onPlayStream(e){var t;this.updateCurrentAudio(),null===(t=this.currentCapability)||void 0===t||t.onPlayStream(e)}onPauseStream(e){var t;null===(t=this.currentCapability)||void 0===t||t.onPauseStream(e)}onUpdateStreamTime(e){var t;this._lastTimeCode!==e.currentTime&&(this._lastTimeCode=e.currentTime,null===(t=this.currentCapability)||void 0===t||t.onUpdateStreamTime(e))}onSetupView(e){this.capabilities.forEach((t=>t.onSetupView(e)))}onKeyboardRelease(e){var t;switch(null==e?void 0:e.shortcut){case"u":case"c":this.player.pixelController.triggerPixel(this.displaySubtitles?k.J.IA_KEY_SUBTITLE_DEACTIVATION:k.J.IA_KEY_SUBTITLE_ACTIVATION),this.toggleSubtitles(!1,!1,!0);break;case"a":this.player.pixelController.triggerPixel(this.adActive?k.J.IA_KEY_AUDIODESCRIPTION_DEACTIVATION:k.J.IA_KEY_AUDIODESCRIPTION_ACTIVATION),this.setAdActive(!this.adActive);break;case"g":this.player.pixelController.triggerPixel("sign-language"!==(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind)?k.J.IA_KEY_SIGN_LANGUAGE_ACTIVATION:k.J.IA_KEY_SIGN_LANGUAGE_DEACTIVATION),this.toggleSignLanguage()}}onSetupViewComplete(){this.displaySubtitles&&null!==this.currentSubtitle?this.showSubtitles(this.currentSubtitle,!0,!1,!0):this.hideSubtitles(!0,!0)}onViewRestoreDefaults(){this.hideSubtitles(!0,!0)}toggleSubtitleState(e,t=!1,i=!1){e!==this.displaySubtitles&&this.toggleSubtitles(t,i)}toggleSubtitles(e=!1,t=!1,i=!1){var r,n,a,s,o;if(null===(r=null==this?void 0:this.player)||void 0===r?void 0:r.getCtrl())if(0!==this.metaSubtitles.length){if(i||!this.displaySubtitles)if(this.displaySubtitles=!this.displaySubtitles,this.displaySubtitles){const e=null!==(s=null!==(a=null!==(n=this.prevSubtitle)&&void 0!==n?n:this.metaSubtitles.find((e=>{var t;return(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&this.subtitleCurrentlyAvailable(e)})))&&void 0!==a?a:this.metaSubtitles.find((e=>this.subtitleCurrentlyAvailable(e))))&&void 0!==s?s:null;if(null===e)return;this.showSubtitles(e,!1,t)}else this.hideSubtitles(!1,t);else{let e=null;for(let t=this.metaSubtitles.findIndex((e=>e===this.currentSubtitle));t<this.metaSubtitles.length;t++)if(!(0,d.Sz)(this.metaSubtitles[t].languageCode,null===(o=this.currentSubtitle)||void 0===o?void 0:o.languageCode)&&this.subtitleCurrentlyAvailable(this.metaSubtitles[t])){e=this.metaSubtitles[t];break}null!==e?this.showSubtitles(e,!1,t):(this.hideSubtitles(!1,t),this.prevSubtitle=this.metaSubtitles[0])}this.updateSubtitleUi(),this.updateSignLanguageUi()}else e||this.player.pixelController.triggerPixel(k.J.SUPER_SUBTITLE_UNAVAILABLE)}toggleSignLanguage(){var e,t,i;if(null===(e=null==this?void 0:this.player)||void 0===e?void 0:e.getCtrl()){if("sign-language"===(null===(t=this.player.currentStream)||void 0===t?void 0:t.kind))this.disableSignedStream();else if(this.signedCurrentlyAvailable()){const e=null!==(i=this.signLanguageStreams.find((e=>{var t;return(0,d.Sz)(e.videoLanguageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)})))&&void 0!==i?i:this.signLanguageStreams[0];this.switchStream(e),this.player.pixelController.triggerCustomPixel(k.J.SUPER_SIGN_LANGUAGE_ACTIVATION,!1,{language:e.videoLanguageCode})}else this.player.pixelController.triggerPixel(k.J.SUPER_SIGN_LANGUAGE_UNAVAILABLE);this.updateLanguageUI(),this.updateAudioDescriptionUi(),this.updateSubtitleUi()}}disableSignedStream(){var e,t,i,r;if(this.log("disableSignedStream",this.player.currentStream),"sign-language"!==(null===(e=this.player.currentStream)||void 0===e?void 0:e.kind))return;const n=this.currentAudio,a=this.mc.streams.filter((e=>"main"===e.kind));this.switchStream(null!==(r=null!==(i=null!==(t=a.find((e=>e.media.some((e=>e.audios.some((e=>(0,d.Sz)(e.languageCode,null==n?void 0:n.languageCode)&&e.kind===(null==n?void 0:n.kind))))))))&&void 0!==t?t:a.find((e=>e.media.some((e=>e.audios.some((e=>(0,d.Sz)(e.languageCode,null==n?void 0:n.languageCode))))))))&&void 0!==i?i:a.pop())&&void 0!==r?r:null),this.player.pixelController.triggerPixel(k.J.SUPER_SIGN_LANGUAGE_DEACTIVATION)}switchStream(e){var t,i;if(this.log("switchStream",e),null!==e&&e!==(null===(t=this.player)||void 0===t?void 0:t.currentStream)){const t=this.currentAudio,r=this.currentSubtitle;if(null!==r&&this.hideSubtitles(!0,!0),this.player.switchStream(e),null!==r)if(this.subtitleCurrentlyAvailable(r))this.showSubtitles(r,!0,!0);else{const e=this.metaSubtitles.filter((e=>(0,d.Sz)(e.languageCode,r.languageCode)&&(e.isMetaStream?this.subtitleCurrentlyAvailable({languageCode:e.languageCode,kind:e.kind,sources:e.sources}):this.subtitleCurrentlyAvailable(e)))),t=null!==(i=e.find((e=>e.kind===r.kind)))&&void 0!==i?i:e.pop();t&&this.showSubtitles(t,!0)}this.setAudioConfig(t,!0)}}hideSubtitles(e=!1,t=!1){var i;this.displaySubtitles=!1,null===(i=this.currentCapability)||void 0===i||i.hideSubtitles(e),this.currentCapability=null,this.prevSubtitle=this.currentSubtitle,this.currentSubtitle=null,this.updateCurrentAudio(),q.K.for(this.player).add(q.K.SUBTITLE_ENABLED,!1,!1,!t,!1),t||this.player.pixelController.triggerPixel(k.J.SUPER_SUBTITLE_DEACTIVATION)}showSubtitles(e,t=!1,i=!1,r=!1){var n,a;this.displaySubtitles=!0;const s=this.capabilities.find((t=>t.currentStateSupports(e)));this.log("showing subtitle using capability",e,null==s?void 0:s.constructor.name),s?(this.currentCapability===s||(null===(n=this.currentCapability)||void 0===n||n.hideSubtitles(t),null===(a=this.currentCapability)||void 0===a||a.onStop(),this.currentCapability=s,this.currentCapability.onInit()),this.currentCapability.showSubtitles(e,t),this.currentSubtitle=e,this.updateCurrentAudio(),r||(q.K.for(this.player).add(J.SUBTITLE_LANGUAGE,e.languageCode),q.K.for(this.player).add(q.K.SUBTITLE_ENABLED,!0,!1,!i,!1)),i||this.player.pixelController.triggerCustomPixel(k.J.SUPER_SUBTITLE_ACTIVATION,!1,{language:this.currentSubtitle.languageCode})):t||this.hideSubtitles(t,i)}selectAudioLang(e){var t;this.setAudioConfig(this.adActive&&null!==(t=this.metaAudioListAd.find((t=>(0,d.Sz)(t.languageCode,e.languageCode))))&&void 0!==t?t:e)}retryAudioConfigOnTracksChange(e){z(this,j,e,"f"),this.player.safeTimeout((()=>{z(this,j,null,"f")}),2e3)}setAudioConfig(e,t=!1,i=!1){var r,n,s,o,l,u,c,h,p;if(this.log("setAudio",e,i,t),!e)return;z(this,j,null,"f");const v=null===(r=this.player.currentStream)||void 0===r?void 0:r.media[this.player.currentMedia||0].audios.filter((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode))),f=null!==(l=null!==(o=null!==(s=null!==(n=null==v?void 0:v.find((t=>t.nativeId===e.nativeId&&t.label===e.label&&t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==n?n:null==v?void 0:v.find((t=>t.label===e.label&&t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==s?s:null==v?void 0:v.find((t=>t.channels===e.channels&&t.channelCount===e.channelCount)))&&void 0!==o?o:null==v?void 0:v.find((t=>t.channels===e.channels)))&&void 0!==l?l:null==v?void 0:v.find((e=>!0));if(f)return this.log("setAudio","track found",f),this.player.switchAudio(f)||this.retryAudioConfigOnTracksChange(f),void this.updateCurrentAudio();if(t&&i){const t=null===(u=this.player.currentStream)||void 0===u?void 0:u.media[this.player.currentMedia||0].audios.find((t=>(0,d.Sz)(t.languageCode,e.languageCode)));if(this.log("setAudio","settling for",t),t)return this.player.switchAudio(t),void this.updateCurrentAudio()}if(!i){const i=null!==(h=null===(c=this.player.currentStream)||void 0===c?void 0:c.media.findIndex((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode))))))&&void 0!==h?h:-1;if(i>=0)return this.player.switchMedium(i,!0),void this.setAudioConfig(e,t,!0);t&&this.retryAudioConfigOnTracksChange(e)}if(!t){const t=null!==(p=this.mc.streams.find((t=>{var i;return t.kind===(null===(i=this.player.currentStream)||void 0===i?void 0:i.kind)&&t.media.some((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode)))))})))&&void 0!==p?p:this.mc.streams.find((t=>t.media.some((t=>t.audios.some((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode)))))));if(this.log("setAudio","streamswitch",t),t){this.player.switchStream(t);const i=()=>{this.player.removeEventListener(a.J.EVENT_READY,i),this.setAudioConfig(e,!0)};return void this.player.addEventListener(a.J.EVENT_READY,i)}}this.updateCurrentAudio()}setAdActive(e){var t,i,r,n,a,s,o,l,u,c;if(this.log("setAdActive",e,"current:",this.currentAudio),e&&"audio-description"!==(null===(t=this.currentAudio)||void 0===t?void 0:t.kind))this.setAudioConfig(null!==(i=this.metaAudioListAd.find((e=>{var t;return(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)})))&&void 0!==i?i:this.metaAudioListAd[0]),this.adActive?this.player.pixelController.triggerCustomPixel(k.J.SUPER_AUDIODESCRIPTION_ACTIVATION,!1,{language:null===(r=this.currentAudio)||void 0===r?void 0:r.languageCode}):this.player.pixelController.triggerPixel(k.J.SUPER_AUDIODESCRIPTION_UNAVAILABLE);else if(!e&&"audio-description"===(null===(n=this.currentAudio)||void 0===n?void 0:n.kind)){const e=this.metaAudioList.filter((e=>{var t;return!0!==e.adPhantomMarker&&(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&"standard"===e.kind}));this.setAudioConfig(null!==(c=null!==(u=null!==(l=null!==(o=null!==(s=null!==(a=e.find((e=>{var t,i;return!0===e.default&&e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)&&e.channelCount===(null===(i=this.currentAudio)||void 0===i?void 0:i.channelCount)})))&&void 0!==a?a:e.find((e=>{var t,i;return e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)&&e.channelCount===(null===(i=this.currentAudio)||void 0===i?void 0:i.channelCount)})))&&void 0!==s?s:e.find((e=>{var t;return e.channels===(null===(t=this.currentAudio)||void 0===t?void 0:t.channels)})))&&void 0!==o?o:e.find((e=>!0)))&&void 0!==l?l:this.metaAudioList.find((e=>{var t;return!0!==e.adPhantomMarker&&(0,d.Sz)(e.languageCode,null===(t=this.currentAudio)||void 0===t?void 0:t.languageCode)&&"simple-language"===e.kind})))&&void 0!==u?u:this.metaAudioList.find((e=>!0!==e.adPhantomMarker)))&&void 0!==c?c:null),this.player.pixelController.triggerPixel(k.J.SUPER_AUDIODESCRIPTION_DEACTIVATION)}}adCurrentlyAvailable(){return this.metaAudioListAd.length>0}signedCurrentlyAvailable(){return this.signLanguageStreams.length>0}updateCurrentAudio(){var e,t;const i=this.currentAudio;this.currentAudio=this.player.currentAudio,i!==this.currentAudio&&(this.log("currentAudio",this.currentAudio),z(this,G,-2,"f"),this.player.pixelController.triggerCustomPixel(k.J.SUPER_AUDIOSTREAM_CHANGE,!1,{language:null===(e=this.currentAudio)||void 0===e?void 0:e.languageCode,kind:null===(t=this.currentAudio)||void 0===t?void 0:t.kind})),null!==this.currentAudio&&(q.K.for(this.player).add(J.AUDIO_LANGUAGE,this.currentAudio.languageCode),q.K.for(this.player).add(J.AUDIO_KIND,this.currentAudio.kind)),this.updateLanguageUI(),this.updateAudioDescriptionUi(),this.updateSubtitleUi()}get currentAudioIndex(){return-2!==K(this,G,"f")||(z(this,G,K(this,H,"a",W),"f"),this.player.safeTimeout((()=>{z(this,G,-2,"f")}))),K(this,G,"f")}isSupported(){if(this.metaSubtitles=this.player.model.mediaCollection.isAudioOnly?[]:this.mc.streams.filter((e=>"subtitle-burn-in"===e.kind)).map((e=>{var t,i;return{isMetaStream:!0,kind:"simple-language"===(null===(i=null===(t=e.media[0])||void 0===t?void 0:t.audios[0])||void 0===i?void 0:i.kind)?"simple-language":"normal",languageCode:e.videoLanguageCode,metaStream:e,sources:[]}})),!this.player.model.mediaCollection.isAudioOnly){const e=this.metaSubtitles.map((e=>e.languageCode));this.mc.subtitles.forEach((t=>{if(e.some((e=>(0,d.Sz)(e,t.languageCode)))){const e=this.metaSubtitles.find((e=>e.kind===t.kind&&(0,d.Sz)(e.languageCode,t.languageCode)));e?e.sources.push(...t.sources):this.metaSubtitles.push(t)}else this.metaSubtitles.push(t),e.push(t.languageCode)}))}if(this.signLanguageStreams=this.mc.streams.filter((e=>"sign-language"===e.kind)),this.capabilities=J.CAPABILITIES.map((e=>new e(this))).filter((e=>this.metaSubtitles.some((t=>e.supports(t))))).sort(((e,t)=>t.priority-e.priority)),this.log("prioritized capabilities:",this.capabilities.map((e=>`${e.constructor.name} - ${e.priority}`))),this.mc.streams.forEach((e=>{e.media.forEach((e=>{var t;null===(t=e.audios)||void 0===t||t.forEach((e=>{const t="audio-description"===e.kind?this.metaAudioListAd:this.metaAudioList;(0,d.fp)(e.languageCode)||"und"===e.languageCode||"null"===e.languageCode||-1!==t.findIndex((t=>t.kind===e.kind&&(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&t.channelCount===e.channelCount&&t.label===e.label))||t.push(Object.assign({},e))}))}))})),this.metaAudioList.push(...this.metaAudioListAd.filter((e=>-1===this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode))))).map((e=>Object.assign({},e,{kind:"standard",adPhantomMarker:!0})))),0===this.metaAudioListAd.length){this.metaAudioList.filter((e=>!0===e.isLegacyDefaultEntry)).forEach((e=>{this.metaAudioList.splice(this.metaAudioList.indexOf(e),1)}))}return!0}addonButtonVisible(){return this.capabilities.length>0||this.metaAudioList.length>1||this.signLanguageStreams.length>0||this.metaAudioListAd.length>0}dispose(){super.dispose(),q.K.for(this.player).storageListeners.delete(this),this.capabilities.forEach((e=>e.dispose())),this.capabilities=[],this.languageSelect=null,this.audioDescriptionSelect=null,this.signLanguageSelect=null,this.subtitleSelect=null}static audioDisplayName(e){if(!(0,d.fp)(e.label))return e.label;const t=J.languageName(e.languageCode,"simple-language"===e.kind);switch(e.channels){case"mono":return`${t} - Mono`;case"surround":return Number.isFinite(e.channelCount)?`${t} - ${String(e.channelCount)}-Kanal`:`${t} - Surround`;default:return t}}static displayName(e){return this.languageName(e.languageCode,"simple-language"===e.kind)}static languageName(e,t){return`${(0,d.vY)(e)}${t?" - Einfache Sprache":""}`}}j=new WeakMap,G=new WeakMap,H=new WeakSet,W=function(){const e=this.currentAudio;if(!e)return-1;const t=(0,d.fp)(e.nativeId)?-1:this.metaAudioList.findIndex((t=>t.nativeId===e.nativeId));if(t>=0)return t;const i=(0,d.fp)(e.label)?-1:this.metaAudioList.findIndex((t=>t.label===e.label&&(0,d.Sz)(t.languageCode,e.languageCode)));if(i>=0)return i;const r=this.metaAudioList.findIndex((t=>!0===t.default&&(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&t.channelCount===e.channelCount&&(this.adActive?"standard"===t.kind:t.kind===e.kind)));if(r>=0)return r;const n=this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&t.channelCount===e.channelCount&&(this.adActive?"standard"===t.kind:t.kind===e.kind)));if(n>=0)return n;const a=this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode)&&t.channels===e.channels&&(this.adActive?"standard"===t.kind:t.kind===e.kind)));return a>=0?a:this.metaAudioList.findIndex((t=>(0,d.Sz)(t.languageCode,e.languageCode)&&(this.adActive?"standard"===t.kind:t.kind===e.kind)))},J.OVERVIEW_SCREEN="overview",J.SUBTITLE_LANGUAGE="subtitleLang",J.AUDIO_LANGUAGE="audioLang",J.AUDIO_KIND="audioKind",J.CLASS_SUBTITLE_PLACEHOLDER="ardplayer-untertitel",J.EVENT_HIDE_SUBTITLES="AddonUntertitel.hideSubtitles",J.EVENT_SHOW_SUBTITLES="AddonUntertitel.showSubtitles",J.EVENT_TGGL_SUBTITLES="AddonUntertitel.toggleSubtitles",J.CAPABILITIES=[F,class extends B{get priority(){return 3}supports(e){return e.sources.some((e=>"webvtt"===e.kind&&!(0,d.fp)(e.url)))}},V,class extends x{get priority(){return 1}get dashInUse(){return"dashVideo"===this.addon.player.currentPluginName}get dashCtrl(){return this.dashInUse?this.addon.player.getCtrl():null}supports(e){return!n.q.isEmbedded&&e.sources.some((e=>"embedded"===e.kind))}currentStateSupports(e){var t,i;return this.dashInUse&&e.sources.some((e=>"embedded"===e.kind))&&(null!==(i=null===(t=this.dashCtrl)||void 0===t?void 0:t.getTextTrackIndex(e.languageCode))&&void 0!==i?i:-1)>=0}showSubtitles(e,t=!1){var i;null===(i=this.dashCtrl)||void 0===i||i.setSubtitleVisible(!0,e.languageCode)}hideSubtitles(e=!1){var t;null===(t=this.dashCtrl)||void 0===t||t.setSubtitleVisible(!1)}},class extends x{get priority(){return-1}hideSubtitles(e=!1){this.switchStreamKind("main",e)}showSubtitles(e,t=!1){e.metaStream&&this.switchStream(e.metaStream,t)}supports(e){var t;return null!==(t=e.isMetaStream)&&void 0!==t&&t&&e.metaStream instanceof U.F6}currentStateSupports(e){var t,i,r,n,a,s,o,l,u,c,h,p,v,f,g,m,y,b,E;const S=null!==(l=null!==(n=null!==(i=null===(t=this.addon.currentAudio)||void 0===t?void 0:t.languageCode)&&void 0!==i?i:null===(r=this.addon.player.currentAudio)||void 0===r?void 0:r.languageCode)&&void 0!==n?n:null===(o=null===(s=null===(a=this.addon.player.currentStream)||void 0===a?void 0:a.media[this.addon.player.currentMedia||0])||void 0===s?void 0:s.audios[0])||void 0===o?void 0:o.languageCode)&&void 0!==l?l:"deu",w=null!==(m=null!==(p=null!==(c=null===(u=this.addon.targetAudio)||void 0===u?void 0:u.kind)&&void 0!==c?c:null===(h=this.addon.player.currentAudio)||void 0===h?void 0:h.kind)&&void 0!==p?p:null===(g=null===(f=null===(v=this.addon.player.currentStream)||void 0===v?void 0:v.media[this.addon.player.currentMedia||0])||void 0===f?void 0:f.audios[0])||void 0===g?void 0:g.kind)&&void 0!==m?m:"standard";return this.supports(e)&&("main"===(null===(y=this.addon.player.currentStream)||void 0===y?void 0:y.kind)||this.addon.player.currentStream===e.metaStream)&&null!==(E=null===(b=e.metaStream)||void 0===b?void 0:b.media.some((e=>e.audios.some((e=>(0,d.Sz)(e.languageCode,S)&&e.kind===w)))))&&void 0!==E&&E}switchStreamKind(e,t=!1){this.addon.player.switchStreamKind(e,t)}switchStream(e,t=!1){this.addon.player.switchStream(e,t)}suppressPlayerNotifications(){return!0}},B];var Y=i(91821);class $ extends r.Ky{constructor(){var e;super(...arguments),this.ID="AddonAirplay",this.configKey="airplay",this.isAudioView=this.player.isAudio&&!(null!==(e=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==e&&e),this.buttonClassList=new Set(["ardplayer-btn-airplay","ardplayer-icon","ardplayer-icon-airplay"]),this.enabled=!1,this.active=!1}get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST}listAddonButtons(){return this.isAudioView?[{classList:Array.from(this.buttonClassList),accessibilityKey:"airplay"}]:[]}listSecondaryAddonButtons(){return this.isAudioView?[]:[{classList:Array.from(this.buttonClassList),accessibilityKey:"airplay"}]}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),this.log("Addon registered: AddonAirplay"),this.enabled=!1,this.active=!1,!0)}eventSetupView(e){this.isSupported()&&this.setupView(e)}setupView(e){this.addonButtonClicked=this.addonButtonClicked.bind(this),this.addAirPlayListeners=this.addAirPlayListeners.bind(this),this.updateAvailable=this.updateAvailable.bind(this),this.updateWireless=this.updateWireless.bind(this),this.updateButton(),this.registerPlayerEvent(a.J.EVENT_READY,this.addAirPlayListeners)}addAirPlayListeners(){if(this.player.isAudio){const e=Y._.createAudio(this.player);e.addEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}else{const e=Y._.createVideo(this.player);e.addEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}}dispose(){if(super.dispose(),this.player.isAudio){const e=Y._.createAudio(this.player);e.removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}else{const e=Y._.createVideo(this.player);e.removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),e.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.updateWireless)}}updateAvailable(e){switch(e.availability){case"available":Y._.createVideo(this.player).removeEventListener("webkitplaybacktargetavailabilitychanged",this.updateAvailable),this.enabled=!0;break;case"not-available":this.enabled=!1}this.updateButton()}updateWireless(e){var t,i;this.active=null!==(i=null===(t=e.target)||void 0===t?void 0:t.webkitCurrentPlaybackTargetIsWireless)&&void 0!==i&&i;const r=this.player.getCtrl();r&&(r.isRemotePlayback=this.active),this.active&&this.player.safeTimeout((()=>{this.player.playInternal()}),1e3),this.updateButton()}updateButton(){var e,t;this.player.viewCtrl.toggleForceControlsVisible(this.ID,this.active),this.active?(this.buttonClassList.add("active"),null===(e=this.player.viewCtrl)||void 0===e||e.playerView.classList.add("ardplayer-state-casting","ardplayer-state-casting-volumecontrol")):(this.buttonClassList.delete("active"),null===(t=this.player.viewCtrl)||void 0===t||t.playerView.classList.remove("ardplayer-state-casting","ardplayer-state-casting-volumecontrol")),this.enabled?this.buttonClassList.delete("ardplayer-button-disabled"):this.buttonClassList.add("ardplayer-button-disabled"),this.buttons.length>0?this.buttons[0].button.className=Array.from(this.buttonClassList).join(" "):this.secondaryButtons.length>0?this.secondaryButtons[0].button.className=Array.from(this.buttonClassList).join(" "):(this.renderButtons(),this.renderSecondaryButtons())}isSupported(){var e;return!(null!==(e=this.conf.isDisabled)&&void 0!==e&&e)&&window.WebKitPlaybackTargetAvailabilityEvent}secondaryAddonButtonClicked(){this.addonButtonClicked()}addonButtonClicked(){if(0===this.player.model.playstate){this.player.playInternal();const e=()=>{this.player.loop.removeEventListener(a.J.EVENT_PLAY_STREAM,e),this.player.safeTimeout((()=>{this.player.pauseInternal()})),this.addonButtonClicked()};return this.player.loop.addEventListener(a.J.EVENT_PLAY_STREAM,e),!1}return this.isAudioView?Y._.createAudio(this.player).webkitShowPlaybackTargetPicker():Y._.createVideo(this.player).webkitShowPlaybackTargetPicker(),!1}}var Q=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},X={exports:{name:"chromecast",library:()=>Q(void 0,void 0,void 0,(function*(){return(yield i.e(988).then(i.bind(i,22347))).default})),canPlay:()=>!0,priority:1,canSubSelectQualities:()=>!1}},Z=i(13675),ee=i.n(Z);class te extends r.Ky{constructor(e){var t;super(e),this.viewController=null,this.ccLabel=null,this.launcherClassList=new Set(["cast-wrapper","ardplayer-btn-chromecast","ardplayer-icon","ardplayer-icon-chromecast"]),this.isAudioView=this.player.isAudio&&!(null!==(t=this.player.model.playerConfig.web.isForcedVideoView)&&void 0!==t&&t),this.remoteCtx=null,this.remotePlayer=null,this.remotePlayerController=null,this.connectTimeout=-1,this.apiInjected=!1,this.notifyMutex=!1,this.emap=new(ee())}get ID(){return"AddonChromecast"}get configKey(){return"chromecast"}get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST}listAddonButtons(){return this.isAudioView?[{classList:Array.from(this.launcherClassList),accessibilityKey:"chromecast",accessibilityVariables:{pressed:!1}}]:[]}listSecondaryAddonButtons(){return this.isAudioView?[]:[{classList:Array.from(this.launcherClassList),accessibilityKey:"chromecast",accessibilityVariables:{pressed:!1}}]}get isPlayingInstance(){return q.K.get(q.K.SUFFIX_GLOBAL,q.K.CURRENT_PLAYERID,!0)===this.player.getId()}register(){if(!super.register())return!1;if(this.log("register chromecast"),this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),window.__onGCastApiAvailable=this.onCastAvailable.bind(this),te.apiInjected||!window.chrome||window.chrome.cast)this.log("api injected?",te.apiInjected);else{this.log("injecting api"),te.apiInjected=!0,this.apiInjected=!0;const e=document.createElement("script");e.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",e.async=!0,document.body.appendChild(e)}return q.K.for(this.player).storageListeners.add(this),!0}dispose(){window.__onGCastApiAvailable=null,this.viewController=null,q.K.for(this.player).storageListeners.delete(this),super.dispose(),this.emap.all()}eventSetupView(e){this.viewController=e.controller,this.apiInjected||!0!==window.__onGCastApiAvailableFlag||this.onCastAvailable(!0)}onStorageValueChanged(e,t){e!==te.NOTIFY_KEY||this.notifyMutex||(this.notifyMutex=!0,this.onCastAvailable(t))}onCastAvailable(e){if(this.log(`onCastAvailable: ${String(e)}`,`(injected:${String(te.apiInjected)},${String(this.apiInjected)})`),window.__onGCastApiAvailableFlag!==e&&(this.notifyMutex=!0,q.K.add(q.K.SUFFIX_GLOBAL,te.NOTIFY_KEY,e,!0,!0)),window.__onGCastApiAvailableFlag=e,!e)return void this.log("chromecast not available (non-https or localhost used?)");this.setupView();const t={receiverApplicationId:(0,d.fp)(this.conf.receiverApplicationId)?chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID:this.conf.receiverApplicationId,autoJoinPolicy:chrome.cast.AutoJoinPolicy.PAGE_SCOPED};this.remoteCtx=cast.framework.CastContext.getInstance(),this.remoteCtx.setOptions(t),this.handleCastState(this.remoteCtx.getCastState()),this.emap.map(this.remoteCtx,cast.framework.CastContextEventType.CAST_STATE_CHANGED,(e=>{this.log("CAST_STATE_CHANGED",e),this.onCastStateChanged(e)})),this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.emap.map(this.remotePlayerController,cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,(e=>{this.connectTimeout>=0&&("BUFFERING"===e.value||"PLAYING"===e.value)&&(this.log("statechange",e.value),clearTimeout(this.connectTimeout),this.connectTimeout=-1)})),this.emap.map(this.remotePlayerController,cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,(()=>{var e,t;if(null===cast||void 0===cast?void 0:cast.framework){const i=null===(e=this.remotePlayer)||void 0===e?void 0:e.isConnected;this.log(`isConnected: ${String(i)}, playingInstance: ${String(this.isPlayingInstance)}`),i&&this.isPlayingInstance||(null===(t=this.ccLabel)||void 0===t||t.classList.add("ardplayer-hidden"),this.player.removeForcedPlugin(),this.player.loop.dispatchEvent("Player.REMOTE_PLAYBACK_CHANGED",{isRemote:!1}))}}))}castingStarted(){var e,t,i;null===(e=this.player.getCtrl())||void 0===e||e.stopOtherPlayingPlayers();const r=null===(i=null===(t=cast.framework.CastContext.getInstance())||void 0===t?void 0:t.getCurrentSession())||void 0===i?void 0:i.getCastDevice().friendlyName;r&&this.ccLabel&&(this.ccLabel.innerHTML="Wiedergabe auf <b>"+r+"</b>",this.ccLabel.classList.remove("ardplayer-hidden")),this.player.forcePlugin(X.exports),this.player.loop.dispatchEvent("Player.REMOTE_PLAYBACK_CHANGED",{isRemote:!0}),this.connectTimeout=this.player.safeTimeout((()=>{var e,t,i;const r=null!==(t=null===(e=this.remoteCtx)||void 0===e?void 0:e.getCastState())&&void 0!==t?t:"NULL";this.log("cast playback failed to initialise, try to end session",r),r!==cast.framework.CastState.CONNECTED&&r!==cast.framework.CastState.CONNECTING||null===(i=this.remoteCtx)||void 0===i||i.endCurrentSession(!0)}),3e4),this.launcherClassList.delete("cast-wrapper-hide"),this.launcherClassList.delete("ardplayer-icon-chromecast"),this.launcherClassList.add("active"),this.launcherClassList.add("ardplayer-icon-chromecast-connected"),this.updateButton()}onCastStateChanged(e){const t=e.castState;this.handleCastState(t)}handleCastState(e){this.log("CAST_STATE_CHANGED",e),e===cast.framework.CastState.NO_DEVICES_AVAILABLE?this.launcherClassList.add("cast-wrapper-hide"):e===cast.framework.CastState.NOT_CONNECTED&&(this.launcherClassList.delete("cast-wrapper-hide"),this.launcherClassList.delete("active"),this.launcherClassList.delete("ardplayer-icon-chromecast-connected"),this.launcherClassList.add("ardplayer-icon-chromecast")),this.updateButton()}setupView(){var e;this.log("setupView",this.player),(null===(e=this.viewController)||void 0===e?void 0:e.playerView)&&(this.log("setupLauncher"),this.ccLabel=document.createElement("div"),this.ccLabel.classList.add("ardplayer-chromecast-label"),this.ccLabel.classList.add("ardplayer-hidden"),this.viewController.playerView.appendChild(this.ccLabel))}updateButton(){this.buttons.length>0?this.buttons[0].button.className=Array.from(this.launcherClassList).join(" "):this.secondaryButtons.length>0?this.secondaryButtons[0].button.className=Array.from(this.launcherClassList).join(" "):(this.renderButtons(),this.renderSecondaryButtons())}secondaryAddonButtonClicked(){this.addonButtonClicked()}addonButtonClicked(){var e;if(this.log("castButtonClicked",this.player),this.remoteCtx){const t=this.remoteCtx,i=t.getCastState();this.log("castButtonClicked: "+i),i===cast.framework.CastState.NO_DEVICES_AVAILABLE||(i===cast.framework.CastState.NOT_CONNECTED?(this.isPlayingInstance||null===(e=this.player.getCtrl())||void 0===e||e.stopOtherPlayingPlayers(),t.requestSession().then((()=>{try{this.player.checkState()}catch(e){return void u.iV.warn("aborting async",e)}this.castingStarted()})).catch((e=>{this.log("cast error",e)}))):i===cast.framework.CastState.CONNECTED?this.isPlayingInstance?t.endCurrentSession(!0):(u.iV.warn("chromecast - replacing session"),this.log("now current player?",this.isPlayingInstance),t.requestSession().then((()=>{try{this.player.checkState()}catch(e){return void u.iV.warn("aborting async",e)}this.castingStarted()})).catch((e=>{this.log("cast error",e)}))):cast.framework.CastState.CONNECTING)}}isSupported(){return!n.q.browserIsSafari&&!!window.chrome&&("https:"===document.location.protocol||/^localhost(:\d+)?$/.test(document.location.host))}}te.apiInjected=!1,te.NOTIFY_KEY="ardplayer_chromecast_notify";var ie=te;class re extends C.p{get ID(){return"AddonInfo"}get configKey(){return"info"}get buttonOrder(){return 2}listAddonButtons(){return[{accessibilityKey:"info",screen:"infoMain",classList:["ardplayer-button-info","ardplayer-icon","ardplayer-icon-info"]}]}renderToDisplayList(e,t){var i,r,n;e.title="Info";const a=this.mc.meta;if(!(0,d.fp)(a.availableToDateTime)){const t=864e5,i=14*t,r=new Date(a.availableToDateTime).getTime()-Date.now();r<=i&&r>0&&I.mf.renderChip(e,`Noch ${Math.ceil(r/t)} Tag${r>t?"e":""}`,"",!0)}(0,d.fp)(a.title)?(0,d.fp)(a.seriesTitle)||I.mf.renderHeading(e,a.seriesTitle,"Sendereihe"):I.mf.renderHeading(e,a.title,"Titel"),(0,d.fp)(a.broadcastedOnDateTime)||I.mf.renderByline(e,re.formatIsoDate(a.broadcastedOnDateTime,!1),"Veröffentlichungsdatum"),(0,d.fp)(a.title)||(0,d.fp)(a.seriesTitle)||I.mf.renderByline(e,a.seriesTitle,"Sendereihe"),null!==(r=null===(i=a.publicationService)||void 0===i?void 0:i.name)&&void 0!==r&&r&&I.mf.renderByline(e,a.publicationService.name,"Sender"),a.maturityContentRating&&I.mf.renderChip(e,"fsk"===a.maturityContentRating.kind?`FSK ${a.maturityContentRating.age}`:`${a.maturityContentRating.age}+`,"Altersbeschränkung"),this.mc.isLive&&I.mf.renderChip(e,"LIVE","Liveübertragung"),(this.mc.subtitles.length>0||this.mc.streams.some((e=>"subtitle-burn-in"===e.kind)))&&I.mf.renderChip(e,"UT","Untertitel vorhanden"),this.mc.streams.some((e=>"sign-language"===e.kind))&&I.mf.renderChip(e,"DGS","Gebärdensprache vorhanden"),this.mc.streams.some((e=>e.media.some((e=>e.audios.some((e=>"audio-description"===e.kind))))))&&I.mf.renderChip(e,"AD","Audiodeskription vorhanden"),(0,d.fp)(a.synopsis)||I.mf.renderBodyText(e,a.synopsis,"Zusammenfassung"),(0,d.fp)(a.clipSourceName)||I.mf.renderByline(e,`Quelle: ${a.clipSourceName}`);const s=null===(n=a.images.find((e=>"preview"===e.kind&&!(0,d.fp)(e.imageSourceName))))||void 0===n?void 0:n.imageSourceName;(0,d.fp)(s)||I.mf.renderByline(e,`Bildquelle: ${s}`),(0,d.fp)(a.availableToDateTime)||I.mf.renderByline(e,`Verfügbar bis: ${re.formatIsoDate(a.availableToDateTime)}`)}static formatIsoDate(e,t=!0){if(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)){const i=new Date(e);return t?`${i.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"})} | ${String(i.getHours()).padStart(2,"0")}:${String(i.getMinutes()).padStart(2,"0")} Uhr`:i.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"})}return e}isSupported(){if(!super.isSupported())return!1;const e=this.mc.meta;return!(0,d.fp)(e.synopsis)||!(0,d.fp)(e.title)||!(0,d.fp)(e.seriesTitle)}}const ne="HEADER",ae="ID",se="TIME_LINE",oe="ID_OR_NOTE_OR_STYLE",le="STYLE",de="NOTE",ue="TEXT",ce="MULTI_LINE_TEXT",he="FIN_ENTRY",pe="FINISH",ve=e=>{const t=e.split(":");let i,r,n;return 2===t.length?[r,n]=t:[i,r,n]=t,parseFloat(n)+60*parseInt(r,10)+60*(i?parseInt(i,10):0)*60},fe=()=>({start(e){let t=ne,i={tokens:e.split(/\n/),pos:0,result:[],current:{}};for(;t!==pe;){const e=this[t](i);i=e.params,t=e.next}return i.result},[ne]:e=>({next:oe,params:Object.assign(Object.assign({},e),{pos:e.pos+1})}),[oe](e){const{tokens:t,pos:i}=e;return t.length<=i?{next:pe,params:e}:(0,d.fp)(t[i])?{next:oe,params:Object.assign(Object.assign({},e),{pos:i+1})}:t[i].toUpperCase().includes("NOTE")?{next:de,params:e}:t[i].toUpperCase().includes("STYLE")?{next:le,params:e}:{next:ae,params:e}},[le](e){const{tokens:t,pos:i}=e;return(0,d.fp)(t[i])?{next:oe,params:Object.assign(Object.assign({},e),{pos:i+1})}:{next:le,params:Object.assign(Object.assign({},e),{pos:i+1})}},[de](e){const{tokens:t,pos:i}=e;return(0,d.fp)(t[i])?{next:oe,params:Object.assign(Object.assign({},e),{pos:i+1})}:{next:le,params:Object.assign(Object.assign({},e),{pos:i+1})}},[ae](e){const{tokens:t,pos:i,current:r}=e;if(t.length<=i)return{next:pe,params:e};if((0,d.fp)(t[i]))return{next:ae,params:Object.assign(Object.assign({},e),{pos:i+1})};const n=t[i].includes("--\x3e");return r.id=n?"":t[i],{next:se,params:Object.assign(Object.assign({},e),{current:r,tokens:t,pos:n?i:i+1})}},[se](e){const{tokens:t,pos:i,current:r}=e,n=t[i],[a,s]=n.split("--\x3e");return r.startTime=ve(a),r.endTime=ve(s),{next:ue,params:Object.assign(Object.assign({},e),{current:r,pos:i+1})}},[ue](e){const{tokens:t,pos:i,current:r}=e;return t.length<=i?{next:pe,params:e}:(r.text=t[i],{next:ce,params:Object.assign(Object.assign({},e),{current:r,pos:i+1})})},[ce](e){var t;const{tokens:i,pos:r,current:n}=e;return i.length<=r?{next:pe,params:e}:(0,d.fp)(i[r])?{next:he,params:e}:(n.text=`${null!==(t=n.text)&&void 0!==t?t:""}\n${i[r]}`,{next:ce,params:Object.assign(Object.assign({},e),{current:n,pos:r+1})})},[he](e){const{pos:t,current:i,result:r}=e;if("string"!=typeof(n=i).id||"number"!=typeof n.startTime||"number"!=typeof n.endTime||"string"!=typeof n.text)throw new Error(`Parsing error current not complete ${JSON.stringify(i)}`);var n;return r.push(i),{next:oe,params:Object.assign(Object.assign({},e),{current:{},pos:t+1})}},[pe]:e=>({next:pe,params:e})});var ge,me=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},ye=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},be=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class Ee extends r.Sh{constructor(){super(...arguments),ge.set(this,!1),this.cues=[]}get ID(){return"AddonPreviewVtt"}get configKey(){return"vtt-preview"}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.EVENT_LOAD_STREAM,this.eventLoadStream),!0)}dispose(){this.player.viewCtrl.controlBarHoverListeners.delete(this),super.dispose()}handleControlBarHover(e,t){var i,r,n;if(this.cues.length<1)return;const a=null!==(r=null===(i=(0,d.sE)(this.cues,t,((e,i)=>i.startTime>e?-1:Math.max(0,t-i.endTime))))||void 0===i?void 0:i.text)&&void 0!==r?r:null,s=this.player.viewCtrl.controlBarLabel;if(null===(n=s.firstElementChild)||void 0===n||n.remove(),(0,d.fp)(a))s.classList.remove("ardplayer-previewVtt");else{s.classList.add("ardplayer-previewVtt");const e=s.offsetWidth,[t,i]=a.split("#"),[r,n]=i.split("="),o=n.split(",").map((e=>parseInt(e,10))),[l,d,u,c]="xywh"===r?o:[0,0,...o],h=e/u,p=c*h,v=document.createElement("span");v.style.backgroundImage=`url('${t}')`,v.style.backgroundPosition=`-${l}px -${d}px`,v.style.width=`${u}px`,v.style.height=`${c}px`,v.style.transform=`scale(${h})`,v.style.marginBottom=p-c+"px",v.style.top=`-${window.getComputedStyle(s).paddingTop}`,s.appendChild(v)}}prefetchSprites(){if(this.cues.length<1)return;const e=[...new Set(this.cues.map((e=>e.text.split("#")[0])).filter((e=>!(0,d.fp)(e))))].map((e=>{const t=document.createElement("link");return t.rel="preload",t.as="image",t.href=e,t}));e.length>0&&(document.head.append(...e),window.setTimeout((()=>{e.forEach((e=>e.remove()))}),1e3))}eventLoadStream(){ye(this,ge,"f")||(0,d.fp)(this.conf.url)||(be(this,ge,!0,"f"),this.player.safeTimeout((()=>{fetch(this.conf.url,{method:"GET",headers:{Accept:"text/vtt"}}).then((e=>me(this,void 0,void 0,(function*(){return yield e.text()})))).then((e=>{return t=e,{cues:fe().start(t).sort(((e,t)=>e.startTime-t.startTime))};var t})).then((e=>{var t,i,r;try{this.player.checkState()}catch(e){return void u.iV.warn("aborting async",e)}this.cues=e.cues;const n=window.location.href.match(/^(.+\/)[^/]+$/);if(n&&2===n.length){const e=null!==(r=null===(i=null===(t=new URL(this.conf.url,n[1]))||void 0===t?void 0:t.href.match(/^(.+\/)[^/]+$/))||void 0===i?void 0:i[1])&&void 0!==r?r:null;null!==e&&(this.log(n[1],this.conf.url,e),this.cues.forEach((t=>{(0,d.fp)(t.text)||t.text.startsWith("http")||(t.text=new URL(t.text,e).href)})))}this.prefetchSprites(),this.player.viewCtrl.controlBarHoverListeners.add(this)})).catch((e=>{this.log("unexpected error",e)}))}),0))}isSupported(){return!this.player.model.mediaCollection.isLive&&!(0,d.fp)(this.conf.url)}}ge=new WeakMap;class Se extends r.gN{constructor(){super(...arguments),this.debugActive=!0,this.agfConf=null,this.nSdk=null,this.lastPos=0,this.playing=!1,this.sendMetadata=!0,this.ended=!1,this.playerId="nlsnInstance",this.prevApiCall={},this.lastApiCall={},this.permDelta=0,this.initialLoad=!0,this.initialStreamLoad=!1,this.sendInitialZeroPlayhead=!0,this.bufferState=!1,this.initialBufferThrown=!1,this.preventBufferAfterPlay=!1}get ID(){return"AddonAGF"}get trackingKey(){return"Agf"}register(){return!!super.register()&&(this.sendInitialZeroPlayhead=0===this.pc.generic.vodInitialPlayheadSeconds,this.registerPlayerEvent(a.J.EVENT_LOAD_STREAM,this.eventLoadStream),this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,this.eventPlayStream),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,this.eventPauseStream),this.registerPlayerEvent(a.J.EVENT_END_STREAM,this.eventEndStream),this.registerPlayerEvent(a.J.EVENT_SEEK_END,this.eventSeekEnd),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_TIME,this.eventUpdateStreamTime),this.registerPlayerEvent(a.J.EVENT_BUFFERING,this.eventBuffering),this.registerPlayerEvent(a.J.EVENT_ERROR,this.eventError),this.onUnload=this.onUnload.bind(this),window.addEventListener("unload",this.onUnload),function(e,t){function i(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}e[t]=e[t]||{nlsQ:function(r,n,a){var s=e.document,o=s.createElement("script");o.async=1,o.src=("http:"===e.location.protocol?"http:":"https:")+"//cdn-gl.nmrodam.com/conf/"+r+".js#name="+n+"&ns="+t;var l=s.getElementsByTagName("script")[0];return l.parentNode.insertBefore(o,l),e[t][n]=e[t][n]||{g:a||{},ggPM:function(r,a,s,o,l){e[t][n].q=e[t][n].q||[];try{var d=i([r,a,s,o,l]);e[t][n].q.push(d)}catch(e){console&&console.log&&console.log("Error: Cannot register event in Nielsen SDK queue.")}},trackEvent:function(r){e[t][n].te=e[t][n].te||[];try{var a=i(r);e[t][n].te.push(a)}catch(e){console&&console.log&&console.log("Error: Cannot register event in Nielsen SDK queue.")}}},e[t][n]}}}(window,"NOLBUNDLE"),this.log("Addon registered: AddonAGFPixel"),this.debugActive=!1,!0)}dispose(){super.dispose(),this.onUnload(),window.removeEventListener("unload",this.onUnload)}onUnload(){this.agfConf&&(this.ended||this.api("end",this.lastPos,"unload"),this.agfConf=null)}log(...e){this.debugActive&&super.log(...e)}api(e,t,i=" "){var r,n,a,s,o;(null===(r=this.lastApiCall)||void 0===r?void 0:r.name)!==e||(null===(n=this.lastApiCall)||void 0===n?void 0:n.args)!==t?"stop"!==e||(null===(a=this.prevApiCall)||void 0===a?void 0:a.name)!==e||(null===(s=this.prevApiCall)||void 0===s?void 0:s.args)!==t?(this.prevApiCall=this.lastApiCall,this.lastApiCall={name:e,args:t},null===(o=this.nSdk)||void 0===o||o.ggPM(e,t),this.log(": ggPM",e,i,t)):this.log("skipped ggPM rep",e,i,t):this.log("skipped ggPM",e,i,t)}eventLoadStream(){var e,t,i,r,n,a;this.agfConf&&this.initialStreamLoad?this.log("already configured & QualityChange"):(this.agfConf=this.conf,this.agfConf?(void 0!==this.agfConf.debug&&(this.debugActive=this.agfConf.debug),this.agfConf.clipData||(this.agfConf.clipData={}),this.agfConf.clipData.length=String(null===(e=this.agfConf.clipData)||void 0===e?void 0:e.length),(a=this.agfConf).permLive||(a.permLive="p18,Y"===this.agfConf.clipData.nol_c18&&this.mc.isLive),window.gfkLinkID&&!this.agfConf.clipData.nol_c20&&(this.agfConf.clipData.nol_c20="p20,"+window.gfkLinkID),this.playerId=null!==(t=this.agfConf.playerId)&&void 0!==t?t:"nlsnInstance",this.nSdk=null!==(n=null===(i=window.NOLBUNDLE)||void 0===i?void 0:i.nlsQ(null!==(r=this.agfConf.appId)&&void 0!==r?r:"",this.playerId))&&void 0!==n?n:null,this.initialStreamLoad=!0,this.sendMetadata=!0,this.initialLoad=!0):this.log("no AGF config found?"))}eventError(){this.api("stop",this.lastPos,"error")}eventBuffering(e){if(this.agfConf)return this.playing&&this.initialBufferThrown?void(e.isBuffering?(this.bufferState||this.preventBufferAfterPlay||(this.api("stop",this.lastPos,"startBuffering"),this.sendMetadata=!0),this.bufferState=!0):(this.bufferState&&this.sendMetadata&&(this.api("loadMetadata",this.agfConf.clipData),this.sendMetadata=!1),this.bufferState=!1)):(this.bufferState=e.isBuffering,void(this.initialBufferThrown=!0))}eventUpdateStreamTime(e){this.player.safeTimeout((()=>{if(this.agfConf&&!this.bufferState&&this.playing){this.preventBufferAfterPlay=!1;let t=0;if(this.agfConf.permLive){const e=this.player.getCtrl();if(e){const i=e.getCurrentTime();if(i<0)return;if(!e.canCalculateDvrUnixTime())return;t=e.dvrRelToUnix(i,!0)}else console.error("agf no player or control available");isFinite(t)&&0!==t||(t=Math.round(Date.now()/1e3))}else if(t=Math.round(e.currentTime),t<0)return;0!==this.permDelta&&(t+=Math.round(this.permDelta)),Math.abs(t-this.lastPos)>=1&&(t-this.lastPos==2&&("setPlayheadPosition"===this.lastApiCall.name||"loadMetadata"===this.lastApiCall.name&&"stop"===this.prevApiCall.name)&&(this.log("Playhead missed a second - adding to permDelta"),this.permDelta-=1,t-=1),this.api("setPlayheadPosition",t),this.lastPos=t)}}),0)}eventPlayStream(){var e,t,i;this.agfConf&&(this.sendMetadata&&(this.api("loadMetadata",this.agfConf.clipData),this.sendMetadata=!1,this.ended&&(this.ended=!1,this.permDelta=0,this.api("setPlayheadPosition",0,"playStreamAfterEnded"))),this.initialLoad&&("p18,Y"===(null===(e=this.agfConf.clipData)||void 0===e?void 0:e.nol_c18)&&(null!==(i=null===(t=this.agfConf.clipData)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>=86400?this.eventUpdateStreamTime({currentTime:-1}):!this.agfConf.permLive&&this.sendInitialZeroPlayhead&&this.api("setPlayheadPosition",0,"initialLoad!permlive"),this.initialLoad=!1),this.playing=!0,this.preventBufferAfterPlay=!0)}eventPauseStream(e){this.agfConf&&(this.playing=!1,!0!==(null==e?void 0:e.ended)&&this.api("stop",this.lastPos,"pauseStream"),this.sendMetadata=!0)}eventEndStream(){this.agfConf&&(this.playing=!1,this.api("end",this.lastPos,"eventEnd"),this.sendMetadata=!0,this.ended=!0)}eventSeekEnd(){this.permDelta=0}}var we,Ae,Ce,Ie,Te=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Le=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class _e extends r.gN{constructor(){super(...arguments),this.debugActive=!0,this.atiTag=null,we.set(this,0),this.playClick=!1,this.playClickOnce=!0,this.isPlaying=!1,this.buffering=!1}get ID(){return"AddonATISmartTag"}get trackingKey(){return"Ati"}register(){var e,t,i,r,n,a;if(!super.register())return!1;if(void 0!==this.conf.debug&&(this.debugActive=this.conf.debug),!this.conf.richMedia)return this.log("richMedia missing"),!1;if("undefined"!=typeof ATInternet)this.atiTag=new ATInternet.Tracker.Tag(null!==(e=this.conf.config)&&void 0!==e?e:{}),this.registerSDK();else{if(0===(null!==(i=null===(t=this.conf.sdkUrls)||void 0===t?void 0:t.length)&&void 0!==i?i:0)||null===(n=null===(r=this.conf.sdkUrls)||void 0===r?void 0:r.some((e=>!(0,d.fp)(e))))||void 0===n||!n)return this.log("no sdk and no sdk resources"),!1;{const e=()=>{var e,t;Le(this,we,(t=Te(this,we,"f"),--t),"f"),Te(this,we,"f")<=0&&("undefined"!=typeof ATInternet?(this.log("SDK loaded, init"),this.atiTag=new ATInternet.Tracker.Tag(null!==(e=this.conf.config)&&void 0!==e?e:{}),this.registerSDK()):this.log("SDK loaded, ATInternet class still missing"))};null===(a=this.conf.sdkUrls)||void 0===a||a.filter((e=>!(0,d.fp)(e))).forEach((t=>{var i;Le(this,we,(i=Te(this,we,"f"),++i),"f"),(0,d.iM)(this.player,t.startsWith("//")?("http:"===location.protocol?"http:":"https:")+t:t,e,(()=>{this.log("sdk load failed!")}))}))}}return this.log("Addon registered: AddonATISmartTag"),!0}registerSDK(){var e,t,i,r;const n=this.conf.richMedia;if(!n)return;if(!n||!this.atiTag)return;n.mediaLabel=n.mediaLabel.replace("&","und"),n.mediaLabel=n.mediaLabel.replace("?","."),n.mediaTheme1&&(n.mediaTheme1=n.mediaTheme1.replace("&","und"),n.mediaTheme1=n.mediaTheme1.replace("?",".")),n.mediaTheme2&&(n.mediaTheme2=n.mediaTheme2.replace("&","und"),n.mediaTheme2=n.mediaTheme2.replace("?",".")),n.mediaTheme3&&(n.mediaTheme3=n.mediaTheme3.replace("&","und"),n.mediaTheme3=n.mediaTheme3.replace("?",".")),this.playClick=null!==(e=this.conf.playclick)&&void 0!==e&&e,this.playClickOnce=!(null!==(t=this.conf.autostart)&&void 0!==t&&t);const s=window.top!==window;if(void 0===this.conf.isEmbedded&&(this.conf.isEmbedded=s),void 0===n.webdomain)if(s)try{n.webdomain=null!==(r=null===(i=window.top)||void 0===i?void 0:i.location.href)&&void 0!==r?r:document.referrer}catch(e){n.webdomain=document.referrer}else n.webdomain="";void 0===n.refreshDuration&&(n.refreshDuration={0:5,1:12,12:15,18:30}),void 0!==n.duration&&"0"===n.duration&&(n.duration="1"),this.atiTag.richMedia.add(this.conf.richMedia),this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,this.eventPlayStream),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,this.eventPauseStream),this.registerPlayerEvent(a.J.EVENT_END_STREAM,this.eventEndStream),this.registerPlayerEvent(a.J.EVENT_BUFFERING,this.eventBuffering),this.registerPixelEvent(k.J.SUPER_SCRUBBAR_CHANGE_POSITION_FORWARD,this.eventSeek),this.registerPixelEvent(k.J.SUPER_SCRUBBAR_CHANGE_POSITION_REWIND,this.eventSeek),this.registerPixelEvent(k.J.SUPER_REPLAY,this.eventReplay),this.registerPixelEvent(k.J.SUPER_INITIAL_PLAY,this.eventInitialPlay),this.registerPixelEvent(k.J.SUPER_SUBTITLE_ACTIVATION,this.eventSubtitleActivation),window.addEventListener("unload",this.eventUnload.bind(this)),this.log("Addon initialized")}dispose(){super.dispose(),this.eventUnload(),window.removeEventListener("unload",this.eventUnload)}log(...e){this.debugActive&&super.log(...e)}isSupported(){var e,t,i,r;if(!super.isSupported())return!1;if("undefined"==typeof ATInternet){if(0===(null!==(t=null===(e=this.conf.sdkUrls)||void 0===e?void 0:e.length)&&void 0!==t?t:0)||null===(r=null===(i=this.conf.sdkUrls)||void 0===i?void 0:i.some((e=>!(0,d.fp)(e))))||void 0===r||!r)return this.log("ATInternet class missing (from smarttag.js), no sdk configured"),!1;this.log("ATInternet class missing, sdk configured")}return!0}eventUnload(){var e;(null===(e=this.atiTag)||void 0===e?void 0:e.richMedia)&&(this.log("Unload"),this.atiTag.richMedia.removeAll(),this.atiTag=null)}eventPlayStream(){this.richMediaSend("play"),this.isPlaying=!0,this.playClick&&this.playClickOnce&&(this.playClickOnce=!1,this.clickSend("action"))}eventInitialPlay(){var e,t;this.log("Initial Play / Autoplay",this.pc.generic.isAutoplay),"function"!=typeof(null===(e=this.legacyPixelConfig)||void 0===e?void 0:e.track_player_pi)||this.pc.generic.isAutoplay||null===(t=this.legacyPixelConfig)||void 0===t||t.track_player_pi("Mobile Play")}eventReplay(){var e,t;"function"==typeof(null===(e=this.legacyPixelConfig)||void 0===e?void 0:e.track_player_pi)&&(null===(t=this.legacyPixelConfig)||void 0===t||t.track_player_pi("Erneut starten")),this.log("Erneut starten")}eventSubtitleActivation(){var e,t;"function"==typeof(null===(e=this.legacyPixelConfig)||void 0===e?void 0:e.track_player_pi)&&(null===(t=this.legacyPixelConfig)||void 0===t||t.track_player_pi("Untertitel")),this.log("UT")}eventSeek(){this.playClickOnce||(this.log("eventSeek"),this.richMediaSend("move"))}eventBuffering(e){this.buffering!==e.isBuffering&&(this.buffering=e.isBuffering,this.isPlaying&&this.richMediaSend("info",this.buffering))}eventPauseStream(){this.buffering&&this.richMediaSend("info",!1),this.isPlaying&&this.richMediaSend("pause"),this.isPlaying=!1}eventEndStream(){this.log("eventEndStream"),this.buffering&&(this.richMediaSend("info",!1),this.buffering=!1),this.isPlaying=!1,this.richMediaSend("stop"),this.playClickOnce=!0}richMediaSend(e,t=!1){var i;if(!this.atiTag)return void console.warn("AddonATISmartTag - tried to call richMediaSend without tag instance");const r=this.conf.richMedia;if(!r)return;const n={action:e,playerId:null!==(i=r.playerId)&&void 0!==i?i:"",mediaLabel:r.mediaLabel,mediaLevel2:r.mediaLevel2};r.mediaTheme1&&(n.mediaTheme1=r.mediaTheme1),r.mediaTheme2&&(n.mediaTheme2=r.mediaTheme2),r.mediaTheme3&&(n.mediaTheme3=r.mediaTheme3),"info"===e?(this.log("send buffering2",t),n.isBuffering=t):this.log("send "+e),this.atiTag.richMedia.send(n)}clickSend(e){var t,i;if(!this.atiTag)return void console.warn("AddonATISmartTag - tried to call clickSend without tag instance");const r=this.conf.richMedia;if(!r)return;const n=this.conf.page,a="video"===r.mediaType?"Video":"Audio",s={type:e,name:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:r.mediaLabel};void 0!==n?(s.level2=null!==(i=n.level2)&&void 0!==i?i:r.mediaLevel2,n.chapter1&&(s.chapter1=n.chapter1),n.chapter2&&(s.chapter2=n.chapter2),n.chapter3&&(s.chapter3=n.chapter3),n.chapter4&&(s.chapter4=n.chapter4),n.customObject&&(s.customObject=n.customObject),n.customVars&&(s.customVars=n.customVars)):(s.level2=r.mediaLevel2,s.chapter1=a+"-Start",r.mediaTheme1&&(s.chapter2=r.mediaTheme1),r.mediaTheme2&&(s.chapter3=r.mediaTheme2),r.mediaTheme3&&(s.chapter4=r.mediaTheme3)),this.atiTag.page.send(s)}}we=new WeakMap,function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(Ae||(Ae={})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(Ce||(Ce={})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(Ie||(Ie={}));const Pe="DNS",ke="Player",xe="Disabled",Re="no_cdn_http_header",Oe={NAME:"Beacon"},De={NAME:"HttpTransaction"},Me={NAME:"RepSwitch"},Ne={NAME:"BufferLevel",VIDEO:"video",AUDIO:"audio",TEXT:"text",SYNCED:"synced",MUXED:"muxed"},Ve={NAME:"Playback"},Ue={NAME:"LiveEdgeDelay"},Be={NAME:"ErrorMetric"},Fe={NAME:"StartupTime"};var He;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HTML_AUDIO=1]="HTML_AUDIO",e[e.HTML_VIDEO=2]="HTML_VIDEO",e[e.HLS=3]="HLS",e[e.DASH=4]="DASH"}(He||(He={}));class je extends r.gN{constructor(){super(...arguments),this.playerPlugin=He.UNKNOWN,this.sandLib=null,this.channel=null,this.beacon={playerType:"unknown",manifestCount:0,segmentCount:0,fatals:0,warnings:0},this.outstandingOptionals=[],this.delayedMetrics=[],this.streamID="unknown",this.streamtype="",this.manifest="",this.mcdnType=xe,this.playerType="unknown",this.metricInterval=2e3,this.reportinginterval=2e3,this.adaptiveReportingInterval=3e4,this.adaptiveIntervalInit=6e4,this.initAdaptiveIntervalID=null,this.adaptiveIntervalInitialized=!1,this.lastReportedValues=[],this.headIntervalID=null,this.headInterval=1e4,this.miscIntervalID=null,this.miscInterval=3e4,this.bufferLevelIntervalID=null,this.trequestF=-1,this.trequestL=-1,this.liveEdgeDelayIntervalID=null,this.initial_playout=!0,this.firstFrameTime=null,this.firstRepSwitch=!0,this.manifestLoadingInitialized=-1,this.manifestLoaded=-1,this.canPlay=-1,this.isStartupTimeReported=!1,this.lastReportedError={},this.mcdnStatistics=[],this.requestID=0,this.headLastRequest=Date.now(),this.eventLoadStream=()=>{var e,t,i;this.log(`EVENT_LOAD_STREAM playerId: ${this.player.getId()} - senderId: ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:""}`),null===(i=this.sandLib)||void 0===i||i.setSenderId(),this.setStreamID()},this.eventReady=()=>{var e,t;this.log(`EVENT_READY playerId: ${this.player.getId()} - senderId: ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:""}`);try{(this.hlsInUse||this.dashVideoInUse||this.htmlAudioInUse||this.htmlVideoInUse)&&(this.exitSAND(),this.initSAND())}catch(e){this.log(e)}},this.eventInit=()=>{var e,t;this.log(`EVENT_INIT [${this.player.getId()}] - ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:"NONE"}`),this.setPluginType()},this.eventPlayStream=()=>{var e,t;this.log(`EVENT_PLAY_STREAM [${this.player.getId()}] - ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:"NONE"}`)},this.eventPauseStream=()=>{var e,t;this.log(`EVENT_PAUSE_STREAM [${this.player.getId()}] - ${null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getSenderId())&&void 0!==t?t:"NONE"}`)},this.sendDelayedMetrics=()=>{var e;this.delayedMetrics.forEach((({key:e,value:t})=>{var i;return null===(i=this.sandLib)||void 0===i?void 0:i.addNewMetric(e,t)})),this.delayedMetrics=[],null===(e=this.sandLib)||void 0===e||e.reportMisc(this.manifest,this.streamtype)},this.sendBeacon=()=>{try{this.beacon.playerType=this.playerType,this.sandAddNewMetric(Oe.NAME,this.beacon),this.beacon.manifestCount=0,this.beacon.segmentCount=0,this.beacon.fatals=0,this.beacon.warnings=0}catch(e){this.log(e)}},this.stopReporting=()=>{try{this.stopEventBasedMetrics(),this.stopIntervalBasedMetrics()}catch(e){this.log(e)}},this.handleEventHlsFragLoading=(e,t)=>{try{this.log("Events.FRAG_LOADING",e,t),this.trequestF=Date.now()}catch(e){this.log(e)}},this.handleEventHlsLevelLoading=(e,t)=>{try{this.log("Events.LEVEL_LOADING",e,t),this.trequestL=Date.now()}catch(e){this.log(e)}},this.handleEventHlsLevelLoaded=(e,t)=>{var i,r,n,a,s,o;try{this.log("Events.LEVEL_LOADED",e,t),this.beacon.manifestCount++;let l=Re;if(this.mcdnType===Pe){const e=(null!==(r=null===(i=null==t?void 0:t.networkDetails)||void 0===i?void 0:i.getAllResponseHeaders())&&void 0!==r?r:"").toLowerCase();0!==e.indexOf("cdn:")&&-1===e.indexOf("\r\ncdn:")||(l=(null!==(a=null===(n=null==t?void 0:t.networkDetails)||void 0===n?void 0:n.getResponseHeader("cdn"))&&void 0!==a?a:Re).split(",")[0].trim().toLowerCase())}this.sandSetOptionalParam("cdn",l);const d=this.trequestL,u=Date.now(),c=u-d;this.sandAddNewMetric(De.NAME,{contentType:"application/x-mpegURL",actualurl:"",interval:c,range:-1,responsecode:null===(s=null==t?void 0:t.networkDetails)||void 0===s?void 0:s.status,t:Date.now(),tcpid:-1,trequest:d,tresponse:u,type:"Manifest",url:null===(o=null==t?void 0:t.details)||void 0===o?void 0:o.url,trace:[]})}catch(e){this.log(e)}},this.handleEventHlsLevelSwitching=(e,t)=>{try{this.log("Events.LEVEL_SWITCHING",e,t),this.sandSetOptionalParam("currentLevel",null==t?void 0:t.bitrate);const i=this.firstRepSwitch?200:0;this.firstRepSwitch=!1,this.player.safeTimeout((()=>{var e,i,r;this.sandAddNewMetric(Me.NAME,{mt:null!==(r=null===(i=null===(e=this.mediaPlayerHls)||void 0===e?void 0:e.media)||void 0===i?void 0:i.currentTime)&&void 0!==r?r:-1,t:+Date.now(),to:null==t?void 0:t.level,tobandwidth:(null==t?void 0:t.bitrate)/1e3,height:null==t?void 0:t.height,width:null==t?void 0:t.width,mediatype:"muxed"})}),i)}catch(e){this.log(e)}},this.handleEventHlsAudioTracksUpdated=(e,t)=>{try{this.log("Events.AUDIO_TRACKS_UPDATED",e,t)}catch(e){this.log(e)}},this.handleEventHlsAudioTrackLoaded=(e,t)=>{try{this.log("Events.AUDIO_TRACK_LOADED",e,t)}catch(e){this.log(e)}},this.handleEventPlaying=e=>{try{this.log("handleEventPlaying",e),this.firstFrameTime=e.timeStamp}catch(e){this.log(e)}},this.handleEventPlayback=e=>{var t;try{this.log("handleEventPlayback",e);const i=e.timeStamp;let r=-1;const n=null===(t=this.mediaPlayerHls)||void 0===t?void 0:t.media;n&&(r=n.currentTime);let a="",s=0,o=[];"play"===e.type&&(this.initial_playout?(a="initial_playout",this.initial_playout=!1,this.firstFrameTime||(s=5e3)):a="resume"),this.player.safeTimeout((()=>{s>0&&(o=[{representationid:"",representationbandwidth:-1,subreplevel:-1,start:new Date(this.firstFrameTime),mstart:0,duration:"",playbackspeed:-1,stopreason:""}]);const e={start:i,mstart:r,starttype:a,trace:o};this.sandAddNewMetric(Ve.NAME,e)}),s)}catch(e){this.log(e)}},this.handleEventPause=e=>{var t,i,r;this.log("handleEventPause",e),this.sandAddNewMetric(Ve.NAME,{start:e.timeStamp,mstart:null!==(r=null===(i=null===(t=this.mediaPlayerHls)||void 0===t?void 0:t.media)||void 0===i?void 0:i.currentTime)&&void 0!==r?r:-1,starttype:"pause"})},this.handleEventStartupTime=e=>{try{if(this.log("handleEventStartupTime",e),!this.isStartupTimeReported)if("loadstart"===e.type)this.manifestLoadingInitialized=Date.now();else if("loadedmetadata"===e.type)this.manifestLoaded=Date.now();else{this.canPlay=Date.now();const e=this.manifestLoadingInitialized&&this.manifestLoadingInitialized>-1?this.canPlay-this.manifestLoadingInitialized:this.canPlay-this.manifestLoaded,t={t:Date.now(),manifestLoadingInitialized:this.manifestLoadingInitialized,manifestLoaded:this.manifestLoaded,canPlay:this.canPlay,startupTime:e};this.sandAddNewMetric(Fe.NAME,t),this.isStartupTimeReported=!0}}catch(e){this.log(e)}},this.handleEventFpsDrop=(e,t)=>{var i;try{this.log("Events.FPS_DROP",e,t),null===(i=this.sandLib)||void 0===i||i.reportDroppedFrames()}catch(e){this.log(e)}},this.handleEventHlsError=(e,t)=>{var i,r,n,a,s,o,l,d,u,c,h,p,v,f,g,m,y,b,E,S,w,A,C,I,T,L,_,P,k,x,R,O,D,M,N,V,U;try{this.log("Events.ERROR",e,t);const B={t:Date.now(),type:null!==(i=null==t?void 0:t.type)&&void 0!==i?i:"GENERIC_ERROR_HLSJS",fatal:null==t?void 0:t.fatal,code:null!==(r=null==t?void 0:t.code)&&void 0!==r?r:null,message:null==t?void 0:t.details,raw:t,url:null!==(a=null!==(n=null==t?void 0:t.url)&&void 0!==n?n:null)&&void 0!==a?a:void 0};switch(B.code=null!==(o=null===(s=null==t?void 0:t.response)||void 0===s?void 0:s.code)&&void 0!==o?o:B.code,null==t?void 0:t.details){case Ae.MANIFEST_LOAD_ERROR:B.message=`Error while loading manifest: ${null!==(d=null===(l=null==t?void 0:t.context)||void 0===l?void 0:l.url)&&void 0!==d?d:"NO_URL"}`,B.url=null===(u=null==t?void 0:t.context)||void 0===u?void 0:u.url;break;case Ae.MANIFEST_LOAD_TIMEOUT:B.message=`Timeout while loading manifest: ${null!==(h=null===(c=null==t?void 0:t.context)||void 0===c?void 0:c.url)&&void 0!==h?h:"NO_URL"}`,B.url=null===(p=null==t?void 0:t.context)||void 0===p?void 0:p.url;break;case Ae.MANIFEST_PARSING_ERROR:B.message=`Error while parsing manifest: ${null!==(v=null==t?void 0:t.reason)&&void 0!==v?v:"NO_REASON"}`;break;case Ae.LEVEL_LOAD_ERROR:B.message=`Error while loading level playlist: ${null!==(g=null===(f=null==t?void 0:t.context)||void 0===f?void 0:f.url)&&void 0!==g?g:"NO_URL"}`,B.url=null===(m=null==t?void 0:t.context)||void 0===m?void 0:m.url;break;case Ae.LEVEL_LOAD_TIMEOUT:B.message=`Timeout while loading level playlist: ${null!==(b=null===(y=null==t?void 0:t.context)||void 0===y?void 0:y.url)&&void 0!==b?b:"NO_URL"}`,B.url=null===(E=null==t?void 0:t.context)||void 0===E?void 0:E.url;break;case Ae.LEVEL_SWITCH_ERROR:B.message=`Error while trying to switch to level ${null!==(S=null==t?void 0:t.level)&&void 0!==S?S:"NO_LEVEL"}`;break;case Ae.FRAG_LOAD_ERROR:B.message=`Error while loading fragment ${null!==(A=null===(w=null==t?void 0:t.frag)||void 0===w?void 0:w.url)&&void 0!==A?A:"NO_URL"}`,B.url=null===(C=null==t?void 0:t.context)||void 0===C?void 0:C.url;break;case Ae.FRAG_LOAD_TIMEOUT:B.message=`Timeout while loading fragment ${null!==(T=null===(I=null==t?void 0:t.frag)||void 0===I?void 0:I.url)&&void 0!==T?T:"NO_URL"}`,B.url=null===(L=null==t?void 0:t.context)||void 0===L?void 0:L.url;break;case Ae.FRAG_DECRYPT_ERROR:B.message=`Decrypting error: ${null!==(_=null==t?void 0:t.reason)&&void 0!==_?_:"NO_REASON"}`;break;case Ae.FRAG_PARSING_ERROR:B.message=`Parsing error: ${null!==(P=null==t?void 0:t.reason)&&void 0!==P?P:"NO_REASON"}`;break;case Ae.KEY_LOAD_ERROR:B.message=`Error while loading key ${null!==(R=null===(x=null===(k=null==t?void 0:t.frag)||void 0===k?void 0:k.decryptdata)||void 0===x?void 0:x.uri)&&void 0!==R?R:"NO_URI"}`;break;case Ae.KEY_LOAD_TIMEOUT:B.message=`Timeout while loading key ${null!==(M=null===(D=null===(O=null==t?void 0:t.frag)||void 0===O?void 0:O.decryptdata)||void 0===D?void 0:D.uri)&&void 0!==M?M:"NO_URI"}`;break;case Ae.BUFFER_APPEND_ERROR:B.message="Buffer append error";break;case Ae.BUFFER_ADD_CODEC_ERROR:B.message=`Buffer add codec error for ${null!==(N=null==t?void 0:t.mimeType)&&void 0!==N?N:"NO_MIME_TYPE"}:${null!==(U=null===(V=null==t?void 0:t.err)||void 0===V?void 0:V.message)&&void 0!==U?U:"NO_MESSAGE"}`;break;case Ae.BUFFER_APPENDING_ERROR:B.message="Buffer appending error";break;case Ae.BUFFER_STALLED_ERROR:B.message="Buffer stalled"}this.reportMetricErrorList(B)}catch(e){this.log(e)}},this.handleEventHlsManifestLoading=(e,t)=>{try{this.log("Events.MANIFEST_LOADING",e,t),this.streamtype="HLS",this.manifest=new URL(null==t?void 0:t.url,window.location.href).href,this.sandSetOptionalParam("manifest",this.manifest),this.checkCDN()}catch(e){this.log(e)}},this.handleEventHlsManifestLoaded=(e,t)=>{var i,r,n,a,s,o,l,d,u;try{this.log("Events.MANIFEST_LOADED",e,t),this.log("Events.MANIFEST_LOADED hls.nextLoadLevel",null===(i=this.mediaPlayerHls)||void 0===i?void 0:i.nextLoadLevel),this.log("Events.MANIFEST_LOADED levelBitrate:",null===(a=null==t?void 0:t.levels[null!==(n=null===(r=this.mediaPlayerHls)||void 0===r?void 0:r.nextLoadLevel)&&void 0!==n?n:0])||void 0===a?void 0:a.bitrate);let c=Re;if(this.mcdnType===Pe){const e=(null!==(o=null===(s=null==t?void 0:t.networkDetails)||void 0===s?void 0:s.getAllResponseHeaders())&&void 0!==o?o:"").toLowerCase();0!==e.indexOf("cdn:")&&-1===e.indexOf("\r\ncdn:")||(this.log("Events.MANIFEST_LOADED CDN:",null===(l=null==t?void 0:t.networkDetails)||void 0===l?void 0:l.getResponseHeader("cdn")),c=(null!==(u=null===(d=null==t?void 0:t.networkDetails)||void 0===d?void 0:d.getResponseHeader("cdn"))&&void 0!==u?u:Re).split(",")[0].trim().toLowerCase())}this.sandSetOptionalParam("cdn",c)}catch(e){this.log(e)}},this.handleEventHlsFragLoaded=(e,t)=>{var i,r,n,a,s,o,l,d,u,c,h,p,v,f,g,m,y;try{this.beacon.segmentCount++;let e=Re;if(this.mcdnType===Pe){const o=(null!==(r=null===(i=null==t?void 0:t.networkDetails)||void 0===i?void 0:i.getAllResponseHeaders())&&void 0!==r?r:"").toLowerCase();0!==o.indexOf("cdn:")&&-1===o.indexOf("\r\ncdn:")||(this.log("Events.FRAG_LOADED CDN:",null===(n=null==t?void 0:t.networkDetails)||void 0===n?void 0:n.getResponseHeader("cdn")),e=(null!==(s=null===(a=null==t?void 0:t.networkDetails)||void 0===a?void 0:a.getResponseHeader("cdn"))&&void 0!==s?s:Re).split(",")[0].trim().toLowerCase())}this.sandSetOptionalParam("cdn",e),(null===(l=null===(o=null==t?void 0:t.frag)||void 0===o?void 0:o.stats)||void 0===l?void 0:l.loading)&&(null==t?void 0:t.networkDetails)&&this.checkMCDNStatistics(null===(d=null==t?void 0:t.networkDetails)||void 0===d?void 0:d.responseURL,1e3*(null===(u=null==t?void 0:t.frag)||void 0===u?void 0:u.duration),(null===(p=null===(h=null===(c=null==t?void 0:t.frag)||void 0===c?void 0:c.stats)||void 0===h?void 0:h.loading)||void 0===p?void 0:p.end)-(null===(g=null===(f=null===(v=null==t?void 0:t.frag)||void 0===v?void 0:v.stats)||void 0===f?void 0:f.loading)||void 0===g?void 0:g.start));const b=[],E=this.trequestF,S=Date.now(),w={contentType:"video/MP2T",actualurl:"",interval:S-E,range:-1,responsecode:null===(m=null==t?void 0:t.networkDetails)||void 0===m?void 0:m.status,t:Date.now(),tcpid:-1,trequest:E,tresponse:S,type:"MediaSegment",url:null===(y=null==t?void 0:t.frag)||void 0===y?void 0:y.url,trace:b};this.sandAddNewMetric(De.NAME,w)}catch(e){this.log(e)}}}get ID(){return"AddonSAND"}get trackingKey(){return"SAND"}get hlsInUse(){return this.playerPlugin===He.HLS}get dashVideoInUse(){return this.playerPlugin===He.DASH}get htmlAudioInUse(){return this.playerPlugin===He.HTML_AUDIO}get htmlVideoInUse(){return this.playerPlugin===He.HTML_VIDEO}get htmlPlayer(){var e;const t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.mediaElement;return t instanceof HTMLMediaElement?t:null}get mediaPlayerHls(){var e,t;return this.playerPlugin===He.HLS&&null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.hlsInstance)&&void 0!==t?t:null}get mediaPlayerDash(){return null}startupHook(){return null===this.sandLib&&(i.e(907).then(i.t.bind(i,69903,19)).then((e=>{var t,i;this.sandLib=new e.SANDLibrary;const r=(null!==(i=null===(t=this.conf)||void 0===t?void 0:t.mcdnType)&&void 0!==i?i:"").toLowerCase();this.mcdnType=r===Pe.toLowerCase()?Pe:r===ke.toLowerCase()?ke:xe,e.SANDLibrary.setGlobalTimer&&e.SANDLibrary.setGlobalTimer({setTimeout:(e,t,...i)=>window.setTimeout((()=>{try{e(...i)}catch(e){}}),t),setInterval:(e,t,...i)=>{const r=window.setInterval((()=>{try{e(...i)}catch(e){window.clearInterval(r)}}),t);return r},clearTimeout:window.clearTimeout.bind(window),clearInterval:window.clearInterval.bind(window)}),this.player.ready(!0)})).catch((e=>{console.error("[AddonSAND] ERROR loading SAND Lib: ",e)})),!0)}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.EVENT_LOAD_STREAM,this.eventLoadStream),this.registerPlayerEvent(a.J.EVENT_READY,this.eventReady),this.registerPlayerEvent(a.J.EVENT_INIT,this.eventInit),this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,this.eventPlayStream),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,this.eventPauseStream),this.log("Plugin registered: AddonSAND"),!0)}dispose(){this.exitSAND(),super.dispose()}log(...e){this.isDebugMode()&&super.log(...e)}isSupported(){var e,t;return super.isSupported()&&null!==(t=null===(e=this.conf)||void 0===e?void 0:e.SANDEnabled)&&void 0!==t&&t}isDebugMode(){var e;return!!(null===(e=this.conf)||void 0===e?void 0:e.SANDDebug)}setPluginType(){let e=He.UNKNOWN;switch(this.player.currentPluginName){case"hls":e=He.HLS,this.playerType="hls.js";break;case"dashVideo":e=He.DASH,this.playerType="dash.js";break;case"htmlAudio":e=He.HTML_AUDIO,this.playerType="HTMLMediaElement";break;case"htmlVideo":e=He.HTML_VIDEO,this.playerType="HTMLMediaElement"}this.playerPlugin=e}initSAND(){var e,t,i,r,n,a,s,o,l,d,u,c,h,p,v,f,g,m,y,b,E,S,w,A,C;try{this.log(`initSAND [${null===(e=this.player)||void 0===e?void 0:e.getId()}]`),null===(t=this.sandLib)||void 0===t||t.setSenderId(),this.setStreamID();let I="",T="",L=["cdn","manifest"];switch(this.playerPlugin){case He.HLS:I="hls.js",T="",this.playerType="hls.js",L=["cdn","manifest","currentLevel","fragmentLoadIndicator"];break;case He.DASH:I="dash.js",T=null!==(r=null===(i=this.mediaPlayerDash)||void 0===i?void 0:i.getVersion())&&void 0!==r?r:"",this.playerType="dash.js";break;case He.HTML_AUDIO:case He.HTML_VIDEO:I="HTMLMediaElement",T="(Type 1)",this.playerType="HTMLMediaElement"}switch(null===(n=this.sandLib)||void 0===n||n.setPlayer([I,T].join(" ")),null===(a=this.sandLib)||void 0===a||a.setReferrer(window.location.href),null===(s=this.sandLib)||void 0===s||s.updateSANDChannelConfiguration(null!==(l=null===(o=this.conf)||void 0===o?void 0:o.reporting)&&void 0!==l?l:[],this.channel?[this.channel]:[],null!==(u=null===(d=this.conf)||void 0===d?void 0:d.configuration)&&void 0!==u?u:{}),null===(c=this.sandLib)||void 0===c||c.getChannelController().getChannels().forEach((e=>{var t,i,r,n;e.registerSendCallback(this.onMessageSent),e.setMessageInterval(null!==(n=null===(r=null===(i=null===(t=this.conf)||void 0===t?void 0:t.configuration)||void 0===i?void 0:i.defaults)||void 0===r?void 0:r.reportingInterval)&&void 0!==n?n:2e3)})),this.sandSetOptionalParam("customerID",null===(p=null===(h=this.conf)||void 0===h?void 0:h.configuration)||void 0===p?void 0:p.customerID),this.sandSetOptionalParam("mcdnType",this.mcdnType),this.sandSetOptionalParam("streamID",this.getStreamID()),this.sandSetOptionalParam("cdn",Re),this.sandSetOptionalParam("currentLevel",-1),this.sandSetOptionalParam("fragmentLoadIndicator",-1),this.sandSetOptionalParam("streamtype",""),this.log(`SAND Adapter for ARD-Player initialized @${new Date(null!==(f=null===(v=this.sandLib)||void 0===v?void 0:v.getInitTS())&&void 0!==f?f:Date.now()).toISOString()}`),this.log(`clientID: ${null!==(m=null===(g=this.sandLib)||void 0===g?void 0:g.getClientId())&&void 0!==m?m:""}`),this.log(`streamingSessionID: ${null!==(b=null===(y=this.sandLib)||void 0===y?void 0:y.getStreamingSessionId())&&void 0!==b?b:""}`),this.playerPlugin){case He.HLS:null===(S=null===(E=this.mediaPlayerHls)||void 0===E?void 0:E.media)||void 0===S||S.addEventListener("ended",this.stopReporting),this.mediaPlayerHls&&(this.mediaPlayerHls.on(Ie.MEDIA_DETACHED,this.stopReporting),this.mediaPlayerHls.on(Ie.DESTROYING,this.stopReporting));break;case He.DASH:null===(A=null===(w=this.mediaPlayerDash)||void 0===w?void 0:w.getVideoElement())||void 0===A||A.addEventListener("ended",this.stopReporting);case He.HTML_AUDIO:case He.HTML_VIDEO:}null===(C=this.htmlPlayer)||void 0===C||C.addEventListener("ended",this.stopReporting),this.outstandingOptionals=L.slice(0),this.startReporting()}catch(e){this.log(e)}}exitSAND(){var e,t,i,r,n,a,s;try{switch(this.log(`exitSAND [${null===(e=this.player)||void 0===e?void 0:e.getId()}]`),this.stopReporting(),this.playerPlugin){case He.HLS:null===(i=null===(t=this.mediaPlayerHls)||void 0===t?void 0:t.media)||void 0===i||i.removeEventListener("ended",this.stopReporting),this.mediaPlayerHls&&(this.mediaPlayerHls.off(Ie.MEDIA_DETACHED,this.stopReporting),this.mediaPlayerHls.off(Ie.DESTROYING,this.stopReporting));break;case He.DASH:null===(n=null===(r=this.mediaPlayerDash)||void 0===r?void 0:r.getVideoElement())||void 0===n||n.removeEventListener("ended",this.stopReporting);case He.HTML_AUDIO:case He.HTML_VIDEO:}null===(a=this.htmlPlayer)||void 0===a||a.removeEventListener("ended",this.stopReporting),null===(s=this.sandLib)||void 0===s||s.removeAllChannels()}catch(e){this.log(e)}}sandSetOptionalParam(e,t){var i;if(this.log("setOptionalParam",e,t),null===(i=this.sandLib)||void 0===i||i.setOptionalParam(e,t),this.outstandingOptionals.length>0){const t=this.outstandingOptionals.indexOf(e);t>-1&&(this.outstandingOptionals.splice(t,1),0===this.outstandingOptionals.length&&this.sendDelayedMetrics())}}setStreamingSessionID(e){var t,i,r,n,a,s,o,l,d;const u=null!==(i=null===(t=this.sandLib)||void 0===t?void 0:t.getSenderId())&&void 0!==i?i:"";if(u.indexOf("--")>-1&&u.length>2){const t=null!==(n=null===(r=this.sandLib)||void 0===r?void 0:r.getClientId())&&void 0!==n?n:"";null===(a=this.sandLib)||void 0===a||a.setSenderId([t,e].join("--"))}else{null===(s=this.sandLib)||void 0===s||s.setSenderId();const t=null!==(l=null===(o=this.sandLib)||void 0===o?void 0:o.getClientId())&&void 0!==l?l:"";null===(d=this.sandLib)||void 0===d||d.setSenderId([t,e].join("--"))}}getStreamingSessionID(){var e,t;return null!==(t=null===(e=this.sandLib)||void 0===e?void 0:e.getStreamingSessionId())&&void 0!==t?t:""}setStreamID(e){this.streamID=void 0!==e?e:this.player.model.mediaCollection.id?this.player.model.mediaCollection.id:"unknown",this.sandSetOptionalParam("streamID",this.getStreamID())}getStreamID(){return this.streamID}setManifestUrl(){var e,t,i,r,n;let a,s=0;switch(this.playerPlugin){case He.HLS:case He.DASH:break;case He.HTML_AUDIO:case He.HTML_VIDEO:s=null!==(e=Number(this.player.currentMedia))&&void 0!==e?e:0,a=null!==(n=null===(r=null===(i=null===(t=this.player)||void 0===t?void 0:t.currentStream)||void 0===i?void 0:i.media[s])||void 0===r?void 0:r.url)&&void 0!==n?n:void 0}a&&a.length>1?(this.manifest=a,this.sandSetOptionalParam("manifest",a)):this.player.safeTimeout((()=>{this.setManifestUrl()}),100)}sandAddNewMetric(e,t){var i;this.log("addNewMetric",e,t);const r=Object.assign({t:Date.now()},t);this.outstandingOptionals.length>0?this.delayedMetrics.push({key:e,value:r}):null===(i=this.sandLib)||void 0===i||i.addNewMetric(e,r)}sandReportMisc(){var e;this.log("reportMisc",this.manifest,this.streamtype),0===this.outstandingOptionals.length&&(null===(e=this.sandLib)||void 0===e||e.reportMisc(this.manifest,this.streamtype))}startReporting(){var e,t,i,r,n,a,s,o,l,d,u,c,h,p,v,f;try{this.initEventBasedMetrics(),this.initAdaptiveInterval(null!==(r=null===(i=null===(t=null===(e=this.conf)||void 0===e?void 0:e.configuration)||void 0===t?void 0:t.adaptiveInterval)||void 0===i?void 0:i.init)&&void 0!==r?r:1e4),this.initMiscIntervalReporting(null!==(o=null===(s=null===(a=null===(n=this.conf)||void 0===n?void 0:n.configuration)||void 0===a?void 0:a.defaults)||void 0===s?void 0:s.miscInterval)&&void 0!==o?o:3e4),this.initIntervalBasedMetrics(null!==(c=null===(u=null===(d=null===(l=this.conf)||void 0===l?void 0:l.configuration)||void 0===d?void 0:d.defaults)||void 0===u?void 0:u.metricInterval)&&void 0!==c?c:2e3),this.setManifestUrl(),this.mcdnType===Pe?this.initHeadIntervalRequest(null!==(f=null===(v=null===(p=null===(h=this.conf)||void 0===h?void 0:h.configuration)||void 0===p?void 0:p.defaults)||void 0===v?void 0:v.headInterval)&&void 0!==f?f:3e4):(this.sandSetOptionalParam("cdn",Re),this.sandSetOptionalParam("currentLevel",-1),this.sandSetOptionalParam("fragmentLoadIndicator",-1),this.sandSetOptionalParam("streamtype",""))}catch(e){this.log(e)}}initEventBasedMetrics(){try{switch(this.playerPlugin){case He.HLS:this.mediaPlayerHls&&(this.mediaPlayerHls.on(Ie.MANIFEST_LOADING,this.handleEventHlsManifestLoading),this.mediaPlayerHls.on(Ie.MANIFEST_LOADED,this.handleEventHlsManifestLoaded),this.mediaPlayerHls.on(Ie.LEVEL_LOADING,this.handleEventHlsLevelLoading),this.mediaPlayerHls.on(Ie.LEVEL_LOADED,this.handleEventHlsLevelLoaded),this.mediaPlayerHls.on(Ie.LEVEL_SWITCHING,this.handleEventHlsLevelSwitching),this.mediaPlayerHls.on(Ie.AUDIO_TRACKS_UPDATED,this.handleEventHlsAudioTracksUpdated),this.mediaPlayerHls.on(Ie.AUDIO_TRACK_LOADED,this.handleEventHlsAudioTrackLoaded),this.mediaPlayerHls.on(Ie.FRAG_LOADING,this.handleEventHlsFragLoading),this.mediaPlayerHls.on(Ie.FRAG_LOADED,this.handleEventHlsFragLoaded),this.mediaPlayerHls.on(Ie.FPS_DROP,this.handleEventFpsDrop),this.mediaPlayerHls.on(Ie.ERROR,this.handleEventHlsError));case He.DASH:case He.HTML_AUDIO:case He.HTML_VIDEO:}const e=this.htmlPlayer;e&&(e.addEventListener("loadstart",this.handleEventStartupTime),e.addEventListener("loadedmetadata",this.handleEventStartupTime),e.addEventListener("canplay",this.handleEventStartupTime),e.addEventListener("play",this.handleEventPlayback),e.addEventListener("playing",this.handleEventPlaying),e.addEventListener("pause",this.handleEventPause))}catch(e){this.log(e)}}initAdaptiveInterval(e){try{this.initAdaptiveIntervalID=this.player.safeTimeout((()=>{var e,t,i,r,n;this.adaptiveIntervalInitialized=!0,null===(e=this.sandLib)||void 0===e||e.getChannelController().getChannels().forEach((e=>{var t,i,r,n;e.setMessageInterval(null!==(n=null===(r=null===(i=null===(t=this.conf)||void 0===t?void 0:t.configuration)||void 0===i?void 0:i.adaptiveInterval)||void 0===r?void 0:r.reportingInterval)&&void 0!==n?n:3e4)})),this.clearIntervalBasedMetrics(),this.initIntervalBasedMetrics(null!==(n=null===(r=null===(i=null===(t=this.conf)||void 0===t?void 0:t.configuration)||void 0===i?void 0:i.adaptiveInterval)||void 0===r?void 0:r.metricInterval)&&void 0!==n?n:3e4)}),e)}catch(e){this.log(e)}}initMiscIntervalReporting(e){this.sendBeacon(),this.miscIntervalID=this.player.safeInterval((()=>{try{this.sendBeacon(),this.sandReportMisc()}catch(e){this.log(e)}}),e)}initIntervalBasedMetrics(e){try{switch(this.initBufferLevelIntervalReporting(e),this.playerPlugin){case He.HLS:case He.DASH:this.initLiveEdgeDelayIntervalReporting(e)}}catch(e){this.log(e)}}clearIntervalBasedMetrics(){clearInterval(this.bufferLevelIntervalID),clearInterval(this.liveEdgeDelayIntervalID)}initHeadIntervalRequest(e){this.headIntervalID=this.player.safeInterval((()=>{try{const e=Date.now()-this.headLastRequest;this.manifest&&e>=this.headInterval&&this.checkXHRHeadRequest(this.manifest,null)}catch(e){this.log(e)}}),e)}stopEventBasedMetrics(){try{switch(this.playerPlugin){case He.HLS:this.mediaPlayerHls&&(this.mediaPlayerHls.off(Ie.MANIFEST_LOADING,this.handleEventHlsManifestLoading),this.mediaPlayerHls.off(Ie.MANIFEST_LOADED,this.handleEventHlsManifestLoaded),this.mediaPlayerHls.off(Ie.LEVEL_LOADING,this.handleEventHlsLevelLoading),this.mediaPlayerHls.off(Ie.LEVEL_LOADED,this.handleEventHlsLevelLoaded),this.mediaPlayerHls.off(Ie.LEVEL_SWITCHING,this.handleEventHlsLevelSwitching),this.mediaPlayerHls.off(Ie.AUDIO_TRACKS_UPDATED,this.handleEventHlsAudioTracksUpdated),this.mediaPlayerHls.off(Ie.AUDIO_TRACK_LOADED,this.handleEventHlsAudioTrackLoaded),this.mediaPlayerHls.off(Ie.FRAG_LOADING,this.handleEventHlsFragLoading),this.mediaPlayerHls.off(Ie.FRAG_LOADED,this.handleEventHlsFragLoaded),this.mediaPlayerHls.off(Ie.FPS_DROP,this.handleEventFpsDrop),this.mediaPlayerHls.off(Ie.ERROR,this.handleEventHlsError));case He.DASH:case He.HTML_AUDIO:case He.HTML_VIDEO:}const e=this.htmlPlayer;e&&(e.removeEventListener("loadstart",this.handleEventStartupTime),e.removeEventListener("loadedmetadata",this.handleEventStartupTime),e.removeEventListener("canplay",this.handleEventStartupTime),e.removeEventListener("play",this.handleEventPlayback),e.removeEventListener("playing",this.handleEventPlaying))}catch(e){this.log(e)}}stopIntervalBasedMetrics(){try{clearInterval(this.initAdaptiveIntervalID),clearInterval(this.miscIntervalID),clearInterval(this.headIntervalID),clearInterval(this.bufferLevelIntervalID),clearInterval(this.liveEdgeDelayIntervalID)}catch(e){this.log(e)}}initBufferLevelIntervalReporting(e){this.bufferLevelIntervalID=this.player.safeInterval((()=>{var e,t,i,r,n,a,s,o,l,d,u,c,h;try{let p=-1,v=Ne.MUXED;if(null===(t=null===(e=this.htmlPlayer)||void 0===e?void 0:e.buffered)||void 0===t?void 0:t.length)p=this.htmlPlayer.buffered.end(0)-this.htmlPlayer.currentTime,v=Ne.MUXED;else switch(this.playerPlugin){case He.HLS:(null===(n=null===(r=null===(i=this.mediaPlayerHls)||void 0===i?void 0:i.media)||void 0===r?void 0:r.buffered)||void 0===n?void 0:n.length)&&(p=(null===(s=null===(a=this.mediaPlayerHls)||void 0===a?void 0:a.media)||void 0===s?void 0:s.buffered.end(0))-(null===(l=null===(o=this.mediaPlayerHls)||void 0===o?void 0:o.media)||void 0===l?void 0:l.currentTime),v=Ne.MUXED);break;case He.DASH:(null===(d=this.mediaPlayerDash)||void 0===d?void 0:d.getBufferLength("video"))&&(p=null===(u=this.mediaPlayerDash)||void 0===u?void 0:u.getBufferLength("video"),v=Ne.VIDEO);break;case He.HTML_AUDIO:(null===(h=null===(c=this.htmlPlayer)||void 0===c?void 0:c.buffered)||void 0===h?void 0:h.length)&&(p=this.htmlPlayer.buffered.end(0)-this.htmlPlayer.currentTime,v=Ne.AUDIO)}isNaN(p)||(p=Math.max(1e3*p,0),this.handleEventBufferLevel(v,p,Date.now()))}catch(e){this.log(e)}}),e)}handleEventBufferLevel(e,t,i){try{const r={t:i,level:t,bufferType:e};this.log("handleEventBufferLevel",r),this.shouldReportIntervalDrivenMetric(Ne.NAME,r)&&(this.sandAddNewMetric(Ne.NAME,r),this.lastReportedValues[Ne.NAME]=r)}catch(e){this.log(e)}}initLiveEdgeDelayIntervalReporting(e){this.liveEdgeDelayIntervalID=this.player.safeInterval((()=>{var e,t;try{let i=-1;switch(this.playerPlugin){case He.HLS:this.player.isLive&&this.mediaPlayerHls&&"latency"in this.mediaPlayerHls&&(i=this.mediaPlayerHls.latency,this.handleEventLiveEdgeDelay(i,Date.now()));break;case He.DASH:(null===(e=this.mediaPlayerDash)||void 0===e?void 0:e.getCurrentLiveLatency())&&(i=null===(t=this.mediaPlayerDash)||void 0===t?void 0:t.getCurrentLiveLatency())}!isNaN(i)&&i>-1&&(i=Math.max(1e3*i,0),this.handleEventLiveEdgeDelay(i,Date.now()))}catch(e){this.log(e)}}),e)}handleEventLiveEdgeDelay(e,t){try{const i={t,delay:e};this.log("handleEventLiveEdgeDelay"),this.shouldReportIntervalDrivenMetric(Ue.NAME,i)&&(this.sandAddNewMetric(Ue.NAME,i),this.lastReportedValues[Ue.NAME]=i)}catch(e){this.log(e)}}checkCDN(){try{switch(this.log(`checkCDN [${this.mcdnType}]`),this.mcdnType){case Pe:this.checkXHRHeadRequest(this.manifest,null);break;case ke:switch(this.playerPlugin){case He.HLS:this.mediaPlayerHls&&this.mediaPlayerHls.on(Ie.FRAG_LOADED,((e,t)=>{var i,r;this.sandSetOptionalParam("cdn",null===(r=null===(i=null==t?void 0:t.frag)||void 0===i?void 0:i.url)||void 0===r?void 0:r.split("/")[2])}));case He.DASH:case He.HTML_AUDIO:case He.HTML_VIDEO:}break;default:this.sandSetOptionalParam("cdn",Re)}}catch(e){this.log(e)}}checkErrorHasBeenReported(e){try{return this.lastReportedError.t===e.t&&this.lastReportedError.type===e.type&&this.lastReportedError.message===e.message}catch(e){return this.log(e),!1}}reportMetricErrorList(e){try{this.checkErrorHasBeenReported(e)||(this.beacon[e.fatal?"fatals":"warnings"]+=1,this.sandAddNewMetric(Be.NAME,e),this.lastReportedError=e)}catch(e){this.log(e)}}checkXHRHeadRequest(e,t){let i=!1,r=!1;try{const n=Date.now(),a=n-this.headLastRequest;if(e&&a>=this.headInterval){this.headLastRequest=n;let a=Re;this.mcdnStatistics.length<1&&(this.mcdnStatistics=[{n:a}]);const s=`${e}${e.indexOf("?")>0?"&":"?"}rn=${this.requestID}`,o=()=>{r||(this.log("SAND: Error accessing MediaUrl Headers from: "+s),r=!0),i||t&&(i=!0,t())},l=new XMLHttpRequest;l.open("HEAD",s),l.onreadystatechange=()=>{var e;if(l.readyState&&2===l.readyState)if(this.requestID++,l.status&&200===l.status){const r=(null!==(e=l.getAllResponseHeaders())&&void 0!==e?e:"").toLowerCase();if(0===r.indexOf("cdn:")||-1!==r.indexOf("\r\ncdn:")){const e=l.getResponseHeader("cdn");a=null!==e?this.checkXHRHeaderValues(e):Re}this.mcdnStatistics[0].n=a,this.sandSetOptionalParam("cdn",a),i||t&&(i=!0,t())}else o()},l.onerror=o,l.ontimeout=o,l.send()}else this.log(`SAND: last XHR-HEAD-request was ${a} ms ago`)}catch(n){this.log(n),r||(this.log("error","SAND: Error accessing MediaUrl Headers from: "+e),r=!0),i||t&&(i=!0,t())}}checkXHRHeaderValues(e){try{return((null==e?void 0:e.includes(","))?e.substring(0,e.indexOf(",")):e).toLowerCase()}catch(e){return this.log(e),Re}}checkMCDNStatistics(e,t,i){var r,n;try{if(this.mcdnType===xe)return;if(!e||!(t>0&&i>0)||this.mcdnType!==ke&&this.mcdnType!==Pe&&this.mcdnType!==xe)return this.log("SAND: Error in checkMCDNStatistics(string, number, number) arguments from: "+e);let a,s=null;switch(this.mcdnType){case ke:if(a=e.split("/")[2],!a)return this.log("SAND: Could not parse host name from: "+e);a.indexOf("?")>0&&(a=a.split("?")[0]);for(let e=0;e<this.mcdnStatistics.length;e++)this.mcdnStatistics[e].n===a&&(s=this.mcdnStatistics[e]);s||this.mcdnStatistics.push(s={n:a,fc:0,flit:0});break;case Pe:0===this.mcdnStatistics.length&&this.mcdnStatistics.push({n:Re,fc:0,flit:0}),s=this.mcdnStatistics[0]}if(s&&!e.toLowerCase().includes(".m3u8")&&!e.toLowerCase().includes(".mpd")){s.fc=(null!==(r=s.fc)&&void 0!==r?r:0)+1;const e=Math.round(i/t*100)/100;s.flit=Math.round(100*((null!==(n=s.flit)&&void 0!==n?n:0)+e))/100,this.sandSetOptionalParam("fragmentLoadIndicator",s.flit/s.fc)}}catch(e){this.log(e)}}getSessionInfos(){var e,t,i;try{return{initTS:null===(e=this.sandLib)||void 0===e?void 0:e.getInitTS(),clientID:null===(t=this.sandLib)||void 0===t?void 0:t.getClientId(),streamingSessionID:null===(i=this.sandLib)||void 0===i?void 0:i.getStreamingSessionId()}}catch(e){return this.log(e),{}}}shouldReportIntervalDrivenMetric(e,t){var i,r,n,a,s,o,l,d,u,c,h;try{if(this.adaptiveIntervalInitialized){if(!this.lastReportedValues||!this.lastReportedValues[e])return!0;if(Date.now()-this.lastReportedValues[e].t>3e4)return!0;if((null===(i=null==t?void 0:t.stalled)||void 0===i?void 0:i.length)>0)return!0;switch(e){case"BufferLevel":return this.isThresholdReached(t.level,this.lastReportedValues[e].level,null!==(o=null===(s=null===(a=null===(n=null===(r=this.conf)||void 0===r?void 0:r.configuration)||void 0===n?void 0:n.adaptiveInterval)||void 0===a?void 0:a.threshold)||void 0===s?void 0:s.bufferLevelFactor)&&void 0!==o?o:1);case"LiveEdgeDelayList":return this.isThresholdReached(t.delay,this.lastReportedValues[e].delay,null!==(h=null===(c=null===(u=null===(d=null===(l=this.conf)||void 0===l?void 0:l.configuration)||void 0===d?void 0:d.adaptiveInterval)||void 0===u?void 0:u.threshold)||void 0===c?void 0:c.liveEdgeDelayFactor)&&void 0!==h?h:1)}}return!0}catch(e){return this.log(e),!1}}isThresholdReached(e,t,i){try{return e!==t&&(!e||!t||(e/t>i||t/e>i))}catch(e){return this.log(e),!1}}onMessageSent(e,t){try{this.log("info",t),this.mcdnStatistics=[]}catch(e){this.log(e)}}}var Ge,We,qe,Ke=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},ze=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Je=/maybe|probably/i,Ye=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},$e=/maybe|probably/i,Qe=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Xe=[{Clazz:{exports:{name:"hls",library(){return Ke(this,void 0,void 0,(function*(){return(yield i.e(377).then(i.bind(i,89484))).default}))},canPlay:(e,t)=>!n.q.browserIsSafari&&!n.q.isIOSDevice&&"application/vnd.apple.mpegurl"===e.mimeType&&(!n.q.isEmbedded||(n.q.debugBuild&&u.iV.warn("debug build: allowing HLS despite isEmbedded"),n.q.debugBuild)),priority:1,canSubSelectQualities:()=>!0}},package:"ardplayer-plugin-hls",type:"plugin",version:"bundled"},{Clazz:{exports:{name:"htmlAudio",library(){return ze(this,void 0,void 0,(function*(){return(yield i.e(663).then(i.bind(i,31217))).default}))},canPlay(e,t){if(!t||n.q.isEmbedded)return!1;if("MediaSource"in window&&MediaSource.isTypeSupported(e.mimeType))return!0;var i=document.createElement("audio");if(!i||!i.canPlayType)return!1;if(Je.test(i.canPlayType(e.mimeType)))return!0;var r=/.*\.(\w{3,})(\??.*)$/gim.exec(e.url);if(r&&r.length>1){var a=r[1],s=!1;switch(a){case"m3u":case"m3u8":s=Je.test(i.canPlayType("audio/x-mpegurl"));break;case"mp3":s=Je.test(i.canPlayType("audio/mpeg"))}return s||Je.test(i.canPlayType("audio/"+a))}return!1},priority:0,canSubSelectQualities:()=>!1}},package:"ardplayer-plugin-html-audio",type:"plugin",version:"bundled"},{Clazz:{exports:{name:"htmlVideo",library(){return Ye(this,void 0,void 0,(function*(){return(yield i.e(738).then(i.bind(i,77130))).default}))},canPlay(e,t){if(t)return!1;if(n.q.isEmbedded){if(!n.q.debugBuild)return!1;u.iV.warn("debug build: allowing HTMLVideo despite isEmbedded")}if("MediaSource"in window&&MediaSource.isTypeSupported(e.mimeType))return!0;var i=document.createElement("video");if(!i||!i.canPlayType)return!1;if($e.test(i.canPlayType(e.mimeType)))return!0;if(Number.isInteger(e.fallbackGroup)&&!(0,d.fp)(e.mimeType))return!1;var r=/.*\.(\w{3,})(\??.*)$/gim.exec(e.url);if(r&&r.length>1){var a=r[1],s=!1;switch(a){case"mp4":s=$e.test(i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'));break;case"ogg":s=$e.test(i.canPlayType('video/ogg; codecs="theora"'));break;case"webm":s=$e.test(i.canPlayType('video/webm; codecs="vp8, vorbis"'));break;case"m3u8":s=$e.test(i.canPlayType("application/x-mpegURL"))}return s||$e.test(i.canPlayType("video/"+a))}return!1},priority:0,canSubSelectQualities:()=>!1}},package:"ardplayer-plugin-html-video",type:"plugin",version:"bundled"},{Clazz:{exports:{name:"dashVideo",library(){return Qe(this,void 0,void 0,(function*(){return(yield i.e(98).then(i.bind(i,50023))).default}))},canPlay:(e,t)=>!t&&(!n.q.isIOSDevice||n.q.isIPadDevice)&&"application/dash+xml"===e.mimeType&&!n.q.isEmbedded,priority:2,canSubSelectQualities:()=>!0}},package:"ardplayer-plugin-dash-video",type:"plugin",version:"bundled"}],Ze=i(92284),et=i(4178),tt=i(84169),it=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},rt=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},nt=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},at=class extends Ze.x{constructor(){super(...arguments),Ge.set(this,null),We.set(this,null),qe.set(this,null)}get BaseId(){return"BottomSheet-DOM"}setHandler(e){rt(this,Ge,e,"f"),null!=nt(this,We,"f")&&(nt(this,We,"f").callbackHandler=e)}get listRenderer(){if(null==nt(this,We,"f")){var e=this.player.viewCtrl.bottomSheet,t=e._domContext;rt(this,We,new st(t.content,t.contentWrapper,t.title,{addSyntheticScreen:(t,i)=>{var r,n,a=null===(n=null===(r=e.activeScreen)||void 0===r?void 0:r.addon)||void 0===n?void 0:n.syntheticScreens;null!=a&&(a[t]={render:i})},showSyntheticScreen:t=>{var i,r=null===(i=null==e?void 0:e.activeScreen)||void 0===i?void 0:i.addon;null!=r&&e.nextScreen(r,t,null)}}),"f"),nt(this,We,"f").callbackHandler=nt(this,Ge,"f")}return nt(this,We,"f")}createManager(e,t,i,r){return null==nt(this,qe,"f")&&rt(this,qe,new ot(e,t,i,r,this),"f"),nt(this,qe,"f")}supportsPlatform(e){return"web"===e}};Ge=new WeakMap,We=new WeakMap,qe=new WeakMap,at=it([et.V],at);class st{constructor(e,t,i,r){var n;this.domRoot=e,this.contentWrapper=t,this.domTitle=i,this.context=r,this.disposables=[],this.callbackHandler=null,this.callbackHandlerInternal=(n=this,{back(){var e;n.clearDisposables(),null===(e=n.callbackHandler)||void 0===e||e.back()},close(){var e;n.clearDisposables(),null===(e=n.callbackHandler)||void 0===e||e.close()}})}clearDisposables(){this.disposables.forEach((e=>e.dispose())),this.disposables.splice(0)}renderDisplayList(e){this.clearDisposables(),this.domTitle.innerText=e.title,st.renderTree(e,e.focusRequest,this.domRoot,this,this.callbackHandlerInternal)}updateDisplayList(e,t){u.iV.warn("updateDisplayList called - make sure dom renderers replace generic update impl with in-situ update function"),this.renderDisplayList(e)}static renderTree(e,t,i,r,n,a){e.children.forEach((e=>{var s,o,l,u,c,h,p,v=null,f=null;switch(e.type){case"hContainer":v=st.createHorizontalContainer(i,e.cssClass);break;case"scrollingHContainer":var g=st.renderHorizontalScroller(i,e.cssClass,e.contentSelector);v=g.container,f=()=>{g.sealContainer(r.disposables)},p=(e,t)=>{g.addImpressionTarget(e,t,r.disposables)};break;case"vContainer":v=st.createVerticalContainer(i,e.cssClass);break;case"updatingVContainer":v=st.createVerticalContainer(i,e.cssClass),e.replaceContent=t=>{var i,n,a,s=document.activeElement&&(null==v?void 0:v.contains(document.activeElement))&&null!==(a=null===(n=null===(i=document.activeElement)||void 0===i?void 0:i.dataset)||void 0===n?void 0:n.displayNodeId)&&void 0!==a?a:null,o=e.children,l=r.contentWrapper.scrollTop;if((0,d.cS)(v),e.children=[],t(e),v&&e.children.length>0)if(this.renderTree(e,null,v,r),(0,d.fp)(s))r.contentWrapper.scrollTop=l;else{var u=v.querySelector('[data-display-node-id="'+s+'"]');if(!u){for(var c=o.findIndex((e=>(0,I.F$)(e)&&e.id===s));c>=0&&!u;c--)u=v.querySelector('[data-display-node-id="'+o[c].id+'"]');u||(u=v.querySelector("[data-display-node-id]"))}(0,A.n6)(u,!0)}};break;case"h":v=st.renderHeading(i,e.content,null!==(s=e.ariaLabel)&&void 0!==s?s:void 0,"heading",e.level);break;case"chip":v=st.renderChip(i,e.content,null!==(o=e.ariaLabel)&&void 0!==o?o:void 0,e.highlight);break;case"byline":v=st.renderByline(i,e.content,null!==(l=e.ariaLabel)&&void 0!==l?l:void 0,e.allowHtml);break;case"paragraph":v=st.renderBodyText(i,e.content,null!==(u=e.ariaLabel)&&void 0!==u?u:void 0,e.allowHtml);break;case"select":var m=st.renderSelect(r.context,i,e.content,e.values,e.selectedIndex,e.callbacks.optionSelected,e.callbacks.isOptionEnabled,n);e.updateEnabledOptions=m.updateEnabledOptions,e.updateSelection=m.updateSelection,e.updateValues=m.updateValues;break;case"button":(0,d.nx)(st.renderButton(i,e.content,null!==(c=e.icon)&&void 0!==c?c:void 0,e.primary,e.pill,null!==(h=e.endIcon)&&void 0!==h?h:void 0),e.onClick);break;case"teaser":v=st.renderTeaser(i,e),(0,d.nx)(v,(()=>{e.onClick()}));break;case"jumpmark":[v,e.updateRender]=st.renderJumpmark(i,e),(0,d.nx)(v,(()=>{e.onClick()}));break;case"internal":"domRenderer"===e.internalFor&&i.appendChild(e.domContent);break;default:v=st.renderElem(i,null,"URenderer("+e.type+"): "+e.content,null,"p")}null!=v&&((0,I.pr)(e)&&e.children.length>0&&this.renderTree(e,t,v,r,void 0,p),(0,I.F$)(e)&&(v.dataset.displayNodeId=e.id,t&&e.id===t&&(v.dataset.bsFocusRequest="true")),a&&a(e,v)),null!=f&&f()}))}static renderDomNode(e,t){var i={type:"internal",internalFor:"domRenderer",domContent:t,children:[],content:""};return e.children.push(i),i}static renderElem(e,t,i,r,n,a){void 0===a&&(a=!1);var s=document.createElement(n);return a?s.innerHTML=i:s.innerText=i,null!==t&&(s.className=t),(0,d.fp)(r)||(s.title=r,s.setAttribute("aria-label",r)),e.appendChild(s),s}static createHorizontalContainer(e,t){void 0===t&&(t=null);var i=document.createElement("div");return i.classList.add("ardplayer-container-horizontal"),(0,d.fp)(t)||i.classList.add(...t.split(" ")),e.appendChild(i),i}static renderHorizontalScroller(e,t,i){var r,a,s;if(void 0===t&&(t=null),void 0===i&&(i=":scope > :not(.ardplayer-bottom-sheet-horizontal-padding, .ardplayer-bottom-sheet-horizontal-gutter)"),null===(s=null===(a=null===(r=e.parentElement)||void 0===r?void 0:r.classList)||void 0===a?void 0:a.contains("ardplayer-bottom-sheet-content-wrapper"))||void 0===s||!s)throw Error("horizontal scroller can only be used as top-level container");var o=document.createElement("div");o.className="ardplayer-bottom-sheet-horizontal-scroller",(0,d.fp)(t)||o.classList.add(...t.split(" ")),st.renderElem(o,"ardplayer-bottom-sheet-horizontal-padding","","","div"),e.appendChild(o);var l=function(e){var t,r,n,a;void 0===e&&(e=!1);var s=o.clientWidth,l=null!==(r=null===(t=o.querySelector(i))||void 0===t?void 0:t.clientWidth)&&void 0!==r?r:0;null===(a=null===(n=o.parentElement)||void 0===n?void 0:n.parentElement)||void 0===a||a.scrollBy({left:Math.floor(s/l)*(e?-l:l),behavior:"smooth"})},c=!1,h=[],p=()=>{try{h.forEach((e=>{var t,i;if(null!=e.elem.offsetParent){var r=e.elem.offsetLeft+e.elem.offsetWidth/2,n=null!==(t=e.elem.offsetParent.scrollLeft)&&void 0!==t?t:0,a=n+(null!==(i=e.elem.offsetParent.offsetWidth)&&void 0!==i?i:0);r>=n&&r<=a&&e.node.onImpression()}}))}catch(e){u.iV.error("could not send impressions",e)}};return{container:o,addImpressionTarget:(e,t,i)=>{var r,n;if((0,I.F$)(e)&&(0,I.b$)(e)&&(h.push({node:e,elem:t}),!c)){c=!0;var a=-1,s=()=>{window.clearTimeout(a),a=window.setTimeout(p,300)};null===(n=null===(r=o.parentElement)||void 0===r?void 0:r.parentElement)||void 0===n||n.addEventListener("scroll",s),i.push({dispose:()=>{o.removeEventListener("scroll",s)}})}},sealContainer:t=>{var r;if(null===(r=e.parentElement)||void 0===r||r.classList.add("ardplayer-bottom-sheet-horizontal"),t.push({dispose:()=>{var t;null===(t=e.parentElement)||void 0===t||t.classList.remove("ardplayer-bottom-sheet-horizontal")}}),st.renderElem(o,"ardplayer-bottom-sheet-horizontal-padding","","","div"),h.length>0&&window.setTimeout(p,300),!n.q.isMobileDevice){var a=st.renderElem(o,"ardplayer-icon ardplayer-icon-arrowleft ardplayer-bottom-sheet-horizontal-gutter","","","button"),s=st.renderElem(o,"ardplayer-icon ardplayer-icon-arrowright ardplayer-bottom-sheet-horizontal-gutter","","","button");a.tabIndex=-2,s.tabIndex=-2,(0,d.nx)(a,(()=>l(!0))),(0,d.nx)(s,(()=>l(!1))),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&window.setTimeout((()=>{var r;if(null!=e.offsetParent){var n=o.querySelectorAll(i);if(n.length>1){var l=n.item(0),d=new IntersectionObserver((e=>{e.forEach((e=>{(e.target===l?a:s).style.display=e.isIntersecting?"none":""}))}),{root:null===(r=o.parentElement)||void 0===r?void 0:r.parentElement,threshold:.9});d.observe(l),d.observe(n.item(n.length-1)),t.push({dispose(){d.disconnect()}})}}}))}}}}static createVerticalContainer(e,t){void 0===t&&(t=null);var i=document.createElement("div");return i.classList.add("ardplayer-container-vertical"),(0,d.fp)(t)||i.classList.add(...t.split(" ")),e.appendChild(i),i}static renderJumpmark(e,t){var i=this.renderElem(e,"ardplayer-addon-jumpmark-holder","",null,"div"),r=this.renderElem(i,"ardplayer-addon-jumpmark","",null,"div");r.tabIndex=0;var n=()=>{(0,d.cS)(r);var e=this.renderElem(r,"ardp-jpmrk-main","",null,"div");t.isSelected&&i.classList.add("ardp-jpmrk-selected");var n=this.renderElem(e,"ardp-jpmrk-hlgt","",null,"div");if(!(0,d.fp)(t.highlightIconUrl)){var a=document.createElement("i");a.style.backgroundImage="url("+t.highlightIconUrl+")",(0,d.fp)(t.highlightIconA11yDescription)||(a.setAttribute("aria-label",t.highlightIconA11yDescription),a.title=t.highlightIconA11yDescription),n.appendChild(a)}if(!(0,d.fp)(t.highlightTime)){var s=document.createElement("p");s.textContent=t.highlightTime,n.appendChild(s)}(0,d.fp)(t.image)||(this.renderElem(e,"ardp-jpmrk-img","",null,"div").style.backgroundImage="url("+t.image+")");var o=this.renderElem(e,"ardp-jpmrk-title","",null,"div");if(!(0,d.fp)(t.content)){var l=document.createElement("p");l.textContent=t.content,o.appendChild(l)}if(!(0,d.fp)(t.subtitle)){var u=document.createElement("p");u.textContent=t.subtitle,o.appendChild(u)}if(!(0,d.fp)(t.gutterIconUrl)){var c=this.renderElem(e,"ardp-jpmrk-gutter","",null,"div"),h=document.createElement("i");h.style.backgroundImage="url("+t.gutterIconUrl+")",(0,d.fp)(t.gutterIconA11yDescription)||(h.setAttribute("aria-label",t.gutterIconA11yDescription),h.title=t.gutterIconA11yDescription),c.appendChild(h)}r.classList.toggle("ardp-jpmrk-epg",t.isEPG),t.isEPG&&((0,d.fp)(t.synopsis)||this.renderElem(r,"ardp-jpmrk-synopsis",t.synopsis,null,"p"))};return n(),[r,n]}static renderTeaser(e,t){var i;u.iV.log("render teaser",t);var r=this.renderElem(e,"ardplayer-addon-recos-teaser","",null,"div");r.tabIndex=0,this.renderElem(r,null,"",null,"img").src=t.image,(0,d.fp)(t.duration)||this.renderElem(r,"ardplayer-chip ardplayer-recos-teaser-time",t.duration,null,"span"),(0,d.fp)(t.availability)||this.renderElem(r,"ardplayer-chip-highlight ardplayer-recos-teaser-availability",t.availability,null,"span"),this.renderElem(r,"ardplayer-recos-teaser-title",t.content,null,"h3");var n=this.renderElem(r,"ardplayer-font-byline","",null,"div");return null===(i=t.byline)||void 0===i||i.forEach((e=>{this.renderByline(n,e)})),r}static renderButton(e,t,i,r,n,a){void 0===i&&(i=""),void 0===r&&(r=!0),void 0===n&&(n=!0),void 0===a&&(a="");var s=document.createElement("button");return s.innerText=t,(0,d.fp)(i)||s.classList.add("ardplayer-icon",i),(0,d.fp)(a)||s.classList.add("ardplayer-icon-after",a.replace("ardplayer-icon-","ardplayer-icon-after-")),n?(s.classList.add("ardplayer-button-pill"),r||s.classList.add("ardplayer-button-pill-secondary")):s.classList.add("ardplayer-button-rect"),e.appendChild(s),s}static renderCheckbox(e,t,i){void 0===t&&(t=""),void 0===i&&(i=!1);var r=document.createElement("input");r.type="checkbox",r.checked=i,r.id="ardplayer-check-"+(0,d.HP)(),r.className="ardplayer-checkbox";var n=document.createElement("label");return n.innerText=t,n.setAttribute("for",r.id),n.className="ardplayer-checkbox-label",e.appendChild(r),e.appendChild(n),r}static renderHeading(e,t,i,r,n){void 0===i&&(i=""),void 0===r&&(r="heading"),void 0===n&&(n=2);var a=document.createElement("h"+(n+1));return a.innerText=t,a.classList.add("ardplayer-font-title"),a.setAttribute("role",r),a.setAttribute("aria-level",String(n)),(0,d.fp)(i)||(a.title=i,a.setAttribute("aria-label",i)),e.appendChild(a),a}static renderByline(e,t,i,r){return void 0===i&&(i=""),void 0===r&&(r=!1),this.renderElem(e,"ardplayer-font-byline",t,i,"span",r)}static renderChip(e,t,i,r,n){return void 0===i&&(i=""),void 0===r&&(r=!1),void 0===n&&(n=!1),this.renderElem(e,r?"ardplayer-chip-highlight":"ardplayer-chip",t,i,"span",n)}static renderBodyText(e,t,i,r){return void 0===i&&(i=""),void 0===r&&(r=!1),this.renderElem(e,"ardplayer-font-body ardplayer-font-paragraph",t,i,"p",r)}static renderTextField(e,t,i,r,n,a){void 0===t&&(t=""),void 0===i&&(i=""),void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===a&&(a=!0);var s=document.createElement("input");s.classList.add("ardplayer-input-text"),s.placeholder=t,(0,d.fp)(i)||(s.value=i),r&&(s.readOnly=!0),n&&(s.disabled=!0);var o=document.createElement("div");return o.className="ardplayer-input-wrapper",o.appendChild(s),e.appendChild(o),a&&o.classList.add("ardplayer-input-small"),[o,s]}static renderSelect(e,t,i,r,a,s,o,l){var u=document.createElement("div");u.className="ardplayer-select",t.appendChild(u);var c=(e,t)=>{e.setAttribute("role","listbox"),e.setAttribute("aria-label",i),r.forEach(((i,r)=>{var n=document.createElement("span");n.innerText=i,n.className="ardplayer-option",n.tabIndex=0,n.setAttribute("role","option"),n.dataset.index=String(r),!1!==(null==o?void 0:o(i,r===a,r))?n.setAttribute("aria-selected","false"):(n.classList.add("ardplayer-option-disabled"),n.tabIndex=-1,n.setAttribute("role","presentation")),r===a&&(n.classList.add("ardplayer-option-active"),n.setAttribute("aria-selected","true")),(0,d.nx)(n,t),e.appendChild(n)}))},h=t=>{var p="synthetic_select_"+(0,d.HP)();e.addSyntheticScreen(p,(e=>{e.title=i;var t=document.createElement("div");t.classList.add("ardplayer-container-vertical","ardplayer-option-container"),this.renderDomNode(e,t);c(t,(function(){s(Number(this.dataset.index)),null==l||l.back()}))}));var v=n.q.isMobileDevice&&!n.q.isEmbedded,f=this.createHorizontalContainer(t,"ardplayer-container-end ardplayer-show-s");f.innerHTML='\n            <span class="ardplayer-option-label">'+i+'</span><span class="ardplayer-container-spacer"></span>\n            <'+(v?"label":"span")+' class="ardplayer-option ardplayer-option-active ardplayer-option-expand" tabindex="0">\n                '+(v?"":r[a])+'<i class="ardplayer-icon ardplayer-icon-arrowright"></i>\n            </'+(v?"label":"span")+">\n        ";var g=f.lastElementChild;if(v){var m=document.createElement("select");m.title=i,r.forEach(((e,t)=>{var i=document.createElement("option");i.textContent=e,o&&!o(e,t===a,t)&&(i.disabled=!0),m.appendChild(i)})),m.selectedIndex=a,m.addEventListener("change",(()=>{a=m.selectedIndex,(0,d.cS)(u),h(u),s(a)})),g.insertBefore(m,g.firstChild)}else(0,d.nx)(g,(()=>{e.showSyntheticScreen(p)}));var y=this.createHorizontalContainer(t,"ardplayer-container-start ardplayer-hide-s");y.innerHTML='<span class="ardplayer-option-label">'+i+"</span>";c(y,(function(){var e=y.querySelector(".ardplayer-option-active");null==e||e.classList.remove("ardplayer-option-active"),null==e||e.setAttribute("aria-selected","false"),this.classList.add("ardplayer-option-active"),this.setAttribute("aria-selected","true"),g.innerText=this.innerText,a=Number(this.dataset.index),o&&(e&&e!==this&&e.classList.toggle("ardplayer-option-disabled",!o(e.innerText,!1,Number(e.dataset.index))),this.classList.toggle("ardplayer-option-disabled",!o(this.innerText,!0,a))),s(a)}))};return h(u),{updateSelection:function(e,i){void 0===i&&(i=!1),(a!==e||i)&&t.contains(u)&&((0,d.cS)(u),a=e,h(u))},updateValues:(e,i)=>{t.contains(u)&&((0,d.cS)(u),r=e,a=i,h(u))},updateEnabledOptions:()=>{t.contains(u)&&((0,d.cS)(u),h(u))}}}}var ot=class extends tt.K{constructor(e,t,i,r,n){super(e,t,i,r,n),this.animationEndListener=null,this.buttonMutex=!1,this.listenerDisposers=[];var a=t.querySelector(".ardplayer-bottom-sheet-container");this.background=a.querySelector(".ardplayer-bottom-sheet-background"),this.stage=a.querySelector(".ardplayer-bottom-sheet-stage"),this.content=a.querySelector(".ardplayer-bottom-sheet-content"),this.contentWrapper=a.querySelector(".ardplayer-bottom-sheet-content-wrapper"),this.title=a.querySelector(".ardplayer-bottom-sheet-title"),this.btnClose=a.querySelector(".ardplayer-bottom-sheet-close-button"),this.btnBack=a.querySelector(".ardplayer-bottom-sheet-back-button"),this.stage.setAttribute("aria-hidden","true"),this.closeListener=()=>{this.buttonMutex||this.conceal()},this.backListener=()=>{this.buttonMutex||this.prevScreen()},this.animationStartListener=e=>{e.target===this.stage&&(this.buttonMutex=!0)},this.animationEndListenerDispatcher=e=>{e.target===this.stage&&(this.buttonMutex=!1,null!==this.animationEndListener&&(this.animationEndListener(e),this.animationEndListener=null))},this.stage.addEventListener("animationstart",this.animationStartListener),this.stage.addEventListener("animationend",this.animationEndListenerDispatcher),this.listenerDisposers.push((0,d.nx)(this.background,this.closeListener)),this.listenerDisposers.push((0,d.nx)(this.btnClose,this.closeListener)),this.listenerDisposers.push((0,d.nx)(this.btnBack,this.backListener)),this.updateButtons()}get ID(){return"BottomSheetManagerDom"}dispose(){super.dispose(),this.screenStack.splice(0,this.screenStack.length),this.title.innerHTML="",this.content.innerHTML="",this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),this.stage.removeEventListener("animationend",this.animationEndListenerDispatcher),this.stage.removeEventListener("animationstart",this.animationStartListener)}performReveal(e,t){var i;void 0===t&&(t=null),this.stage.setAttribute("aria-hidden","false"),this.stage.setAttribute("aria-modal","true"),this.btnBack.tabIndex=0,this.btnClose.tabIndex=0,this.performRevealInternal(e),this.markerClassTarget.classList.add("ardplayer-show-bottom-sheet"),this.animationEndListener=()=>{this.setInitialScreenFocus(),null==t||t()},n.q.browserIsSafari&&(document.body.classList.add("ardplayer-safari-noscroll"),n.q.isOldWebkit&&(null===(i=this.animationEndListener)||void 0===i||i.call(this,null),this.animationEndListener=null))}setInitialScreenFocus(){var e,t=this.content.querySelector('[data-bs-focus-request="true"]');t&&(0,A.n3)(t)?(t.offsetParent&&(t.offsetParent.scrollLeft=t.offsetLeft,t.offsetParent.scrollTop=t.offsetTop),(0,A.n6)(t)):(this.contentWrapper.scrollLeft=0,this.contentWrapper.scrollTop=0,(0,A.n6)(null!==(e=(0,A.of)(this.content))&&void 0!==e?e:(0,A.n3)(this.btnBack)?this.btnBack:this.btnClose))}nextScreen(e,t,i){void 0===i&&(i=null),this.nextScreenInternal(e,t,i)||(this.setInitialScreenFocus(),null==i||i())}prevScreen(e){var t;void 0===e&&(e=null),this.prevScreenInternal(e)||((0,A.n6)((null!==(t=(0,A.of)(this.content))&&void 0!==t?t:this.screenStack.length<=1)?this.btnClose:this.btnBack),null==e||e())}conceal(e){var t,i;void 0===e&&(e=null);var r=null!==(t=[this.screenStack.length>0?this.screenStack[this.screenStack.length-1].addon.getFocusButton(this.screenStack[this.screenStack.length-1].screenId):null,...this.player.viewCtrl.btnPlayPause,...this.player.viewCtrl.btnReplay].find((e=>(0,A.n3)(e))))&&void 0!==t?t:null;this.markerClassTarget.classList.remove("ardplayer-show-bottom-sheet"),this.concealInternal(),this.animationEndListener=()=>{this.log("bottom sheet concealed"),this.updateButtons(),(0,A.n6)(r),this.stage.setAttribute("aria-hidden","true"),this.stage.setAttribute("aria-modal","false"),this.btnBack.tabIndex=-1,this.btnClose.tabIndex=-1,this.title.innerHTML="",this.content.innerHTML="",this.renderer instanceof st&&this.renderer.clearDisposables(),null==e||e()},n.q.browserIsSafari&&(document.body.classList.remove("ardplayer-safari-noscroll"),n.q.isOldWebkit&&(null===(i=this.animationEndListener)||void 0===i||i.call(this,null),this.animationEndListener=null))}get _domContext(){return{content:this.content,contentWrapper:this.contentWrapper,title:this.title}}renderScreen(e){this.content.innerHTML="",this.title.innerHTML="",this.stage.className=this.stage.classList[0],this.content.className=this.content.classList[0];var t=this.content.parentElement;t&&(t.className=t.classList[0]);var i=this.renderer;if(null!=i){var r=new I.mf("",this.screenStack.length>1);e.addon.renderScreenInternal(e.screenId,r,i)}this.updateButtons()}updateButtons(){this.btnBack.style.display=this.screenStack.length<=1?"none":"block"}};ot=it([et.V],ot);class lt extends r.Sh{constructor(){super(...arguments),this.setMetadata=()=>{var e,t,i,r,n=this.mc.meta,a=this.getImage(this.player.isAudio?"audio":"preview");navigator.mediaSession.metadata=new MediaMetadata({title:(0,d.fp)(n.title)?null!==(e=n.seriesTitle)&&void 0!==e?e:"":n.title,artist:null!==(i=null===(t=n.publicationService)||void 0===t?void 0:t.name)&&void 0!==i?i:"",album:(0,d.fp)(n.title)?"":null!==(r=n.seriesTitle)&&void 0!==r?r:"",artwork:a?[{src:a}]:[]}),this.player.safeTimeout(this.updatePlaybackState),this.updatePlaybackState()},this.setSessionHandlers=()=>{var e=[["play",()=>{this.log("handle play"),this.player.playInternal()}],["pause",()=>{this.log("handle pause"),this.player.pauseInternal()}],["stop",()=>{this.log("handle stop"),this.player.stopInternal()}],["seekto",e=>{var t;e.fastSeek||this.player.seekToInternal(null!==(t=e.seekTime)&&void 0!==t?t:0)}],["seekbackward",e=>{var t;this.player.seekToInternal(Math.max(this.player.model.time-(null!==(t=e.seekOffset)&&void 0!==t?t:10),0))}],["seekforward",e=>{var t;this.player.seekToInternal(Math.min(this.player.model.time+(null!==(t=e.seekOffset)&&void 0!==t?t:10),this.player.model.duration))}]];for(var[t,i]of e)try{navigator.mediaSession.setActionHandler(t,i)}catch(e){}},this.updatePlaybackState=()=>{try{switch(this.player.model.playstate){case 2:navigator.mediaSession.playbackState="playing";break;case 1:navigator.mediaSession.playbackState="paused";break;case 3:case 0:return navigator.mediaSession.playbackState="none",navigator.mediaSession.metadata=null,void navigator.mediaSession.setPositionState(void 0)}this.player.model.duration>0&&this.player.model.time>=0&&navigator.mediaSession.setPositionState({duration:this.player.model.duration,playbackRate:this.player.model.playbackRate,position:Math.min(this.player.model.time,this.player.model.duration)})}catch(e){this.log(e)}}}get ID(){return"AddonMediaSession"}get configKey(){return"internals/mediaSession"}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.EVENT_PLAY_STREAM,(()=>{this.setMetadata(),this.setSessionHandlers()})),this.registerPlayerEvent(a.J.EVENT_PAUSE_STREAM,this.updatePlaybackState),this.registerPlayerEvent(a.J.EVENT_STATUS_CHANGE,this.updatePlaybackState),this.registerPlayerEvent(a.J.PLAYBACK_RATE_CHANGE,this.updatePlaybackState),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_TIME,this.updatePlaybackState),this.registerPlayerEvent(a.J.EVENT_UPDATE_STREAM_DURATION,this.updatePlaybackState),!0)}getImage(e){var t,i,r,n;if(!this.player)return null;var a=null;return"preview"!==e&&(a=null!==(i=null===(t=this.player.model.mediaCollection.meta.images.find((t=>t.kind===e&&!(0,d.fp)(t.url))))||void 0===t?void 0:t.url)&&void 0!==i?i:null),null==(a=null!==(n=null!=a?a:null===(r=this.player.model.mediaCollection.meta.images.find((e=>"preview"===e.kind&&!(0,d.fp)(e.url))))||void 0===r?void 0:r.url)&&void 0!==n?n:null)?null:this.player.model.playerConfig.generic.imageTemplateConfig.resolveTemplate(a)[0][1]}isSupported(){return"mediaSession"in navigator&&!n.q.isEmbedded}}var dt,ut,ct,ht=i(52009),pt=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},vt=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class ft extends r.Ky{constructor(){super(...arguments),dt.set(this,!1),ut.set(this,!0),ct.set(this,!0),this.eventLoop=null,this.pipEnded=e=>{try{this.player.checkState()}catch(e){return void u.iV.warn("aborting promise",e)}pt(this,dt,"f")&&(vt(this,dt,!1,"f"),!0!==e&&this.player.loop.dispatchEvent(a.J.PIP_STATUS_CHANGE,{active:!1}),n.q.isEmbedded?(this.player.viewCtrl.playerView.classList.toggle("ardplayer-state-native-pip",!1),this.player.viewCtrl.controlsVisible?this.player.loop.dispatchEvent(a.J.EVENT_CTRLBAR_FADEIN,{}):this.player.viewCtrl.setOver()):(this.player.viewCtrl.toggleForceControlsVisible(this.ID,!1),this.player.viewCtrl.setOutDelayed(),this.player.viewCtrl.playerView.classList.toggle("ardplayer-state-pip",!1)))},this.pipStarted=e=>{try{this.player.checkState()}catch(e){return void u.iV.warn("aborting promise",e)}pt(this,dt,"f")||(vt(this,dt,!0,"f"),n.q.isEmbedded?this.player.viewCtrl.playerView.classList.toggle("ardplayer-state-native-pip",!0):(this.player.viewCtrl.toggleForceControlsVisible(this.ID,!0),this.player.viewCtrl.playerView.classList.toggle("ardplayer-state-pip",!0)),!0!==e&&this.player.loop.dispatchEvent(a.J.PIP_STATUS_CHANGE,{active:!0}))}}get ID(){return"AddonPiP"}get configKey(){return"internals/pip"}get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST/2}addonButtonClicked(e,t){}listAddonButtons(){return[]}listSecondaryAddonButtons(){return n.q.isEmbedded&&!pt(this,ct,"f")?[]:[{classList:["ardplayer-icon","ardplayer-icon-pictureinpicture",...pt(this,ut,"f")?[]:["ardplayer-button-disabled"]],accessibilityKey:"pip",accessibilityVariables:{pressed:!1}}]}secondaryAddonButtonClicked(e,t){"pip"===t.accessibilityKey&&(pt(this,dt,"f")?this.exitPiP():this.enterPiP())}register(){var e;return!!super.register()&&(n.q.isEmbedded&&(vt(this,ct,!0===(null===(e=this.player.model.playerConfig.platformConfig)||void 0===e?void 0:e.allowPiP),"f"),this.eventLoop=new ht.J(this.player),this.eventLoop.addEventListener("NativePip.pipSupportChange",(e=>{vt(this,ct,e.available,"f"),this.renderSecondaryButtons()})),this.registerPlayerEvent(a.J.PIP_STATUS_CHANGE,(e=>{e.active?this.pipStarted(!0):this.pipEnded(!0)}))),this.registerPlayerEvent(a.J.REMOTE_PLAYBACK_CHANGED,(e=>{vt(this,ut,!e.isRemote,"f"),this.renderSecondaryButtons(),e.isRemote&&pt(this,dt,"f")&&this.exitPiP()})),!n.q.isEmbedded&&"pictureInPictureEnabled"in document&&document.pictureInPictureEnabled&&this.registerPlayerEvent(a.J.EVENT_READY,this.browserSetup),!0)}dispose(){var e;pt(this,dt,"f")&&this.exitPiP(),super.dispose(),null===(e=this.eventLoop)||void 0===e||e.dispose(),this.eventLoop=null}browserSetup(){this.player.mediaElement instanceof HTMLVideoElement&&(this.player.mediaElement.disablePictureInPicture=!1,this.player.mediaElement.addEventListener("enterpictureinpicture",(()=>{this.pipStarted()})),this.player.mediaElement.addEventListener("leavepictureinpicture",(()=>{this.pipEnded()})))}enterPiP(){var e;if(n.q.isEmbedded)null===(e=this.eventLoop)||void 0===e||e.dispatchEvent("NativePip.pipStateRequest",{active:!0});else{if(!(this.player.mediaElement instanceof HTMLVideoElement))return;this.player.mediaElement.requestPictureInPicture().then((()=>{this.pipStarted()})).catch((e=>{u.iV.error(e),this.pipEnded()}))}this.player.loop.dispatchEvent(a.J.PIP_CHANGE_REQUEST,{active:!0})}exitPiP(){var e;if(n.q.isEmbedded)null===(e=this.eventLoop)||void 0===e||e.dispatchEvent("NativePip.pipStateRequest",{active:!1});else{if(!(this.player.mediaElement instanceof HTMLVideoElement))return;document.exitPictureInPicture().then((()=>{this.pipEnded()})).catch(this.pipEnded)}this.player.loop.dispatchEvent(a.J.PIP_CHANGE_REQUEST,{active:!1})}isSupported(){return!this.player.isAudio&&("pictureInPictureEnabled"in document&&document.pictureInPictureEnabled||n.q.isEmbedded)}}dt=new WeakMap,ut=new WeakMap,ct=new WeakMap;class gt extends r.Ky{constructor(){super(...arguments),this.eventLoop=null,this.primaryButtonSet=[],this.secondaryButtonSet=[]}get ID(){return"AddonDynamicButtons"}get configKey(){return"internals/dynamicButtons"}get buttonOrder(){return r.Ky.BUTTON_ORDER_RIGHTMOST}register(){return!!super.register()&&(this.eventLoop=new ht.J(this.player),this.eventLoop.addEventListener("DynamicButtons.addPrimary",(e=>{(0,d.fp)(e.button.id)||!Array.isArray(e.button.classList)||(0,d.NZ)(e.button.accessibilityKey)?this.log("invalid button config"):(this.log("adding button",e.button.id),this.primaryButtonSet=this.primaryButtonSet.filter((t=>t.id!==e.button.id)),this.primaryButtonSet.push(e.button),this.renderButtons())})),this.eventLoop.addEventListener("DynamicButtons.addSecondary",(e=>{(0,d.fp)(e.button.id)||!Array.isArray(e.button.classList)||(0,d.NZ)(e.button.accessibilityKey)?this.log("invalid button config"):(this.log("adding button",e.button.id),this.secondaryButtonSet=this.secondaryButtonSet.filter((t=>t.id!==e.button.id)),this.secondaryButtonSet.push(e.button),this.renderSecondaryButtons())})),this.eventLoop.addEventListener("DynamicButtons.remove",(e=>{(0,d.fp)(e.id)||(this.log("removing button",e.id),this.primaryButtonSet=this.primaryButtonSet.filter((t=>t.id===e.id)),this.secondaryButtonSet=this.secondaryButtonSet.filter((t=>t.id===e.id)),this.renderButtons(),this.renderSecondaryButtons())})),this.log("BottomSheetAddon registered"),!0)}dispose(){var e;super.dispose(),this.primaryButtonSet=[],this.secondaryButtonSet=[],null===(e=this.eventLoop)||void 0===e||e.dispose(),this.eventLoop=null}listAddonButtons(){return this.primaryButtonSet}addonButtonClicked(e,t){var i;null===(i=this.eventLoop)||void 0===i||i.dispatchEvent("DynamicButtons.buttonClicked",{id:t.id})}listSecondaryAddonButtons(){return this.secondaryButtonSet}secondaryAddonButtonClicked(e,t){var i;null===(i=this.eventLoop)||void 0===i||i.dispatchEvent("DynamicButtons.buttonClicked",{id:t.id})}isSupported(){return!0}}var mt={core:{type:"core",Clazz:"app/index",package:"ardplayer-core",version:"6.3.11",rev:"[Y]3550812",verb:"release",build:"(release) 2022-12-09T14:46:38.349Z",license:"CgY2LjMuMTEyCltZXTM1NTA4MTIaAmhyKhUICxoFMS4xLjYiCltZXWY0NTJlZTEqFggSGgYyLjIuMTQiCltZXTk0NTU3NWUqFggTGgYyLjIuMTAiCltZXTg5MzUzYTIqFQgDGgUyLjIuNSIKW1ldOTIzZWJjNioVCAcaBTIuMi43IgpbWV0yN2RkNzgxKhUIChoFMi4yLjMiCltZXTVjZWE0NzEqFQgOGgUyLjIuNCIKW1ldY2Y3Y2U5MioVCAIaBTIuMi41IgpbWV0zYTkzMzA4KhUIBBoFMi4yLjQiCltZXTdkMDdlMjIqFggVGgYxLjYuMTAiCltZXWY2NzZiZGY=",signature:"3065023100c03ead3bb19599bb027099ab69a69df43b6c0096e4433b686ec97596c0b536fa8f3776609a9a08295518502f07cf912702300da428fd47a6c3ea82a65f314c013c59121eae37a717ebe0d524ff4bd1b6894b54ce9532670adf520b03af22f29e32a5"},addon:[{Clazz:at,package:"ardplayer-addon-bottomsheet-dom",type:"addon",version:"bundled"},{Clazz:lt,package:"ardplayer-mediasession",type:"addon",version:"bundled"},{Clazz:ft,package:"ardplayer-pip",type:"addon",version:"bundled"},{Clazz:gt,package:"ardplayer-dynamic-buttons",type:"addon",version:"bundled"}].concat([{type:"addon",Clazz:o,package:"ardplayer-addon-modal-controls",version:"1.1.6",rev:"[Y]f452ee1"},{type:"addon",Clazz:P,package:"ardplayer-addon-sprungmarken",version:"2.2.14",rev:"[Y]945575e"},{type:"addon",Clazz:J,package:"ardplayer-addon-subtitle",version:"2.2.10",rev:"[Y]89353a2"},{type:"addon",Clazz:$,package:"ardplayer-addon-airplay",version:"2.2.5",rev:"[Y]923ebc6"},{type:"addon",Clazz:ie,package:"ardplayer-addon-chromecast",version:"2.2.7",rev:"[Y]27dd781"},{type:"addon",Clazz:re,package:"ardplayer-addon-info",version:"2.2.3",rev:"[Y]5cea471"},{type:"addon",Clazz:Ee,package:"ardplayer-addon-preview-vtt",version:"2.2.4",rev:"[Y]cf7ce92"},{type:"addon",Clazz:Se,package:"ardplayer-addon-agf",version:"2.2.5",rev:"[Y]3a93308"},{type:"addon",Clazz:_e,package:"ardplayer-addon-atipixel-smarttag",version:"2.2.4",rev:"[Y]7d07e22"},{type:"addon",Clazz:je,package:"ardplayer-addon-sand",version:"1.6.10",rev:"[Y]f676bdf"}]),plugin:Xe.concat([])},yt=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},bt=class{static get core(){return mt.core}static get addon(){return mt.addon.concat(this.injectedAddons)}static get plugin(){return mt.plugin.concat(this.injectedPlugins)}};bt.injectedAddons=[],bt.injectedPlugins=[],bt=yt([et.V],bt)},69765:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});class r{writeToParcel(e){var t=this.parcelData();null!==t&&(e[this.ID]=JSON.parse(JSON.stringify(t)))}restoreFromParcel(e){e&&e[this.ID]&&null!==e[this.ID]&&this.restoreParceledData(e[this.ID])}static makeParcel(e){var t={};return e.forEach((e=>e.writeToParcel(t))),t}}},56248:(e,t,i)=>{"use strict";i.d(t,{G6:()=>f,Ky:()=>m,Sh:()=>g,gN:()=>y});var r,n,a,s,o,l=i(15465),d=i(65855),u=i(96735),c=i(69765),h=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},p=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)};class v extends c.s{constructor(e,t){void 0===t&&(t=null),super(),this.inputParcel=t,r.set(this,void 0),n.set(this,[]),this.listenerDisposers=[],h(this,r,e,"f")}parcelData(){return null}restoreParceledData(e){}register(){try{if(this.isDisabled())return this.log("Addon is disabled"),!1;if(!this.isSupported())return this.log("Addon not supported by current config."),!1;null!==this.inputParcel&&(this.restoreFromParcel(this.inputParcel),this.inputParcel=null)}catch(e){return this.log("Addon threw error when detecting support - skipping",e),this.inputParcel=null,!1}return!0}registerEvent(e,t){var i=t.bind(this);p(this,n,"f").push({id:e,fnc:i}),p(this,r,"f").addEventListener(e,i)}registerPlayerEvent(e,t){var i=t.bind(this);this.listenerDisposers.push((()=>{p(this,r,"f").loop.removeEventListener(e,i)})),p(this,r,"f").loop.addEventListener(e,i)}registerPixelEvent(e,t){var i=t.bind(this);p(this,n,"f").push({id:e,fnc:i}),p(this,r,"f").addEventListener(e,i)}addEventListener(e,t,i,r){e.addEventListener(t,i,r),this.listenerDisposers.push((()=>{e.removeEventListener(t,i,r)}))}onClick(e,t,i){void 0===i&&(i=!0),this.listenerDisposers.push((0,u.nx)(e,t,i))}get player(){return p(this,r,"f")}get mc(){return this.player.model.mediaCollection}get pc(){return this.player.model.playerConfig}startupHook(){return!1}dispose(){this.log("dispose"),p(this,n,"f").forEach((e=>{p(this,r,"f").removeEventListener(e.id,e.fnc)})),this.listenerDisposers.forEach((e=>null==e?void 0:e())),this.listenerDisposers.splice(0),window.setTimeout((()=>{p(this,r,"f"),h(this,n,null,"f")}))}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];l.iV.log("["+this.ID+"]",...t)}}r=new WeakMap,n=new WeakMap;class f extends v{get ID(){return"PlatformSupport-"+this.BaseId}isSupported(){return this.supportsPlatform(d.q.platform)}isDisabled(){return!1}static isInstance(e){return e.ID.startsWith("PlatformSupport-")}}class g extends v{constructor(){super(...arguments),a.set(this,null)}get conf(){return null===p(this,a,"f")&&h(this,a,(0,u.RH)(this.pc.getPluginData(this.configKey),this.mc.getPluginData(this.configKey)),"f"),p(this,a,"f")}get immutableConf(){return null===p(this,a,"f")&&h(this,a,(0,u.RH)(this.pc.getPluginData(this.configKey),this.mc.getPluginData(this.configKey)),"f"),p(this,a,"f")}configEmpty(){return 0===Object.keys(this.conf).length}isDisabled(){return!1===this.conf.isEnabled}isSupported(){return!this.configEmpty()}}a=new WeakMap;class m extends g{constructor(){super(...arguments),this.buttons=[],this.secondaryButtons=[],this.buttonRenderingPrevented=!1}get buttonOrder(){return 10}get buttonList(){var e,t;return null!==(t=null===(e=this.player)||void 0===e?void 0:e.buttonCentral)&&void 0!==t?t:null}register(){var e;return!!super.register()&&(null===(e=this.buttonList)||void 0===e||e.registerAddon(this),!0)}setButtonRenderingPrevented(e){this.buttonRenderingPrevented=e,this.renderButtons(),this.renderSecondaryButtons()}renderButtons(){var e;this.buttons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.buttons=[],this.buttonRenderingPrevented||this.listAddonButtons().forEach((e=>{var t,i=document.createElement("button");i.classList.add(...e.classList),i.setAttribute("tabindex","0"),null===(t=this.player.viewCtrl)||void 0===t||t.evalAccessibility(i,e.accessibilityKey,Object.assign({pressed:!1},e.accessibilityVariables));var r=(0,u.nx)(i,(()=>{this.player.viewCtrl.setOutDelayed(),this.addonButtonClicked(i,e)}));this.buttons.push(Object.assign({},e,{button:i,disposeHandler:r}))})),null===(e=this.buttonList)||void 0===e||e.updateButtonList()}renderSecondaryButtons(){var e;this.secondaryButtons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.secondaryButtons=[],this.buttonRenderingPrevented||this.listSecondaryAddonButtons().forEach((e=>{var t,i=document.createElement("button");i.classList.add(...e.classList),i.setAttribute("tabindex","0"),null===(t=this.player.viewCtrl)||void 0===t||t.evalAccessibility(i,e.accessibilityKey,Object.assign({pressed:!1},e.accessibilityVariables));var r=(0,u.nx)(i,(()=>{this.player.viewCtrl.setOutDelayed(),this.secondaryAddonButtonClicked(i,e)}));this.secondaryButtons.push(Object.assign({},e,{button:i,disposeHandler:r}))})),null===(e=this.buttonList)||void 0===e||e.updateSecondaryButtonList()}dispose(){super.dispose(),this.buttons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.buttons=[],this.secondaryButtons.forEach((e=>{var t;return null===(t=e.disposeHandler)||void 0===t?void 0:t.call(e)})),this.secondaryButtons=[]}listSecondaryAddonButtons(){return[]}secondaryAddonButtonClicked(e,t){}}m.BUTTON_ORDER_RIGHTMOST=Number.MAX_SAFE_INTEGER-1;class y extends g{constructor(){super(...arguments),s.set(this,null),o.set(this,null)}get configKey(){return"tracking"+this.trackingKey}get conf(){if(null===p(this,s,"f")){var e=null!==this.immutableConf&&void 0!==this.immutableConf?JSON.parse(JSON.stringify(this.immutableConf)):{};return h(this,s,e,"f"),e}return p(this,s,"f")}get legacyPixelConfig(){return null===p(this,o,"f")&&h(this,o,this.pc.getPluginData("legacypixelconfig"),"f"),p(this,o,"f")}isSupported(){return super.isSupported()&&!1!==this.immutableConf.isEnabled}}s=new WeakMap,o=new WeakMap},30187:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});var r=i(56248),n=i(65855),a=i(47982),s=i(96735);class o extends r.Ky{constructor(){super(...arguments),this.syntheticScreens={},this.screenHasTabs=!1}get bottomSheet(){var e,t,i;return null!==(i=null===(t=null===(e=this.player)||void 0===e?void 0:e.viewCtrl)||void 0===t?void 0:t.bottomSheet)&&void 0!==i?i:null}addonButtonClicked(e,t){var i;e.setAttribute("aria-pressed","true"),null===(i=this.bottomSheet)||void 0===i||i.reveal(this,t.screen)}getFocusButton(e){var t,i,r,n;return void 0===e&&(e=null),null!==(n=null!==(i=(0,s.fp)(e)?null:null===(t=this.buttons.find((t=>t.screen===e&&null!==t.button)))||void 0===t?void 0:t.button)&&void 0!==i?i:null===(r=this.buttons.find((e=>null!==e.button)))||void 0===r?void 0:r.button)&&void 0!==n?n:null}register(){return!!super.register()&&(this.registerPlayerEvent(a.J.SETUP_VIEW,this.eventSetupView),this.log("BottomSheetAddon registered"),!0)}isSupported(){return!(this.player.isAudio&&!0!==this.player.model.playerConfig.web.isForcedVideoView&&n.q.isFrame)}eventSetupView(e){}onScreenClosed(e){this.buttons.filter((t=>t.screen===e)).forEach((e=>{e.button.setAttribute("aria-pressed","false")}))}onScreenClosedInternal(e){var t;e.startsWith("synthetic_")&&null!==(t=this.syntheticScreens[e])&&void 0!==t&&t?this.log("closed synthetic screen"):(this.screenHasTabs&&this.teardownTabs(),this.onScreenClosed(e))}teardownTabs(){this.screenHasTabs=!1}renderScreenInternal(e,t,i){var r;e.startsWith("synthetic_")&&null!==(r=this.syntheticScreens[e])&&void 0!==r&&r?(this.log("rendering synthetic screen"),t.showBack=!0,this.syntheticScreens[e].render(t)):(this.syntheticScreens={},this.renderToDisplayList(t,e)),t.renderUsing(i)}}},84169:(e,t,i)=>{"use strict";i.d(t,{K:()=>h});var r,n=i(4178),a=i(69765),s=i(92284),o=i(15465),l=i(52009),d=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},u=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},h=class extends a.s{constructor(e,t,i,n,a){super(),this.player=e,this.markerClassTarget=t,this.openCallback=i,this.closeCallback=n,this.addon=a,this.screenStack=[],r.set(this,null),this.btmLooper=new l.J(e)}get ID(){return"BottomSheetManager"}static getImpl(e,t,i,r){var n=e.addons.find((e=>s.x.isInstance(e)));if(null==n)throw Error("no BottomSheetRenderer Addon installed!");return n.createManager(e,t,i,r)}get renderer(){var e;return null==u(this,r,"f")&&(this.addon.setHandler({back:()=>{this.prevScreen(null)},close:()=>{this.conceal(null)}}),c(this,r,null!==(e=this.addon.listRenderer)&&void 0!==e?e:null,"f"),null==u(this,r,"f")&&o.iV.error("no DisplayListRenderer instance available!")),u(this,r,"f")}parcelData(){return 0===this.screenStack.length?null:{screenStack:this.screenStack.filter((e=>!e.screenId.startsWith("synthetic_"))).map((e=>({screenId:e.screenId,addon:e.addon.ID})))}}restoreParceledData(e){var t=e.screenStack.map((e=>({screenId:e.screenId,addon:this.player.addons.find((t=>t.ID===e.addon))})));t.some((e=>null===e.addon))||(this.screenStack.push(...t),this.performReveal(this.screenStack[this.screenStack.length-1],null))}dispose(){this.screenStack.splice(0,this.screenStack.length),this.btmLooper.dispose()}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.iV.log("[BTM]",...t)}get activeScreen(){return this.screenStack.length>0?this.screenStack[this.screenStack.length-1]:null}reveal(e,t,i,r,n){if(void 0===t&&(t="defaultScreen"),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=null),this.log((r?"toggling":"revealing")+" bottom sheet",e.ID,t),this.screenStack.length>0){if(r){var a=this.screenStack[this.screenStack.length-1];if(a.screenId===t&&a.addon===e)return void this.prevScreen(n)}i?this.conceal((()=>{this.reveal(e,t,!1,!1,n)})):this.nextScreen(e,t,n)}else{var s={addon:e,screenId:t};this.screenStack.push(s),this.performReveal(s,n)}}performRevealInternal(e){this.btmLooper.dispatchEvent("BTM.reveal",{}),this.openCallback(e),this.renderScreen(e)}nextScreenInternal(e,t,i){if(void 0===i&&(i=null),this.log("showing next bottom sheet screen",e.ID,t),this.screenStack.length>0){var r=this.screenStack[this.screenStack.length-1];if(r.screenId===t&&r.addon===e)return this.renderScreen(r),null==i||i(),!0;r.addon.onScreenClosedInternal(r.screenId)}var n={addon:e,screenId:t};return this.screenStack.push(n),this.openCallback(n),this.renderScreen(n),!1}prevScreenInternal(e){if(void 0===e&&(e=null),this.log("showing prev bottom sheet screen"),this.screenStack.length<=1)return this.conceal(e),!0;var t=this.screenStack[this.screenStack.length-1];t.addon.onScreenClosedInternal(t.screenId),this.screenStack.pop();var i=this.screenStack[this.screenStack.length-1];return this.openCallback(i),this.renderScreen(i),!1}concealInternal(){this.log("concealing bottom sheet"),this.screenStack.forEach((e=>e.addon.onScreenClosedInternal(e.screenId))),this.screenStack.splice(0,this.screenStack.length),this.btmLooper.dispatchEvent("BTM.conceal",{}),this.closeCallback()}};r=new WeakMap,h=d([n.V],h)},73155:(e,t,i)=>{"use strict";i.d(t,{X:()=>p});var r,n=i(4178),a=i(23197),s=i(47982),o=i(78136),l=i(96735),d=i(30187),u=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},h=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},p=class extends d.p{constructor(){super(...arguments),this.buttonContainer=null,this.secondaryButtonContainer=null,this.addonList=[],this.setupDone=!1,r.set(this,null)}get configKey(){return"internals/addonButtons"}listAddonButtons(){return[]}get ID(){return"AddonButtonCentral"}getFocusButton(e){return void 0===e&&(e=null),(0,a.n3)(this.player.viewCtrl.btnMore)?this.player.viewCtrl.btnMore:super.getFocusButton(e)}registerAddon(e){this.addonList.push(e),this.setupDone&&(this.addonList.sort(((e,t)=>e.buttonOrder-t.buttonOrder)),e.renderButtons(),e.renderSecondaryButtons(),this.updateButtonList())}eventSetupView(e){super.eventSetupView(e),this.buttonContainer=e.container,this.secondaryButtonContainer=e.secondaryContainer,this.addonList.sort(((e,t)=>e.buttonOrder-t.buttonOrder)),this.addonList.forEach((e=>e.renderButtons())),this.addonList.forEach((e=>e.renderSecondaryButtons())),this.setupDone=!0,this.updateButtonList(),this.updateSecondaryButtonList(),this.registerPlayerEvent(s.J.VIEWPORT_RESIZE,this.updateHeaderSize)}renderToDisplayList(e,t){e.title="",c(this,r,o.mf.createUpdatingVerticalContainer(e),"f"),this.renderListToContainer(h(this,r,"f"))}onScreenClosed(e){super.onScreenClosed(e),c(this,r,null,"f")}renderListToContainer(e){this.addonList.forEach((t=>t.buttons.forEach((t=>{var i,r,n,a=o.mf.renderButton(e,null!==(r=null!==(i=t.button.dataset.displayTitle)&&void 0!==i?i:t.button.title)&&void 0!==r?r:"",(()=>{var e=t.button.tabIndex;t.button.tabIndex=-2,t.button.click(),t.button.tabIndex=e}),null!==(n=t.classList.find((e=>e.startsWith("ardplayer-icon-"))))&&void 0!==n?n:"",!1,!1,"ardplayer-icon-arrowright");o.mf.copyAria(a,t.button)}))))}updateButtonList(){if(this.setupDone&&null!==this.buttonContainer){(0,l.cS)(this.buttonContainer);var e=[];this.addonList.forEach((t=>t.buttons.forEach((t=>{var i;null===(i=this.buttonContainer)||void 0===i||i.appendChild(t.button),void 0!==t.heroPriority&&e.push(t)})))),this.player.viewCtrl.isAudioView&&this.buttonContainer.childElementCount<=1?this.player.viewCtrl.setMenuState(this.buttonContainer.querySelector("button"),!1):e.length>0?(e.sort(((e,t)=>{var i,r;return(null!==(i=t.heroPriority)&&void 0!==i?i:0)-(null!==(r=e.heroPriority)&&void 0!==r?r:0)})),this.player.viewCtrl.setMenuState(e[0].button,!0)):this.player.viewCtrl.setMenuState(null,!0),null!==h(this,r,"f")&&h(this,r,"f").replaceContent((e=>{this.renderListToContainer(e)}))}}updateSecondaryButtonList(){var e;if(this.setupDone&&null!==this.secondaryButtonContainer){(0,l.cS)(this.secondaryButtonContainer);var t=[];this.addonList.forEach((e=>t.push(...e.secondaryButtons))),t.sort(((e,t)=>{var i,r;return(null!==(i=e.positionPriority)&&void 0!==i?i:0)-(null!==(r=t.positionPriority)&&void 0!==r?r:0)})),null===(e=this.secondaryButtonContainer)||void 0===e||e.append(...t.map((e=>e.button))),this.updateHeaderSize()}}updateHeaderSize(){if(this.secondaryButtonContainer){var e=window.getComputedStyle(this.secondaryButtonContainer),t=this.secondaryButtonContainer.offsetWidth+parseInt(e.marginLeft,10)+parseInt(e.marginRight,10);this.player.getTarget().style.setProperty("--headline-right-margin",t+"px")}}dispose(){super.dispose(),this.buttonContainer=null,this.secondaryButtonContainer=null,c(this,r,null,"f"),this.addonList=[]}isSupported(){return!0}};r=new WeakMap,p.OverviewScreen="overview",p=u([n.V],p)},92284:(e,t,i)=>{"use strict";i.d(t,{x:()=>n});var r=i(56248);class n extends r.G6{get supportType(){return"BottomSheet"}register(){return super.register()}static isInstance(e){return super.isInstance(e)&&"BottomSheet"===e.supportType}}},78136:(e,t,i)=>{"use strict";i.d(t,{F$:()=>o,b$:()=>l,mf:()=>n,pr:()=>s});var r=i(96735);class n{constructor(e,t,i){void 0===e&&(e=""),void 0===t&&(t=!1),void 0===i&&(i=[]),this.title=e,this.showBack=t,this.children=i,this.id="displaylist-"+(0,r.HP)(),this._focusRequest=null,this._renderer=null}get focusRequest(){return this._focusRequest}toJSON(){var e=Object.assign({},this);return e.focusRequest=this._focusRequest,e}findElementById(e,t){if(void 0===t&&(t=this),a(t)&&o(t)&&t.id===e)return t;var i=t;if(void 0!==i.children)for(var r=0;r<i.children.length;r++){var n=this.findElementById(e,i.children[r]);if(null!=n)return n}return null}setRequestedFocus(e){this._focusRequest=(0,r.fp)(null==e?void 0:e.id)?null:e.id}updateNode(e){var t;this.findElementById(e.id)&&(null===(t=this._renderer)||void 0===t||t.updateDisplayList(this,e))}renderUsing(e){this._renderer=e,e.renderDisplayList(this)}static getContaining(e){for(var t=e;a(t)&&t._container;)t=t._container;return t&&t instanceof n?t:null}static updateAria(e,t,i,r){t.evalAccessibility({setAttribute(t,i){switch(t){case"aria-label":e.ariaLabel=i;break;case"role":e.ariaRole=i}}},i,r)}static copyAria(e,t){var i,r,n;e.ariaLabel=null!==(r=null!==(i=t.getAttribute("aria-label"))&&void 0!==i?i:t.getAttribute("title"))&&void 0!==r?r:void 0,e.ariaRole=null!==(n=t.getAttribute("role"))&&void 0!==n?n:void 0}static createHorizontalContainer(e,t,i){void 0===i&&(i=!1);var r={cssClass:t,centered:i,type:"hContainer",children:[],content:"",_container:e};return e.children.push(r),r}static createHorizontalScrollingContainer(e,t,i){var r={cssClass:t,contentSelector:i,type:"scrollingHContainer",children:[],content:"",_container:e};return e.children.push(r),r}static createVerticalContainer(e,t){var i={cssClass:t,type:"vContainer",children:[],content:"",_container:e};return e.children.push(i),i}static createUpdatingVerticalContainer(e,t){var i={cssClass:t,type:"updatingVContainer",id:"ardplayer-updatingVcontainer-"+(0,r.HP)(),children:[],content:"",_container:e,replaceContent(e){var t;this.children=[],e(this),null===(t=n.getContaining(this))||void 0===t||t.updateNode(this)}};return e.children.push(i),i}static renderJumpmark(e,t,i,a,s,o,l,d,u,c,h,p,v,f){var g={type:"jumpmark",id:"ardplayer-jumpmark-"+((0,r.fp)(f)?(0,r.HP)():f),content:t,subtitle:a,synopsis:s,image:h,isEPG:o,isSelected:l,gutterIconUrl:p,gutterIconA11yDescription:v,highlightIconUrl:d,highlightIconA11yDescription:u,highlightTime:c,onClick:i,_container:e,updateRender(){var e;null===(e=n.getContaining(this))||void 0===e||e.updateNode(this)}};return e.children.push(g),g}static renderTeaser(e,t,i,n,a,s,o,l,d,u){var c={type:"teaser",id:"ardplayer-teaser-"+(0,r.HP)(),availability:(0,r.fp)(s)?void 0:s,content:null!=o?o:"",duration:a,timer:d,image:t,byline:l,onClick:i,onImpression:n,onTimer:u,_container:e};return e.children.push(c),c}static renderHeading(e,t,i,n,a){void 0===n&&(n="heading"),void 0===a&&(a=2);var s={content:t,type:"h",ariaRole:n,ariaLabel:(0,r.fp)(i)?void 0:i,level:a,_container:e};return e.children.push(s),s}static renderButton(e,t,i,n,a,s,o){void 0===n&&(n=""),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===o&&(o="");var l={type:"button",content:t,icon:(0,r.fp)(n)?null:n,endIcon:(0,r.fp)(o)?null:o,onClick:i,id:"ardplayer-button-"+(0,r.HP)(),primary:a,pill:s,disabled:!1,_container:e};return e.children.push(l),l}static renderTextField(e,t,i,n,a,s){void 0===t&&(t=""),void 0===i&&(i=""),void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===s&&(s=!0);var o={type:"input-text",id:"ardplayer-input-"+(0,r.HP)(),content:i,disabled:a,small:s,placeholder:t,readonly:n,_container:e};return e.children.push(o),o}static renderCheckbox(e,t,i){void 0===t&&(t=""),void 0===i&&(i=!1);var n={checked:i,content:t,disabled:!1,type:"checkbox",id:"ardplayer-check-"+(0,r.HP)(),_container:e};return e.children.push(n),n}static renderByline(e,t,i,n){void 0===n&&(n=!1);var a={type:"byline",ariaLabel:(0,r.fp)(i)?void 0:i,content:t,allowHtml:n,_container:e};return e.children.push(a),a}static renderChip(e,t,i,n,a){void 0===n&&(n=!1),void 0===a&&(a=!1);var s={type:"chip",highlight:n,allowHtml:a,content:t,ariaLabel:(0,r.fp)(i)?void 0:i,_container:e};return e.children.push(s),s}static renderBodyText(e,t,i,n){void 0===n&&(n=!1);var a={type:"paragraph",content:t,allowHtml:n,ariaLabel:(0,r.fp)(i)?void 0:i,_container:e};return e.children.push(a),a}static renderSelect(e,t,i,a,s,o){var l={type:"select",id:"ardplayer-select-"+(0,r.HP)(),_container:e,content:t,values:i,enabled:o?i.map(((e,t)=>o(e,t===a,t))):i.map((()=>!0)),selectedIndex:a,callbacks:{optionSelected:s,isOptionEnabled:o},updateEnabledOptions(){var e;this.enabled=o?i.map(((e,t)=>o(e,t===a,t))):i.map((()=>!0)),null===(e=n.getContaining(this))||void 0===e||e.updateNode(this)},updateSelection(e,t){var i;this.selectedIndex=e,!0===t?this.updateEnabledOptions():null===(i=n.getContaining(this))||void 0===i||i.updateNode(this)},updateValues(e,t){this.values=e,this.updateSelection(t,!0)},_enforceIntegrity(){this.enabled=o?i.map(((e,t)=>o(e,t===a,t))):i.map((()=>!0))}};return e.children.push(l),l}}function a(e){return void 0!==e.content}function s(e){return void 0!==e.children&&void 0!==e.content}function o(e){return function(e){return void 0!==e.type}(e)&&void 0!==e.id}function l(e){return void 0!==e.onImpression&&"function"==typeof e.onImpression}},15465:(e,t,i)=>{"use strict";i.d(t,{qA:()=>n.q,hW:()=>c.h,AJ:()=>r,J5:()=>d.J,Sg:()=>u.S,JL:()=>h.J,iV:()=>T,fF:()=>y,fd:()=>o.fd,O:()=>s,O2:()=>o.O2});var r={};i.r(r);var n=i(65855),a=i(35996),s=i(71027),o=i(96735),l=i(11757),d=i(47982),u=i(38254),c=i(77708),h=i(95491);function p(){p=function(e,t){return new i(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function i(e,r,n){var a=new RegExp(e,r);return t.set(a,n||t.get(e)),f(a,i.prototype)}function r(e,i){var r=t.get(i);return Object.keys(r).reduce((function(t,i){var n=r[i];if("number"==typeof n)t[i]=e[n];else{for(var a=0;void 0===e[n[a]]&&a+1<n.length;)a++;t[i]=e[n[a]]}return t}),Object.create(null))}return v(i,RegExp),i.prototype.exec=function(t){var i=e.exec.call(this,t);if(i){i.groups=r(i,this);var n=i.indices;n&&(n.groups=r(n,this))}return i},i.prototype[Symbol.replace]=function(i,n){if("string"==typeof n){var a=t.get(this);return e[Symbol.replace].call(this,i,n.replace(/\$<([^>]+)>/g,(function(e,t){var i=a[t];return"$"+(Array.isArray(i)?i.join("$"):i)})))}if("function"==typeof n){var s=this;return e[Symbol.replace].call(this,i,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,s)),n.apply(this,e)}))}return e[Symbol.replace].call(this,i,n)},p.apply(this,arguments)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var g=!1,m=window,y=(e,t,i,r)=>{g=e,T.log("debug: "+(e?"enabled":"disabled")),e?a.K.add("",a.K.DEBUG,["core",...t?["playerEvent"]:[],...i?["pixelEvent"]:[],...r?["verboseUI"]:[]].join("|"),!0):a.K.remove("",a.K.DEBUG,!0),n.q.updateDebugSettings()},b=e=>{window.console.warn("ARDPlayer "+e+" - do not use in production")};((0,o.fp)(l.I.core.license)||"UNLICENSED"===l.I.core.license)&&b("build config untracked"),((0,o.fp)(l.I.core.signature)||"---"===l.I.core.signature)&&b("build unsigned"),"release"!==l.I.core.verb&&b("compiled in dev mode"),l.I.addon.concat(l.I.plugin).concat([l.I.core]).some((e=>{var t,i;return null!==(i=null===(t=e.rev)||void 0===t?void 0:t.startsWith("[D]"))&&void 0!==i&&i}))&&b("compiled from dirty source");var E,S,w,A,C,I,T=(E="[ARDP]",S="|@|",w=[],A=new Array(40),C=0,I=(e,t)=>{t.some((e=>"object"==typeof e))?A[C%A.length]=e+"("+C+")"+JSON.stringify(t,(0,o.fd)()):A[C%A.length]=e+"("+C+")"+JSON.stringify(t),C++},{get _buffer(){try{return btoa(unescape(encodeURIComponent(w.length+"|"+C%A.length+S+w.concat(A).join(S))))}catch(e){return""}},_clearBuffer(){w=[],A=new Array(40),C=0},_replayBuffer(e,t){var i=atob(decodeURIComponent(escape(e))).split(S),r=i[0].split("|"),n=parseInt(r[0],10),a=parseInt(r[1],10),s=[...i.slice(1,n+1),...i.slice(n+a+1),...i.slice(n+1,n+a+1)],o=p(/^(.)\((\d+)\)(.*)$/,{method:1,index:2,message:3});s.forEach((e=>{var i,r,n,a,s;if(""!==e){var l=e.match(o);if(null!==l){var d=JSON.parse(null!==(r=null===(i=l.groups)||void 0===i?void 0:i.message)&&void 0!==r?r:"[]"),u="[REPLAY]["+(null!==(a=null===(n=l.groups)||void 0===n?void 0:n.index)&&void 0!==a?a:"?")+"]";switch(null===(s=l.groups)||void 0===s?void 0:s.method){case"i":window.console.info(u,...d);break;case"w":window.console.warn(u,...d);break;case"e":window.console.error(u,...d);break;case"t":window.console.log(u+"[TRACE]",...d);break;case"x":window.console.log(u+"[INIT]",...d),null==t||t(d);break;default:window.console.log(u,...d)}}}}))},init(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];(e=>{w.push("x("+w.length+")"+JSON.stringify(e,(0,o.fd)())),I("i",["INIT_ENTRY_"+(w.length-1)])})(t),g&&m.console.info(E,...t)},info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];I("i",t),g&&m.console.info(E,...t)},log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];I("l",t),g&&m.console.log(E,...t)},warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];I("w",t),g&&m.console.warn(E,...t)},error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];I("e",t),g&&m.console.error(E,...t)},trace(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];I("t",[...t,Error().stack]),g&&m.console.trace(E,...t)}})},65855:(e,t,i)=>{"use strict";i.d(t,{q:()=>O});var r,n,a,s,o,l,d,u,c,h,p,v,f,g,m,y,b,E,S,w,A,C=i(15465),I=i(35996),T=i(96735),L=i(99340),_=i(11757),P=i(4178),k=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},x=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},R=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},O=A=class{constructor(){var e;r.set(this,void 0),n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),o.set(this,void 0),l.set(this,void 0),d.set(this,void 0),u.set(this,void 0),c.set(this,void 0),h.set(this,void 0),p.set(this,void 0),v.set(this,void 0),f.set(this,void 0),g.set(this,void 0),m.set(this,void 0),y.set(this,void 0),b.set(this,!1),E.set(this,!1),S.set(this,!1),w.set(this,!1),A._instance=this;try{x(this,y,window.self!==window.top,"f")}catch(e){x(this,y,!0,"f")}if(R(this,y,"f")&&window.innerHeight>400&&x(this,y,!1,"f"),x(this,r,null!==navigator.userAgent.match(/iPhone/i),"f"),x(this,n,/iPad/i.test(navigator.userAgent)||navigator.userAgent.toLowerCase().includes("macintosh")&&"ontouchend"in document,"f"),x(this,a,null!==navigator.userAgent.match(/iPod/i),"f"),R(this,a,"f")&&x(this,r,!1,"f"),x(this,s,null!==navigator.userAgent.match(/iOS/i)||R(this,n,"f")||R(this,r,"f")||R(this,a,"f"),"f"),R(this,s,"f")){var t=navigator.userAgent.match(/(\d+)(?:_\d+)* like Mac OS X/i);x(this,o,parseInt(null!==(e=null==t?void 0:t[1])&&void 0!==e?e:"0",10)<=12,"f")}else x(this,o,!1,"f");x(this,l,null!==navigator.userAgent.match(/Android/i),"f"),x(this,d,null!==navigator.userAgent.match(/webOS/i),"f"),x(this,u,null!==navigator.userAgent.match(/PlayBook/i),"f"),x(this,c,null!==navigator.userAgent.match(/BlackBerry/i)||R(this,u,"f"),"f"),x(this,h,null!==navigator.userAgent.match(/Windows Phone/i),"f"),x(this,p,/(Kindle|Silk|KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA)/i.test(navigator.userAgent),"f"),x(this,v,R(this,c,"f")||R(this,d,"f")||R(this,l,"f")||R(this,s,"f")||R(this,h,"f")||R(this,p,"f"),"f"),x(this,f,null!==navigator.userAgent.toLowerCase().match(/opera/i)||null!==navigator.userAgent.toLowerCase().match(/OPR\//i),"f"),x(this,g,null!==navigator.userAgent.toLowerCase().match(/firefox/i),"f"),x(this,m,/Version\/[\d.]+.*Safari/.test(navigator.userAgent),"f"),A.updateDebugSettings(),(0,C.fF)(R(this,b,"f"),R(this,E,"f"),R(this,S,"f"),R(this,w,"f"))}static get isIPhoneDevice(){return R(A.I,r,"f")}static get isIPadDevice(){return R(A.I,n,"f")}static get isIPodDevice(){return R(A.I,a,"f")}static get isIOSDevice(){return R(A.I,s,"f")}static get isOldWebkit(){return R(A.I,o,"f")}static get isAndroidDevice(){return R(A.I,l,"f")}static get isHPDevice(){return R(A.I,d,"f")}static get isPlaybookDevice(){return R(A.I,u,"f")}static get isBlackBerryDevice(){return R(A.I,c,"f")}static get isWindowsPhone(){return R(A.I,h,"f")}static get isKindle(){return R(A.I,p,"f")}static get isMobileDevice(){return R(A.I,v,"f")}static get browserIsOpera(){return R(A.I,f,"f")}static get browserIsFirefox(){return R(A.I,g,"f")}static get browserIsSafari(){return R(A.I,m,"f")}static get isFrame(){return R(A.I,y,"f")}static get isEmbedded(){return L.F.hasEmbeddedConfig}static get isAndroidTV(){var e,t;return this.isEmbedded&&"android"===this.platform&&!0===(null===(t=null===(e=L.F.embeddedConfig)||void 0===e?void 0:e.android)||void 0===t?void 0:t.isTV)}static get platform(){var e,t,i;return void 0===A._platformKey&&(A._platformKey=A.isEmbedded&&null!==(i=null===(t=null===(e=window.controller)||void 0===e?void 0:e.getPlatformKey)||void 0===t?void 0:t.call(e))&&void 0!==i?i:"web"),A._platformKey}static get I(){var e;return null!==(e=A._instance)&&void 0!==e?e:new A}static init(){void 0===A._instance&&(A._instance=new A)}static resetSingleton(){A._instance=void 0}static updateDebugSettings(){var e=I.K.get("",I.K.DEBUG,!0,"");if((0,T.fp)(e))x(A.I,b,!1,"f"),x(A.I,E,!1,"f"),x(A.I,S,!1,"f"),x(A.I,w,!1,"f");else{x(A.I,b,!0,"f");var t=String(e).split("|");x(A.I,E,t.includes("playerEvent"),"f"),x(A.I,S,t.includes("pixelEvent"),"f"),x(A.I,w,t.includes("verboseUI"),"f")}}static get isDebug(){return R(A.I,b,"f")}static get isDebugPlayerEvent(){return R(A.I,E,"f")}static set isDebugPlayerEvent(e){x(A.I,E,e,"f"),(0,C.fF)(!0,R(A.I,E,"f"),R(A.I,S,"f"),R(A.I,w,"f"))}static get isDebugPixelEvent(){return R(A.I,S,"f")}static set isDebugPixelEvent(e){x(A.I,S,e,"f"),(0,C.fF)(!0,R(A.I,E,"f"),R(A.I,S,"f"),R(A.I,w,"f"))}static get isDebugVerboseUI(){return R(A.I,w,"f")}static set isDebugVerboseUI(e){x(A.I,w,e,"f"),(0,C.fF)(!0,R(A.I,E,"f"),R(A.I,S,"f"),R(A.I,w,"f"))}static setEmbeddedConfig(e){L.F.setEmbeddedConfig(e)}static injectAddon(e){var t;e.rev="[I]"+(null!==(t=e.rev)&&void 0!==t?t:""),_.I.injectedAddons.push(e)}static injectPlugin(e){var t;e.rev="[I]"+(null!==(t=e.rev)&&void 0!==t?t:""),_.I.injectedPlugins.push(e)}};r=new WeakMap,n=new WeakMap,a=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,E=new WeakMap,S=new WeakMap,w=new WeakMap,O._instance=void 0,O._platformKey=void 0,O.VERSION=_.I.core.version,O.debugBuild="dev"===_.I.core.verb||"watch"===_.I.core.verb,O=A=k([P.V],O)},38254:(e,t,i)=>{"use strict";i.d(t,{S:()=>h});var r,n,a,s=i(47982),o=i(15465),l=i(4178),d=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},u=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},h=a=class{constructor(e){this.playstate=0,this.playbackRate=1,r.set(this,void 0),n.set(this,void 0),this.time=0,this.duration=0,a.playerIDs[e.getId()]=this,a.players.push(e),this.player=e}get playerConfig(){return u(this,r,"f")||o.iV.trace("PlayerModel.playerConfig accessed before set"),u(this,r,"f")}set playerConfig(e){c(this,r,e,"f")}get mediaCollection(){return u(this,n,"f")||o.iV.trace("PlayerModel#mediaCollection accessed before set"),u(this,n,"f")}set mediaCollection(e){c(this,n,e,"f")}getDuration(){return this.duration}getTime(){return this.time}static resetSingleton(){var e;a.playerIDs={},(null===(e=a.players)||void 0===e?void 0:e.length)>0&&a.players.forEach((e=>{var t;null===(t=null==e?void 0:e.getCtrl())||void 0===t||t.dispose()})),a.autoPlayerAlreadyActive=!1,a.players=[]}static getInstance(e){var t;return null!==(t=a.playerIDs[e.getId()])&&void 0!==t?t:new a(e)}static getAllPlayer(e){void 0===e&&(e="");var t=e instanceof s.J?e.getId():e;return""!==t?a.players:a.players.filter((e=>e.getId()!==t))}static getPlayerById(e){var t;return null!==(t=a.players.find((t=>t.getId()===e)))&&void 0!==t?t:null}static forceRemovePlayer(e){var t=a.players.findIndex((t=>t===e));t>=0&&a.players.splice(t,1);var i=e.getId();delete a.playerIDs[i]}dispose(){this.reset(),a.forceRemovePlayer(this.player)}reset(){this.duration=0,this.time=0,this.playstate=0}};r=new WeakMap,n=new WeakMap,h.PLAYSTATE_UNSPECIFIED=0,h.PLAYSTATE_PAUSED=1,h.PLAYSTATE_PLAYING=2,h.PLAYSTATE_STOPPED=3,h.playerIDs={},h.players=[],h.autoPlayerAlreadyActive=!1,h=a=d([l.V],h)},3987:(e,t,i)=>{"use strict";i.d(t,{CT:()=>o,F6:()=>l,ib:()=>d});var r=i(96735),n=i(65855),a=i(4178),s=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},o=class{constructor(e,t){this.url=e,this.mimeType=t,this.isHighDynamicRange=!1,this.isUltraLowLatency=!1,this.isAdaptiveQualitySelectable=!1,this.audios=[],this.forcedLabel=null}get qualityLabel(){if(this.forcedLabel)return this.forcedLabel;var e="Automatisch";return void 0!==this.maxHResolutionPx&&(e=(0,r.Iv)(this.maxHResolutionPx)),e+(this.isUltraLowLatency?" ULL":"")+(this.isHighDynamicRange?" HDR":"")}static validate(e){return"boolean"==typeof e.isHighDynamicRange&&"boolean"==typeof e.isUltraLowLatency&&Array.isArray(e.audios)&&e.audios.length>0&&"string"==typeof e.url&&"string"==typeof e.mimeType}};o=s([a.V],o);var l=class{constructor(e,t,i,n,a){var s,o,l;if(void 0===t&&(t="main"),void 0===i&&(i=!1),void 0===n&&(n=""),void 0===a&&(a=""),this.media=e,this.kind=t,this.isAudioOnly=i,this.kindName=n,this.videoLanguageCode=a,!Array.isArray(e)||e.length<=0)throw new Error("invalid media array for stream");this.videoLanguageCode=(0,r.fp)(this.videoLanguageCode)?null!==(l=null===(o=null===(s=this.media[0])||void 0===s?void 0:s.audios[0])||void 0===o?void 0:o.languageCode)&&void 0!==l?l:"deu":this.videoLanguageCode}streamLabel(e){var t=this.kindName;if((0,r.fp)(t))switch(this.kind){case"subtitle-burn-in":t="Untertitel";break;case"sign-language":t="Gebärdensprache";break;default:t=this.isAudioOnly?"Standardaudio":"Standardvideo"}var i=this.media[Math.min(e,this.media.length-1)].qualityLabel;return"Automatisch"===i?t:t+" ("+i+")"}static validate(e){return"boolean"==typeof e.isAudioOnly&&"string"==typeof e.kindName&&Array.isArray(e.media)&&e.media.length>0&&!e.media.some((e=>!o.validate(e)))}};l=s([a.V],l);var d=class{constructor(){this.isGeoBlocked=!1,this.streams=[],this.subtitles=[],this.meta={images:[],title:""},this.pluginData={},this._dvrEnabledInPc=!1}getPluginData(e){var t=e+"@"+n.q.platform,i=e+"@all";if((0,r.nr)(this.pluginData,t)||(0,r.nr)(this.pluginData,i))return(0,r.RH)(this.pluginData[i],this.pluginData[t])}get isLive(){return void 0!==this.live}get isDvrEnabled(){var e,t;return this._dvrEnabledInPc&&(null!==(t=null===(e=this.live)||void 0===e?void 0:e.dvrWindowSeconds)&&void 0!==t?t:0)>0}get isAudioOnly(){return this.streams.some((e=>e.isAudioOnly))}static validate(e){return Array.isArray(e.streams)&&e.streams.length>0&&!e.streams.some((e=>!l.validate(e)))&&Array.isArray(e.subtitles)&&"boolean"==typeof e.isGeoBlocked&&void 0!==e.meta&&null!==e.meta&&Array.isArray(e.meta.images)&&void 0!==e.pluginData&&null!==e.pluginData}};d=s([a.V],d)},82978:(e,t,i)=>{"use strict";i.d(t,{HZ:()=>o,QL:()=>u,eu:()=>d,z5:()=>l});var r=i(96735),n=i(65855),a=i(4178),s=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},o=class{constructor(e,t){this.width={min:50,max:1080,stepSize:200},this.size=[{minWidth:0,value:"xs"},{minWidth:414,value:"s"},{minWidth:475,value:"m"},{minWidth:851,value:"l"},{minWidth:1441,value:"xl"}],e&&Object.assign(this.width,e),t&&t.length>0&&(this.size=t),this.size.sort(((e,t)=>e.minWidth-t.minWidth))}resolveTemplate(e){if((0,r.fp)(e))return[[0,""]];var t=/{width}/g,i=t.test(e),n=/{size}/g,a=n.test(e);if(!a&&!i)return[[0,e]];var s=[];if(i){for(var o=this.width.min;o<this.width.max;o+=this.width.stepSize)s.push(o);s.push(this.width.max)}return a&&s.push(...this.size.map((e=>e.minWidth))),s.sort(((e,t)=>e-t)).map((r=>{var s,o,l=e;if(i&&(l=l.replace(t,(r>=this.width.max?this.width.max:r<=this.width.min?this.width.min:r-(r-this.width.min)%this.width.stepSize).toString(10))),a){var d=null!==(s=this.size.find((e=>e.minWidth>=r)))&&void 0!==s?s:this.size[this.size.length-1],u=null!==(o=this.size.find((e=>e.minWidth<=r)))&&void 0!==o?o:this.size[0];l=l.replace(n,(d.minWidth-r<r-u.minWidth?d:u).value)}return[r,l]}))}};o=s([a.V],o);var l=class{constructor(e,t,i){void 0===e&&(e=100),void 0===t&&(t=!1),void 0===i&&(i=!1),this.volumePercent=e,this.isAutoplay=t,this.isShowSubtitleAtStart=i,this.isTimeRemainingDisplay=!1,this.isDvrEnabled=!1,this.isMuted=!1,this.vodStartSeconds=0,this.vodEndSeconds=0,this.vodInitialPlayheadSeconds=0,this.imageTemplateConfig=new o,this.volumePercent=Math.max(0,Math.min(100,e))}static validate(e){return"number"==typeof e.volumePercent&&e.volumePercent>=0&&e.volumePercent<=100&&"boolean"==typeof e.isAutoplay&&"boolean"==typeof e.isShowSubtitleAtStart}};l=s([a.V],l);var d=class{constructor(e,t,i){void 0===t&&(t=-1),this.baseUrl=e,this.forcedVolumePercent=t,this.isForcedAutoplay=i,this.forcedVolumePercent=-1===(null!=t?t:-1)?-1:Math.max(0,Math.min(100,t))}static validate(e){return!(0,r.fp)(e.baseUrl)&&(-1===e.forcedVolumePercent||e.forcedVolumePercent>=0&&e.forcedVolumePercent<=100)}};d=s([a.V],d);var u=class{constructor(e,t,i){this.generic=e,this.web=t,this.pluginData=i}get platformConfig(){switch(n.q.platform){case"ios":return this.ios;case"android":return this.android;default:return}}get isEmbedded(){var e,t;return null!==(t=null===(e=this.platformConfig)||void 0===e?void 0:e.isEmbedded)&&void 0!==t&&t}get embeddedBaseUrl(){var e;return null===(e=this.platformConfig)||void 0===e?void 0:e.baseUrl}get allowEmbeddedAutoplay(){var e,t;return null!==(t=null===(e=this.platformConfig)||void 0===e?void 0:e.allowAutoplay)&&void 0!==t&&t}getPluginData(e){var t=e+"@"+n.q.platform,i=e+"@all";if((0,r.nr)(this.pluginData,t)||(0,r.nr)(this.pluginData,i))return(0,r.RH)(this.pluginData[i],this.pluginData[t])}static validate(e){return l.validate(e.generic)&&d.validate(e.web)&&!!e.pluginData}};u=s([a.V],u)},99340:(e,t,i)=>{"use strict";i.d(t,{F:()=>A});var r,n=i(15465),a=i(96735),s=i(65855),o=i(82978),l=i(77708),d=i(4178),u=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},c=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},h=r=class{constructor(e){this.disablePosterImage=void 0,this._solaAnalyticsEnabled=void 0,this._solaAnalyticsConfig=void 0,this.representationArray=[],this.startTime=0,this.endTime=0,this.autoplay=void 0,this.autoplayForced=!1,this.isForcedVideoView=!1,this.isTimeRemainingDisplay=!1,this.showSubtitelAtStart=!1,this.baseUrl="",this.initialPlayhead=0,this.initialVolume=1,this.volume=-1,this.muted=!1,this.pixelConfig="",this.airplayEnabled=!0,this.addonConfig={},this.addonBreakingNews=void 0,this.chaptersEnabled=!0,this.enablePostMessage=!1,this.streamed_webvtt_enabled=!1,this.hlsOptimizationLevel=null,this.hlsConfig=void 0,this._mcdnConfig=void 0,null!=e&&"object"==typeof e&&(0,a.ZA)(this,e),"AUTOPLAY"===this.autoplay&&(this.autoplay=s.q.isMobileDevice?"NOTHING":"AUTOPLAY")}setRepresentation(e,t){"string"==typeof e?this.representationArray[0]=e.toLowerCase():this.representationArray[e]=t}parseToNextFormat(){var e=new o.QL(new o.z5(100*this.initialVolume,"AUTOPLAY"===this.autoplay||"FORCE"===this.autoplay||!0===this.autoplay,this.showSubtitelAtStart),new o.eu(this.baseUrl,-1===this.volume?-1:100*this.volume,"FORCE"===this.autoplay||this.autoplayForced),{});if(e.generic.vodStartSeconds=this.startTime,e.generic.vodEndSeconds=this.endTime,e.generic.vodInitialPlayheadSeconds=this.initialPlayhead,e.generic.isMuted=this.muted,e.generic.isTimeRemainingDisplay=this.isTimeRemainingDisplay,e.web.isForcedVideoView=this.isForcedVideoView,void 0!==this.enablePostMessage&&(e.web.enablePostMessage=this.enablePostMessage),void 0!==this.disablePosterImage&&(e.web.disablePosterImage=this.disablePosterImage),null!==this.hlsOptimizationLevel)switch(this.hlsOptimizationLevel){case"quality":case"responsive":case"smoothest":e.web.hlsOptimizationLevel=this.hlsOptimizationLevel;break;default:e.web.hlsOptimizationLevel="quality"}return this.parsePluginData(e),this.parseTracking(e),n.iV.info("parsed PlayerConfig to next format",this),e}parsePluginData(e){var t,i;for(var[r,n]of[["addonConfig","legacyaddonconfig@all"],["pixelConfig","legacypixelconfig@all"],["_mcdnConfig","multicdn@web"],["hlsConfig","plugin-hls@web"]])void 0!==this[r]&&(e.pluginData[n]=this[r]);this.setOptionalPluginConfig(e,"airplay","isDisabled",!this.airplayEnabled),this._mcdnConfig&&this.setOptionalPluginConfig(e,"multicdn","isActive",null!==(i=null===(t=this._mcdnConfig)||void 0===t?void 0:t.isActive)&&void 0!==i&&i)}parseTracking(e){var t,i;if(Array.isArray(this.pixelConfig)){var r=this.pixelConfig.find((e=>"ATI"===(null==e?void 0:e.tracker)||"ATIdebug"===(null==e?void 0:e.tracker)));r&&((0,a.nr)(r,"clipData")&&(r.richMedia=r.clipData,r.isEmbedded=r.clipData.isEmbedded),r.config=null!==(t=r.config)&&void 0!==t?t:r.tagConfig,r.page=null!==(i=r.page)&&void 0!==i?i:r.playclickData,e.pluginData["trackingAti@all"]=r);var n=this.pixelConfig.find((e=>"AGF"===(null==e?void 0:e.tracker)||"AGFdebug"===(null==e?void 0:e.tracker)));n&&(e.pluginData["trackingAgf@all"]=n)}}setOptionalPluginConfig(e,t,i,r){(0,a.nr)(e.pluginData,t+"@web")?e.pluginData[t+"@web"][i]=r:(0,a.nr)(e.pluginData,t+"@all")?e.pluginData[t+"@all"][i]=r:e.pluginData[t+"@all"]={[i]:r}}static GetPlayerConfigByJsonCmd(e,t){if(t){if(null!=e){var i=e=>{if(null!==t)if(null!=e){var i=(0,a.nr)(e,"_representationArray")?e._representationArray:null;delete e._representationArray;var n=new r(e);null==i||i.forEach(((e,t)=>{n.setRepresentation(t,e._representationClass)})),t(n)}else t()};if("object"==typeof e)return void i(JSON.parse(JSON.stringify(e)));if(!(0,a.fp)(e))return void fetch(e).then((e=>c(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{i(e)})).catch((e=>{null!==t&&(t(void 0),t=null),l.h.getInstance().throwError(l.h.PC_JSON_FILE_NOT_FOUND,!0)}))}l.h.getInstance().throwError(l.h.PC_JSON_FILE_WRONG_URI,!0)}}};h=r=u([d.V],h);var p,v=i(3987),f=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},g=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class m{constructor(e){this.mediaStreamArray=[!1,!1,!1,!1],this.plugin=e}addMediaStream(e){this.mediaStreamArray[e.quality]=e}}class y{constructor(e,t,i,r,n,s,o){if(void 0===r&&(r=""),void 0===n&&(n=""),void 0===s&&(s=""),void 0===o&&(o=""),this.quality=e,this.server=t,this.stream=i,this.cdn=r,this.label=n,this.description=s,this.audioLang=o,(0,a.fp)(r)&&(this.cdn="default"),(0,a.fp)(n))switch(e){case 5:case"5":this.label="4K";break;case 4:case"4":this.label="Full HD";break;case 3:case"3":this.label="sehr hohe";break;case 2:case"2":this.label="hohe";break;case 1:case"1":this.label="mittlere";break;case 0:case"0":this.label="niedrige";break;case"auto":this.label="automatische";break;default:this.label="Unbekannt ("+e+")"}if((0,a.fp)(s))switch(e){case 5:case"5":this.description="4K";break;case 4:case"4":this.description="Full HD";break;case 3:case"3":this.description="Sehr hohe Qualität";break;case 2:case"2":this.description="Hohe Qualität";break;case 1:case"1":this.description="Mittlere Qualität";break;case 0:case"0":this.description="Niedrige Qualität";break;case"auto":this.description="Automatische Qualität";break;default:this.description="Unbekannt ("+e+")"}}get _stream(){return this.stream}}var b=p=class{constructor(e,t,i,r){this.geoblocked=!1,this._dvrEnabled=!1,this._mediaArray=[!1,!1,!1],this.alternativeMediaArrays=null,this.previewImage=void 0,this.audioImage=void 0,this.subtitleUrl=void 0,this.subtitleOffset=void 0,this.startTime=void 0,this.endTime=void 0,this.embedEnabled=!1,this.embedLink="",this.embedLinkText="",this.embedTitle="",this._title="",this.duration=0,this.durationEnabled=!0,this.chapters={chapterSpriteImage:null,chapterSpriteColumns:4},this.isLive=void 0,this.type=void 0,this.defaultQuality=void 0,this.download=void 0,this._sharing=void 0,this._vttElements=void 0,this.vttPreview=void 0,this.addon360=void 0,this._info=void 0,this._reco=void 0,this._dashConfig=void 0,null!==e||null!==t||null!==i||null==r||"object"!=typeof r?(this.type=e,this.isLive=t,this.defaultQuality=i):((0,a.ZA)(this,r),(0,a.nr)(r,"_chapters")&&(this.chapters=(0,a.Ue)(r._chapters)),Array.isArray(this.defaultQuality)||(this.defaultQuality=this.defaultQuality?[this.defaultQuality]:[]))}get _type(){return this.type}get _download(){var e;return null!==(e=this.download)&&void 0!==e&&e?this.download:void 0}addMediaStream(e,t,i,r,n,a,s,o){var l=new y(t,i,r,n,a,s,o);return this._mediaArray[e].addMediaStream(l),this}addMedia(e){this._mediaArray[e]=new m(e)}addAlternativeMediaStream(e,t,i,r,n,a,s,o,l){var d=new y(i,r,n,a,s,o,l),u=this.getAlternativeMediaArrayByType(e);return!1===u[t]&&(u[t]=new m(t)),u[t].addMediaStream(d),this}getAlternativeMediaArrayByType(e){var t;null==this.alternativeMediaArrays&&(this.alternativeMediaArrays=[]);for(var i=0;i<this.alternativeMediaArrays.length&&-1===(t=this.alternativeMediaArrays[i])._type.indexOf(e);i++)t=null;return null==t&&(t={_type:[e],_mediaArray:[!1,!1,!1]},this.alternativeMediaArrays.push(t)),t._mediaArray}parseToNextFormat(e,t){var i=new v.ib;return this.parseMeta(i,e),this.parsePluginData(i,e,t),this.parseStreams(i),this.parseSubtitles(i,t),this.parseOrphanSettings(i,t),this.parseTracking(i,t),this.handleMovedSettings(e),n.iV.info("parsed LegacyMediaCollection to next format",this),i}parseTracking(e,t){t._solaAnalyticsEnabled&&void 0!==t._solaAnalyticsConfig&&(e.pluginData["trackingSola@all"]="string"==typeof t._solaAnalyticsConfig?{configPath:t._solaAnalyticsConfig}:t._solaAnalyticsConfig)}handleMovedSettings(e){var t,i;void 0===e.generic&&(e.generic=new o.z5),e.generic.isDvrEnabled=this._dvrEnabled&&this.isLive,e.generic.vodStartSeconds=(null!==(t=this.startTime)&&void 0!==t?t:0)>0?this.startTime:e.generic.vodStartSeconds,e.generic.vodEndSeconds=(null!==(i=this.endTime)&&void 0!==i?i:0)>0?this.endTime:e.generic.vodEndSeconds}parseOrphanSettings(e,t){var i,r,n,s;null===(i=null==t?void 0:t.chaptersEnabled)||void 0===i||i||this.setOptionalPluginConfig(e,"jumpmarks","chaptersEnabled",!1),0!==(null!==(n=null===(r=this.chapters)||void 0===r?void 0:r.refresh)&&void 0!==n?n:0)&&this.setOptionalPluginConfig(e,"jumpmarks","refreshSeconds",this.chapters.refresh),(0,a.fp)(null===(s=this.chapters)||void 0===s?void 0:s.source)||this.setOptionalPluginConfig(e,"jumpmarks","url",this.chapters.source)}setOptionalPluginConfig(e,t,i,r){(0,a.nr)(e.pluginData,t+"@"+s.q.platform)?e.pluginData[t+"@"+s.q.platform][i]=r:(0,a.nr)(e.pluginData,t+"@all")?e.pluginData[t+"@all"][i]=r:e.pluginData[t+"@all"]={[i]:r}}parseStreams(e){var t;e.streams=[],e.isGeoBlocked=this.geoblocked;var i=this.parseMediaStreamArray(this._mediaArray,void 0!==e.live);i.length>0&&e.streams.push(new v.F6(i,"main","audio"===this.type));var r={signlanguage:["sign-language","Gebärdensprache"],audiodescription:["main","Audiodeskription"],untertitel:["subtitle-burn-in","Untertitel"]};null===(t=this.alternativeMediaArrays)||void 0===t||t.forEach((t=>{var[i,s]=r[t._type[0]];if(void 0!==i){for(var o="",l=0;l<t._mediaArray.length;l++){var d=t._mediaArray[l];if(d){for(var u=Object.values(d.mediaStreamArray),c=0;c<u.length;c++){var h=u[c];if(h&&!(0,a.fp)(h.audioLang)){o=h.audioLang;break}}if(!(0,a.fp)(o))break}}var p=this.parseMediaStreamArray(t._mediaArray,void 0!==e.live,"audiodescription"===t._type[0]);p.length>0?e.streams.push(new v.F6(p,i,!1,s,o)):n.iV.warn("empty mapped stream for type "+t._type[0])}else n.iV.warn("unmapped alternative media stream of type "+t._type[0])}))}parseSharingPlugin(e){return{link:e.link,embedCode:e.embed,params:e.params||"?startTime=$start$&endTime=$ende$",legal:e.legal||"",body:e.body||"Unbedingt anschauen! Mein Tipp aus der ARD Mediathek: $link$",subject:e.subject||"Empfehlung aus der ARD Mediathek",services:e.services||[]}}parsePluginData(e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),"object"!=typeof e.pluginData&&(e.pluginData={});var r=[["_dashConfig","plugin-dash@"+s.q.platform],["chapters","jumpmarks@"+s.q.platform],["_reco","recommendation@"+s.q.platform],["vttPreview","vtt-preview@"+s.q.platform],["addon360","addon360@"+s.q.platform]];for(var[n,a]of r)void 0!==this[n]&&(e.pluginData[a]=this[n]);i&&"object"==typeof i.addonBreakingNews&&(e.pluginData["breakingNews@"+s.q.platform]=i.addonBreakingNews),void 0!==this._sharing&&(e.pluginData["sharing@"+s.q.platform]=this.parseSharingPlugin(this._sharing)),void 0!==this._download&&(e.pluginData["download@"+s.q.platform]={isEnabled:!1!==this._download&&!1!==this._download.enabled}),e.pluginData["recommendation@"+s.q.platform]&&(e.pluginData["recommendation@"+s.q.platform].url=e.pluginData["recommendation@"+s.q.platform].path,e.pluginData["recommendation@"+s.q.platform].timerSeconds=e.pluginData["recommendation@"+s.q.platform].timer),(null==t?void 0:t.pluginData)&&(e.pluginData=Object.assign({},t.pluginData,e.pluginData),t.pluginData["tracking@all"]&&(e.pluginData["tracking@all"]=Object.assign({},t.pluginData["tracking@all"],e.pluginData["tracking@all"])),t.pluginData["tracking@"+s.q.platform]&&(e.pluginData["tracking@"+s.q.platform]=Object.assign({},t.pluginData["tracking@"+s.q.platform],e.pluginData["tracking@"+s.q.platform])))}parseMeta(e,t){var i,r,n,s,o,l,d;if(void 0===t&&(t=null),this.isLive&&(e.live={dvrWindowSeconds:7e3},delete e.meta.broadcastedOnDateTime),this.duration){var u=parseInt(this.duration,10);u&&u>4&&(e.meta.durationSeconds=u)}this.durationEnabled||(e.meta.hideDuration=!0),(0,a.fp)(this._title)?(0,a.fp)(this.embedTitle)||(e.meta.title=this.embedTitle):e.meta.title=this._title,this._info&&((0,a.fp)(this._info.clipDescription)||(e.meta.synopsis=this._info.clipDescription),(0,a.fp)(this._info.seriesTitle)||(e.meta.seriesTitle=this._info.seriesTitle),(0,a.fp)(this._info.clipContentSrc)||(e.meta.clipSourceName=this._info.clipContentSrc),(0,a.fp)(this._info.clipAvailEnd)||(e.meta.availableToDateTime=this._info.clipAvailEnd),(0,a.fp)(this._info.clipDate)||(e.meta.broadcastedOnDateTime=this._info.clipDate)),this.embedEnabled&&(e.meta.embed={enabled:this.embedEnabled,link:this.embedLink,linkText:this.embedLinkText,title:this.embedTitle});var c="audio"===this.type&&void 0!==this.audioImage?this.audioImage:this.previewImage;if("string"==typeof c)(0,a.fp)(c)||(e.meta.images=[{kind:"preview",url:c,imageSourceName:(0,a.fp)(null===(i=this._info)||void 0===i?void 0:i.clipPosterSrc)?void 0:this._info.clipPosterSrc}]);else if(c){var h=c,p={xs:0,s:414,m:475,l:851,xl:1441};t&&(t.generic.imageTemplateConfig.size=Object.keys(h).filter((e=>!(0,a.fp)(h[e]))).map((e=>({minWidth:p[e],value:h[e]}))).sort(((e,t)=>e.minWidth-t.minWidth))),e.meta.images=[{kind:"preview",url:t&&t.generic.imageTemplateConfig.size.length>0?"{size}":null!==(l=null!==(o=null!==(s=null!==(n=null!==(r=c.m)&&void 0!==r?r:c.l)&&void 0!==n?n:c.xl)&&void 0!==s?s:c.s)&&void 0!==o?o:c.xs)&&void 0!==l?l:"",imageSourceName:(0,a.fp)(null===(d=this._info)||void 0===d?void 0:d.clipPosterSrc)?void 0:this._info.clipPosterSrc}]}}parseSubtitles(e,t){e.subtitles=[];var i=[];this.subtitleUrl&&i.push({kind:"ebutt",url:this.subtitleUrl}),this._vttElements&&this._vttElements.forEach((t=>{(0,a.fp)(t.lang)||"de"===t.lang||"deu"===t.lang?i.push({kind:"webvtt",url:t.src}):e.subtitles.push({kind:"normal",languageCode:t.lang,sources:[{kind:"webvtt",url:t.src}]})})),(null==t?void 0:t.streamed_webvtt_enabled)&&i.push({kind:"webvtt"}),i.length>0&&e.subtitles.unshift({kind:"normal",languageCode:"deu",sources:i})}parseMediaStreamArray(e,t,i){var r,n,s,o;if(void 0===i&&(i=!1),!e||!this.defaultQuality)return[];var l={};for(var d of e)if(!1!==d&&d.mediaStreamArray)for(var u of Object.keys(d.mediaStreamArray)){var c=d.mediaStreamArray[u];if(!1!==c&&c.stream){var h="Q"+c.quality;l[h]?l[h].push(c):l[h]=[c]}}var f=[];for(var g of this.defaultQuality){var m="Q"+g,y=l[m];if(y)for(var b of y)for(var E of Array.isArray(b.stream)?b.stream:[b.stream]){var S=(null!==(r=b.server)&&void 0!==r?r:"")+E,w=S.indexOf("?"),A=S.indexOf("#"),C=(w=A>0&&w>0?Math.max(w,A):A>0?A:w)>0?S.substring(0,w):S,I=new v.CT(S,t?"video/mpeg":"video/mp4");if((0,a.fp)(b.audioLang)?I.audios.push({kind:i?"audio-description":"standard",languageCode:"deu",isLegacyDefaultEntry:!0}):I.audios.push({kind:i?"audio-description":"standard",languageCode:p.normalizeLangCode(b.audioLang)}),"audio"===this.type)C.includes("m3u")?I.mimeType="application/vnd.apple.mpegurl":C.endsWith(".aac")?I.mimeType="audio/aac":/\.mpd(\?.*)?$/i.test(C)?I.mimeType="application/dash+xml":I.mimeType="audio/mpeg";else if(C.endsWith(".ts")?I.mimeType="video/mpeg":/\.mpd(\?.*)?$/i.test(C)?I.mimeType="application/dash+xml":C.includes("m3u8")&&(I.mimeType="application/vnd.apple.mpegurl"),5===g&&"application/dash+xml"===I.mimeType&&(I.isHighDynamicRange=!0),"application/dash+xml"===I.mimeType&&null!==(o=null===(s=null===(n=this._dashConfig)||void 0===n?void 0:n.streaming)||void 0===s?void 0:s.lowLatencyEnabled)&&void 0!==o&&o&&(I.isUltraLowLatency=!0),"application/dash+xml"!==I.mimeType&&"application/vnd.apple.mpegurl"!==I.mimeType)switch(m){case"Q0":I.maxHResolutionPx=320;break;case"Q1":I.maxHResolutionPx=640;break;case"Q2":I.maxHResolutionPx=960;break;case"Q3":I.maxHResolutionPx=1280;break;case"Q4":case"Qauto":I.maxHResolutionPx=1920;break;case"Q5":I.maxHResolutionPx=3840}(0,a.fp)(b.description)||(I.forcedLabel=b.description),f.push(I)}}return f}static normalizeLangCode(e){switch(e.toLowerCase()){case"sgg":return"gsw";case"ase":case"bfi":return"eng";case"fsl":return"fre";case"sgn":case"gsg":case"dgs":case"und":case"":return"deu";default:return e}}static GetMediaCollectionByJsonCmd(e,t,i){if(void 0!==i){if(null!=t){var r=e=>{if(null!==i)if(null!=e){var t=[];(0,a.nr)(e,"_mediaArray")&&(t=e._mediaArray,delete e._mediaArray);var r=[];(0,a.nr)(e,"_alternativeMediaArray")&&(r=e._alternativeMediaArray,delete e._alternativeMediaArray);var n=new p(null,null,null,e);t.forEach((e=>{n.addMedia(e._plugin),void 0!==e._mediaStreamArray&&Array.isArray(e._mediaStreamArray)&&e._mediaStreamArray.forEach((t=>{(t._server+t._stream).length>0&&n.addMediaStream(e._plugin,t._quality,t._server,t._stream,t._cdn,t._label,t._description,t._audiolang)}))})),r.forEach((e=>{e._mediaArray.forEach((t=>{void 0!==t._mediaStreamArray&&Array.isArray(t._mediaStreamArray)&&t._mediaStreamArray.forEach((i=>{(i._server+i._stream).length>0&&n.addAlternativeMediaStream(e._type[0],t._plugin,i._quality,i._server,i._stream,i._cdn,i._label,i._description,i._audiolang)}))}))})),i(n)}else i()};if("object"==typeof t)return void r(JSON.parse(JSON.stringify(t)));if(!(0,a.fp)(t))return void fetch(t).then((e=>g(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{r(e)})).catch((t=>{i&&(i(void 0),i=null),l.h.getInstance(e).throwError(l.h.MC_JSON_FILE_NOT_FOUND,!0)}))}l.h.getInstance(e).throwError(l.h.MC_JSON_FILE_WRONG_URI,!0)}}};b=p=f([d.V],b);var E,S=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},w=function(e,t,i,r){return new(i||(i=Promise))((function(n,a){function s(e){try{l(r.next(e))}catch(e){a(e)}}function o(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))},A=E=class{constructor(e){this.initPlayer=e,this.isLegacy=!1,this.legacyPC=null,this.legacyMC=null,this.mc=null,this.pc=null}setPC(e,t){var i,r,s,l,d,u,c,p;if("string"!=typeof e){if(!(e instanceof o.QL||e instanceof h||"object"!=typeof e||!(0,a.nr)(e,"_autoplay")&&!(0,a.nr)(e,"_baseUrl")&&(0,a.nr)(e,"pluginData")))return this.isLegacy=!0,n.iV.warn("treating PlayerConfiguration input as legacy format"),void h.GetPlayerConfigByJsonCmd(e,(e=>{this.setPC(e,t)}));if(e instanceof h)this.isLegacy=!0,this.legacyPC=t?t(e):e;else if(e instanceof o.QL)this.pc=e;else try{var v=JSON.parse(JSON.stringify(e));v.generic&&(v.generic.imageTemplateConfig=new o.HZ(null===(r=null===(i=v.generic)||void 0===i?void 0:i.imageTemplateConfig)||void 0===r?void 0:r.width,null===(l=null===(s=v.generic)||void 0===s?void 0:s.imageTemplateConfig)||void 0===l?void 0:l.size)),v.generic=Object.assign(new o.z5,v.generic),v.web.forcedVolume=null!==(d=v.web.forcedVolume)&&void 0!==d?d:-1,v.web=Object.assign(new o.eu(null!==(c=null===(u=v.web)||void 0===u?void 0:u.baseUrl)&&void 0!==c?c:""),v.web),v.pluginData=null!==(p=v.pluginData)&&void 0!==p?p:{},this.pc=Object.assign(Object.create(o.QL.prototype),v),n.iV.warn("cast [object] to PlayerConfig",this.pc)}catch(t){return void n.iV.error("Invalid input for PlayerConfiguration",e,t)}this.checkReady()}else if(e.startsWith("{"))try{this.setPC(JSON.parse(e))}catch(t){n.iV.error("could not parse pc from string",e,t)}else fetch(e).then((e=>w(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{this.setPC(e)})).catch((t=>{n.iV.error("could not load pc from url",e,t)}))}setMC(e,t){var i,r;if("string"!=typeof e){if(!(e instanceof v.ib||e instanceof b||"object"!=typeof e)&&(0,a.nr)(e,"_mediaArray"))return this.isLegacy=!0,n.iV.warn("treating MediaCollection input as legacy format"),void b.GetMediaCollectionByJsonCmd(null,e,(e=>{this.setMC(e,t)}));if(e instanceof b)this.isLegacy=!0,this.legacyMC=t?t(e):e;else if(e instanceof v.ib)this.mc=e;else try{var s=JSON.parse(JSON.stringify(e));s.subtitles=null!==(i=s.subtitles)&&void 0!==i?i:[],s.isGeoBlocked=null!==(r=s.isGeoBlocked)&&void 0!==r&&r,s.streams=s.streams.map((e=>{var t,i,r,n,a;return e.isAudioOnly=null!==(t=e.isAudioOnly)&&void 0!==t&&t,e.media=e.media.map((e=>Object.assign(new v.CT(e.url,e.mimeType),e))),e.videoLanguageCode=null!==(a=null!==(i=e.videoLanguageCode)&&void 0!==i?i:null===(n=null===(r=e.media[0])||void 0===r?void 0:r.audios[0])||void 0===n?void 0:n.languageCode)&&void 0!==a?a:"deu",Object.assign(new v.F6(e.media),e)})),this.mc=Object.assign(Object.create(v.ib.prototype),s),n.iV.warn("cast [object] to MediaCollection",this.mc)}catch(t){return void n.iV.error("Invalid input for MediaCollection",t,e)}this.checkReady()}else if(e.startsWith("{"))try{this.setMC(JSON.parse(e))}catch(t){n.iV.error("could not parse mc from string",e,t)}else fetch(e).then((e=>w(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>{this.setMC(e)})).catch((t=>{n.iV.error("could not load mc from url",e,t)}))}checkReady(){var e,t,i,r;null!==this.initPlayer?(this.isLegacy&&null!==this.legacyPC&&null!==this.legacyMC&&(n.iV.warn("[Loader] initialising with legacy data model!"),this.pc=this.legacyPC.parseToNextFormat(),this.mc=this.legacyMC.parseToNextFormat(this.pc,this.legacyPC)),null!==this.mc&&null!==this.pc&&(E.embeddedConfig&&null!==(r=null!==(t=null===(e=E.embeddedConfig)||void 0===e?void 0:e.android)&&void 0!==t?t:null===(i=E.embeddedConfig)||void 0===i?void 0:i.ios)&&void 0!==r&&r&&(n.iV.info("[Loader] injecting embedded config"),Object.assign(this.pc,E.embeddedConfig)),this.mc._dvrEnabledInPc=this.pc.generic.isDvrEnabled,n.iV.init("[Loader][PC]",this.pc),n.iV.init("[Loader][MC]",this.mc),this.initPlayer(this.pc,this.mc),this.initPlayer=null)):n.iV.error("checkReady called with null callback!")}static get hasEmbeddedConfig(){return null!==E.embeddedConfig}static setEmbeddedConfig(e){var t,i;e&&null!==(i=null!==(t=null==e?void 0:e.android)&&void 0!==t?t:e.ios)&&void 0!==i&&i?(E.embeddedConfig={},e.android&&(E.embeddedConfig.android=e.android),e.ios&&(E.embeddedConfig.ios=e.ios)):E.embeddedConfig=null}};A.embeddedConfig=null,A=E=S([d.V],A)},47982:(e,t,i)=>{"use strict";i.d(t,{J:()=>Y});var r,n,a=i(15465),s=i(96735),o=i(4178),l=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},c=class{constructor(){r.set(this,{}),n.set(this,void 0)}registerDelegate(e){d(this,n,"f")||u(this,n,new Set,"f"),d(this,n,"f").add(e)}disposeDelegate(e){var t;null===(t=d(this,n,"f"))||void 0===t||t.delete(e)}on(e,t){this.addEventListener(e,t)}off(e,t){void 0===e&&(e=""),void 0!==d(this,r,"f")&&((0,s.fp)(e)||t?(0,s.fp)(e)?u(this,r,{},"f"):t&&this.removeEventListener(e,t):delete d(this,r,"f")[e])}dispatchEvent(e,t){this.dispatchEventInternal(Object.assign({type:e},t))}sendEvent(e){var t;(0,s.fp)(null==e?void 0:e.type)||(this.dispatchEventInternal(e),null===(t=d(this,n,"f"))||void 0===t||t.forEach((t=>{t.dispatchEventInternal(e)})))}addEventListener(e,t){void 0===d(this,r,"f")[e]&&(d(this,r,"f")[e]=[]),d(this,r,"f")[e].includes(t)||d(this,r,"f")[e].push(t)}hasEventListener(e,t){var i,n;return null!==(n=null===(i=d(this,r,"f")[e])||void 0===i?void 0:i.includes(t))&&void 0!==n&&n}removeEventListener(e,t){var i=d(this,r,"f")[e];if(void 0!==i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}}dispatchEventInternal(e){var t,i;null===(t=d(this,r,"f")[e.type])||void 0===t||t.forEach((t=>{try{t.call(this,e)}catch(i){a.iV.error("Error in event listener for '"+String(e.type)+"' - "+t.name+" -",i,t)}})),null===(i=d(this,r,"f")["*"])||void 0===i||i.forEach((t=>{try{t.call(this,e)}catch(i){a.iV.error("Error in broadcast event listener for '"+String(e.type)+"' - "+t.name+" -",i,t)}}))}};r=new WeakMap,n=new WeakMap,c=l([o.V],c);var h=i(35996),p=i(77708),v=i(95491),f=i(65855),g=i(38254),m=i(56757),y=i(11757),b=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},E=class{constructor(e){this.player=e,this.playerEventMap={[Y.EVENT_READY]:"canplay",[Y.EVENT_PLAY_STREAM]:"play",[Y.EVENT_PAUSE_STREAM]:"pause",[Y.EVENT_UPDATE_STREAM_TIME]:"currentTime"},this.lastMessage="",this.handleWindowMessage=e=>{var t=e.data,i=this.player.getCtrl();switch(t.method){case"play":this.player.playInternal();break;case"pause":this.player.pauseInternal();break;case"setCurrentTime":this.player.seekToInternal(t.value);break;case"setVolume":i&&i.setVolume(100*t.value);break;case"toggleplay":i&&i.togglePlay()}},this.handlePlayerEvent=(e,t)=>{this.sendMessage(this.playerEventMap["Player."+e.namespace])},this.addMessageListener()}sendMessage(e){var t=this.player.getCurrentTime(),i=this.player.getDuration(),r={event:e,data:{seconds:t.toFixed(2),percent:(t/i).toFixed(2),duration:i.toFixed(2),currentTime:t.toFixed(2)}};if(isFinite(i)){var n=JSON.stringify(r);this.lastMessage!==n&&(this.lastMessage=n,parent.postMessage(r,"*"))}}addMessageListener(){for(var e in window.addEventListener("message",this.handleWindowMessage,!1),this.playerEventMap)this.player.on(e,this.handlePlayerEvent)}dispose(){for(var e in window.removeEventListener("message",this.handleWindowMessage,!1),this.playerEventMap)this.player.off(e,this.handlePlayerEvent)}};E=b([o.V],E);var S,w=i(91821),A=i(56248),C=i(3987),I=i(82978),T=i(99340),L=i(30187),_=i(78136),P=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},k=S=class extends L.p{constructor(){super(...arguments),this.speedRange=[.25,.5,.75,1,1.25,1.5,1.75,2],this.selectedSpeed=3,this.speedSelector=null,this.qualitySelector=null,this.hdResThreshold=1080,this.settingsExtensions=[],this.onKeyRelease=e=>{var t,i;e.shiftKey&&("."===e.shortcut?this.selectedSpeed<this.speedRange.length-1&&(this.selectedSpeed++,this.player.setPlaybackRateInternal(this.speedRange[this.selectedSpeed]),null===(t=this.speedSelector)||void 0===t||t.updateSelection(this.selectedSpeed)):","===e.shortcut&&this.selectedSpeed>0&&(this.selectedSpeed--,this.player.setPlaybackRateInternal(this.speedRange[this.selectedSpeed]),null===(i=this.speedSelector)||void 0===i||i.updateSelection(this.selectedSpeed)))}}get configKey(){return"internals/settings"}get buttonOrder(){return this.player.isAudio?6:1e3}get ID(){return"SettingsSheetAddon"}listAddonButtons(){return[{classList:["ardplayer-button-settings","ardplayer-icon","ardplayer-icon-settings"],accessibilityKey:"settings",screen:S.OverviewScreen}]}register(){return!!super.register()&&(this.registerPlayerEvent(Y.EVENT_LOAD_STREAM,this.onLoadStream),this.registerPlayerEvent(Y.REMOTE_PLAYBACK_CHANGED,this.onLoadStream),this.registerPlayerEvent(Y.EVENT_KEYBOARD_RELEASE,this.onKeyRelease),this.registerPlayerEvent(Y.EVENT_QUALITY_CHANGE,this.onQualityChange),this.registerPlayerEvent(Y.EVENT_INITIAL_FRAME,(()=>this.onQualityChange())),!0)}onScreenClosed(e){super.onScreenClosed(e),this.speedSelector=null,this.qualitySelector=null,this.player.loop.dispatchEvent(Y.EVENT_SHOW_OPTIONS,{visible:!1})}renderToDisplayList(e,t){e.title="Einstellungen",this.player.isAudio||(this.qualitySelector=_.mf.renderSelect(e,"Qualität",this.player.qualityList.map((e=>e.label)),this.player.qualityList.findIndex((e=>e.level===this.player.currentQuality)),(e=>{this.setQualityLevel(this.player.qualityList[e].level)}))),this.mc.isLive||(this.speedSelector=_.mf.renderSelect(e,"Geschwindigkeit",this.speedRange.map((e=>1===e?"Normal":String(e))),this.selectedSpeed,(e=>{this.selectedSpeed=e,this.player.setPlaybackRateInternal(this.speedRange[e])}),((e,t,i)=>{var r,n;return-1!==(null===(n=null===(r=this.player.getCtrl())||void 0===r?void 0:r.mediaElement)||void 0===n?void 0:n.playbackRate)}))),this.settingsExtensions.forEach((t=>t.renderSettingsPlugin(e))),this.player.loop.dispatchEvent(Y.EVENT_SHOW_OPTIONS,{visible:!0})}onLoadStream(){var e,t,i,r=null!==(t=null===(e=this.player.getCtrl())||void 0===e?void 0:e.mediaElement.playbackRate)&&void 0!==t?t:this.player.model.playbackRate;this.selectedSpeed=this.speedRange.indexOf(-1===r?1:r),null===(i=this.speedSelector)||void 0===i||i.updateSelection(this.selectedSpeed,!0),this.onQualityChange()}onQualityChange(e){var t,i,r=null!==(t=null==e?void 0:e.toQuality)&&void 0!==t?t:this.player.currentQuality,n=this.player.qualityList.findIndex((e=>e.level===r));null===(i=this.qualitySelector)||void 0===i||i.updateValues(this.player.qualityList.map((e=>e.label)),n),this.updateHdStatus(this.player.qualityList[n])}updateHdStatus(e){var t,i,r,n,a,s,o,l=!(null===(t=this.player)||void 0===t?void 0:t.model.mediaCollection.isAudioOnly)&&null!==(n=null===(r=null===(i=this.player)||void 0===i?void 0:i.currentStream)||void 0===r?void 0:r.media.some((e=>{var t;return(null!==(t=e.maxHResolutionPx)&&void 0!==t?t:this.hdResThreshold)>=this.hdResThreshold})))&&void 0!==n&&n,d=["ardplayer-icon-settings-hd-off","ardplayer-icon-settings-hd"],u=this.getFocusButton();if(null==u||u.classList.remove(...d),l){var c;if(e.width>0)c=e.width>=this.hdResThreshold;else{var h=null===(s=null===(a=this.player)||void 0===a?void 0:a.currentStream)||void 0===s?void 0:s.media[this.player.currentMedia||0];c=(null!==(o=null==h?void 0:h.maxHResolutionPx)&&void 0!==o?o:0)>=this.hdResThreshold}null==u||u.classList.add(d[c?1:0])}}setQualityLevel(e){var t,i;e!==this.player.currentQuality&&((null===(t=this.player.viewCtrl)||void 0===t?void 0:t._dvrEnabledAndRequested)&&!(null===(i=this.player.viewCtrl)||void 0===i?void 0:i._dvrIsLive)&&this.player.pixelController.triggerPixel(v.J.SUPER_BACK_TO_LIVE),this.player.pixelController.triggerQualityChanged(v.J.IA_MOUSE_QUALITY_CHANGE),this.player.switchQuality(e))}isSupported(){return!!super.isSupported()&&(!this.mc.isLive||-1!==this.mc.streams.findIndex((e=>"main"===e.kind&&(e.media.length>1||e.media[0].isAdaptiveQualitySelectable))))}addSettingsExtension(e){this.settingsExtensions.includes(e)||this.settingsExtensions.push(e)}removeSettingsExtension(e){var t=this.settingsExtensions.indexOf(e);t>=0&&this.settingsExtensions.splice(t,1)}dispose(){super.dispose(),this.settingsExtensions=[]}};k.OverviewScreen="overview",k=S=P([o.V],k);var x,R,O,D,M,N,V,U,B,F,H,j,G=i(73155),W=i(69765),q=i(52009),K=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},z=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},J=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},Y=j=class extends c{constructor(e,t,i,r,n){var o;if(super(),this.currentStream=null,x.set(this,[]),this.currentMedia=!1,R.set(this,!1),O.set(this,void 0),D.set(this,null),this.errorCtrl=null,this.playerCtrl=null,this.pmc=null,this.addons=[],M.set(this,new Set),this.addonParcel=null,N.set(this,null),V.set(this,null),U.set(this,!1),B.set(this,!1),F.set(this,!1),H.set(this,!1),this.pluginOrder=[],this.currentPlugin=null,this.forcedPlugin=null,a.iV._clearBuffer(),this.loop=new q.J(this),f.q.init(),z(this,O,(0,s.HP)(),"f"),!((o="string"==typeof e?"#"!==e.charAt(0)?document.getElementById(e):document.getElementById(e.substring(1)):e)instanceof HTMLElement))throw a.iV.error("Target div cannot be resolved: ",e,o),new Error("Target div cannot be resolved");this.target=o,o.dataset.uuid=J(this,O,"f"),this.model=g.S.getInstance(this),this.pixelController=new v.J(this),this.errorCtrl=p.h.getInstance(this);var l=()=>{this.safeTimeout((()=>{this.construct(e,t,i,r,n)}))};f.q.isEmbedded?l():w._.prepareAudioAutoplay(this,l)}get buttonCentral(){return J(this,N,"f")}get settings(){return J(this,V,"f")}get viewCtrl(){return J(this,D,"f")}get mediaElement(){var e,t;return null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.mediaElement)&&void 0!==t?t:null}get currentPluginName(){var e,t;return null!==(t=null===(e=this.currentPlugin)||void 0===e?void 0:e.name)&&void 0!==t?t:""}get isRemotePlayback(){var e,t;return null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.isRemotePlayback)&&void 0!==t&&t}get isPlaying(){var e,t;return this.checkState(),null!==(t=null===(e=this.getCtrl())||void 0===e?void 0:e.isPlaying())&&void 0!==t&&t}get isLive(){return this.checkState(),J(this,B,"f")&&this.model.mediaCollection.isLive}get isAudio(){return this.checkState(),J(this,B,"f")&&this.model.mediaCollection.isAudioOnly}get isSticky(){return this.checkState(),this.isAudio&&this.viewCtrl.isSticky}construct(e,t,i,r,n){var s=new T.F(((e,t)=>{J(this,H,"f")?a.iV.warn("disposed before init done"):this.initialize(e,t)}));s.setPC(t,r),s.setMC(i,n)}initialize(e,t){var r,n;this.log("initialize",this.getId(),e,t);var o=e.embeddedBaseUrl;i.p=(0,s.fp)(o)?e.web.baseUrl:o,this.setPlayerConfigInternal(e)&&this.setMediaCollectionInternal(t)?(this.pmc=null!==(n=null===(r=this.model)||void 0===r?void 0:r.playerConfig.web.enablePostMessage)&&void 0!==n&&n?new E(this):null,this.safeTimeout((()=>{null!==this.pixelController&&this.pixelController.triggerPixel(v.J.PLAYER_LOADING)}))):a.iV.error("[Player] kritischer Fehler beim initialisieren!")}setMediaCollection(e){this.checkState(),this.setConfig(this.model.playerConfig,e)}setPlayerConfig(e){this.checkState(),this.setConfig(e,this.model.mediaCollection)}setConfig(e,t){var i,r,n,a,s;this.checkState(),this.log("re-init player"),this.loop.dispatchEvent(j.RECONFIGURE,{}),this.target.classList.add("reinit-ardplayer"),null!==(r=null===(i=this.errorCtrl)||void 0===i?void 0:i.criticalError)&&void 0!==r&&r?(this.log("re-init from critical error state"),null===(n=this.errorCtrl)||void 0===n||n.dispose(),this.errorCtrl=null,w._.disposePlayer(this)):this.addonParcel=W.s.makeParcel(J(this,D,"f")?this.addons.concat(J(this,D,"f")):this.addons),this.disposeAddons(),this.model.reset(),null===(a=this.playerCtrl)||void 0===a||a.dispose(),this.playerCtrl=null,null===(s=J(this,D,"f"))||void 0===s||s.dispose(),z(this,D,null,"f"),w._.resetPlayer(this),z(this,x,[],"f"),this.currentMedia=!1,this.currentStream=null,z(this,U,!1,"f"),z(this,B,!1,"f");var o=new T.F(((e,t)=>{this.initialize(e,t),this.safeTimeout((()=>{this.target.classList.remove("reinit-ardplayer")}),300)}));o.setPC(e),o.setMC(t)}setMediaCollectionInternal(e){if(null!=e&&e instanceof C.ib){if(!C.ib.validate(e))return p.h.getInstance(this).throwError(p.h.MC_INVALID,!0),!1;if(this.model.mediaCollection=e,this.model.mediaCollection.streams.some((e=>e.media.length>0)))return z(this,B,!0,"f"),this.ready(),!0}return p.h.getInstance(this).throwError(p.h.MC_UNKNOWN,!0),!1}setPlayerConfigInternal(e){var t;return null!=e&&e instanceof I.QL?I.QL.validate(e)?(this.model.playerConfig=e,this.model.playerConfig.generic.isAutoplay&&f.q.isMobileDevice&&!this.model.playerConfig.allowEmbeddedAutoplay&&(w._.mobileAudioAutoplayEnabled||(a.iV.warn("Mobile device autoplay restrictions could not be worked around, disabling autoplay"),this.model.playerConfig.generic.isAutoplay=!1)),this.model.playerConfig.generic.isAutoplay&&(!1===g.S.autoPlayerAlreadyActive||g.S.autoPlayerAlreadyActive===this.getId()||null!==(t=this.model.playerConfig.web.isForcedAutoplay)&&void 0!==t&&t?g.S.autoPlayerAlreadyActive=this.getId():this.model.playerConfig.generic.isAutoplay=!1),z(this,U,!0,"f"),this.ready(),!0):(p.h.getInstance(this).throwError(p.h.PC_INVALID,!0),!1):(p.h.getInstance(this).throwError(p.h.PC_UNKNOWN,!0),!1)}disposeAddons(){this.addons.forEach((e=>{try{e.dispose()}catch(t){a.iV.error("Failed to dispose of addon "+e.ID)}})),this.addons=[],z(this,V,null,"f"),z(this,N,null,"f")}dispose(){var e,t,i,r;try{this.checkState()}catch(e){return void a.iV.error("trying to dispose already disposed instance!")}this.log("dispose",J(this,O,"f")),z(this,F,!0,"f"),null===(e=this.pmc)||void 0===e||e.dispose(),this.pmc=null,this.addonParcel=null,this.pixelController.triggerPixel(v.J.PLAYER_UNLOAD),this.disposeAddons();try{this.stopInternal()}catch(e){a.iV.error("stop() in dispose failed",e)}this.off(),h.K.disposeInstance(J(this,O,"f")),w._.disposePlayer(this),null===(t=this.playerCtrl)||void 0===t||t.dispose(),this.playerCtrl=null,null===(i=this.errorCtrl)||void 0===i||i.dispose(),this.errorCtrl=null,this.model.dispose(),this.loop.dispose(),this.pixelController.dispose(),null===(r=J(this,D,"f"))||void 0===r||r.dispose(),z(this,D,null,"f"),g.S.forceRemovePlayer(this),m.N.forceRemovePlayer(this),g.S.autoPlayerAlreadyActive===J(this,O,"f")&&(g.S.autoPlayerAlreadyActive=!1),z(this,H,!0,"f"),this.currentPlugin=null,this.currentStream=null,this.model=null,this.pixelController=null,(0,s.cS)(this.target)}sendEvent(e){J(this,H,"f")&&a.iV.error("sending event to unchecked dispatcher after disposal"),super.sendEvent(e)}checkState(){if(J(this,H,"f"))throw Error("Instance "+J(this,O,"f")+" already disposed!")}checkStateStrict(){if(this.checkState(),J(this,F,"f"))throw Error("Instance "+J(this,O,"f")+" currently disposing!")}safeTimeout(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];try{this.checkStateStrict()}catch(e){return a.iV.warn("skipping timeout",e),-1}return window.setTimeout((()=>{try{this.checkStateStrict()}catch(e){return void a.iV.warn("aborting timeout",e)}e(...r)}),t)}safeInterval(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];try{this.checkStateStrict()}catch(e){return a.iV.warn("skipping interval",e),-1}var s=window.setInterval((()=>{try{this.checkStateStrict()}catch(e){return a.iV.warn("aborting interval",e),void window.clearInterval(s)}e(...r)}),t);return s}setCtrl(e){var t;null!=e&&(null===(t=this.playerCtrl)||void 0===t||t.dispose(),this.playerCtrl=e)}getCtrl(){return this.playerCtrl}readyTrigger(){this.ready(!0)}ready(e){var t;if(void 0===e&&(e=!1),J(this,U,"f")&&J(this,B,"f")){if(!e)for(var i of(this.disposeAddons(),z(this,N,new G.X(this),"f"),J(this,N,"f").register(),z(this,V,new k(this),"f"),J(this,V,"f").register(),this.addons.push(J(this,V,"f")),this.addons.push(J(this,N,"f")),y.I.addon))try{var r=new i.Clazz(this,this.addonParcel);r.register()&&(this.addons.push(r),this.log("registered",i.package,r.ID),r instanceof A.Ky&&J(this,M,"f").has(r.ID)&&r.setButtonRenderingPrevented(!0))}catch(e){a.iV.error("Could not instantiate or register addon "+i.package,e)}this.addons.some((e=>e.startupHook()))||(z(this,D,m.N.getInstance(this),"f"),J(this,D,"f").restoreFromParcel(this.addonParcel),this.addonParcel=null,this.checkMaturity()&&(this.switchStreamKind("main",!0),(null===(t=this.model)||void 0===t?void 0:t.playerConfig.generic.isAutoplay)&&this.initialLoad()))}}checkMaturity(){var e,t,i,r,n,a;if(null!==(t=null===(e=this.model.mediaCollection.meta.maturityContentRating)||void 0===e?void 0:e.isBlocked)&&void 0!==t&&t){null===(i=J(this,D,"f"))||void 0===i||i.setPosterImageType("maturityContentBlocked");var o=18===(null===(n=null===(r=this.model.mediaCollection)||void 0===r?void 0:r.meta.maturityContentRating)||void 0===n?void 0:n.age),l=null!==(a=this.model.playerConfig.web.enableMaturityLogin)&&void 0!==a&&a;return p.h.getInstance(this).throwError(o?p.h.ERROR_PLAYBACK_MATURITY_18:p.h.ERROR_PLAYBACK_MATURITY_16,!0,o?"ardplayer-icon-fsk18":"ardplayer-icon-fsk16",l?e=>{var t=document.createElement("span");t.className="ardplayer-error-message",t.innerText="Wollen Sie die Altersbeschränkung aufheben?",e.appendChild(t);var i=document.createElement("button");i.innerText="Anmelden und Alter bestätigen",e.appendChild(i),(0,s.nx)(i,(()=>{this.loop.dispatchEvent(j.MATURITY_LOGIN,{})}))}:null),!1}return!0}initialLoad(){var e,t;null===(e=J(this,D,"f"))||void 0===e||e.handleInitialPlay(),null===(t=J(this,D,"f"))||void 0===t||t.showBufferingIndicator(),0===J(this,x,"f").length?this.streamError():this.switchMedium(J(this,x,"f")[0][0])}streamError(){z(this,R,!1,"f"),this.removeMediaFromCurrentMediaOrder(this.currentMedia),this.pluginOrder=[],this.nextMedium(!0)}switchAudio(e){var t,i,r,n,o;if(null===this.playerCtrl)return a.iV.error("tried to switch audio track with null controller",e),!1;var l=(null!==(i=null===(t=this.playerCtrl)||void 0===t?void 0:t.getAudioTracks())&&void 0!==i?i:[]).filter((t=>(0,s.Sz)(t.language,e.languageCode)&&("audio-description"===e.kind?!0===t.isAudioDescription:!0!==t.isAudioDescription)));if(0===l.length)return a.iV.error("audio track not found in stream",e),!1;var d=(0,s.fp)(e.nativeId)?null:null==l?void 0:l.find((t=>e.nativeId===t.id));return null===(r=this.playerCtrl)||void 0===r||r.setAudioTrack(null!==(o=null!==(n=null!=d?d:(0,s.fp)(e.label)?null:l.find((t=>t.label===e.label)))&&void 0!==n?n:l.find((t=>t.label===e.kind)))&&void 0!==o?o:l[0]),!0}get currentAudio(){var e,t,i,r,n;if(!this.currentStream||!1===this.currentMedia)return null;var a=this.currentStream.media[this.currentMedia].audios;if(1===a.length)return a[0];var o=null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.getAudioTrack())&&void 0!==t?t:null;if(null===o)return a[0];var l=a.filter((e=>(0,s.Sz)(e.languageCode,o.language))),d=(0,s.fp)(o.id)?null:null==l?void 0:l.find((e=>o.id===e.nativeId));return null!==(n=null!==(r=null!==(i=null!=d?d:(0,s.fp)(o.label)?null:a.find((e=>e.label===o.label)))&&void 0!==i?i:null==l?void 0:l.find((e=>e.kind===o.label)))&&void 0!==r?r:null==l?void 0:l.pop())&&void 0!==n?n:a[0]}switchStreamKind(e,t){var i;void 0===t&&(t=!1),this.switchStream(null!==(i=this.model.mediaCollection.streams.find((t=>t.kind===e)))&&void 0!==i?i:this.model.mediaCollection.streams[0],t)}switchStream(e,t){if(void 0===t&&(t=!1),this.currentStream!==e){this.log("Switching stream:",e),this.currentStream=e;var i=h.K.lastMime(this),r=h.K.lastResolution(this),n=r<=0?this.getTarget().clientWidth:r;this.log("Quality targets:",r,n,i);var o=y.I.plugin.map((e=>e.Clazz.exports)),l=this.currentStream.media.filter((t=>o.some((i=>{var r;return i.canPlay(t,null!==(r=null==e?void 0:e.isAudioOnly)&&void 0!==r&&r)}))));0===l.length&&a.iV.error("None of the configured media can be played back in the current Environment!");var d=[],u=[];l.forEach((e=>{var t=e.fallbackGroup;void 0!==t&&Number.isInteger(e.fallbackGroup)?Array.isArray(d[t])?d[t].push(e):d[t]=[e]:u.push([e])}));var c=d.concat(u).filter((e=>!!e)),p=(e,t)=>{var i,r;return Math.abs(n-(null!==(i=c[e][0].maxHResolutionPx)&&void 0!==i?i:0))-Math.abs(n-(null!==(r=c[t][0].maxHResolutionPx)&&void 0!==r?r:0))},v=(0,s.fp)(i)?[]:c.map(((e,t)=>e.some((e=>e.mimeType===i))?t:-1)).filter((e=>-1!==e)).sort(p).slice(0,1);v.push(...c.map(((e,t)=>e.some((e=>e.mimeType!==i&&("application/dash+xml"===e.mimeType||"application/vnd.apple.mpegurl"===e.mimeType)))?t:-1)).filter((e=>-1!==e&&!v.includes(e))).sort(p)),v.push(...c.map(((e,t)=>t)).filter((e=>!v.includes(e))).sort(p));var f=c.findIndex((e=>e.some((e=>e.isAdaptiveQualitySelectable&&y.I.plugin.map((e=>e.Clazz.exports)).some((t=>{var i,r;return t.canSubSelectQualities(e)&&t.canPlay(e,null!==(r=null===(i=this.currentStream)||void 0===i?void 0:i.isAudioOnly)&&void 0!==r&&r)})))))),g=t=>c[t].map((t=>e.media.indexOf(t)));if(-1!==f)this.log("found sub-selectable adaptive stream!"),z(this,x,v.filter((e=>e!==f)).map((e=>g(e))),"f"),J(this,x,"f").unshift(g(f));else{var m=r>0?-1:c.findIndex((e=>e.some((e=>e.qualityLabel.toLowerCase().startsWith("auto")))));-1!==m&&v.length>0&&v[0]!==m?(this.log('found "auto" stream at index != 0'),z(this,x,v.filter((e=>e!==m)).map((e=>g(e))),"f"),J(this,x,"f").unshift(g(m))):z(this,x,v.map((e=>g(e))),"f")}this.log("Calculated quality order:",J(this,x,"f").map((e=>e.join(","))).join(" "),"\n\t",J(this,x,"f").map((t=>t.map((t=>{var i;return e.media[t].qualityLabel+" ("+e.media[t].mimeType+"@"+(null!==(i=e.media[t].maxHResolutionPx)&&void 0!==i?i:0)+")"})).join(" | "))).join("\n\t")),t||this.switchMedium(!1)}}streamDebug(){var e,t;return this.model.mediaCollection.streams.map((e=>((e,t)=>{var i=t?">":"";switch(e){case"main":return i+"⧇";case"subtitle-burn-in":return i+"㏄";case"sign-language":return i+"⧆"}return i+"?"})(e.kind,e===this.currentStream))).join(" ")+" | "+(null!==(t=null===(e=this.currentStream)||void 0===e?void 0:e.media)&&void 0!==t?t:[]).map(((e,t)=>{if(this.currentMedia===t)return"⍚";var i=J(this,x,"f").find((e=>e.includes(t)));return void 0===i?"▫":!1!==this.currentMedia&&i.includes(this.currentMedia)?"◇":"⬥"})).join("")}removeMediaFromCurrentMediaOrder(e){if(!1!==e){var t=J(this,x,"f").findIndex((t=>t.includes(e)));-1!==t&&(J(this,x,"f")[t].length<=1?J(this,x,"f").splice(t,1):J(this,x,"f")[t]=J(this,x,"f")[t].filter((t=>t!==e)))}}get currentQuality(){var e,t;return J(this,R,"f")?null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.currentSubQuality)&&void 0!==t?t:-1:!1!==this.currentMedia?this.currentMedia:-1}get qualityList(){var e,t,i,r;if(J(this,R,"f"))return null!==(t=null===(e=this.playerCtrl)||void 0===e?void 0:e.subQualities)&&void 0!==t?t:[{level:-1,label:"Auto",width:-1}];var n=J(this,x,"f").map((e=>e[0]));return(null!==(r=null===(i=this.currentStream)||void 0===i?void 0:i.media.map(((e,t)=>({index:t,media:e}))).filter((e=>n.includes(e.index)&&e.media.audios.some((e=>{var t,i,r;return e.kind===(null===(t=this.currentAudio)||void 0===t?void 0:t.kind)&&(0,s.Sz)(e.languageCode,null!==(r=null===(i=this.currentAudio)||void 0===i?void 0:i.languageCode)&&void 0!==r?r:"de")}))&&y.I.plugin.some((t=>{var i,r;return t.Clazz.exports.canPlay(e.media,null!==(r=null===(i=this.currentStream)||void 0===i?void 0:i.isAudioOnly)&&void 0!==r&&r)})))).sort(((e,t)=>{var i,r;return e.media.qualityLabel.toLowerCase().startsWith("auto")?-1:t.media.qualityLabel.toLowerCase().startsWith("auto")?1:(null!==(i=e.media.maxHResolutionPx)&&void 0!==i?i:0)-(null!==(r=t.media.maxHResolutionPx)&&void 0!==r?r:0)})))&&void 0!==r?r:[]).map((e=>{var t,i,r;return{level:e.index,label:f.q.isDebugVerboseUI?e.media.qualityLabel+" group"+(null!==(t=e.media.fallbackGroup)&&void 0!==t?t:"-")+" ("+e.media.audios.map((e=>e.languageCode+"-"+e.kind)).join(", ")+")":e.media.qualityLabel,width:null!==(i=e.media.maxHResolutionPx)&&void 0!==i?i:-1,debug:(null!==(r=J(this,x,"f").find((t=>t.includes(e.index))))&&void 0!==r?r:[]).length-1+" fallbacks"}}))}switchQuality(e){this.log("Switch to quality",e);var t=this.currentQuality;if(J(this,R,"f")){if(!1===this.currentMedia||!this.playerCtrl)throw Error("sub-selecting quality of unset medium?!");this.playerCtrl.selectSubQuality(e)}else this.switchMedium(e);this.loop.dispatchEvent(j.EVENT_QUALITY_CHANGE,{fromQuality:t,toQuality:e})}switchMedium(e,t){var i,r,n,a;void 0===t&&(t=!1),this.log("Switch to medium:",e,t),null!==this.playerCtrl&&(this.log("Disposing current plugin: "+(null!==(r=null===(i=this.currentPlugin)||void 0===i?void 0:i.name)&&void 0!==r?r:"")),this.playerCtrl.dispose(),this.playerCtrl=null,this.currentPlugin=null),this.currentMedia=e;var s=!1===e?null:null!==(a=null===(n=this.currentStream)||void 0===n?void 0:n.media[e])&&void 0!==a?a:null;if(null===s)return this.log("{M:"+String(this.currentMedia)+"} Error - data for medium not found. Trying next."),this.removeMediaFromCurrentMediaOrder(e),void this.nextMedium(t);w._.prebuild(this),this.pluginOrder=y.I.plugin.map((e=>e.Clazz.exports)).filter((e=>{var t,i;return e.canPlay(s,null!==(i=null===(t=this.currentStream)||void 0===t?void 0:t.isAudioOnly)&&void 0!==i&&i)})),this.log("{M:"+String(this.currentMedia)+"} Detected plugin support for current medium:",this.pluginOrder.map((e=>e.name))),this.loadMedium()}loadMedium(){var e,t,i,r;if(!1!==this.currentMedia){if(0===this.pluginOrder.length)return a.iV.log("Error, no more plugin available to playback medium",this.currentMedia),this.removeMediaFromCurrentMediaOrder(this.currentMedia),void this.nextMedium();this.pluginOrder.sort(((e,t)=>{var i,r,n,a;return(null!==(i=e.priority)&&void 0!==i?i:0)>(null!==(r=t.priority)&&void 0!==r?r:0)?-1:(null!==(n=e.priority)&&void 0!==n?n:0)<(null!==(a=t.priority)&&void 0!==a?a:0)?1:0})),null!==this.forcedPlugin?this.currentPlugin=this.forcedPlugin:this.currentPlugin=null!==(e=this.pluginOrder.shift())&&void 0!==e?e:null,this.log("{M:"+this.currentMedia+"} Initializing plugin: "+(null!==(i=null===(t=this.currentPlugin)||void 0===t?void 0:t.name)&&void 0!==i?i:""));var n=this.currentMedia;null===(r=this.currentPlugin)||void 0===r||r.library(this.model.playerConfig,this.model.mediaCollection).then((e=>{var t,i;(this.log("{M:"+n+"} Plugin library loaded: "+(null!==(i=null===(t=this.currentPlugin)||void 0===t?void 0:t.name)&&void 0!==i?i:"")),J(this,H,"f"))||(new e.Generator).execute(this,(t=>{var i,r,a,s,o,l,d,u,c,p;if(this.log("{M:"+n+"} Plugin generator executed: "+(null!==(r=null===(i=this.currentPlugin)||void 0===i?void 0:i.name)&&void 0!==r?r:"")),!J(this,H,"f")){this.setCtrl(new e.Controller(this,t)),null===(a=J(this,D,"f"))||void 0===a||a.setMediaCanvas(t instanceof HTMLMediaElement?t:null),null===(s=J(this,D,"f"))||void 0===s||s.showBufferingIndicator();var v=null===(o=this.currentStream)||void 0===o?void 0:o.media[n];v&&(h.K.setLastMime(this,null!==(l=v.mimeType)&&void 0!==l?l:""),h.K.setLastResolution(this,null!==(d=v.maxHResolutionPx)&&void 0!==d?d:-1),z(this,R,v.isAdaptiveQualitySelectable&&null!==(c=null===(u=this.currentPlugin)||void 0===u?void 0:u.canSubSelectQualities(v))&&void 0!==c&&c,"f"),null===(p=this.getCtrl())||void 0===p||p.loadStream(v),this.loop.dispatchEvent(j.EVENT_READY,{}))}}))}))}else a.iV.error("Error, no valid medium set")}nextMedium(e){var t,i,r;if(void 0===e&&(e=!1),J(this,x,"f").length>0)this.switchMedium(J(this,x,"f")[0][0],e);else{if(this.log("No more qualities available for playback. Final error."),null!==this.playerCtrl)try{this.log("try disposing current plugin: "+(null!==(i=null===(t=this.currentPlugin)||void 0===t?void 0:t.name)&&void 0!==i?i:"")),this.playerCtrl.dispose(),this.playerCtrl=null,this.currentPlugin=null}catch(e){this.log("Could not dispose of errored plugin",e)}null===(r=this.errorCtrl)||void 0===r||r.throwError(p.h.ERROR_PLAYBACK,!0)}}forcePlugin(e){var t,i;null!==this.playerCtrl&&(this.log("Disposing current plugin: "+(null!==(i=null===(t=this.currentPlugin)||void 0===t?void 0:t.name)&&void 0!==i?i:"")),this.playerCtrl.dispose(),this.playerCtrl=null,this.currentPlugin=null),w._.prebuild(this),this.currentPlugin=this.forcedPlugin=e,this.log("{M:"+this.currentMedia+"} Initializing plugin: "+this.currentPlugin.name,this.currentPlugin),this.currentPlugin.library(this.model.playerConfig,this.model.mediaCollection).then((e=>{var t;(this.log("{M:"+this.currentMedia+"} Plugin library loaded: "+(null===(t=this.currentPlugin)||void 0===t?void 0:t.name)),J(this,H,"f"))||(new e.Generator).execute(this,(t=>{var i,r,n,a,s,o,l,d,u;if(this.log("{M:"+this.currentMedia+"} Plugin generator executed: "+(null===(i=this.currentPlugin)||void 0===i?void 0:i.name)),!J(this,H,"f")){this.setCtrl(new e.Controller(this,t)),null===(r=J(this,D,"f"))||void 0===r||r.setMediaCanvas(t instanceof HTMLMediaElement?t:null),null===(n=J(this,D,"f"))||void 0===n||n.showBufferingIndicator();var c=this.currentMedia;!1===c?c=J(this,x,"f")[0][0]:(h.K.setLastMime(this,null!==(s=null===(a=this.currentStream)||void 0===a?void 0:a.media[c].mimeType)&&void 0!==s?s:""),h.K.setLastResolution(this,null!==(l=null===(o=this.currentStream)||void 0===o?void 0:o.media[c].maxHResolutionPx)&&void 0!==l?l:-1));var p=null===(d=this.currentStream)||void 0===d?void 0:d.media[c];p&&(null===(u=this.getCtrl())||void 0===u||u.loadStream(p)),this.loop.dispatchEvent(j.EVENT_READY,{})}}))}))}removeForcedPlugin(){null!==this.forcedPlugin&&(this.forcedPlugin=null,this.switchMedium(this.currentMedia,!1))}getId(){return J(this,O,"f")}getTarget(){return this.target}get isMuted(){return this.checkState(),h.K.muted(this)}setMuted(e){return this.apiInfo("setMuted",e),this.setMutedInternal(e)}setMutedInternal(e){return this.checkState(),null!==J(this,D,"f")&&(J(this,D,"f").setVolumeMuted(e,!0,!0),e||J(this,D,"f").volumeLevel/100!=0||J(this,D,"f").setVolumeLevel(100,!0,!1,!0,!0),!0)}getVolume(){var e,t;return this.checkState(),null!==(t=null===(e=this.getCtrl())||void 0===e?void 0:e.getVolume())&&void 0!==t?t:h.K.volume(this)}setVolume(e){return this.apiInfo("setVolume",e),this.setVolumeInternal(e)}setVolumeInternal(e){return this.checkState(),null!==J(this,D,"f")&&(J(this,D,"f").setVolumeLevel(Math.max(0,Math.min(e,100)),!0,!1,!0,!0),!0)}play(){return this.apiInfo("play"),this.playInternal()}playInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.play(),this.playerCtrl):(this.initialLoad(),null)}stop(){return this.apiInfo("stop"),this.stopInternal()}stopInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.stop(),this.playerCtrl):null}pause(){return this.apiInfo("pause"),this.pauseInternal()}pauseInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.pause(),this.playerCtrl):null}setPlaybackRate(e){return this.apiInfo("setPlaybackRate",e),this.setPlaybackRateInternal(e)}setPlaybackRateInternal(e){var t;this.checkState(),this.model.playbackRate=e,null===(t=this.playerCtrl)||void 0===t||t.setPlaybackRate(e)}getCurrentTime(){return null!==this.playerCtrl?this.playerCtrl.getCurrentTime():0}getDuration(){return null!==this.playerCtrl?this.playerCtrl.getDuration():0}resume(){return this.apiInfo("resume"),this.resumeInternal()}resumeInternal(){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.play(),this.playerCtrl):null}seekTo(e){return this.apiInfo("seekTo",e),this.seekToInternal(e)}seekToInternal(e){return this.checkState(),null!==this.playerCtrl?(this.playerCtrl.setCurrentTime(e),this.playerCtrl):(this.model.time=e,null)}seekToLive(){return this.apiInfo("seekToLive"),this.seekToLiveInternal()}seekToLiveInternal(){return this.checkState(),null!==this.playerCtrl&&this.playerCtrl.seekToLive(),this}seekToAndPlay(e){return this.apiInfo("seekToAndPlay",e),this.seekToAndPlayInternal(e)}seekToAndPlayInternal(e){var t;return this.checkState(),null!==this.playerCtrl?(null===(t=this.seekToInternal(e))||void 0===t||t.play(),this.playerCtrl):(this.seekToInternal(e),this.playInternal(),null)}setSticky(e){return this.apiInfo("setSticky",e),this.setStickyInternal(e)}setStickyInternal(e){var t,i;return this.checkState(),null!==(i=null===(t=this.viewCtrl)||void 0===t?void 0:t.setSticky(e))&&void 0!==i&&i}setFullscreen(e){return this.apiInfo("setFullscreen",e),this.setFullscreenInternal(e)}setFullscreenInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.setFullscreen(e)}setForceButtonHidden(e,t){return this.apiInfo("setForceButtonHidden",e,t),this.setForceButtonHiddenInternal(e,t)}setForceButtonHiddenInternal(e,t){this.checkState(),t?J(this,M,"f").add(e):J(this,M,"f").delete(e);var i=this.addons.find((t=>t.ID===e&&t instanceof A.Ky));null==i||i.setButtonRenderingPrevented(t)}setForceUIHidden(e){this.apiInfo("setForceUIHidden",e),this.setForceUIHiddenInternal(e)}setForceUIHiddenInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.toggleForceControlsHidden("PlayerAPI",e)}setIsPip(e){return this.apiInfo("setIsPip",e),this.setIsPipInternal(e)}setIsPipInternal(e){this.checkState(),this.loop.dispatchEvent(j.PIP_STATUS_CHANGE,{active:e})}setForceControlsVisible(e){return this.apiInfo("setForceControlsVisible",e),this.setForceControlsVisibleInternal(e)}setForceControlsVisibleInternal(e){var t;this.checkState(),null===(t=this.viewCtrl)||void 0===t||t.toggleForceOver("PlayerAPI",e)}dispatchEvent(e,t){super.dispatchEvent(e,t)}get $(){return this}apiInfo(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.iV.info("[Player][API]",...t)}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a.iV.log("[Player]",...t)}};x=new WeakMap,R=new WeakMap,O=new WeakMap,D=new WeakMap,M=new WeakMap,N=new WeakMap,V=new WeakMap,U=new WeakMap,B=new WeakMap,F=new WeakMap,H=new WeakMap,Y.RECONFIGURE="Player.RECONFIGURE",Y.EVENT_INIT="Player.EVENT_INIT",Y.EVENT_READY="Player.EVENT_READY",Y.EVENT_STATUS_CHANGE="Player.EVENT_STATUS_CHANGE",Y.EVENT_QUALITY_CHANGE="Player.EVENT_QUALITY_CHANGE",Y.EVENT_ERROR="Player.EVENT_ERROR",Y.EVENT_LOAD_STREAM="Player.EVENT_LOAD_STREAM",Y.EVENT_INITIAL_FRAME="Player.EVENT_INITIAL_FRAME",Y.EVENT_PLAY_STREAM="Player.EVENT_PLAY_STREAM",Y.EVENT_AUTOPLAY_STREAM_PROHIBITED="Player.EVENT_AUTOPLAY_STREAM_PROHIBITED",Y.EVENT_END_STREAM="Player.EVENT_END_STREAM",Y.EVENT_PAUSE_STREAM="Player.EVENT_PAUSE_STREAM",Y.EVENT_SEEK_START="Player.EVENT_SEEK_START",Y.EVENT_SEEK_END="Player.EVENT_SEEK_END",Y.EVENT_STOP_STREAM="Player.EVENT_STOP_STREAM",Y.EVENT_BUFFERING="Player.EVENT_BUFFERING",Y.EVENT_DVR_CHANGE="Player.EVENT_DVR_CHANGE",Y.PLAYBACK_RATE_CHANGE="Player.PLAYBACK_RATE_CHANGE",Y.EVENT_UPDATE_STREAM_TIME="Player.EVENT_UPDATE_STREAM_TIME",Y.EVENT_UPDATE_STREAM_DURATION="Player.EVENT_UPDATE_STREAM_DURATION",Y.EVENT_KEYBOARD_RELEASE="Player.EVENT_KEYBOARD_RELEASE",Y.EVENT_CTRLBAR_FADEOUT="Player.EVENT_CTRLBAR_FADEOUT",Y.EVENT_CTRLBAR_FADEIN="Player.EVENT_CTRLBAR_FADEIN",Y.EVENT_SHOW_OPTIONS="Player.EVENT_SHOW_OPTIONS",Y.VIEW_RESTORE_DEFAULTS="Player.VIEW_RESTORE_DEFAULTS",Y.SETUP_VIEW="Player.SETUP_VIEW",Y.SETUP_VIEW_COMPLETE="Player.SETUP_VIEW_COMPLETE",Y.VIEWPORT_RESIZE="Player.VIEWPORT_RESIZE",Y.TOGGLE_FULLSCREEN="Player.TOGGLE_FULLSCREEN",Y.AUDIO_TRACK_LIST_CHANGED="Player.AUDIO_TRACK_LIST_CHANGED",Y.CURRENT_AUDIO_TRACK_CHANGED="Player.CURRENT_AUDIO_TRACK_CHANGED",Y.MATURITY_LOGIN="Player.MATURITY_LOGIN",Y.BACK_BUTTON_PRESSED="Player.BACK_BUTTON_PRESSED",Y.POSTER_FRAME_PRESSED="Player.POSTER_FRAME_PRESSED",Y.STICKY_STATE_CHANGED="Player.STICKY_STATE_CHANGED",Y.TITLE_TEXT_CLICKED="Player.TITLE_TEXT_CLICKED",Y.REMOTE_PLAYBACK_CHANGED="Player.REMOTE_PLAYBACK_CHANGED",Y.PIP_CHANGE_REQUEST="Player.PIP_CHANGE_REQUEST",Y.PIP_STATUS_CHANGE="Player.PIP_STATUS_CHANGE",Y=j=K([o.V],Y)},4178:(e,t,i)=>{"use strict";function r(e){Object.seal(e),Object.seal(e.prototype)}i.d(t,{V:()=>r})},23197:(e,t,i)=>{"use strict";i.d(t,{n3:()=>o,n6:()=>l,of:()=>s,pr:()=>p});var r=i(15465),n=i(65855),a=i(96735);function s(e){if(!e)return null;for(var t=e.querySelectorAll('[tabindex]:not([tabindex^="-"])'),i=0;i<t.length;i++){var r=t[i];if(o(r))return r}return null}function o(e){var t;return null!==(null!==(t=null==e?void 0:e.offsetParent)&&void 0!==t?t:null)}function l(e,t){if(void 0===t&&(t=!1),r.iV.log("[ARDP][SafeFocus]",null==e?void 0:e.className,t),e&&o(e)){var i=e.tabIndex;return e.tabIndex=0,e.blur(),t&&e.offsetParent&&((e.offsetParent.scrollTop>e.offsetTop||e.offsetParent.scrollTop+e.offsetParent.clientHeight<e.offsetTop+e.clientHeight)&&(e.offsetParent.scrollTop=Math.min(e.offsetParent.scrollHeight-e.offsetParent.clientHeight,Math.max(0,e.offsetTop-10))),(e.offsetParent.scrollLeft>e.offsetLeft||e.offsetParent.scrollLeft+e.offsetParent.clientWidth<e.offsetLeft+e.clientWidth)&&(e.offsetParent.scrollLeft=Math.min(e.offsetParent.scrollHeight-e.offsetParent.clientWidth,Math.max(e.offsetLeft-10,0)))),e.focus({preventScroll:!0}),e.tabIndex=i,!0}return!1}var d=[],u=()=>{d.forEach((e=>delete e._cachedBoundingRect)),d.splice(0)},c=e=>(e._cachedBoundingRect||(e._cachedBoundingRect=e.getBoundingClientRect(),d.push(e)),e._cachedBoundingRect),h=(e,t)=>c(e).left-c(t).left;function p(e,t,i,s,d,p){var v,f;void 0===i&&(i=!1),void 0===s&&(s=null),void 0===d&&(d=!1),void 0===p&&(p=!1);var g=null!=s?s:document.activeElement;if(e&&g&&(p||e.contains(g))){var m=function(){var r=[];e.querySelectorAll('[tabindex]:not([tabindex^="-"])').forEach((t=>{var i,s;if(o(t)){var l="true"===t.dataset.verticalNavAbsPos?t:t.parentElement,d=r.find((e=>e.parent===l||!e.isPositioned&&Math.abs(c(e.parent).top-c(l).top)<5));if(d)d.children.push(t),d.current=d.current||g===t,null===(i=d.debugParents)||void 0===i||i.add(l);else{var u=parseInt(null!==(s=l.dataset.verticalNavOffset)&&void 0!==s?s:"0"),h=(0,a.fp)(l.dataset.verticalNavBefore)?null:e.querySelector(l.dataset.verticalNavBefore),p=(0,a.fp)(l.dataset.verticalNavAfter)?null:e.querySelector(l.dataset.verticalNavAfter);r.unshift({parent:l,debugParents:n.q.isDebugVerboseUI?new Set([l]):null,parentTop:c(l).top,parentLeft:c(l).left,vBefore:h,vAfter:p,vOffset:u,isPositioned:0!==u||null!=h||null!=p,children:[t],current:g===t})}}})),r.sort(((e,t)=>{var i=e.parentTop-t.parentTop;return 0!==i?i:e.parentLeft-t.parentLeft}));for(var s=function(e){if(r[e].vBefore){var t=r.findIndex((t=>t.parent===r[e].vBefore));r[e].vBefore=null,-1!==t&&(r[e].vOffset=t-e)}if(r[e].vAfter){var i=r.findIndex((t=>t.parent===r[e].vAfter));r[e].vAfter=null,-1!==i&&(r[e].vOffset=i-e)}if(0!==r[e].vOffset){var n=Math.max(0,Math.min(e+r[e].vOffset,r.length-1)),a=r.splice(e,1)[0];a.vOffset=0,r.splice(n,0,a)}},p=0;p<r.length;p++)s(p);var m,y=r.findIndex((e=>e.current)),b=-1,E=!1,S=!1;if(-1!==y)if(i){r[y].children.sort(h);var w=r[y].children.findIndex((e=>e===g));t?w<r[y].children.length-1?(b=w+1,m=y):(m=y<r.length-1?y+1:y,b=y!==m?0:r[y].children.length-1,S=!(Math.abs(r[y].parentTop-r[m].parentTop)<5)):w>0?(b=w-1,m=y):(m=y>0?y-1:0,E=y>0,S=!(Math.abs(r[y].parentTop-r[m].parentTop)<5))}else{if(t)for(m=y+1;m<r.length&&Math.abs(r[y].parentTop-r[m].parentTop)<5;)m+=1;else{for(m=y;m>0&&Math.abs(r[y].parentTop-r[m].parentTop)<5;)m-=1;for(;m>0&&Math.abs(r[m-1].parentTop-r[m].parentTop)<5;)m-=1;Math.abs(r[y].parentTop-r[m].parentTop)<5&&(m=-1)}m<0?(m=0,S=!0):m>=r.length&&(m=r.length-1,E=!0,S=!0)}else m=t?0:r.length-1,E=!t;if(-1!==m)return S&&n.q.isEmbedded?(u(),{v:!0}):(m!==y&&r[m].children.sort(h),E?b=r[m].children.length-1:(!i||b<0)&&(b=0),u(),g===r[m].children[b]&&(0===m&&0===b||m===r.length-1&&b===r[m].children.length-1)?{v:!1}:(n.q.isDebugVerboseUI&&(-1!==y&&(null===(v=r[y].debugParents)||void 0===v||v.forEach((e=>{e.style.backgroundColor="#ff000066"}))),g.style.backgroundColor="#ffff0066",null===(f=r[m].debugParents)||void 0===f||f.forEach((e=>{e.style.backgroundColor="#0000ff66"})),r[m].children[b].style.backgroundColor="#00ff0066",setTimeout((()=>{var e,t;-1!==y&&(null===(e=r[y].debugParents)||void 0===e||e.forEach((e=>{e.style.backgroundColor=""}))),g.style.backgroundColor="",null===(t=r[m].debugParents)||void 0===t||t.forEach((e=>{e.style.backgroundColor=""})),r[m].children[b].style.backgroundColor=""}),300)),{v:l(r[m].children[b],d)}))}();if("object"==typeof m)return m.v}return u(),r.iV.log("movefocus reject - invalid args"),!1}},91821:(e,t,i)=>{"use strict";i.d(t,{_:()=>c});var r,n,a=i(96735),s=i(65855),o=i(15465),l=i(47982),d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i};class c{constructor(){this.createVideo=e=>c.createVideo(e),o.iV.error("Constructing instance of static class Html5MEFactory - this will break in future versions!")}static get mobileAudioAutoplayEnabled(){return d(this,r,"f",n)}static prebuild(e){this.createVideo(e,!0),this.createAudio(e,!0)}static createVideo(e,t){void 0===t&&(t=!1);var i=this.getMediaElement("video",e);return t||this.registerFirstFrameHandler(e,i),i}static createAudio(e,t){void 0===t&&(t=!1);var i=this.getMediaElement("audio",e);return t||this.registerFirstFrameHandler(e,i),i}static prepareAudioAutoplay(e,t){o.iV.info("try mobile audio autoplay workaround");var i=!1,s=e=>{if(!i){i=!0;try{null==e||e.pause(),(0,a.cS)(e)}catch(e){}t()}};try{var l=this.getMediaElement("audio",e),d=document.createElement("source");d.src=this.createSilentAudioBlob(2),d.type="audio/wav",l.appendChild(d);var c=l.play();null!=c?c.then((()=>{o.iV.log("autoplay success"),u(this,r,!0,"f",n),s(l)}),(e=>{o.iV.log("autoplay rejected",e),u(this,r,!1,"f",n),s(l)})).catch((e=>{o.iV.log("autoplay error",e),u(this,r,!1,"f",n),s(l)})):(o.iV.log("autoplay state uncertain"),s(l))}catch(e){o.iV.log("autoplay preparation failed!",e),s()}finally{e.safeTimeout(s,250)}}static resetPlayer(e){this.registerFirstFrameHandler(e,this.htmlMECache[e.getId()+"_video"]),this.registerFirstFrameHandler(e,this.htmlMECache[e.getId()+"_audio"])}static disposePlayer(e){e.log("disposing media element cache"),this.resetElement(this.htmlMECache[e.getId()+"_video"]),this.resetElement(this.htmlMECache[e.getId()+"_audio"]),delete this.htmlMECache[e.getId()+"_video"],delete this.htmlMECache[e.getId()+"_audio"]}static resetElement(e){e&&(e.src="",(0,a.cS)(e))}static getMediaElement(e,t){var i=t.getId()+"_"+e;if(void 0!==this.htmlMECache[i])return this.htmlMECache[i];var r=document.createElement(e);return r.dataset.uuid=(0,a.HP)(),r.setAttribute("playsinline","true"),r.setAttribute("preload","auto"),"audio"!==e&&r.setAttribute("crossorigin","anonymous"),r.tabIndex=-1,r.playsinline=!0,s.q.browserIsSafari||s.q.isIOSDevice||(r.disableRemotePlayback=!0),s.q.isAndroidDevice&&r.setAttribute("controlsList","nodownload"),this.htmlMECache[i]=r,r}static registerFirstFrameHandler(e,t){if(t){var i=2,r=n=>{i--,t.removeEventListener(n.type,r),i<=0&&e.loop.dispatchEvent(l.J.EVENT_INITIAL_FRAME,{})};t.addEventListener("canplay",r),t.addEventListener("play",r)}}static createSilentAudioBlob(e,t){void 0===t&&(t=44100);var i=e*t,r=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;if(!r)throw new Error("No AudioContext");var n=(new r).createBuffer(1,i,t);return URL.createObjectURL(c.bufferToWaveBlob(n,i))}static bufferToWaveBlob(e,t){var i,r,n=e=>{d.setUint16(h,e,!0),h+=2},a=e=>{d.setUint32(h,e,!0),h+=4},s=e.numberOfChannels,o=t*s*2+44,l=new ArrayBuffer(o),d=new DataView(l),u=[],c=0,h=0;for(a(1179011410),a(o-8),a(1163280727),a(544501094),a(16),n(1),n(s),a(e.sampleRate),a(2*e.sampleRate*s),n(2*s),n(16),a(1635017060),a(o-h-4),i=0;i<e.numberOfChannels;i++)u.push(e.getChannelData(i));for(;h<o;){for(i=0;i<s;i++)r=0|(.5+(r=Math.max(-1,Math.min(1,u[i][c])))<0?32768*r:32767*r),d.setInt16(h,r,!0),h+=2;c++}return new Blob([l],{type:"audio/wav"})}}r=c,c.htmlMECache={},n={value:!1}},35996:(e,t,i)=>{"use strict";i.d(t,{K:()=>u});var r,n=i(77708),a=i(96735),s=i(15465),o=i(65855),l=i(4178),d=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},u=r=class{constructor(e,t){this.identifier=e,this.settingsSuffix=t,this.storageListeners=new Set,r.instances[e]=this,this.checkAvailability()}static get AVAILABLE(){return this._AVAILABLE}static resetSingleton(){r.instances={}}static disposeInstance(e){(0,a.fp)(e)||(s.iV.log("[Storage]","disposing instance",e),delete r.instances[e])}static getInstance(e,t){var i;return(0,a.fp)(e)&&n.h.getInstance().throwError(n.h.IDENTIFIER_IS_UNDEFINED,!0),null!==(i=this.instances[e])&&void 0!==i?i:new r(e,t)}static for(e){return r.getInstance(e.getId(),e.isAudio?r.settingsSuffixAudio:r.settingsSuffixVideo)}checkAvailability(){if(!r._AVAILABLE)try{"undefined"!=typeof localStorage?(localStorage.setItem("ls_feature_test","available"),"available"===localStorage.getItem("ls_feature_test")&&(localStorage.removeItem("ls_feature_test"),r._AVAILABLE=!0)):r._AVAILABLE=!1}catch(e){}}static set(e,t){try{var i=Object.assign({},this.get(e),t);localStorage.setItem(this.settingsKey+e,JSON.stringify(i))}catch(e){}}static add(e,t,i,n,a,s){if(void 0===n&&(n=!1),void 0===a&&(a=!1),void 0===s&&(s=!0),n)try{localStorage.setItem(this.settingsKey+e+"."+t,i)}catch(e){}else this.set(e,{[t]:i});a&&r.notify(e,t,i,s)}add(e,t,i,n,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===a&&(a=!0),r.add(this.settingsSuffix,e,t,i,n,a)}static notify(e,t,i,r){void 0===r&&(r=!0),s.iV.log("[Storage]","notify",t,i,r),Object.keys(this.instances).forEach((n=>{(r||this.instances[n].settingsSuffix===e)&&this.instances[n].notify(t,i)}))}notify(e,t){this.storageListeners.forEach((i=>i.onStorageValueChanged(e,t)))}static get(e,t,i,r){var n,s;if(void 0===t&&(t=""),void 0===i&&(i=!1),void 0===r&&(r={}),i)try{return null!==(n=localStorage.getItem(this.settingsKey+e+"."+t))&&void 0!==n?n:r}catch(e){}else try{var o=JSON.parse(null!==(s=localStorage.getItem(this.settingsKey+e))&&void 0!==s?s:"{}");return(0,a.fp)(t)?o:void 0!==o[t]?o[t]:r}catch(e){}return r}get(e,t,i){return void 0===e&&(e=""),void 0===t&&(t=!1),void 0===i&&(i={}),r.get(this.settingsSuffix,e,t,i)}static remove(e,t,i){if(void 0===i&&(i=!1),i)try{localStorage.removeItem(this.settingsKey+e+"."+t)}catch(e){}else{var r={};(0,a.fp)(t)||delete(r=this.get(e))[t];try{localStorage.setItem(this.settingsKey+e,JSON.stringify(r))}catch(e){}}}static lastMime(e){var t=r.for(e).get(r.QUALITY_MIME);return"string"==typeof t?t:""}static setLastMime(e,t){r.for(e).add(r.QUALITY_MIME,t)}static lastResolution(e){var t=r.for(e).get(r.QUALITY_RESOLUTION);return isNaN(t)?-1:parseInt(t)}static setLastResolution(e,t){r.for(e).add(r.QUALITY_RESOLUTION,t)}static isSubtitlePreferenceSet(e){return null!==r.for(e).get(r.SUBTITLE_ENABLED,!1,null)}static subtitleEnabled(e){var t;return null!==(t=r.for(e).get(r.SUBTITLE_ENABLED,!1,!1))&&void 0!==t&&t}static muted(e){var t=r.for(e).get(r.VOLUME_MUTE,!1,!1);return void 0===t?null!=r._muted&&r._muted:t}static setMuted(e,t){r._muted=t,r.for(e).add(r.VOLUME_MUTE,t)}static volume(e){if(o.q.isMobileDevice)return 100;var t=Number(r.for(e).get(r.VOLUME_VALUE));return isNaN(t)?null==r._volume?100:0:t>0&&t<=1?100*t:t}static setVolume(e,t){r._volume=t,r.for(e).add(r.VOLUME_VALUE,t)}};u.LAST_VISIT="lastvisitedDate",u.DATE="currentDate",u.PLUGIN="lastUsedPlug-in",u.VOLUME_VALUE="changedVolumeValue",u.VOLUME_MUTE="changedMuteValue",u.SUBTITLE_ENABLED="showSubtitles",u.QUALITY_MIME="lastStreamMime",u.QUALITY_RESOLUTION="lastStreamRes",u.DEBUG="debug",u.CURRENT_PLAYERID="curpid",u.SUFFIX_GLOBAL="_global",u._AVAILABLE=!1,u.instances={},u.settingsKey="ard_mediathek_player_settings",u.settingsSuffixVideo="",u.settingsSuffixAudio="_audio",u._volume=null,u._muted=null,u=r=d([l.V],u)},52009:(e,t,i)=>{"use strict";i.d(t,{J:()=>h});var r,n,a=i(4178),s=i(15465),o=i(65855),l=function(e,t,i,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(s=(a<3?n(s):a>3?n(t,i,s):n(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s},d=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},u=function(e,t,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,i):n?n.value=i:t.set(e,i),i},c=class{constructor(){r.set(this,{}),n.set(this,void 0)}on(e,t){this.addEventListener(e,t)}off(e,t){void 0!==d(this,r,"f")&&(null==e||t?null==e?u(this,r,{},"f"):t&&this.removeEventListener(e,t):delete d(this,r,"f")[e])}dispatchEvent(e,t){this.dispatchEventInternal(Object.assign({type:e},t))}addEventListener(e,t){var i;void 0===d(this,r,"f")[e]&&(d(this,r,"f")[e]=new Set),null===(i=d(this,r,"f")[e])||void 0===i||i.add(t)}hasEventListener(e,t){var i,n;return null!==(n=null===(i=d(this,r,"f")[e])||void 0===i?void 0:i.has(t))&&void 0!==n&&n}removeEventListener(e,t){var i;null===(i=d(this,r,"f")[e])||void 0===i||i.delete(t)}addBroadcastListener(e){void 0===d(this,n,"f")&&u(this,n,new Set,"f"),d(this,n,"f").add(e)}removeBroadcastListener(e){var t;null===(t=d(this,n,"f"))||void 0===t||t.delete(e)}dispatchEventInternal(e){var t,i;null===(t=d(this,r,"f")[e.type])||void 0===t||t.forEach((t=>{try{t.call(this,e)}catch(i){s.iV.error("Error in event listener for '"+String(e.type)+"' - "+t.name+" -",i,t)}})),null===(i=d(this,n,"f"))||void 0===i||i.forEach((t=>{try{t.call(this,e)}catch(i){s.iV.error("Error in broadcast event listener for '"+String(e.type)+"' - "+t.name+" -",i,t)}}))}};r=new WeakMap,n=new WeakMap,c=l([a.V],c);var h=class extends c{constructor(e){super(),this.eventDispatcherDelegate=e,this.eventDispatcherDelegate.registerDelegate(this)}dispatchEvent(e,t){var i=Object.assign({type:e},t);o.q.isDebugPlayerEvent&&s.iV.log("[EVENT]",i.type,i),this.dispatchEventInternal(i),this.eventDispatcherDelegate.dispatchEventInternal(i)}dispose(){this.eventDispatcherDelegate.disposeDelegate(this)}};h=l([a.V],h)},96735:(e,t,i)=>{"use strict";i.d(t,{HP:()=>m,Iv:()=>L,NZ:()=>S,O2:()=>g,RH:()=>f,Sz:()=>T,Ue:()=>c,We:()=>y,ZA:()=>u,cS:()=>d,fd:()=>P,fp:()=>b,iM:()=>I,l$:()=>p,nr:()=>h,nx:()=>C,sE:()=>A,vY:()=>_});var r=i(65855),n=i(38254),a=i(56757),s=i(77708),o=i(35996),l=i(15465);function d(e){if(e){var t=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.addEventListener("blur",t,{capture:!0});try{if(e.replaceChildren&&e.replaceChildren(),e.lastChild)for(;e.lastChild;)e.lastChild.remove()}catch(e){}e.removeEventListener("blur",t,{capture:!0})}}function u(e,t){Object.keys(e).forEach((i=>{if(h(t,i))e[i]=t[i];else{var r="_"+i;h(t,r)&&(e[i]=t[r])}}))}function c(e){if(Array.isArray(e))return e.map((e=>c(e)));var t={};return null!==e&&Object.keys(e).forEach((i=>{t[i.replace(/^_(.+)$/,"$1")]="object"==typeof e[i]?c(e[i]):e[i]})),t}function h(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){return null!=e&&t in e}function v(e){var t,i,r,n;if(e){for(var a=(null!==(i=null===(t=e.attributes)||void 0===t?void 0:t.length)&&void 0!==i?i:0)-1;a>=0;a-=1){var s=e.attributes[a].name;"function"==typeof e[s]&&(e[s]=null)}for(var o=null!==(n=null===(r=null==e?void 0:e.childNodes)||void 0===r?void 0:r.length)&&void 0!==n?n:0,l=0;l<o;l+=1)v(e.childNodes[l])}}function f(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),Array.isArray(t))return t;var i=Object.assign(Object.assign({},e),t);for(var r of Object.keys(t))if("__proto__"!==r){var n=e[r],a=t[r];E(n)?i[r]=f(n,a):w(n)&&(E(a)?i[r]=f(Array.isArray(a)?[]:{},a):w(a)||(i[r]=a))}return i}function g(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var d=0===t.length||"all"===t[0];t=t.filter((e=>"all"!==e.toLowerCase()));var u=d?n.S.getAllPlayer():n.S.getAllPlayer().filter((e=>e.getId()in t));u.forEach((e=>{try{e.stopInternal()}catch(e){l.iV.error("could not stop player",e)}try{e.dispose()}catch(e){l.iV.error("could not dispose player",e)}n.S.forceRemovePlayer(e),a.N.forceRemovePlayer(e),s.h.forceRemovePlayer(e),n.S.autoPlayerAlreadyActive===e.getId()&&(n.S.autoPlayerAlreadyActive=!1);var t=e.getTarget();t.remove(),v(t)})),d&&(l.iV.info("purge singletons"),r.q.resetSingleton(),s.h.resetSingleton(),a.N.resetSingleton(),n.S.resetSingleton(),o.K.resetSingleton())}function m(){for(var e=[],t=0;t<36;t++)e[t]=Math.floor(16*Math.random());e[14]=4,e[19]=8|e[19];for(var i=0;i<36;i++)e[i]="0123456789ABCDEF"[e[i]];return e[8]=e[13]=e[18]=e[23]="-",e.join("")}function y(e,t){var i,r,n,a=null;0===(null!==(i=e.type)&&void 0!==i?i:"").indexOf("touch")||void 0!==window.TouchEvent&&e instanceof TouchEvent?p(e,"originalEvent")?a=e.originalEvent.changedTouches[0]:p(e,"changedTouches")&&(a=e.changedTouches[0]):a=e;var s=(null!=t?t:null==a?void 0:a.target).getBoundingClientRect();return{left:(null!==(r=null==a?void 0:a.clientX)&&void 0!==r?r:0)-s.left,top:(null!==(n=null==a?void 0:a.clientY)&&void 0!==n?n:0)-s.top}}function b(e){return S(e)||"string"!=typeof e||/^\s*$/.test(e)}function E(e){return"object"==typeof e&&null!==e}function S(e){return null===e||w(e)}function w(e){return void 0===e||void 0===e}function A(e,t,i){var r=function(e,t,i){for(var r=0,n=e.length-1;r<=n;){var a=n+r>>1,s=i(t,e[a]);if(s>0)r=a+1;else{if(!(s<0))return a;n=a-1}}return-r-1}(e,t,i);return r<0?null:e[r]}function C(e,t,i){if(void 0===i&&(i=!0),!e)return null;var r=0;function n(e){-1===this.tabIndex||this.classList.contains("ardplayer-button-disabled")||i&&!(performance.now()-r>=150)||t.call(this,e)}var a=!1;function s(e){a||-1===this.tabIndex||this.classList.contains("ardplayer-button-disabled")||(t.call(this,e),i&&(r=performance.now(),e.preventDefault())),a=!1}var o=()=>{a=!1},l=()=>{a=!0};return e.addEventListener("click",n),e.addEventListener("touchend",s),e.addEventListener("touchstart",o,{passive:!0}),e.addEventListener("touchmove",l,{passive:!0}),()=>{e.removeEventListener("click",n),e.removeEventListener("touchend",s),e.removeEventListener("touchstart",o,{passive:!0}),e.removeEventListener("touchmove",l,{passive:!0})}}function I(e,t,i,r){var n;void 0===i&&(i=null),void 0===r&&(r=null);var a=document.createElement("script"),s=document.getElementsByTagName("script")[0];a.async=!0,a.onload=function(){a.onload=a.onerror=null,null!=i&&e.safeTimeout((()=>{i()}))},a.onerror=function(){a.onload=a.onerror=null,null!=r&&r()},a.src=t,null===(n=s.parentNode)||void 0===n||n.insertBefore(a,s)}function T(e,t){return!(b(e)||b(t)||e!==t&&_(e)!==_(t))}function L(e){return e<1280?e>=854?"SD 480p":e>=640?"SD 360p":e>=426?"SD 240p":"SD":e>7680?"UHD 8K":e>=5120?"UHD 5K":e>=3830?"UHD 4K":e>=2048?"Ultra HD":e>=1920?"Full HD":"HD Ready"}function _(e){switch(e=e.toLowerCase()){case"sgn":case"gsg":case"dgs":return"DGS";case"sgg":return"DSGS";case"ase":return"ASL";case"bfi":return"BSL";case"fsl":return"LSF";case"und":case"":return"Unbekannt"}if("function"==typeof Intl.DisplayNames)try{var t=new Intl.DisplayNames([e],{type:"language"}).of(e);if(t&&t!==e)return t.length<e.length?_(t):t}catch(t){l.iV.warn("could not resolve autonym",t instanceof Error?t.message:t,e)}switch(e){case"de":case"ger":case"deu":return"Deutsch";case"nds":return"Niederdeutsch";case"frs":return"Ostfriesisch";case"wep":return"Westfälisch";case"bar":return"Bairisch";case"gsw":return"Schwiizerdütsch";case"nl":case"dut":case"nld":return"Nederlands";case"en":case"eng":return"English";case"fr":case"fre":case"fra":return"Français";case"it":return"Italiano";case"es":return"Español"}return e.toUpperCase()}function P(){var e=new WeakSet;return function(t,i){if(i instanceof Error){var r=Object.assign({},i);return i.name&&(r.name=i.name),i.message&&(r.message=i.message),i.stack&&(r.stack=i.stack),r}if(i instanceof Event){var n=Object.assign({},i);return i.type&&(n.type=i.type),i.target&&(n.target=i.target instanceof Element?i.target.outerHTML:i.target.toString()),n}if("object"==typeof i&&null!==i){if(e.has(i))return"[RECURSION]";e.add(i)}return i}}},34256:(e,t,i)=>{var r=i(31022);e.exports=r},60947:(e,t,i)=>{i(51657),i(28241);var r=i(6804);e.exports=r("Array","values")},93317:(e,t,i)=>{i(6622)},6622:(e,t,i)=>{var r=i(34256);e.exports=r},33978:(e,t,i)=>{var r=i(29298),n=i(47078),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(n(e)+" is not a function")}},39217:(e,t,i)=>{var r=i(90187),n=i(47078),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(n(e)+" is not a constructor")}},79307:(e,t,i)=>{var r=i(29298),n=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+n(e)+" as a prototype")}},63497:(e,t,i)=>{var r=i(81568),n=i(33550),a=i(3290).f,s=r("unscopables"),o=Array.prototype;null==o[s]&&a(o,s,{configurable:!0,value:n(null)}),e.exports=function(e){o[s][e]=!0}},67488:(e,t,i)=>{"use strict";var r=i(25602).charAt;e.exports=function(e,t,i){return t+(i?r(e,t).length:1)}},48860:(e,t,i)=>{var r=i(10025),n=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw n("Incorrect invocation")}},69143:(e,t,i)=>{var r=i(25623),n=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(n(e)+" is not an object")}},41048:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},46011:(e,t,i)=>{var r=i(74693);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},10483:(e,t,i)=>{"use strict";var r,n,a,s=i(41048),o=i(11314),l=i(37368),d=i(29298),u=i(25623),c=i(52702),h=i(12956),p=i(47078),v=i(30459),f=i(56539),g=i(3290).f,m=i(10025),y=i(67122),b=i(32480),E=i(81568),S=i(63989),w=i(78830),A=w.enforce,C=w.get,I=l.Int8Array,T=I&&I.prototype,L=l.Uint8ClampedArray,_=L&&L.prototype,P=I&&y(I),k=T&&y(T),x=Object.prototype,R=l.TypeError,O=E("toStringTag"),D=S("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",N=s&&!!b&&"Opera"!==h(l.opera),V=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=y(e);if(u(t)){var i=C(t);return i&&c(i,M)?i[M]:F(t)}},H=function(e){if(!u(e))return!1;var t=h(e);return c(U,t)||c(B,t)};for(r in U)(a=(n=l[r])&&n.prototype)?A(a)[M]=n:N=!1;for(r in B)(a=(n=l[r])&&n.prototype)&&(A(a)[M]=n);if((!N||!d(P)||P===Function.prototype)&&(P=function(){throw R("Incorrect invocation")},N))for(r in U)l[r]&&b(l[r],P);if((!N||!k||k===x)&&(k=P.prototype,N))for(r in U)l[r]&&b(l[r].prototype,k);if(N&&y(_)!==k&&b(_,k),o&&!c(k,O))for(r in V=!0,g(k,O,{get:function(){return u(this)?this[D]:void 0}}),U)l[r]&&v(l[r],D,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:V&&D,aTypedArray:function(e){if(H(e))return e;throw R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(d(e)&&(!b||m(P,e)))return e;throw R(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,r){if(o){if(i)for(var n in U){var a=l[n];if(a&&c(a.prototype,e))try{delete a.prototype[e]}catch(i){try{a.prototype[e]=t}catch(e){}}}k[e]&&!i||f(k,e,i?t:N&&T[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,i){var r,n;if(o){if(b){if(i)for(r in U)if((n=l[r])&&c(n,e))try{delete n[e]}catch(e){}if(P[e]&&!i)return;try{return f(P,e,i?t:N&&P[e]||t)}catch(e){}}for(r in U)!(n=l[r])||n[e]&&!i||f(n,e,t)}},getTypedArrayConstructor:F,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||c(U,t)||c(B,t)},isTypedArray:H,TypedArray:P,TypedArrayPrototype:k}},72715:(e,t,i)=>{"use strict";var r=i(37368),n=i(19160),a=i(11314),s=i(41048),o=i(99122),l=i(30459),d=i(42898),u=i(74693),c=i(48860),h=i(23840),p=i(99286),v=i(55222),f=i(14491),g=i(67122),m=i(32480),y=i(28011).f,b=i(3290).f,E=i(67800),S=i(63432),w=i(41479),A=i(78830),C=o.PROPER,I=o.CONFIGURABLE,T=A.get,L=A.set,_="ArrayBuffer",P="DataView",k="prototype",x="Wrong index",R=r[_],O=R,D=O&&O[k],M=r[P],N=M&&M[k],V=Object.prototype,U=r.Array,B=r.RangeError,F=n(E),H=n([].reverse),j=f.pack,G=f.unpack,W=function(e){return[255&e]},q=function(e){return[255&e,e>>8&255]},K=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},J=function(e){return j(e,23,4)},Y=function(e){return j(e,52,8)},$=function(e,t){b(e[k],t,{get:function(){return T(this)[t]}})},Q=function(e,t,i,r){var n=v(i),a=T(e);if(n+t>a.byteLength)throw B(x);var s=T(a.buffer).bytes,o=n+a.byteOffset,l=S(s,o,o+t);return r?l:H(l)},X=function(e,t,i,r,n,a){var s=v(i),o=T(e);if(s+t>o.byteLength)throw B(x);for(var l=T(o.buffer).bytes,d=s+o.byteOffset,u=r(+n),c=0;c<t;c++)l[d+c]=u[a?c:t-c-1]};if(s){var Z=C&&R.name!==_;if(u((function(){R(1)}))&&u((function(){new R(-1)}))&&!u((function(){return new R,new R(1.5),new R(NaN),1!=R.length||Z&&!I})))Z&&I&&l(R,"name",_);else{(O=function(e){return c(this,D),new R(v(e))})[k]=D;for(var ee,te=y(R),ie=0;te.length>ie;)(ee=te[ie++])in O||l(O,ee,R[ee]);D.constructor=O}m&&g(N)!==V&&m(N,V);var re=new M(new O(2)),ne=n(N.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||d(N,{setInt8:function(e,t){ne(this,e,t<<24>>24)},setUint8:function(e,t){ne(this,e,t<<24>>24)}},{unsafe:!0})}else D=(O=function(e){c(this,D);var t=v(e);L(this,{bytes:F(U(t),0),byteLength:t}),a||(this.byteLength=t)})[k],N=(M=function(e,t,i){c(this,N),c(e,D);var r=T(e).byteLength,n=h(t);if(n<0||n>r)throw B("Wrong offset");if(n+(i=void 0===i?r-n:p(i))>r)throw B("Wrong length");L(this,{buffer:e,byteLength:i,byteOffset:n}),a||(this.buffer=e,this.byteLength=i,this.byteOffset=n)})[k],a&&($(O,"byteLength"),$(M,"buffer"),$(M,"byteLength"),$(M,"byteOffset")),d(N,{getInt8:function(e){return Q(this,1,e)[0]<<24>>24},getUint8:function(e){return Q(this,1,e)[0]},getInt16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(Q(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(Q(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return G(Q(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return G(Q(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,W,t)},setUint8:function(e,t){X(this,1,e,W,t)},setInt16:function(e,t){X(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,J,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,Y,t,arguments.length>2?arguments[2]:void 0)}});w(O,_),w(M,P),e.exports={ArrayBuffer:O,DataView:M}},24630:(e,t,i)=>{"use strict";var r=i(37204),n=i(54226),a=i(62864),s=i(74749),o=Math.min;e.exports=[].copyWithin||function(e,t){var i=r(this),l=a(i),d=n(e,l),u=n(t,l),c=arguments.length>2?arguments[2]:void 0,h=o((void 0===c?l:n(c,l))-u,l-d),p=1;for(u<d&&d<u+h&&(p=-1,u+=h-1,d+=h-1);h-- >0;)u in i?i[d]=i[u]:s(i,d),d+=p,u+=p;return i}},67800:(e,t,i)=>{"use strict";var r=i(37204),n=i(54226),a=i(62864);e.exports=function(e){for(var t=r(this),i=a(t),s=arguments.length,o=n(s>1?arguments[1]:void 0,i),l=s>2?arguments[2]:void 0,d=void 0===l?i:n(l,i);d>o;)t[o++]=e;return t}},47775:(e,t,i)=>{"use strict";var r=i(27736).forEach,n=i(62124)("forEach");e.exports=n?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},40956:(e,t,i)=>{var r=i(62864);e.exports=function(e,t){for(var i=0,n=r(t),a=new e(n);n>i;)a[i]=t[i++];return a}},93368:(e,t,i)=>{"use strict";var r=i(1639),n=i(89780),a=i(37204),s=i(14650),o=i(5073),l=i(90187),d=i(62864),u=i(15493),c=i(18580),h=i(39155),p=Array;e.exports=function(e){var t=a(e),i=l(this),v=arguments.length,f=v>1?arguments[1]:void 0,g=void 0!==f;g&&(f=r(f,v>2?arguments[2]:void 0));var m,y,b,E,S,w,A=h(t),C=0;if(!A||this===p&&o(A))for(m=d(t),y=i?new this(m):p(m);m>C;C++)w=g?f(t[C],C):t[C],u(y,C,w);else for(S=(E=c(t,A)).next,y=i?new this:[];!(b=n(S,E)).done;C++)w=g?s(E,f,[b.value,C],!0):b.value,u(y,C,w);return y.length=C,y}},67677:(e,t,i)=>{var r=i(2659),n=i(54226),a=i(62864),s=function(e){return function(t,i,s){var o,l=r(t),d=a(l),u=n(s,d);if(e&&i!=i){for(;d>u;)if((o=l[u++])!=o)return!0}else for(;d>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},16452:(e,t,i)=>{var r=i(1639),n=i(27289),a=i(37204),s=i(62864),o=function(e){var t=1==e;return function(i,o,l){for(var d,u=a(i),c=n(u),h=r(o,l),p=s(c);p-- >0;)if(h(d=c[p],p,u))switch(e){case 0:return d;case 1:return p}return t?-1:void 0}};e.exports={findLast:o(0),findLastIndex:o(1)}},27736:(e,t,i)=>{var r=i(1639),n=i(19160),a=i(27289),s=i(37204),o=i(62864),l=i(97260),d=n([].push),u=function(e){var t=1==e,i=2==e,n=3==e,u=4==e,c=6==e,h=7==e,p=5==e||c;return function(v,f,g,m){for(var y,b,E=s(v),S=a(E),w=r(f,g),A=o(S),C=0,I=m||l,T=t?I(v,A):i||h?I(v,0):void 0;A>C;C++)if((p||C in S)&&(b=w(y=S[C],C,E),e))if(t)T[C]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:d(T,y)}else switch(e){case 4:return!1;case 7:d(T,y)}return c?-1:n||u?u:T}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},7548:(e,t,i)=>{"use strict";var r=i(65972),n=i(2659),a=i(23840),s=i(62864),o=i(62124),l=Math.min,d=[].lastIndexOf,u=!!d&&1/[1].lastIndexOf(1,-0)<0,c=o("lastIndexOf"),h=u||!c;e.exports=h?function(e){if(u)return r(d,this,arguments)||0;var t=n(this),i=s(t),o=i-1;for(arguments.length>1&&(o=l(o,a(arguments[1]))),o<0&&(o=i+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:d},40249:(e,t,i)=>{var r=i(74693),n=i(81568),a=i(33480),s=n("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},62124:(e,t,i)=>{"use strict";var r=i(74693);e.exports=function(e,t){var i=[][e];return!!i&&r((function(){i.call(null,t||function(){return 1},1)}))}},50395:(e,t,i)=>{var r=i(33978),n=i(37204),a=i(27289),s=i(62864),o=TypeError,l=function(e){return function(t,i,l,d){r(i);var u=n(t),c=a(u),h=s(u),p=e?h-1:0,v=e?-1:1;if(l<2)for(;;){if(p in c){d=c[p],p+=v;break}if(p+=v,e?p<0:h<=p)throw o("Reduce of empty array with no initial value")}for(;e?p>=0:h>p;p+=v)p in c&&(d=i(d,c[p],p,u));return d}};e.exports={left:l(!1),right:l(!0)}},81413:(e,t,i)=>{"use strict";var r=i(11314),n=i(32423),a=TypeError,s=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(n(e)&&!s(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},63432:(e,t,i)=>{var r=i(54226),n=i(62864),a=i(15493),s=Array,o=Math.max;e.exports=function(e,t,i){for(var l=n(e),d=r(t,l),u=r(void 0===i?l:i,l),c=s(o(u-d,0)),h=0;d<u;d++,h++)a(c,h,e[d]);return c.length=h,c}},32222:(e,t,i)=>{var r=i(19160);e.exports=r([].slice)},21210:(e,t,i)=>{var r=i(63432),n=Math.floor,a=function(e,t){var i=e.length,l=n(i/2);return i<8?s(e,t):o(e,a(r(e,0,l),t),a(r(e,l),t),t)},s=function(e,t){for(var i,r,n=e.length,a=1;a<n;){for(r=a,i=e[a];r&&t(e[r-1],i)>0;)e[r]=e[--r];r!==a++&&(e[r]=i)}return e},o=function(e,t,i,r){for(var n=t.length,a=i.length,s=0,o=0;s<n||o<a;)e[s+o]=s<n&&o<a?r(t[s],i[o])<=0?t[s++]:i[o++]:s<n?t[s++]:i[o++];return e};e.exports=a},49086:(e,t,i)=>{var r=i(32423),n=i(90187),a=i(25623),s=i(81568)("species"),o=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(n(t)&&(t===o||r(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?o:t}},97260:(e,t,i)=>{var r=i(49086);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},82435:e=>{for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i={},r=0;r<66;r++)i[t.charAt(r)]=r;e.exports={itoc:t,ctoi:i}},14650:(e,t,i)=>{var r=i(69143),n=i(5054);e.exports=function(e,t,i,a){try{return a?t(r(i)[0],i[1]):t(i)}catch(t){n(e,"throw",t)}}},56911:(e,t,i)=>{var r=i(81568)("iterator"),n=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){n=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var i=!1;try{var a={};a[r]=function(){return{next:function(){return{done:i=!0}}}},e(a)}catch(e){}return i}},52093:(e,t,i)=>{var r=i(19160),n=r({}.toString),a=r("".slice);e.exports=function(e){return a(n(e),8,-1)}},12956:(e,t,i)=>{var r=i(70095),n=i(29298),a=i(52093),s=i(81568)("toStringTag"),o=Object,l="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,i,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?i:l?a(t):"Object"==(r=a(t))&&n(t.callee)?"Arguments":r}},52873:(e,t,i)=>{"use strict";var r=i(3290).f,n=i(33550),a=i(42898),s=i(1639),o=i(48860),l=i(31637),d=i(66423),u=i(82976),c=i(77910),h=i(54530),p=i(11314),v=i(14050).fastKey,f=i(78830),g=f.set,m=f.getterFor;e.exports={getConstructor:function(e,t,i,u){var c=e((function(e,r){o(e,h),g(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),p||(e.size=0),l(r)||d(r,e[u],{that:e,AS_ENTRIES:i})})),h=c.prototype,f=m(t),y=function(e,t,i){var r,n,a=f(e),s=b(e,t);return s?s.value=i:(a.last=s={index:n=v(t,!0),key:t,value:i,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=s),r&&(r.next=s),p?a.size++:e.size++,"F"!==n&&(a.index[n]=s)),e},b=function(e,t){var i,r=f(e),n=v(t);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key==t)return i};return a(h,{clear:function(){for(var e=f(this),t=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete t[i.index],i=i.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,i=f(t),r=b(t,e);if(r){var n=r.next,a=r.previous;delete i.index[r.index],r.removed=!0,a&&(a.next=n),n&&(n.previous=a),i.first==r&&(i.first=n),i.last==r&&(i.last=a),p?i.size--:t.size--}return!!r},forEach:function(e){for(var t,i=f(this),r=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:i.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(h,i?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),p&&r(h,"size",{get:function(){return f(this).size}}),c},setStrong:function(e,t,i){var r=t+" Iterator",n=m(t),a=m(r);u(e,t,(function(e,t){g(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?c("keys"==t?i.key:"values"==t?i.value:[i.key,i.value],!1):(e.target=void 0,c(void 0,!0))}),i?"entries":"values",!i,!0),h(t)}}},85645:(e,t,i)=>{"use strict";var r=i(19160),n=i(42898),a=i(14050).getWeakData,s=i(48860),o=i(69143),l=i(31637),d=i(25623),u=i(66423),c=i(27736),h=i(52702),p=i(78830),v=p.set,f=p.getterFor,g=c.find,m=c.findIndex,y=r([].splice),b=0,E=function(e){return e.frozen||(e.frozen=new S)},S=function(){this.entries=[]},w=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};S.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var i=w(this,e);i?i[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,i,r){var c=e((function(e,n){s(e,p),v(e,{type:t,id:b++,frozen:void 0}),l(n)||u(n,e[r],{that:e,AS_ENTRIES:i})})),p=c.prototype,g=f(t),m=function(e,t,i){var r=g(e),n=a(o(t),!0);return!0===n?E(r).set(t,i):n[r.id]=i,e};return n(p,{delete:function(e){var t=g(this);if(!d(e))return!1;var i=a(e);return!0===i?E(t).delete(e):i&&h(i,t.id)&&delete i[t.id]},has:function(e){var t=g(this);if(!d(e))return!1;var i=a(e);return!0===i?E(t).has(e):i&&h(i,t.id)}}),n(p,i?{get:function(e){var t=g(this);if(d(e)){var i=a(e);return!0===i?E(t).get(e):i?i[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),c}}},87646:(e,t,i)=>{"use strict";var r=i(30498),n=i(37368),a=i(19160),s=i(69928),o=i(56539),l=i(14050),d=i(66423),u=i(48860),c=i(29298),h=i(31637),p=i(25623),v=i(74693),f=i(56911),g=i(41479),m=i(48590);e.exports=function(e,t,i){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),E=y?"set":"add",S=n[e],w=S&&S.prototype,A=S,C={},I=function(e){var t=a(w[e]);o(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!p(e))&&t(this,0===e?0:e)}:function(e,i){return t(this,0===e?0:e,i),this})};if(s(e,!c(S)||!(b||w.forEach&&!v((function(){(new S).entries().next()})))))A=i.getConstructor(t,e,y,E),l.enable();else if(s(e,!0)){var T=new A,L=T[E](b?{}:-0,1)!=T,_=v((function(){T.has(1)})),P=f((function(e){new S(e)})),k=!b&&v((function(){for(var e=new S,t=5;t--;)e[E](t,t);return!e.has(-0)}));P||((A=t((function(e,t){u(e,w);var i=m(new S,e,A);return h(t)||d(t,i[E],{that:i,AS_ENTRIES:y}),i}))).prototype=w,w.constructor=A),(_||k)&&(I("delete"),I("has"),y&&I("get")),(k||L)&&I(E),b&&w.clear&&delete w.clear}return C[e]=A,r({global:!0,constructor:!0,forced:A!=S},C),g(A,e),b||i.setStrong(A,e,y),A}},36116:(e,t,i)=>{var r=i(52702),n=i(1746),a=i(88865),s=i(3290);e.exports=function(e,t,i){for(var o=n(t),l=s.f,d=a.f,u=0;u<o.length;u++){var c=o[u];r(e,c)||i&&r(i,c)||l(e,c,d(t,c))}}},70962:(e,t,i)=>{var r=i(81568)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},73165:(e,t,i)=>{var r=i(74693);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},85819:(e,t,i)=>{var r=i(19160),n=i(47853),a=i(89411),s=/"/g,o=r("".replace);e.exports=function(e,t,i,r){var l=a(n(e)),d="<"+t;return""!==i&&(d+=" "+i+'="'+o(a(r),s,"&quot;")+'"'),d+">"+l+"</"+t+">"}},77910:e=>{e.exports=function(e,t){return{value:e,done:t}}},30459:(e,t,i)=>{var r=i(11314),n=i(3290),a=i(1685);e.exports=r?function(e,t,i){return n.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},1685:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},15493:(e,t,i)=>{"use strict";var r=i(69042),n=i(3290),a=i(1685);e.exports=function(e,t,i){var s=r(t);s in e?n.f(e,s,a(0,i)):e[s]=i}},8024:(e,t,i)=>{"use strict";var r=i(19160),n=i(74693),a=i(23538).start,s=RangeError,o=isFinite,l=Math.abs,d=Date.prototype,u=d.toISOString,c=r(d.getTime),h=r(d.getUTCDate),p=r(d.getUTCFullYear),v=r(d.getUTCHours),f=r(d.getUTCMilliseconds),g=r(d.getUTCMinutes),m=r(d.getUTCMonth),y=r(d.getUTCSeconds);e.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!n((function(){u.call(new Date(NaN))}))?function(){if(!o(c(this)))throw s("Invalid time value");var e=this,t=p(e),i=f(e),r=t<0?"-":t>9999?"+":"";return r+a(l(t),r?6:4,0)+"-"+a(m(e)+1,2,0)+"-"+a(h(e),2,0)+"T"+a(v(e),2,0)+":"+a(g(e),2,0)+":"+a(y(e),2,0)+"."+a(i,3,0)+"Z"}:u},43930:(e,t,i)=>{"use strict";var r=i(69143),n=i(28912),a=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw a("Incorrect hint");return n(this,e)}},39183:(e,t,i)=>{var r=i(65821),n=i(3290);e.exports=function(e,t,i){return i.get&&r(i.get,t,{getter:!0}),i.set&&r(i.set,t,{setter:!0}),n.f(e,t,i)}},56539:(e,t,i)=>{var r=i(29298),n=i(3290),a=i(65821),s=i(51186);e.exports=function(e,t,i,o){o||(o={});var l=o.enumerable,d=void 0!==o.name?o.name:t;if(r(i)&&a(i,d,o),o.global)l?e[t]=i:s(t,i);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=i:n.f(e,t,{value:i,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},42898:(e,t,i)=>{var r=i(56539);e.exports=function(e,t,i){for(var n in t)r(e,n,t[n],i);return e}},51186:(e,t,i)=>{var r=i(37368),n=Object.defineProperty;e.exports=function(e,t){try{n(r,e,{value:t,configurable:!0,writable:!0})}catch(i){r[e]=t}return t}},74749:(e,t,i)=>{"use strict";var r=i(47078),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw n("Cannot delete property "+r(t)+" of "+r(e))}},11314:(e,t,i)=>{var r=i(74693);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},18196:e=>{var t="object"==typeof document&&document.all,i=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:i}},99733:(e,t,i)=>{var r=i(37368),n=i(25623),a=r.document,s=n(a)&&n(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},63783:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},86440:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},87691:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},6023:(e,t,i)=>{var r=i(99733)("span").classList,n=r&&r.constructor&&r.constructor.prototype;e.exports=n===Object.prototype?void 0:n},72004:(e,t,i)=>{var r=i(28149).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},57204:(e,t,i)=>{var r=i(24013),n=i(47018);e.exports=!r&&!n&&"object"==typeof window&&"object"==typeof document},24013:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},11456:(e,t,i)=>{var r=i(28149);e.exports=/MSIE|Trident/.test(r)},21641:(e,t,i)=>{var r=i(28149),n=i(37368);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==n.Pebble},14628:(e,t,i)=>{var r=i(28149);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},47018:(e,t,i)=>{var r=i(52093),n=i(37368);e.exports="process"==r(n.process)},43277:(e,t,i)=>{var r=i(28149);e.exports=/web0s(?!.*chrome)/i.test(r)},28149:(e,t,i)=>{var r=i(54274);e.exports=r("navigator","userAgent")||""},33480:(e,t,i)=>{var r,n,a=i(37368),s=i(28149),o=a.process,l=a.Deno,d=o&&o.versions||l&&l.version,u=d&&d.v8;u&&(n=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(n=+r[1]),e.exports=n},89556:(e,t,i)=>{var r=i(28149).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},6804:(e,t,i)=>{var r=i(37368),n=i(19160);e.exports=function(e,t){return n(r[e].prototype[t])}},95422:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},71951:(e,t,i)=>{var r=i(19160),n=Error,a=r("".replace),s=String(n("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},58723:(e,t,i)=>{var r=i(74693),n=i(1685);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},39281:(e,t,i)=>{"use strict";var r=i(11314),n=i(74693),a=i(69143),s=i(33550),o=i(45359),l=Error.prototype.toString,d=n((function(){if(r){var e=s(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==l.call(e))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));e.exports=d?function(){var e=a(this),t=o(e.name,"Error"),i=o(e.message);return t?i?t+": "+i:t:i}:l},30498:(e,t,i)=>{var r=i(37368),n=i(88865).f,a=i(30459),s=i(56539),o=i(51186),l=i(36116),d=i(69928);e.exports=function(e,t){var i,u,c,h,p,v=e.target,f=e.global,g=e.stat;if(i=f?r:g?r[v]||o(v,{}):(r[v]||{}).prototype)for(u in t){if(h=t[u],c=e.dontCallGetSet?(p=n(i,u))&&p.value:i[u],!d(f?u:v+(g?".":"#")+u,e.forced)&&void 0!==c){if(typeof h==typeof c)continue;l(h,c)}(e.sham||c&&c.sham)&&a(h,"sham",!0),s(i,u,h,e)}}},74693:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},88497:(e,t,i)=>{"use strict";i(5042);var r=i(19160),n=i(56539),a=i(8060),s=i(74693),o=i(81568),l=i(30459),d=o("species"),u=RegExp.prototype;e.exports=function(e,t,i,c){var h=o(e),p=!s((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),v=p&&!s((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[d]=function(){return i},i.flags="",i[h]=/./[h]),i.exec=function(){return t=!0,null},i[h](""),!t}));if(!p||!v||i){var f=r(/./[h]),g=t(h,""[e],(function(e,t,i,n,s){var o=r(e),l=t.exec;return l===a||l===u.exec?p&&!s?{done:!0,value:f(t,i,n)}:{done:!0,value:o(i,t,n)}:{done:!1}}));n(String.prototype,e,g[0]),n(u,h,g[1])}c&&l(u[h],"sham",!0)}},89267:(e,t,i)=>{"use strict";var r=i(32423),n=i(62864),a=i(63783),s=i(1639),o=function(e,t,i,l,d,u,c,h){for(var p,v,f=d,g=0,m=!!c&&s(c,h);g<l;)g in i&&(p=m?m(i[g],g,t):i[g],u>0&&r(p)?(v=n(p),f=o(e,t,p,v,f,u-1)-1):(a(f+1),e[f]=p),f++),g++;return f};e.exports=o},45952:(e,t,i)=>{var r=i(74693);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},65972:(e,t,i)=>{var r=i(88874),n=Function.prototype,a=n.apply,s=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(a):function(){return s.apply(a,arguments)})},1639:(e,t,i)=>{var r=i(19160),n=i(33978),a=i(88874),s=r(r.bind);e.exports=function(e,t){return n(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},88874:(e,t,i)=>{var r=i(74693);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},27422:(e,t,i)=>{"use strict";var r=i(19160),n=i(33978),a=i(25623),s=i(52702),o=i(32222),l=i(88874),d=Function,u=r([].concat),c=r([].join),h={},p=function(e,t,i){if(!s(h,t)){for(var r=[],n=0;n<t;n++)r[n]="a["+n+"]";h[t]=d("C,a","return new C("+c(r,",")+")")}return h[t](e,i)};e.exports=l?d.bind:function(e){var t=n(this),i=t.prototype,r=o(arguments,1),s=function(){var i=u(r,o(arguments));return this instanceof s?p(t,i.length,i):t.apply(e,i)};return a(i)&&(s.prototype=i),s}},89780:(e,t,i)=>{var r=i(88874),n=Function.prototype.call;e.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},99122:(e,t,i)=>{var r=i(11314),n=i(52702),a=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,o=n(a,"name"),l=o&&"something"===function(){}.name,d=o&&(!r||r&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:d}},19160:(e,t,i)=>{var r=i(88874),n=Function.prototype,a=n.bind,s=n.call,o=r&&a.bind(s,s);e.exports=r?function(e){return e&&o(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},54274:(e,t,i)=>{var r=i(37368),n=i(29298),a=function(e){return n(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},39155:(e,t,i)=>{var r=i(12956),n=i(18392),a=i(31637),s=i(79510),o=i(81568)("iterator");e.exports=function(e){if(!a(e))return n(e,o)||n(e,"@@iterator")||s[r(e)]}},18580:(e,t,i)=>{var r=i(89780),n=i(33978),a=i(69143),s=i(47078),o=i(39155),l=TypeError;e.exports=function(e,t){var i=arguments.length<2?o(e):t;if(n(i))return a(r(i,e));throw l(s(e)+" is not iterable")}},18392:(e,t,i)=>{var r=i(33978),n=i(31637);e.exports=function(e,t){var i=e[t];return n(i)?void 0:r(i)}},43397:(e,t,i)=>{var r=i(19160),n=i(37204),a=Math.floor,s=r("".charAt),o=r("".replace),l=r("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,r,c,h){var p=i+e.length,v=r.length,f=u;return void 0!==c&&(c=n(c),f=d),o(h,f,(function(n,o){var d;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,i);case"'":return l(t,p);case"<":d=c[l(o,1,-1)];break;default:var u=+o;if(0===u)return n;if(u>v){var h=a(u/10);return 0===h?n:h<=v?void 0===r[h-1]?s(o,1):r[h-1]+s(o,1):n}d=r[u-1]}return void 0===d?"":d}))}},37368:(e,t,i)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},52702:(e,t,i)=>{var r=i(19160),n=i(37204),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(n(e),t)}},97735:e=>{e.exports={}},93751:(e,t,i)=>{var r=i(37368);e.exports=function(e,t){var i=r.console;i&&i.error&&(1==arguments.length?i.error(e):i.error(e,t))}},7589:(e,t,i)=>{var r=i(54274);e.exports=r("document","documentElement")},97764:(e,t,i)=>{var r=i(11314),n=i(74693),a=i(99733);e.exports=!r&&!n((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},14491:e=>{var t=Array,i=Math.abs,r=Math.pow,n=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,o,l){var d,u,c,h=t(l),p=8*l-o-1,v=(1<<p)-1,f=v>>1,g=23===o?r(2,-24)-r(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for((e=i(e))!=e||e===1/0?(u=e!=e?1:0,d=v):(d=n(a(e)/s),e*(c=r(2,-d))<1&&(d--,c*=2),(e+=d+f>=1?g/c:g*r(2,1-f))*c>=2&&(d++,c/=2),d+f>=v?(u=0,d=v):d+f>=1?(u=(e*c-1)*r(2,o),d+=f):(u=e*r(2,f-1)*r(2,o),d=0));o>=8;)h[y++]=255&u,u/=256,o-=8;for(d=d<<o|u,p+=o;p>0;)h[y++]=255&d,d/=256,p-=8;return h[--y]|=128*m,h},unpack:function(e,t){var i,n=e.length,a=8*n-t-1,s=(1<<a)-1,o=s>>1,l=a-7,d=n-1,u=e[d--],c=127&u;for(u>>=7;l>0;)c=256*c+e[d--],l-=8;for(i=c&(1<<-l)-1,c>>=-l,l+=t;l>0;)i=256*i+e[d--],l-=8;if(0===c)c=1-o;else{if(c===s)return i?NaN:u?-1/0:1/0;i+=r(2,t),c-=o}return(u?-1:1)*i*r(2,c-t)}}},27289:(e,t,i)=>{var r=i(19160),n=i(74693),a=i(52093),s=Object,o=r("".split);e.exports=n((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?o(e,""):s(e)}:s},48590:(e,t,i)=>{var r=i(29298),n=i(25623),a=i(32480);e.exports=function(e,t,i){var s,o;return a&&r(s=t.constructor)&&s!==i&&n(o=s.prototype)&&o!==i.prototype&&a(e,o),e}},12569:(e,t,i)=>{var r=i(19160),n=i(29298),a=i(72739),s=r(Function.toString);n(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},44286:(e,t,i)=>{var r=i(25623),n=i(30459);e.exports=function(e,t){r(t)&&"cause"in t&&n(e,"cause",t.cause)}},14050:(e,t,i)=>{var r=i(30498),n=i(19160),a=i(97735),s=i(25623),o=i(52702),l=i(3290).f,d=i(28011),u=i(69061),c=i(81998),h=i(63989),p=i(45952),v=!1,f=h("meta"),g=0,m=function(e){l(e,f,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},v=!0;var e=d.f,t=n([].splice),i={};i[f]=1,e(i).length&&(d.f=function(i){for(var r=e(i),n=0,a=r.length;n<a;n++)if(r[n]===f){t(r,n,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,f)){if(!c(e))return"F";if(!t)return"E";m(e)}return e[f].objectID},getWeakData:function(e,t){if(!o(e,f)){if(!c(e))return!0;if(!t)return!1;m(e)}return e[f].weakData},onFreeze:function(e){return p&&v&&c(e)&&!o(e,f)&&m(e),e}};a[f]=!0},78830:(e,t,i)=>{var r,n,a,s=i(22257),o=i(37368),l=i(19160),d=i(25623),u=i(30459),c=i(52702),h=i(72739),p=i(38225),v=i(97735),f="Object already initialized",g=o.TypeError,m=o.WeakMap;if(s||h.state){var y=h.state||(h.state=new m),b=l(y.get),E=l(y.has),S=l(y.set);r=function(e,t){if(E(y,e))throw g(f);return t.facade=e,S(y,e,t),t},n=function(e){return b(y,e)||{}},a=function(e){return E(y,e)}}else{var w=p("state");v[w]=!0,r=function(e,t){if(c(e,w))throw g(f);return t.facade=e,u(e,w,t),t},n=function(e){return c(e,w)?e[w]:{}},a=function(e){return c(e,w)}}e.exports={set:r,get:n,has:a,enforce:function(e){return a(e)?n(e):r(e,{})},getterFor:function(e){return function(t){var i;if(!d(t)||(i=n(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return i}}}},5073:(e,t,i)=>{var r=i(81568),n=i(79510),a=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[a]===e)}},32423:(e,t,i)=>{var r=i(52093);e.exports=Array.isArray||function(e){return"Array"==r(e)}},5409:(e,t,i)=>{var r=i(12956),n=i(19160)("".slice);e.exports=function(e){return"Big"===n(r(e),0,3)}},29298:(e,t,i)=>{var r=i(18196),n=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===n}:function(e){return"function"==typeof e}},90187:(e,t,i)=>{var r=i(19160),n=i(74693),a=i(29298),s=i(12956),o=i(54274),l=i(12569),d=function(){},u=[],c=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),v=!h.exec(d),f=function(e){if(!a(e))return!1;try{return c(d,u,e),!0}catch(e){return!1}},g=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!p(h,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!c||n((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},85669:(e,t,i)=>{var r=i(52702);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},69928:(e,t,i)=>{var r=i(74693),n=i(29298),a=/#|\.prototype\./,s=function(e,t){var i=l[o(e)];return i==u||i!=d&&(n(t)?r(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=s.data={},d=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},36971:(e,t,i)=>{var r=i(25623),n=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&n(e)===e}},31637:e=>{e.exports=function(e){return null==e}},25623:(e,t,i)=>{var r=i(29298),n=i(18196),a=n.all;e.exports=n.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},5354:e=>{e.exports=!1},88884:(e,t,i)=>{var r=i(25623),n=i(52093),a=i(81568)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==n(e))}},46447:(e,t,i)=>{var r=i(54274),n=i(29298),a=i(10025),s=i(45691),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return n(t)&&a(t.prototype,o(e))}},66423:(e,t,i)=>{var r=i(1639),n=i(89780),a=i(69143),s=i(47078),o=i(5073),l=i(62864),d=i(10025),u=i(18580),c=i(39155),h=i(5054),p=TypeError,v=function(e,t){this.stopped=e,this.result=t},f=v.prototype;e.exports=function(e,t,i){var g,m,y,b,E,S,w,A=i&&i.that,C=!(!i||!i.AS_ENTRIES),I=!(!i||!i.IS_RECORD),T=!(!i||!i.IS_ITERATOR),L=!(!i||!i.INTERRUPTED),_=r(t,A),P=function(e){return g&&h(g,"normal",e),new v(!0,e)},k=function(e){return C?(a(e),L?_(e[0],e[1],P):_(e[0],e[1])):L?_(e,P):_(e)};if(I)g=e.iterator;else if(T)g=e;else{if(!(m=c(e)))throw p(s(e)+" is not iterable");if(o(m)){for(y=0,b=l(e);b>y;y++)if((E=k(e[y]))&&d(f,E))return E;return new v(!1)}g=u(e,m)}for(S=I?e.next:g.next;!(w=n(S,g)).done;){try{E=k(w.value)}catch(e){h(g,"throw",e)}if("object"==typeof E&&E&&d(f,E))return E}return new v(!1)}},5054:(e,t,i)=>{var r=i(89780),n=i(69143),a=i(18392);e.exports=function(e,t,i){var s,o;n(e);try{if(!(s=a(e,"return"))){if("throw"===t)throw i;return i}s=r(s,e)}catch(e){o=!0,s=e}if("throw"===t)throw i;if(o)throw s;return n(s),i}},69788:(e,t,i)=>{"use strict";var r=i(97332).IteratorPrototype,n=i(33550),a=i(1685),s=i(41479),o=i(79510),l=function(){return this};e.exports=function(e,t,i,d){var u=t+" Iterator";return e.prototype=n(r,{next:a(+!d,i)}),s(e,u,!1,!0),o[u]=l,e}},82976:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(5354),s=i(99122),o=i(29298),l=i(69788),d=i(67122),u=i(32480),c=i(41479),h=i(30459),p=i(56539),v=i(81568),f=i(79510),g=i(97332),m=s.PROPER,y=s.CONFIGURABLE,b=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,S=v("iterator"),w="keys",A="values",C="entries",I=function(){return this};e.exports=function(e,t,i,s,v,g,T){l(i,t,s);var L,_,P,k=function(e){if(e===v&&M)return M;if(!E&&e in O)return O[e];switch(e){case w:case A:case C:return function(){return new i(this,e)}}return function(){return new i(this)}},x=t+" Iterator",R=!1,O=e.prototype,D=O[S]||O["@@iterator"]||v&&O[v],M=!E&&D||k(v),N="Array"==t&&O.entries||D;if(N&&(L=d(N.call(new e)))!==Object.prototype&&L.next&&(a||d(L)===b||(u?u(L,b):o(L[S])||p(L,S,I)),c(L,x,!0,!0),a&&(f[x]=I)),m&&v==A&&D&&D.name!==A&&(!a&&y?h(O,"name",A):(R=!0,M=function(){return n(D,this)})),v)if(_={values:k(A),keys:g?M:k(w),entries:k(C)},T)for(P in _)(E||R||!(P in O))&&p(O,P,_[P]);else r({target:t,proto:!0,forced:E||R},_);return a&&!T||O[S]===M||p(O,S,M,{name:v}),f[t]=M,_}},97332:(e,t,i)=>{"use strict";var r,n,a,s=i(74693),o=i(29298),l=i(25623),d=i(33550),u=i(67122),c=i(56539),h=i(81568),p=i(5354),v=h("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(n=u(u(a)))!==Object.prototype&&(r=n):f=!0),!l(r)||s((function(){var e={};return r[v].call(e)!==e}))?r={}:p&&(r=d(r)),o(r[v])||c(r,v,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},79510:e=>{e.exports={}},62864:(e,t,i)=>{var r=i(99286);e.exports=function(e){return r(e.length)}},65821:(e,t,i)=>{var r=i(74693),n=i(29298),a=i(52702),s=i(11314),o=i(99122).CONFIGURABLE,l=i(12569),d=i(78830),u=d.enforce,c=d.get,h=Object.defineProperty,p=s&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),v=String(String).split("String"),f=e.exports=function(e,t,i){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!a(e,"name")||o&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),p&&i&&a(i,"arity")&&e.length!==i.arity&&h(e,"length",{value:i.arity});try{i&&a(i,"constructor")&&i.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=u(e);return a(r,"source")||(r.source=v.join("string"==typeof t?t:"")),e};Function.prototype.toString=f((function(){return n(this)&&c(this).source||l(this)}),"toString")},65974:e=>{var t=Math.expm1,i=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){var t=+e;return 0==t?t:t>-1e-6&&t<1e-6?t+t*t/2:i(t)-1}:t},19218:(e,t,i)=>{var r=i(16010),n=Math.abs,a=Math.pow,s=a(2,-52),o=a(2,-23),l=a(2,127)*(2-o),d=a(2,-126);e.exports=Math.fround||function(e){var t,i,a=+e,u=n(a),c=r(a);return u<d?c*function(e){return e+1/s-1/s}(u/d/o)*d*o:(i=(t=(1+o/s)*u)-(t-u))>l||i!=i?c*(1/0):c*i}},81954:e=>{var t=Math.log,i=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*i}},2812:e=>{var t=Math.log;e.exports=Math.log1p||function(e){var i=+e;return i>-1e-8&&i<1e-8?i-i*i/2:t(1+i)}},16010:e=>{e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},80296:e=>{var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?i:t)(r)}},77309:(e,t,i)=>{var r,n,a,s,o,l,d,u,c=i(37368),h=i(1639),p=i(88865).f,v=i(28758).set,f=i(14628),g=i(21641),m=i(43277),y=i(47018),b=c.MutationObserver||c.WebKitMutationObserver,E=c.document,S=c.process,w=c.Promise,A=p(c,"queueMicrotask"),C=A&&A.value;C||(r=function(){var e,t;for(y&&(e=S.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?s():a=void 0,e}}a=void 0,e&&e.enter()},f||y||m||!b||!E?!g&&w&&w.resolve?((d=w.resolve(void 0)).constructor=w,u=h(d.then,d),s=function(){u(r)}):y?s=function(){S.nextTick(r)}:(v=h(v,c),s=function(){v(r)}):(o=!0,l=E.createTextNode(""),new b(r).observe(l,{characterData:!0}),s=function(){l.data=o=!o})),e.exports=C||function(e){var t={fn:e,next:void 0};a&&(a.next=t),n||(n=t,s()),a=t}},13944:(e,t,i)=>{"use strict";var r=i(33978),n=TypeError,a=function(e){var t,i;this.promise=new e((function(e,r){if(void 0!==t||void 0!==i)throw n("Bad Promise constructor");t=e,i=r})),this.resolve=r(t),this.reject=r(i)};e.exports.f=function(e){return new a(e)}},45359:(e,t,i)=>{var r=i(89411);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},29225:(e,t,i)=>{var r=i(88884),n=TypeError;e.exports=function(e){if(r(e))throw n("The method doesn't accept regular expressions");return e}},74005:(e,t,i)=>{var r=i(37368).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},74885:(e,t,i)=>{var r=i(37368),n=i(74693),a=i(19160),s=i(89411),o=i(53268).trim,l=i(56581),d=a("".charAt),u=r.parseFloat,c=r.Symbol,h=c&&c.iterator,p=1/u(l+"-0")!=-1/0||h&&!n((function(){u(Object(h))}));e.exports=p?function(e){var t=o(s(e)),i=u(t);return 0===i&&"-"==d(t,0)?-0:i}:u},70699:(e,t,i)=>{var r=i(37368),n=i(74693),a=i(19160),s=i(89411),o=i(53268).trim,l=i(56581),d=r.parseInt,u=r.Symbol,c=u&&u.iterator,h=/^[+-]?0x/i,p=a(h.exec),v=8!==d(l+"08")||22!==d(l+"0x16")||c&&!n((function(){d(Object(c))}));e.exports=v?function(e,t){var i=o(s(e));return d(i,t>>>0||(p(h,i)?16:10))}:d},14231:(e,t,i)=>{"use strict";var r=i(11314),n=i(19160),a=i(89780),s=i(74693),o=i(61947),l=i(42454),d=i(69917),u=i(37204),c=i(27289),h=Object.assign,p=Object.defineProperty,v=n([].concat);e.exports=!h||s((function(){if(r&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach((function(e){t[e]=e})),7!=h({},e)[i]||o(h({},t)).join("")!=n}))?function(e,t){for(var i=u(e),n=arguments.length,s=1,h=l.f,p=d.f;n>s;)for(var f,g=c(arguments[s++]),m=h?v(o(g),h(g)):o(g),y=m.length,b=0;y>b;)f=m[b++],r&&!a(p,g,f)||(i[f]=g[f]);return i}:h},33550:(e,t,i)=>{var r,n=i(69143),a=i(60351),s=i(95422),o=i(97735),l=i(7589),d=i(99733),u=i(38225),c="prototype",h="script",p=u("IE_PROTO"),v=function(){},f=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,i;m="undefined"!=typeof document?document.domain&&r?g(r):(t=d("iframe"),i="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):g(r);for(var n=s.length;n--;)delete m[c][s[n]];return m()};o[p]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(v[c]=n(e),i=new v,v[c]=null,i[p]=e):i=m(),void 0===t?i:a.f(i,t)}},60351:(e,t,i)=>{var r=i(11314),n=i(58014),a=i(3290),s=i(69143),o=i(2659),l=i(61947);t.f=r&&!n?Object.defineProperties:function(e,t){s(e);for(var i,r=o(t),n=l(t),d=n.length,u=0;d>u;)a.f(e,i=n[u++],r[i]);return e}},3290:(e,t,i)=>{var r=i(11314),n=i(97764),a=i(58014),s=i(69143),o=i(69042),l=TypeError,d=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",h="configurable",p="writable";t.f=r?a?function(e,t,i){if(s(e),t=o(t),s(i),"function"==typeof e&&"prototype"===t&&"value"in i&&p in i&&!i[p]){var r=u(e,t);r&&r[p]&&(e[t]=i.value,i={configurable:h in i?i[h]:r[h],enumerable:c in i?i[c]:r[c],writable:!1})}return d(e,t,i)}:d:function(e,t,i){if(s(e),t=o(t),s(i),n)try{return d(e,t,i)}catch(e){}if("get"in i||"set"in i)throw l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},88865:(e,t,i)=>{var r=i(11314),n=i(89780),a=i(69917),s=i(1685),o=i(2659),l=i(69042),d=i(52702),u=i(97764),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=l(t),u)try{return c(e,t)}catch(e){}if(d(e,t))return s(!n(a.f,e,t),e[t])}},69061:(e,t,i)=>{var r=i(52093),n=i(2659),a=i(28011).f,s=i(63432),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"Window"==r(e)?function(e){try{return a(e)}catch(e){return s(o)}}(e):a(n(e))}},28011:(e,t,i)=>{var r=i(83936),n=i(95422).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},42454:(e,t)=>{t.f=Object.getOwnPropertySymbols},67122:(e,t,i)=>{var r=i(52702),n=i(29298),a=i(37204),s=i(38225),o=i(73165),l=s("IE_PROTO"),d=Object,u=d.prototype;e.exports=o?d.getPrototypeOf:function(e){var t=a(e);if(r(t,l))return t[l];var i=t.constructor;return n(i)&&t instanceof i?i.prototype:t instanceof d?u:null}},81998:(e,t,i)=>{var r=i(74693),n=i(25623),a=i(52093),s=i(46011),o=Object.isExtensible,l=r((function(){o(1)}));e.exports=l||s?function(e){return!!n(e)&&((!s||"ArrayBuffer"!=a(e))&&(!o||o(e)))}:o},10025:(e,t,i)=>{var r=i(19160);e.exports=r({}.isPrototypeOf)},83936:(e,t,i)=>{var r=i(19160),n=i(52702),a=i(2659),s=i(67677).indexOf,o=i(97735),l=r([].push);e.exports=function(e,t){var i,r=a(e),d=0,u=[];for(i in r)!n(o,i)&&n(r,i)&&l(u,i);for(;t.length>d;)n(r,i=t[d++])&&(~s(u,i)||l(u,i));return u}},61947:(e,t,i)=>{var r=i(83936),n=i(95422);e.exports=Object.keys||function(e){return r(e,n)}},69917:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!i.call({1:2},1);t.f=n?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},927:(e,t,i)=>{"use strict";var r=i(5354),n=i(37368),a=i(74693),s=i(89556);e.exports=r||!a((function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n[e]}}))},32480:(e,t,i)=>{var r=i(19160),n=i(69143),a=i(79307);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),t=i instanceof Array}catch(e){}return function(i,r){return n(i),a(r),t?e(i,r):i.__proto__=r,i}}():void 0)},67574:(e,t,i)=>{var r=i(11314),n=i(19160),a=i(61947),s=i(2659),o=n(i(69917).f),l=n([].push),d=function(e){return function(t){for(var i,n=s(t),d=a(n),u=d.length,c=0,h=[];u>c;)i=d[c++],r&&!o(n,i)||l(h,e?[i,n[i]]:n[i]);return h}};e.exports={entries:d(!0),values:d(!1)}},2371:(e,t,i)=>{"use strict";var r=i(70095),n=i(12956);e.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},28912:(e,t,i)=>{var r=i(89780),n=i(29298),a=i(25623),s=TypeError;e.exports=function(e,t){var i,o;if("string"===t&&n(i=e.toString)&&!a(o=r(i,e)))return o;if(n(i=e.valueOf)&&!a(o=r(i,e)))return o;if("string"!==t&&n(i=e.toString)&&!a(o=r(i,e)))return o;throw s("Can't convert object to primitive value")}},1746:(e,t,i)=>{var r=i(54274),n=i(19160),a=i(28011),s=i(42454),o=i(69143),l=n([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(o(e)),i=s.f;return i?l(t,i(e)):t}},44608:(e,t,i)=>{var r=i(37368);e.exports=r},95363:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},91020:(e,t,i)=>{var r=i(37368),n=i(39242),a=i(29298),s=i(69928),o=i(12569),l=i(81568),d=i(57204),u=i(24013),c=i(5354),h=i(33480),p=n&&n.prototype,v=l("species"),f=!1,g=a(r.PromiseRejectionEvent),m=s("Promise",(function(){var e=o(n),t=e!==String(n);if(!t&&66===h)return!0;if(c&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(e)){var i=new n((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((i.constructor={})[v]=r,!(f=i.then((function(){}))instanceof r))return!0}return!t&&(d||u)&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:f}},39242:(e,t,i)=>{var r=i(37368);e.exports=r.Promise},14059:(e,t,i)=>{var r=i(69143),n=i(25623),a=i(13944);e.exports=function(e,t){if(r(e),n(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},64603:(e,t,i)=>{var r=i(39242),n=i(56911),a=i(91020).CONSTRUCTOR;e.exports=a||!n((function(e){r.all(e).then(void 0,(function(){}))}))},22710:(e,t,i)=>{var r=i(3290).f;e.exports=function(e,t,i){i in e||r(e,i,{configurable:!0,get:function(){return t[i]},set:function(e){t[i]=e}})}},75979:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},91463:(e,t,i)=>{var r=i(89780),n=i(69143),a=i(29298),s=i(52093),o=i(8060),l=TypeError;e.exports=function(e,t){var i=e.exec;if(a(i)){var d=r(i,e,t);return null!==d&&n(d),d}if("RegExp"===s(e))return r(o,e,t);throw l("RegExp#exec called on incompatible receiver")}},8060:(e,t,i)=>{"use strict";var r,n,a=i(89780),s=i(19160),o=i(89411),l=i(78628),d=i(33271),u=i(66523),c=i(33550),h=i(78830).get,p=i(23660),v=i(41276),f=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,y=s("".charAt),b=s("".indexOf),E=s("".replace),S=s("".slice),w=(n=/b*/g,a(g,r=/a/,"a"),a(g,n,"a"),0!==r.lastIndex||0!==n.lastIndex),A=d.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(w||C||A||p||v)&&(m=function(e){var t,i,r,n,s,d,u,p=this,v=h(p),I=o(e),T=v.raw;if(T)return T.lastIndex=p.lastIndex,t=a(m,T,I),p.lastIndex=T.lastIndex,t;var L=v.groups,_=A&&p.sticky,P=a(l,p),k=p.source,x=0,R=I;if(_&&(P=E(P,"y",""),-1===b(P,"g")&&(P+="g"),R=S(I,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(I,p.lastIndex-1))&&(k="(?: "+k+")",R=" "+R,x++),i=new RegExp("^(?:"+k+")",P)),C&&(i=new RegExp("^"+k+"$(?!\\s)",P)),w&&(r=p.lastIndex),n=a(g,_?i:p,R),_?n?(n.input=S(n.input,x),n[0]=S(n[0],x),n.index=p.lastIndex,p.lastIndex+=n[0].length):p.lastIndex=0:w&&n&&(p.lastIndex=p.global?n.index+n[0].length:r),C&&n&&n.length>1&&a(f,n[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n&&L)for(n.groups=d=c(null),s=0;s<L.length;s++)d[(u=L[s])[0]]=n[u[1]];return n}),e.exports=m},78628:(e,t,i)=>{"use strict";var r=i(69143);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},78554:(e,t,i)=>{var r=i(89780),n=i(52702),a=i(10025),s=i(78628),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||n(e,"flags")||!a(o,e)?t:r(s,e)}},33271:(e,t,i)=>{var r=i(74693),n=i(37368).RegExp,a=r((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=a||r((function(){return!n("a","y").sticky})),o=a||r((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:a}},23660:(e,t,i)=>{var r=i(74693),n=i(37368).RegExp;e.exports=r((function(){var e=n(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},41276:(e,t,i)=>{var r=i(74693),n=i(37368).RegExp;e.exports=r((function(){var e=n("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},47853:(e,t,i)=>{var r=i(31637),n=TypeError;e.exports=function(e){if(r(e))throw n("Can't call method on "+e);return e}},24751:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},25064:(e,t,i)=>{var r=i(37368),n=i(65972),a=i(29298),s=i(28149),o=i(32222),l=i(73020),d=/MSIE .\./.test(s),u=r.Function,c=function(e){return d?function(t,i){var r=l(arguments.length,1)>2,s=a(t)?t:u(t),d=r?o(arguments,2):void 0;return e(r?function(){n(s,this,d)}:s,i)}:e};e.exports={setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)}},54530:(e,t,i)=>{"use strict";var r=i(54274),n=i(3290),a=i(81568),s=i(11314),o=a("species");e.exports=function(e){var t=r(e),i=n.f;s&&t&&!t[o]&&i(t,o,{configurable:!0,get:function(){return this}})}},41479:(e,t,i)=>{var r=i(3290).f,n=i(52702),a=i(81568)("toStringTag");e.exports=function(e,t,i){e&&!i&&(e=e.prototype),e&&!n(e,a)&&r(e,a,{configurable:!0,value:t})}},38225:(e,t,i)=>{var r=i(66523),n=i(63989),a=r("keys");e.exports=function(e){return a[e]||(a[e]=n(e))}},72739:(e,t,i)=>{var r=i(37368),n=i(51186),a="__core-js_shared__",s=r[a]||n(a,{});e.exports=s},66523:(e,t,i)=>{var r=i(5354),n=i(72739);(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.2",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.2/LICENSE",source:"https://github.com/zloirock/core-js"})},13039:(e,t,i)=>{var r=i(69143),n=i(39217),a=i(31637),s=i(81568)("species");e.exports=function(e,t){var i,o=r(e).constructor;return void 0===o||a(i=r(o)[s])?t:n(i)}},37627:(e,t,i)=>{var r=i(74693);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},25602:(e,t,i)=>{var r=i(19160),n=i(23840),a=i(89411),s=i(47853),o=r("".charAt),l=r("".charCodeAt),d=r("".slice),u=function(e){return function(t,i){var r,u,c=a(s(t)),h=n(i),p=c.length;return h<0||h>=p?e?"":void 0:(r=l(c,h))<55296||r>56319||h+1===p||(u=l(c,h+1))<56320||u>57343?e?o(c,h):r:e?d(c,h,h+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},47549:(e,t,i)=>{var r=i(28149);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},23538:(e,t,i)=>{var r=i(19160),n=i(99286),a=i(89411),s=i(77927),o=i(47853),l=r(s),d=r("".slice),u=Math.ceil,c=function(e){return function(t,i,r){var s,c,h=a(o(t)),p=n(i),v=h.length,f=void 0===r?" ":a(r);return p<=v||""==f?h:((c=l(f,u((s=p-v)/f.length))).length>s&&(c=d(c,0,s)),e?h+c:c+h)}};e.exports={start:c(!1),end:c(!0)}},56575:(e,t,i)=>{"use strict";var r=i(19160),n=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",l=RangeError,d=r(s.exec),u=Math.floor,c=String.fromCharCode,h=r("".charCodeAt),p=r([].join),v=r([].push),f=r("".replace),g=r("".split),m=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,i){var r=0;for(e=i?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),r+=36;return u(r+36*e/(e+38))},E=function(e){var t=[];e=function(e){for(var t=[],i=0,r=e.length;i<r;){var n=h(e,i++);if(n>=55296&&n<=56319&&i<r){var a=h(e,i++);56320==(64512&a)?v(t,((1023&n)<<10)+(1023&a)+65536):(v(t,n),i--)}else v(t,n)}return t}(e);var i,r,a=e.length,s=128,d=0,f=72;for(i=0;i<e.length;i++)(r=e[i])<128&&v(t,c(r));var g=t.length,m=g;for(g&&v(t,"-");m<a;){var E=n;for(i=0;i<e.length;i++)(r=e[i])>=s&&r<E&&(E=r);var S=m+1;if(E-s>u((n-d)/S))throw l(o);for(d+=(E-s)*S,s=E,i=0;i<e.length;i++){if((r=e[i])<s&&++d>n)throw l(o);if(r==s){for(var w=d,A=36;;){var C=A<=f?1:A>=f+26?26:A-f;if(w<C)break;var I=w-C,T=36-C;v(t,c(y(C+I%T))),w=u(I/T),A+=36}v(t,c(y(w))),f=b(d,S,m==g),d=0,m++}}d++,s++}return p(t,"")};e.exports=function(e){var t,i,r=[],n=g(f(m(e),s,"."),".");for(t=0;t<n.length;t++)i=n[t],v(r,d(a,i)?"xn--"+E(i):i);return p(r,".")}},77927:(e,t,i)=>{"use strict";var r=i(23840),n=i(89411),a=i(47853),s=RangeError;e.exports=function(e){var t=n(a(this)),i="",o=r(e);if(o<0||o==1/0)throw s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(i+=t);return i}},69633:(e,t,i)=>{"use strict";var r=i(53268).end,n=i(63830);e.exports=n("trimEnd")?function(){return r(this)}:"".trimEnd},63830:(e,t,i)=>{var r=i(99122).PROPER,n=i(74693),a=i(56581);e.exports=function(e){return n((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||r&&a[e].name!==e}))}},54719:(e,t,i)=>{"use strict";var r=i(53268).start,n=i(63830);e.exports=n("trimStart")?function(){return r(this)}:"".trimStart},53268:(e,t,i)=>{var r=i(19160),n=i(47853),a=i(89411),s=i(56581),o=r("".replace),l="["+s+"]",d=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),c=function(e){return function(t){var i=a(n(t));return 1&e&&(i=o(i,d,"")),2&e&&(i=o(i,u,"")),i}};e.exports={start:c(1),end:c(2),trim:c(3)}},51845:(e,t,i)=>{var r=i(33480),n=i(74693);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},69198:(e,t,i)=>{var r=i(89780),n=i(54274),a=i(81568),s=i(56539);e.exports=function(){var e=n("Symbol"),t=e&&e.prototype,i=t&&t.valueOf,o=a("toPrimitive");t&&!t[o]&&s(t,o,(function(e){return r(i,this)}),{arity:1})}},88065:(e,t,i)=>{var r=i(51845);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},28758:(e,t,i)=>{var r,n,a,s,o=i(37368),l=i(65972),d=i(1639),u=i(29298),c=i(52702),h=i(74693),p=i(7589),v=i(32222),f=i(99733),g=i(73020),m=i(14628),y=i(47018),b=o.setImmediate,E=o.clearImmediate,S=o.process,w=o.Dispatch,A=o.Function,C=o.MessageChannel,I=o.String,T=0,L={},_="onreadystatechange";try{r=o.location}catch(e){}var P=function(e){if(c(L,e)){var t=L[e];delete L[e],t()}},k=function(e){return function(){P(e)}},x=function(e){P(e.data)},R=function(e){o.postMessage(I(e),r.protocol+"//"+r.host)};b&&E||(b=function(e){g(arguments.length,1);var t=u(e)?e:A(e),i=v(arguments,1);return L[++T]=function(){l(t,void 0,i)},n(T),T},E=function(e){delete L[e]},y?n=function(e){S.nextTick(k(e))}:w&&w.now?n=function(e){w.now(k(e))}:C&&!m?(s=(a=new C).port2,a.port1.onmessage=x,n=d(s.postMessage,s)):o.addEventListener&&u(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!h(R)?(n=R,o.addEventListener("message",x,!1)):n=_ in f("script")?function(e){p.appendChild(f("script"))[_]=function(){p.removeChild(this),P(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:b,clear:E}},89114:(e,t,i)=>{var r=i(19160);e.exports=r(1..valueOf)},54226:(e,t,i)=>{var r=i(23840),n=Math.max,a=Math.min;e.exports=function(e,t){var i=r(e);return i<0?n(i+t,0):a(i,t)}},96992:(e,t,i)=>{var r=i(62074),n=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw n("Can't convert number to bigint");return BigInt(t)}},55222:(e,t,i)=>{var r=i(23840),n=i(99286),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),i=n(t);if(t!==i)throw a("Wrong length or index");return i}},2659:(e,t,i)=>{var r=i(27289),n=i(47853);e.exports=function(e){return r(n(e))}},23840:(e,t,i)=>{var r=i(80296);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},99286:(e,t,i)=>{var r=i(23840),n=Math.min;e.exports=function(e){return e>0?n(r(e),9007199254740991):0}},37204:(e,t,i)=>{var r=i(47853),n=Object;e.exports=function(e){return n(r(e))}},22485:(e,t,i)=>{var r=i(40101),n=RangeError;e.exports=function(e,t){var i=r(e);if(i%t)throw n("Wrong offset");return i}},40101:(e,t,i)=>{var r=i(23840),n=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw n("The argument can't be less than 0");return t}},62074:(e,t,i)=>{var r=i(89780),n=i(25623),a=i(46447),s=i(18392),o=i(28912),l=i(81568),d=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!n(e)||a(e))return e;var i,l=s(e,u);if(l){if(void 0===t&&(t="default"),i=r(l,e,t),!n(i)||a(i))return i;throw d("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},69042:(e,t,i)=>{var r=i(62074),n=i(46447);e.exports=function(e){var t=r(e,"string");return n(t)?t:t+""}},70095:(e,t,i)=>{var r={};r[i(81568)("toStringTag")]="z",e.exports="[object z]"===String(r)},89411:(e,t,i)=>{var r=i(12956),n=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return n(e)}},49620:(e,t,i)=>{var r=i(47018);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(e){}}},47078:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},78693:(e,t,i)=>{"use strict";var r=i(30498),n=i(37368),a=i(89780),s=i(11314),o=i(52705),l=i(10483),d=i(72715),u=i(48860),c=i(1685),h=i(30459),p=i(36971),v=i(99286),f=i(55222),g=i(22485),m=i(69042),y=i(52702),b=i(12956),E=i(25623),S=i(46447),w=i(33550),A=i(10025),C=i(32480),I=i(28011).f,T=i(91973),L=i(27736).forEach,_=i(54530),P=i(3290),k=i(88865),x=i(78830),R=i(48590),O=x.get,D=x.set,M=x.enforce,N=P.f,V=k.f,U=Math.round,B=n.RangeError,F=d.ArrayBuffer,H=F.prototype,j=d.DataView,G=l.NATIVE_ARRAY_BUFFER_VIEWS,W=l.TYPED_ARRAY_TAG,q=l.TypedArray,K=l.TypedArrayPrototype,z=l.aTypedArrayConstructor,J=l.isTypedArray,Y="BYTES_PER_ELEMENT",$="Wrong length",Q=function(e,t){z(e);for(var i=0,r=t.length,n=new e(r);r>i;)n[i]=t[i++];return n},X=function(e,t){N(e,t,{get:function(){return O(this)[t]}})},Z=function(e){var t;return A(H,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return J(e)&&!S(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=m(t),ee(e,t)?c(2,e[t]):V(e,t)},ie=function(e,t,i){return t=m(t),!(ee(e,t)&&E(i)&&y(i,"value"))||y(i,"get")||y(i,"set")||i.configurable||y(i,"writable")&&!i.writable||y(i,"enumerable")&&!i.enumerable?N(e,t,i):(e[t]=i.value,e)};s?(G||(k.f=te,P.f=ie,X(K,"buffer"),X(K,"byteOffset"),X(K,"byteLength"),X(K,"length")),r({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:te,defineProperty:ie}),e.exports=function(e,t,i){var s=e.match(/\d+$/)[0]/8,l=e+(i?"Clamped":"")+"Array",d="get"+e,c="set"+e,p=n[l],m=p,y=m&&m.prototype,b={},S=function(e,t){N(e,t,{get:function(){return function(e,t){var i=O(e);return i.view[d](t*s+i.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var n=O(e);i&&(r=(r=U(r))<0?0:r>255?255:255&r),n.view[c](t*s+n.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};G?o&&(m=t((function(e,t,i,r){return u(e,y),R(E(t)?Z(t)?void 0!==r?new p(t,g(i,s),r):void 0!==i?new p(t,g(i,s)):new p(t):J(t)?Q(m,t):a(T,m,t):new p(f(t)),e,m)})),C&&C(m,q),L(I(p),(function(e){e in m||h(m,e,p[e])})),m.prototype=y):(m=t((function(e,t,i,r){u(e,y);var n,o,l,d=0,c=0;if(E(t)){if(!Z(t))return J(t)?Q(m,t):a(T,m,t);n=t,c=g(i,s);var h=t.byteLength;if(void 0===r){if(h%s)throw B($);if((o=h-c)<0)throw B($)}else if((o=v(r)*s)+c>h)throw B($);l=o/s}else l=f(t),n=new F(o=l*s);for(D(e,{buffer:n,byteOffset:c,byteLength:o,length:l,view:new j(n)});d<l;)S(e,d++)})),C&&C(m,q),y=m.prototype=w(K)),y.constructor!==m&&h(y,"constructor",m),M(y).TypedArrayConstructor=m,W&&h(y,W,l);var A=m!=p;b[l]=m,r({global:!0,constructor:!0,forced:A,sham:!G},b),Y in m||h(m,Y,s),Y in y||h(y,Y,s),_(l)}):e.exports=function(){}},52705:(e,t,i)=>{var r=i(37368),n=i(74693),a=i(56911),s=i(10483).NATIVE_ARRAY_BUFFER_VIEWS,o=r.ArrayBuffer,l=r.Int8Array;e.exports=!s||!n((function(){l(1)}))||!n((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||n((function(){return 1!==new l(new o(2),1,void 0).length}))},46142:(e,t,i)=>{var r=i(40956),n=i(38728);e.exports=function(e,t){return r(n(e),t)}},91973:(e,t,i)=>{var r=i(1639),n=i(89780),a=i(39217),s=i(37204),o=i(62864),l=i(18580),d=i(39155),u=i(5073),c=i(5409),h=i(10483).aTypedArrayConstructor,p=i(96992);e.exports=function(e){var t,i,v,f,g,m,y,b,E=a(this),S=s(e),w=arguments.length,A=w>1?arguments[1]:void 0,C=void 0!==A,I=d(S);if(I&&!u(I))for(b=(y=l(S,I)).next,S=[];!(m=n(b,y)).done;)S.push(m.value);for(C&&w>2&&(A=r(A,arguments[2])),i=o(S),v=new(h(E))(i),f=c(v),t=0;i>t;t++)g=C?A(S[t],t):S[t],v[t]=f?p(g):+g;return v}},38728:(e,t,i)=>{var r=i(10483),n=i(13039),a=r.aTypedArrayConstructor,s=r.getTypedArrayConstructor;e.exports=function(e){return a(n(e,s(e)))}},63989:(e,t,i)=>{var r=i(19160),n=0,a=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++n+a,36)}},38095:(e,t,i)=>{var r=i(74693),n=i(81568),a=i(5354),s=n("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,i="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),i+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},45691:(e,t,i)=>{var r=i(51845);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},58014:(e,t,i)=>{var r=i(11314),n=i(74693);e.exports=r&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},73020:e=>{var t=TypeError;e.exports=function(e,i){if(e<i)throw t("Not enough arguments");return e}},22257:(e,t,i)=>{var r=i(37368),n=i(29298),a=r.WeakMap;e.exports=n(a)&&/native code/.test(String(a))},62134:(e,t,i)=>{var r=i(44608),n=i(52702),a=i(56492),s=i(3290).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});n(t,e)||s(t,e,{value:a.f(e)})}},56492:(e,t,i)=>{var r=i(81568);t.f=r},81568:(e,t,i)=>{var r=i(37368),n=i(66523),a=i(52702),s=i(63989),o=i(51845),l=i(45691),d=n("wks"),u=r.Symbol,c=u&&u.for,h=l?u:u&&u.withoutSetter||s;e.exports=function(e){if(!a(d,e)||!o&&"string"!=typeof d[e]){var t="Symbol."+e;o&&a(u,e)?d[e]=u[e]:d[e]=l&&c?c(t):h(t)}return d[e]}},56581:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9133:(e,t,i)=>{"use strict";var r=i(54274),n=i(52702),a=i(30459),s=i(10025),o=i(32480),l=i(36116),d=i(22710),u=i(48590),c=i(45359),h=i(44286),p=i(71951),v=i(58723),f=i(11314),g=i(5354);e.exports=function(e,t,i,m){var y="stackTraceLimit",b=m?2:1,E=e.split("."),S=E[E.length-1],w=r.apply(null,E);if(w){var A=w.prototype;if(!g&&n(A,"cause")&&delete A.cause,!i)return w;var C=r("Error"),I=t((function(e,t){var i=c(m?t:e,void 0),r=m?new w(e):new w;return void 0!==i&&a(r,"message",i),v&&a(r,"stack",p(r.stack,2)),this&&s(A,this)&&u(r,this,I),arguments.length>b&&h(r,arguments[b]),r}));if(I.prototype=A,"Error"!==S?o?o(I,C):l(I,C,{name:!0}):f&&y in w&&(d(I,w,y),d(I,w,"prepareStackTrace")),l(I,w),!g)try{A.name!==S&&a(A,"name",S),A.constructor=I}catch(e){}return I}}},20347:(e,t,i)=>{var r=i(30498),n=i(54274),a=i(65972),s=i(74693),o=i(9133),l="AggregateError",d=n(l),u=!s((function(){return 1!==d([1]).errors[0]}))&&s((function(){return 7!==d([1],l,{cause:7}).cause}));r({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:o(l,(function(e){return function(t,i){return a(e,this,arguments)}}),u,!0)})},45273:(e,t,i)=>{"use strict";var r=i(30498),n=i(10025),a=i(67122),s=i(32480),o=i(36116),l=i(33550),d=i(30459),u=i(1685),c=i(71951),h=i(44286),p=i(66423),v=i(45359),f=i(81568),g=i(58723),m=f("toStringTag"),y=Error,b=[].push,E=function(e,t){var i,r=arguments.length>2?arguments[2]:void 0,o=n(S,this);s?i=s(y(),o?a(this):S):(i=o?this:l(S),d(i,m,"Error")),void 0!==t&&d(i,"message",v(t)),g&&d(i,"stack",c(i.stack,1)),h(i,r);var u=[];return p(e,b,{that:u}),d(i,"errors",u),i};s?s(E,y):o(E,y,{name:!0});var S=E.prototype=l(y.prototype,{constructor:u(1,E),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:E})},49855:(e,t,i)=>{i(45273)},49370:(e,t,i)=>{"use strict";var r=i(30498),n=i(37368),a=i(72715),s=i(54530),o="ArrayBuffer",l=a[o];r({global:!0,constructor:!0,forced:n[o]!==l},{ArrayBuffer:l}),s(o)},77970:(e,t,i)=>{var r=i(30498),n=i(10483);r({target:"ArrayBuffer",stat:!0,forced:!n.NATIVE_ARRAY_BUFFER_VIEWS},{isView:n.isView})},57572:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(74693),s=i(72715),o=i(69143),l=i(54226),d=i(99286),u=i(13039),c=s.ArrayBuffer,h=s.DataView,p=h.prototype,v=n(c.prototype.slice),f=n(p.getUint8),g=n(p.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(v&&void 0===t)return v(o(this),e);for(var i=o(this).byteLength,r=l(e,i),n=l(void 0===t?i:t,i),a=new(u(this,c))(d(n-r)),s=new h(this),p=new h(a),m=0;r<n;)g(p,m++,f(s,r++));return a}})},42674:(e,t,i)=>{"use strict";var r=i(30498),n=i(37204),a=i(62864),s=i(23840),o=i(63497);r({target:"Array",proto:!0},{at:function(e){var t=n(this),i=a(t),r=s(e),o=r>=0?r:i+r;return o<0||o>=i?void 0:t[o]}}),o("at")},60423:(e,t,i)=>{"use strict";var r=i(30498),n=i(74693),a=i(32423),s=i(25623),o=i(37204),l=i(62864),d=i(63783),u=i(15493),c=i(97260),h=i(40249),p=i(81568),v=i(33480),f=p("isConcatSpreadable"),g=v>=51||!n((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),m=h("concat"),y=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!g||!m},{concat:function(e){var t,i,r,n,a,s=o(this),h=c(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(y(a=-1===t?s:arguments[t]))for(n=l(a),d(p+n),i=0;i<n;i++,p++)i in a&&u(h,p,a[i]);else d(p+1),u(h,p++,a);return h.length=p,h}})},43738:(e,t,i)=>{var r=i(30498),n=i(24630),a=i(63497);r({target:"Array",proto:!0},{copyWithin:n}),a("copyWithin")},87949:(e,t,i)=>{"use strict";var r=i(30498),n=i(27736).every;r({target:"Array",proto:!0,forced:!i(62124)("every")},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},72421:(e,t,i)=>{var r=i(30498),n=i(67800),a=i(63497);r({target:"Array",proto:!0},{fill:n}),a("fill")},56800:(e,t,i)=>{"use strict";var r=i(30498),n=i(27736).filter;r({target:"Array",proto:!0,forced:!i(40249)("filter")},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},23024:(e,t,i)=>{"use strict";var r=i(30498),n=i(27736).findIndex,a=i(63497),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},24274:(e,t,i)=>{"use strict";var r=i(30498),n=i(16452).findLastIndex,a=i(63497);r({target:"Array",proto:!0},{findLastIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},88028:(e,t,i)=>{"use strict";var r=i(30498),n=i(16452).findLast,a=i(63497);r({target:"Array",proto:!0},{findLast:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},28767:(e,t,i)=>{"use strict";var r=i(30498),n=i(27736).find,a=i(63497),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},30285:(e,t,i)=>{"use strict";var r=i(30498),n=i(89267),a=i(33978),s=i(37204),o=i(62864),l=i(97260);r({target:"Array",proto:!0},{flatMap:function(e){var t,i=s(this),r=o(i);return a(e),(t=l(i,0)).length=n(t,i,i,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},17388:(e,t,i)=>{"use strict";var r=i(30498),n=i(89267),a=i(37204),s=i(62864),o=i(23840),l=i(97260);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),i=s(t),r=l(t,0);return r.length=n(r,t,t,i,0,void 0===e?1:o(e)),r}})},81979:(e,t,i)=>{"use strict";var r=i(30498),n=i(47775);r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},4283:(e,t,i)=>{var r=i(30498),n=i(93368);r({target:"Array",stat:!0,forced:!i(56911)((function(e){Array.from(e)}))},{from:n})},30995:(e,t,i)=>{"use strict";var r=i(30498),n=i(67677).includes,a=i(74693),s=i(63497);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},92271:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(67677).indexOf,s=i(62124),o=n([].indexOf),l=!!o&&1/o([1],1,-0)<0,d=s("indexOf");r({target:"Array",proto:!0,forced:l||!d},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?o(this,e,t)||0:a(this,e,t)}})},63582:(e,t,i)=>{i(30498)({target:"Array",stat:!0},{isArray:i(32423)})},51657:(e,t,i)=>{"use strict";var r=i(2659),n=i(63497),a=i(79510),s=i(78830),o=i(3290).f,l=i(82976),d=i(77910),u=i(5354),c=i(11314),h="Array Iterator",p=s.set,v=s.getterFor(h);e.exports=l(Array,"Array",(function(e,t){p(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=v(this),t=e.target,i=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,d(void 0,!0)):d("keys"==i?r:"values"==i?t[r]:[r,t[r]],!1)}),"values");var f=a.Arguments=a.Array;if(n("keys"),n("values"),n("entries"),!u&&c&&"values"!==f.name)try{o(f,"name",{value:"values"})}catch(e){}},21431:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(27289),s=i(2659),o=i(62124),l=n([].join),d=a!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:d||!u},{join:function(e){return l(s(this),void 0===e?",":e)}})},24923:(e,t,i)=>{var r=i(30498),n=i(7548);r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},55299:(e,t,i)=>{"use strict";var r=i(30498),n=i(27736).map;r({target:"Array",proto:!0,forced:!i(40249)("map")},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},45047:(e,t,i)=>{"use strict";var r=i(30498),n=i(74693),a=i(90187),s=i(15493),o=Array;r({target:"Array",stat:!0,forced:n((function(){function e(){}return!(o.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,i=new(a(this)?this:o)(t);t>e;)s(i,e,arguments[e++]);return i.length=t,i}})},68175:(e,t,i)=>{"use strict";var r=i(30498),n=i(37204),a=i(62864),s=i(81413),o=i(63783),l=i(74693)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:l||d},{push:function(e){var t=n(this),i=a(t),r=arguments.length;o(i+r);for(var l=0;l<r;l++)t[i]=arguments[l],i++;return s(t,i),i}})},64693:(e,t,i)=>{"use strict";var r=i(30498),n=i(50395).right,a=i(62124),s=i(33480),o=i(47018);r({target:"Array",proto:!0,forced:!a("reduceRight")||!o&&s>79&&s<83},{reduceRight:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},76983:(e,t,i)=>{"use strict";var r=i(30498),n=i(50395).left,a=i(62124),s=i(33480),o=i(47018);r({target:"Array",proto:!0,forced:!a("reduce")||!o&&s>79&&s<83},{reduce:function(e){var t=arguments.length;return n(this,e,t,t>1?arguments[1]:void 0)}})},35773:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(32423),s=n([].reverse),o=[1,2];r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),s(this)}})},41416:(e,t,i)=>{"use strict";var r=i(30498),n=i(32423),a=i(90187),s=i(25623),o=i(54226),l=i(62864),d=i(2659),u=i(15493),c=i(81568),h=i(40249),p=i(32222),v=h("slice"),f=c("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var i,r,c,h=d(this),v=l(h),y=o(e,v),b=o(void 0===t?v:t,v);if(n(h)&&(i=h.constructor,(a(i)&&(i===g||n(i.prototype))||s(i)&&null===(i=i[f]))&&(i=void 0),i===g||void 0===i))return p(h,y,b);for(r=new(void 0===i?g:i)(m(b-y,0)),c=0;y<b;y++,c++)y in h&&u(r,c,h[y]);return r.length=c,r}})},28790:(e,t,i)=>{"use strict";var r=i(30498),n=i(27736).some;r({target:"Array",proto:!0,forced:!i(62124)("some")},{some:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},20740:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(33978),s=i(37204),o=i(62864),l=i(74749),d=i(89411),u=i(74693),c=i(21210),h=i(62124),p=i(72004),v=i(11456),f=i(33480),g=i(89556),m=[],y=n(m.sort),b=n(m.push),E=u((function(){m.sort(void 0)})),S=u((function(){m.sort(null)})),w=h("sort"),A=!u((function(){if(f)return f<70;if(!(p&&p>3)){if(v)return!0;if(g)return g<603;var e,t,i,r,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(r=0;r<47;r++)m.push({k:t+r,v:i})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));r({target:"Array",proto:!0,forced:E||!S||!w||!A},{sort:function(e){void 0!==e&&a(e);var t=s(this);if(A)return void 0===e?y(t):y(t,e);var i,r,n=[],u=o(t);for(r=0;r<u;r++)r in t&&b(n,t[r]);for(c(n,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:d(t)>d(i)?1:-1}}(e)),i=o(n),r=0;r<i;)t[r]=n[r++];for(;r<u;)l(t,r++);return t}})},59054:(e,t,i)=>{i(54530)("Array")},23827:(e,t,i)=>{"use strict";var r=i(30498),n=i(37204),a=i(54226),s=i(23840),o=i(62864),l=i(81413),d=i(63783),u=i(97260),c=i(15493),h=i(74749),p=i(40249)("splice"),v=Math.max,f=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var i,r,p,g,m,y,b=n(this),E=o(b),S=a(e,E),w=arguments.length;for(0===w?i=r=0:1===w?(i=0,r=E-S):(i=w-2,r=f(v(s(t),0),E-S)),d(E+i-r),p=u(b,r),g=0;g<r;g++)(m=S+g)in b&&c(p,g,b[m]);if(p.length=r,i<r){for(g=S;g<E-r;g++)y=g+i,(m=g+r)in b?b[y]=b[m]:h(b,y);for(g=E;g>E-r+i;g--)h(b,g-1)}else if(i>r)for(g=E-r;g>S;g--)y=g+i-1,(m=g+r-1)in b?b[y]=b[m]:h(b,y);for(g=0;g<i;g++)b[g+S]=arguments[g+2];return l(b,E-r+i),p}})},27839:(e,t,i)=>{i(63497)("flatMap")},71193:(e,t,i)=>{i(63497)("flat")},30090:(e,t,i)=>{"use strict";var r=i(30498),n=i(37204),a=i(62864),s=i(81413),o=i(74749),l=i(63783),d=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:d||u},{unshift:function(e){var t=n(this),i=a(t),r=arguments.length;if(r){l(i+r);for(var d=i;d--;){var u=d+r;d in t?t[u]=t[d]:o(t,u)}for(var c=0;c<r;c++)t[c]=arguments[c]}return s(t,i+r)}})},31728:(e,t,i)=>{var r=i(30498),n=i(72715);r({global:!0,constructor:!0,forced:!i(41048)},{DataView:n.DataView})},29339:(e,t,i)=>{i(31728)},12752:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(74693)((function(){return 120!==new Date(16e11).getYear()})),s=n(Date.prototype.getFullYear);r({target:"Date",proto:!0,forced:a},{getYear:function(){return s(this)-1900}})},69654:(e,t,i)=>{var r=i(30498),n=i(19160),a=Date,s=n(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return s(new a)}})},28738:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(23840),s=Date.prototype,o=n(s.getTime),l=n(s.setFullYear);r({target:"Date",proto:!0},{setYear:function(e){o(this);var t=a(e);return l(this,0<=t&&t<=99?t+1900:t)}})},4160:(e,t,i)=>{i(30498)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},96749:(e,t,i)=>{var r=i(30498),n=i(8024);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==n},{toISOString:n})},75295:(e,t,i)=>{"use strict";var r=i(30498),n=i(74693),a=i(37204),s=i(62074);r({target:"Date",proto:!0,arity:1,forced:n((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),i=s(t,"number");return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},35394:(e,t,i)=>{var r=i(52702),n=i(56539),a=i(43930),s=i(81568)("toPrimitive"),o=Date.prototype;r(o,s)||n(o,s,a)},52673:(e,t,i)=>{var r=i(19160),n=i(56539),a=Date.prototype,s="Invalid Date",o="toString",l=r(a[o]),d=r(a.getTime);String(new Date(NaN))!=s&&n(a,o,(function(){var e=d(this);return e==e?l(this):s}))},13078:(e,t,i)=>{var r=i(30498),n=i(37368),a=i(65972),s=i(9133),o="WebAssembly",l=n[o],d=7!==Error("e",{cause:7}).cause,u=function(e,t){var i={};i[e]=s(e,t,d),r({global:!0,constructor:!0,arity:1,forced:d},i)},c=function(e,t){if(l&&l[e]){var i={};i[e]=s(o+"."+e,t,d),r({target:o,stat:!0,constructor:!0,arity:1,forced:d},i)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),c("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),c("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),c("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},44755:(e,t,i)=>{var r=i(56539),n=i(39281),a=Error.prototype;a.toString!==n&&r(a,"toString",n)},92922:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(89411),s=n("".charAt),o=n("".charCodeAt),l=n(/./.exec),d=n(1..toString),u=n("".toUpperCase),c=/[\w*+\-./@]/,h=function(e,t){for(var i=d(e,16);i.length<t;)i="0"+i;return i};r({global:!0},{escape:function(e){for(var t,i,r=a(e),n="",d=r.length,p=0;p<d;)t=s(r,p++),l(c,t)?n+=t:n+=(i=o(t,0))<256?"%"+h(i,2):"%u"+u(h(i,4));return n}})},75371:(e,t,i)=>{var r=i(30498),n=i(27422);r({target:"Function",proto:!0,forced:Function.bind!==n},{bind:n})},17830:(e,t,i)=>{"use strict";var r=i(29298),n=i(25623),a=i(3290),s=i(67122),o=i(81568),l=i(65821),d=o("hasInstance"),u=Function.prototype;d in u||a.f(u,d,{value:l((function(e){if(!r(this)||!n(e))return!1;var t=this.prototype;if(!n(t))return e instanceof this;for(;e=s(e);)if(t===e)return!0;return!1}),d)})},14864:(e,t,i)=>{var r=i(11314),n=i(99122).EXISTS,a=i(19160),s=i(3290).f,o=Function.prototype,l=a(o.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=a(d.exec);r&&!n&&s(o,"name",{configurable:!0,get:function(){try{return u(d,l(this))[1]}catch(e){return""}}})},47496:(e,t,i)=>{var r=i(30498),n=i(37368);r({global:!0,forced:n.globalThis!==n},{globalThis:n})},1470:(e,t,i)=>{var r=i(30498),n=i(54274),a=i(65972),s=i(89780),o=i(19160),l=i(74693),d=i(32423),u=i(29298),c=i(25623),h=i(46447),p=i(32222),v=i(51845),f=n("JSON","stringify"),g=o(/./.exec),m=o("".charAt),y=o("".charCodeAt),b=o("".replace),E=o(1..toString),S=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,C=!v||l((function(){var e=n("Symbol")();return"[null]"!=f([e])||"{}"!=f({a:e})||"{}"!=f(Object(e))})),I=l((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),T=function(e,t){var i=p(arguments),r=t;if((c(t)||void 0!==e)&&!h(e))return d(t)||(t=function(e,t){if(u(r)&&(t=s(r,this,e,t)),!h(t))return t}),i[1]=t,a(f,null,i)},L=function(e,t,i){var r=m(i,t-1),n=m(i,t+1);return g(w,e)&&!g(A,n)||g(A,e)&&!g(w,r)?"\\u"+E(y(e,0),16):e};f&&r({target:"JSON",stat:!0,arity:3,forced:C||I},{stringify:function(e,t,i){var r=p(arguments),n=a(C?T:f,null,r);return I&&"string"==typeof n?b(n,S,L):n}})},42708:(e,t,i)=>{var r=i(37368);i(41479)(r.JSON,"JSON",!0)},87782:(e,t,i)=>{"use strict";i(87646)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i(52873))},12809:(e,t,i)=>{i(87782)},16339:(e,t,i)=>{var r=i(30498),n=i(2812),a=Math.acosh,s=Math.log,o=Math.sqrt,l=Math.LN2;r({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?s(t)+l:n(t-1+o(t-1)*o(t+1))}})},29081:(e,t,i)=>{var r=i(30498),n=Math.asinh,a=Math.log,s=Math.sqrt;r({target:"Math",stat:!0,forced:!(n&&1/n(0)>0)},{asinh:function e(t){var i=+t;return isFinite(i)&&0!=i?i<0?-e(-i):a(i+s(i*i+1)):i}})},27188:(e,t,i)=>{var r=i(30498),n=Math.atanh,a=Math.log;r({target:"Math",stat:!0,forced:!(n&&1/n(-0)<0)},{atanh:function(e){var t=+e;return 0==t?t:a((1+t)/(1-t))/2}})},27950:(e,t,i)=>{var r=i(30498),n=i(16010),a=Math.abs,s=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return n(t)*s(a(t),1/3)}})},97901:(e,t,i)=>{var r=i(30498),n=Math.floor,a=Math.log,s=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-n(a(t+.5)*s):32}})},72410:(e,t,i)=>{var r=i(30498),n=i(65974),a=Math.cosh,s=Math.abs,o=Math.E;r({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=n(s(e)-1)+1;return(t+1/(t*o*o))*(o/2)}})},30663:(e,t,i)=>{var r=i(30498),n=i(65974);r({target:"Math",stat:!0,forced:n!=Math.expm1},{expm1:n})},58203:(e,t,i)=>{i(30498)({target:"Math",stat:!0},{fround:i(19218)})},18052:(e,t,i)=>{var r=i(30498),n=Math.hypot,a=Math.abs,s=Math.sqrt;r({target:"Math",stat:!0,arity:2,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var i,r,n=0,o=0,l=arguments.length,d=0;o<l;)d<(i=a(arguments[o++]))?(n=n*(r=d/i)*r+1,d=i):n+=i>0?(r=i/d)*r:i;return d===1/0?1/0:d*s(n)}})},70395:(e,t,i)=>{var r=i(30498),n=i(74693),a=Math.imul;r({target:"Math",stat:!0,forced:n((function(){return-5!=a(4294967295,5)||2!=a.length}))},{imul:function(e,t){var i=65535,r=+e,n=+t,a=i&r,s=i&n;return 0|a*s+((i&r>>>16)*s+a*(i&n>>>16)<<16>>>0)}})},6018:(e,t,i)=>{i(30498)({target:"Math",stat:!0},{log10:i(81954)})},86879:(e,t,i)=>{i(30498)({target:"Math",stat:!0},{log1p:i(2812)})},7602:(e,t,i)=>{var r=i(30498),n=Math.log,a=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return n(e)/a}})},73914:(e,t,i)=>{i(30498)({target:"Math",stat:!0},{sign:i(16010)})},53745:(e,t,i)=>{var r=i(30498),n=i(74693),a=i(65974),s=Math.abs,o=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:n((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return s(t)<1?(a(t)-a(-t))/2:(o(t-1)-o(-t-1))*(l/2)}})},43963:(e,t,i)=>{var r=i(30498),n=i(65974),a=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=+e,i=n(t),r=n(-t);return i==1/0?1:r==1/0?-1:(i-r)/(a(t)+a(-t))}})},55310:(e,t,i)=>{i(41479)(Math,"Math",!0)},50041:(e,t,i)=>{i(30498)({target:"Math",stat:!0},{trunc:i(80296)})},36969:(e,t,i)=>{"use strict";var r=i(11314),n=i(37368),a=i(19160),s=i(69928),o=i(56539),l=i(52702),d=i(48590),u=i(10025),c=i(46447),h=i(62074),p=i(74693),v=i(28011).f,f=i(88865).f,g=i(3290).f,m=i(89114),y=i(53268).trim,b="Number",E=n[b],S=E.prototype,w=n.TypeError,A=a("".slice),C=a("".charCodeAt),I=function(e){var t=h(e,"number");return"bigint"==typeof t?t:T(t)},T=function(e){var t,i,r,n,a,s,o,l,d=h(e,"number");if(c(d))throw w("Cannot convert a Symbol value to a number");if("string"==typeof d&&d.length>2)if(d=y(d),43===(t=C(d,0))||45===t){if(88===(i=C(d,2))||120===i)return NaN}else if(48===t){switch(C(d,1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+d}for(s=(a=A(d,2)).length,o=0;o<s;o++)if((l=C(a,o))<48||l>n)return NaN;return parseInt(a,r)}return+d};if(s(b,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var L,_=function(e){var t=arguments.length<1?0:E(I(e)),i=this;return u(S,i)&&p((function(){m(i)}))?d(Object(t),i,_):t},P=r?v(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),k=0;P.length>k;k++)l(E,L=P[k])&&!l(_,L)&&g(_,L,f(E,L));_.prototype=S,S.constructor=_,o(n,b,_,{constructor:!0})}},22087:(e,t,i)=>{i(30498)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},72422:(e,t,i)=>{i(30498)({target:"Number",stat:!0},{isFinite:i(74005)})},28112:(e,t,i)=>{i(30498)({target:"Number",stat:!0},{isInteger:i(36971)})},17910:(e,t,i)=>{i(30498)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},41182:(e,t,i)=>{var r=i(30498),n=i(36971),a=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return n(e)&&a(e)<=9007199254740991}})},67594:(e,t,i)=>{i(30498)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},41044:(e,t,i)=>{i(30498)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},87669:(e,t,i)=>{var r=i(30498),n=i(74885);r({target:"Number",stat:!0,forced:Number.parseFloat!=n},{parseFloat:n})},42535:(e,t,i)=>{var r=i(30498),n=i(70699);r({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},98933:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(23840),s=i(89114),o=i(77927),l=i(81954),d=i(74693),u=RangeError,c=String,h=isFinite,p=Math.abs,v=Math.floor,f=Math.pow,g=Math.round,m=n(1..toExponential),y=n(o),b=n("".slice),E="-6.9000e-11"===m(-69e-12,4)&&"1.25e+0"===m(1.255,2)&&"1.235e+4"===m(12345,3)&&"3e+1"===m(25,0),S=d((function(){m(1,1/0)}))&&d((function(){m(1,-1/0)})),w=!d((function(){m(1/0,1/0)}))&&!d((function(){m(NaN,1/0)}));r({target:"Number",proto:!0,forced:!E||!S||!w},{toExponential:function(e){var t=s(this);if(void 0===e)return m(t);var i=a(e);if(!h(t))return String(t);if(i<0||i>20)throw u("Incorrect fraction digits");if(E)return m(t,i);var r="",n="",o=0,d="",S="";if(t<0&&(r="-",t=-t),0===t)o=0,n=y("0",i+1);else{var w=l(t);o=v(w);var A=0,C=f(10,o-i);2*t>=(2*(A=g(t/C))+1)*C&&(A+=1),A>=f(10,i+1)&&(A/=10,o+=1),n=c(A)}return 0!==i&&(n=b(n,0,1)+"."+b(n,1)),0===o?(d="+",S="0"):(d=o>0?"+":"-",S=c(p(o))),r+(n+="e"+d+S)}})},44944:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(23840),s=i(89114),o=i(77927),l=i(74693),d=RangeError,u=String,c=Math.floor,h=n(o),p=n("".slice),v=n(1..toFixed),f=function(e,t,i){return 0===t?i:t%2==1?f(e,t-1,i*e):f(e*e,t/2,i)},g=function(e,t,i){for(var r=-1,n=i;++r<6;)n+=t*e[r],e[r]=n%1e7,n=c(n/1e7)},m=function(e,t){for(var i=6,r=0;--i>=0;)r+=e[i],e[i]=c(r/t),r=r%t*1e7},y=function(e){for(var t=6,i="";--t>=0;)if(""!==i||0===t||0!==e[t]){var r=u(e[t]);i=""===i?r:i+h("0",7-r.length)+r}return i};r({target:"Number",proto:!0,forced:l((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!l((function(){v({})}))},{toFixed:function(e){var t,i,r,n,o=s(this),l=a(e),c=[0,0,0,0,0,0],v="",b="0";if(l<0||l>20)throw d("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return u(o);if(o<0&&(v="-",o=-o),o>1e-21)if(i=(t=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t}(o*f(2,69,1))-69)<0?o*f(2,-t,1):o/f(2,t,1),i*=4503599627370496,(t=52-t)>0){for(g(c,0,i),r=l;r>=7;)g(c,1e7,0),r-=7;for(g(c,f(10,r,1),0),r=t-1;r>=23;)m(c,1<<23),r-=23;m(c,1<<r),g(c,1,1),m(c,2),b=y(c)}else g(c,0,i),g(c,1<<-t,0),b=y(c)+h("0",l);return b=l>0?v+((n=b.length)<=l?"0."+h("0",l-n)+b:p(b,0,n-l)+"."+p(b,n-l)):v+b}})},60723:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(74693),s=i(89114),o=n(1..toPrecision);r({target:"Number",proto:!0,forced:a((function(){return"1"!==o(1,void 0)}))||!a((function(){o({})}))},{toPrecision:function(e){return void 0===e?o(s(this)):o(s(this),e)}})},31631:(e,t,i)=>{var r=i(30498),n=i(14231);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},26611:(e,t,i)=>{i(30498)({target:"Object",stat:!0,sham:!i(11314)},{create:i(33550)})},12677:(e,t,i)=>{"use strict";var r=i(30498),n=i(11314),a=i(927),s=i(33978),o=i(37204),l=i(3290);n&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){l.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},58518:(e,t,i)=>{var r=i(30498),n=i(11314),a=i(60351).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!n},{defineProperties:a})},35400:(e,t,i)=>{var r=i(30498),n=i(11314),a=i(3290).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!n},{defineProperty:a})},23728:(e,t,i)=>{"use strict";var r=i(30498),n=i(11314),a=i(927),s=i(33978),o=i(37204),l=i(3290);n&&r({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){l.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},10286:(e,t,i)=>{var r=i(30498),n=i(67574).entries;r({target:"Object",stat:!0},{entries:function(e){return n(e)}})},4326:(e,t,i)=>{var r=i(30498),n=i(45952),a=i(74693),s=i(25623),o=i(14050).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!n},{freeze:function(e){return l&&s(e)?l(o(e)):e}})},41083:(e,t,i)=>{var r=i(30498),n=i(66423),a=i(15493);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return n(e,(function(e,i){a(t,e,i)}),{AS_ENTRIES:!0}),t}})},50823:(e,t,i)=>{var r=i(30498),n=i(74693),a=i(2659),s=i(88865).f,o=i(11314),l=n((function(){s(1)}));r({target:"Object",stat:!0,forced:!o||l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(a(e),t)}})},93729:(e,t,i)=>{var r=i(30498),n=i(11314),a=i(1746),s=i(2659),o=i(88865),l=i(15493);r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){for(var t,i,r=s(e),n=o.f,d=a(r),u={},c=0;d.length>c;)void 0!==(i=n(r,t=d[c++]))&&l(u,t,i);return u}})},84995:(e,t,i)=>{var r=i(30498),n=i(74693),a=i(69061).f;r({target:"Object",stat:!0,forced:n((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},12229:(e,t,i)=>{var r=i(30498),n=i(51845),a=i(74693),s=i(42454),o=i(37204);r({target:"Object",stat:!0,forced:!n||a((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(o(e)):[]}})},4021:(e,t,i)=>{var r=i(30498),n=i(74693),a=i(37204),s=i(67122),o=i(73165);r({target:"Object",stat:!0,forced:n((function(){s(1)})),sham:!o},{getPrototypeOf:function(e){return s(a(e))}})},72e3:(e,t,i)=>{i(30498)({target:"Object",stat:!0},{hasOwn:i(52702)})},51395:(e,t,i)=>{var r=i(30498),n=i(81998);r({target:"Object",stat:!0,forced:Object.isExtensible!==n},{isExtensible:n})},25851:(e,t,i)=>{var r=i(30498),n=i(74693),a=i(25623),s=i(52093),o=i(46011),l=Object.isFrozen;r({target:"Object",stat:!0,forced:n((function(){l(1)}))||o},{isFrozen:function(e){return!a(e)||(!(!o||"ArrayBuffer"!=s(e))||!!l&&l(e))}})},1727:(e,t,i)=>{var r=i(30498),n=i(74693),a=i(25623),s=i(52093),o=i(46011),l=Object.isSealed;r({target:"Object",stat:!0,forced:n((function(){l(1)}))||o},{isSealed:function(e){return!a(e)||(!(!o||"ArrayBuffer"!=s(e))||!!l&&l(e))}})},25267:(e,t,i)=>{i(30498)({target:"Object",stat:!0},{is:i(24751)})},90158:(e,t,i)=>{var r=i(30498),n=i(37204),a=i(61947);r({target:"Object",stat:!0,forced:i(74693)((function(){a(1)}))},{keys:function(e){return a(n(e))}})},50067:(e,t,i)=>{"use strict";var r=i(30498),n=i(11314),a=i(927),s=i(37204),o=i(69042),l=i(67122),d=i(88865).f;n&&r({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,i=s(this),r=o(e);do{if(t=d(i,r))return t.get}while(i=l(i))}})},49780:(e,t,i)=>{"use strict";var r=i(30498),n=i(11314),a=i(927),s=i(37204),o=i(69042),l=i(67122),d=i(88865).f;n&&r({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,i=s(this),r=o(e);do{if(t=d(i,r))return t.set}while(i=l(i))}})},67194:(e,t,i)=>{var r=i(30498),n=i(25623),a=i(14050).onFreeze,s=i(45952),o=i(74693),l=Object.preventExtensions;r({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!s},{preventExtensions:function(e){return l&&n(e)?l(a(e)):e}})},12177:(e,t,i)=>{"use strict";var r=i(11314),n=i(39183),a=i(25623),s=i(37204),o=i(47853),l=Object.getPrototypeOf,d=Object.setPrototypeOf,u=Object.prototype,c="__proto__";if(r&&l&&d&&!(c in u))try{n(u,c,{configurable:!0,get:function(){return l(s(this))},set:function(e){var t=o(this);(a(e)||null===e)&&a(t)&&d(t,e)}})}catch(e){}},91918:(e,t,i)=>{var r=i(30498),n=i(25623),a=i(14050).onFreeze,s=i(45952),o=i(74693),l=Object.seal;r({target:"Object",stat:!0,forced:o((function(){l(1)})),sham:!s},{seal:function(e){return l&&n(e)?l(a(e)):e}})},83837:(e,t,i)=>{i(30498)({target:"Object",stat:!0},{setPrototypeOf:i(32480)})},28241:(e,t,i)=>{var r=i(70095),n=i(56539),a=i(2371);r||n(Object.prototype,"toString",a,{unsafe:!0})},22533:(e,t,i)=>{var r=i(30498),n=i(67574).values;r({target:"Object",stat:!0},{values:function(e){return n(e)}})},51989:(e,t,i)=>{var r=i(30498),n=i(74885);r({global:!0,forced:parseFloat!=n},{parseFloat:n})},7605:(e,t,i)=>{var r=i(30498),n=i(70699);r({global:!0,forced:parseInt!=n},{parseInt:n})},43438:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(33978),s=i(13944),o=i(95363),l=i(66423);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,i=s.f(t),r=i.resolve,d=i.reject,u=o((function(){var i=a(t.resolve),s=[],o=0,d=1;l(e,(function(e){var a=o++,l=!1;d++,n(i,t,e).then((function(e){l||(l=!0,s[a]={status:"fulfilled",value:e},--d||r(s))}),(function(e){l||(l=!0,s[a]={status:"rejected",reason:e},--d||r(s))}))})),--d||r(s)}));return u.error&&d(u.value),i.promise}})},64075:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(33978),s=i(13944),o=i(95363),l=i(66423);r({target:"Promise",stat:!0,forced:i(64603)},{all:function(e){var t=this,i=s.f(t),r=i.resolve,d=i.reject,u=o((function(){var i=a(t.resolve),s=[],o=0,u=1;l(e,(function(e){var a=o++,l=!1;u++,n(i,t,e).then((function(e){l||(l=!0,s[a]=e,--u||r(s))}),d)})),--u||r(s)}));return u.error&&d(u.value),i.promise}})},66843:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(33978),s=i(54274),o=i(13944),l=i(95363),d=i(66423),u="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,i=s("AggregateError"),r=o.f(t),c=r.resolve,h=r.reject,p=l((function(){var r=a(t.resolve),s=[],o=0,l=1,p=!1;d(e,(function(e){var a=o++,d=!1;l++,n(r,t,e).then((function(e){d||p||(p=!0,c(e))}),(function(e){d||p||(d=!0,s[a]=e,--l||h(new i(s,u)))}))})),--l||h(new i(s,u))}));return p.error&&h(p.value),r.promise}})},65454:(e,t,i)=>{"use strict";var r=i(30498),n=i(5354),a=i(91020).CONSTRUCTOR,s=i(39242),o=i(54274),l=i(29298),d=i(56539),u=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!n&&l(s)){var c=o("Promise").prototype.catch;u.catch!==c&&d(u,"catch",c,{unsafe:!0})}},13955:(e,t,i)=>{"use strict";var r,n,a,s=i(30498),o=i(5354),l=i(47018),d=i(37368),u=i(89780),c=i(56539),h=i(32480),p=i(41479),v=i(54530),f=i(33978),g=i(29298),m=i(25623),y=i(48860),b=i(13039),E=i(28758).set,S=i(77309),w=i(93751),A=i(95363),C=i(75979),I=i(78830),T=i(39242),L=i(91020),_=i(13944),P="Promise",k=L.CONSTRUCTOR,x=L.REJECTION_EVENT,R=L.SUBCLASSING,O=I.getterFor(P),D=I.set,M=T&&T.prototype,N=T,V=M,U=d.TypeError,B=d.document,F=d.process,H=_.f,j=H,G=!!(B&&B.createEvent&&d.dispatchEvent),W="unhandledrejection",q=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},K=function(e,t){var i,r,n,a=t.value,s=1==t.state,o=s?e.ok:e.fail,l=e.resolve,d=e.reject,c=e.domain;try{o?(s||(2===t.rejection&&Q(t),t.rejection=1),!0===o?i=a:(c&&c.enter(),i=o(a),c&&(c.exit(),n=!0)),i===e.promise?d(U("Promise-chain cycle")):(r=q(i))?u(r,i,l,d):l(i)):d(a)}catch(e){c&&!n&&c.exit(),d(e)}},z=function(e,t){e.notified||(e.notified=!0,S((function(){for(var i,r=e.reactions;i=r.get();)K(i,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},J=function(e,t,i){var r,n;G?((r=B.createEvent("Event")).promise=t,r.reason=i,r.initEvent(e,!1,!0),d.dispatchEvent(r)):r={promise:t,reason:i},!x&&(n=d["on"+e])?n(r):e===W&&w("Unhandled promise rejection",i)},Y=function(e){u(E,d,(function(){var t,i=e.facade,r=e.value;if($(e)&&(t=A((function(){l?F.emit("unhandledRejection",r,i):J(W,i,r)})),e.rejection=l||$(e)?2:1,t.error))throw t.value}))},$=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){u(E,d,(function(){var t=e.facade;l?F.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},X=function(e,t,i){return function(r){e(t,r,i)}},Z=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,z(e,!0))},ee=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw U("Promise can't be resolved itself");var r=q(t);r?S((function(){var i={done:!1};try{u(r,t,X(ee,i,e),X(Z,i,e))}catch(t){Z(i,t,e)}})):(e.value=t,e.state=1,z(e,!1))}catch(t){Z({done:!1},t,e)}}};if(k&&(V=(N=function(e){y(this,V),f(e),u(r,this);var t=O(this);try{e(X(ee,t),X(Z,t))}catch(e){Z(t,e)}}).prototype,(r=function(e){D(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=c(V,"then",(function(e,t){var i=O(this),r=H(b(this,N));return i.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=l?F.domain:void 0,0==i.state?i.reactions.add(r):S((function(){K(r,i)})),r.promise})),n=function(){var e=new r,t=O(e);this.promise=e,this.resolve=X(ee,t),this.reject=X(Z,t)},_.f=H=function(e){return e===N||undefined===e?new n(e):j(e)},!o&&g(T)&&M!==Object.prototype)){a=M.then,R||c(M,"then",(function(e,t){var i=this;return new N((function(e,t){u(a,i,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(e){}h&&h(M,V)}s({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:N}),p(N,P,!1,!0),v(P)},41711:(e,t,i)=>{"use strict";var r=i(30498),n=i(5354),a=i(39242),s=i(74693),o=i(54274),l=i(29298),d=i(13039),u=i(14059),c=i(56539),h=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&s((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=d(this,o("Promise")),i=l(e);return this.then(i?function(i){return u(t,e()).then((function(){return i}))}:e,i?function(i){return u(t,e()).then((function(){throw i}))}:e)}}),!n&&l(a)){var p=o("Promise").prototype.finally;h.finally!==p&&c(h,"finally",p,{unsafe:!0})}},85149:(e,t,i)=>{i(13955),i(64075),i(65454),i(57e3),i(28991),i(60034)},57e3:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(33978),s=i(13944),o=i(95363),l=i(66423);r({target:"Promise",stat:!0,forced:i(64603)},{race:function(e){var t=this,i=s.f(t),r=i.reject,d=o((function(){var s=a(t.resolve);l(e,(function(e){n(s,t,e).then(i.resolve,r)}))}));return d.error&&r(d.value),i.promise}})},28991:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(13944);r({target:"Promise",stat:!0,forced:i(91020).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return n(t.reject,void 0,e),t.promise}})},60034:(e,t,i)=>{"use strict";var r=i(30498),n=i(54274),a=i(5354),s=i(39242),o=i(91020).CONSTRUCTOR,l=i(14059),d=n("Promise"),u=a&&!o;r({target:"Promise",stat:!0,forced:a||o},{resolve:function(e){return l(u&&this===d?s:this,e)}})},41108:(e,t,i)=>{var r=i(30498),n=i(65972),a=i(33978),s=i(69143);r({target:"Reflect",stat:!0,forced:!i(74693)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,i){return n(a(e),t,s(i))}})},95668:(e,t,i)=>{var r=i(30498),n=i(54274),a=i(65972),s=i(27422),o=i(39217),l=i(69143),d=i(25623),u=i(33550),c=i(74693),h=n("Reflect","construct"),p=Object.prototype,v=[].push,f=c((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),g=!c((function(){h((function(){}))})),m=f||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){o(e),l(t);var i=arguments.length<3?e:o(arguments[2]);if(g&&!f)return h(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(v,r,t),new(a(s,e,r))}var n=i.prototype,c=u(d(n)?n:p),m=a(e,c,t);return d(m)?m:c}})},78734:(e,t,i)=>{var r=i(30498),n=i(11314),a=i(69143),s=i(69042),o=i(3290);r({target:"Reflect",stat:!0,forced:i(74693)((function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})})),sham:!n},{defineProperty:function(e,t,i){a(e);var r=s(t);a(i);try{return o.f(e,r,i),!0}catch(e){return!1}}})},74560:(e,t,i)=>{var r=i(30498),n=i(69143),a=i(88865).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var i=a(n(e),t);return!(i&&!i.configurable)&&delete e[t]}})},60364:(e,t,i)=>{var r=i(30498),n=i(11314),a=i(69143),s=i(88865);r({target:"Reflect",stat:!0,sham:!n},{getOwnPropertyDescriptor:function(e,t){return s.f(a(e),t)}})},44310:(e,t,i)=>{var r=i(30498),n=i(69143),a=i(67122);r({target:"Reflect",stat:!0,sham:!i(73165)},{getPrototypeOf:function(e){return a(n(e))}})},18991:(e,t,i)=>{var r=i(30498),n=i(89780),a=i(25623),s=i(69143),o=i(85669),l=i(88865),d=i(67122);r({target:"Reflect",stat:!0},{get:function e(t,i){var r,u,c=arguments.length<3?t:arguments[2];return s(t)===c?t[i]:(r=l.f(t,i))?o(r)?r.value:void 0===r.get?void 0:n(r.get,c):a(u=d(t))?e(u,i,c):void 0}})},46248:(e,t,i)=>{i(30498)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},83893:(e,t,i)=>{var r=i(30498),n=i(69143),a=i(81998);r({target:"Reflect",stat:!0},{isExtensible:function(e){return n(e),a(e)}})},48735:(e,t,i)=>{i(30498)({target:"Reflect",stat:!0},{ownKeys:i(1746)})},57285:(e,t,i)=>{var r=i(30498),n=i(54274),a=i(69143);r({target:"Reflect",stat:!0,sham:!i(45952)},{preventExtensions:function(e){a(e);try{var t=n("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},56804:(e,t,i)=>{var r=i(30498),n=i(69143),a=i(79307),s=i(32480);s&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){n(e),a(t);try{return s(e,t),!0}catch(e){return!1}}})},99826:(e,t,i)=>{var r=i(30498),n=i(89780),a=i(69143),s=i(25623),o=i(85669),l=i(74693),d=i(3290),u=i(88865),c=i(67122),h=i(1685);r({target:"Reflect",stat:!0,forced:l((function(){var e=function(){},t=d.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,i,r){var l,p,v,f=arguments.length<4?t:arguments[3],g=u.f(a(t),i);if(!g){if(s(p=c(t)))return e(p,i,r,f);g=h(0)}if(o(g)){if(!1===g.writable||!s(f))return!1;if(l=u.f(f,i)){if(l.get||l.set||!1===l.writable)return!1;l.value=r,d.f(f,i,l)}else d.f(f,i,h(0,r))}else{if(void 0===(v=g.set))return!1;n(v,f,r)}return!0}})},45807:(e,t,i)=>{var r=i(30498),n=i(37368),a=i(41479);r({global:!0},{Reflect:{}}),a(n.Reflect,"Reflect",!0)},24697:(e,t,i)=>{var r=i(11314),n=i(37368),a=i(19160),s=i(69928),o=i(48590),l=i(30459),d=i(28011).f,u=i(10025),c=i(88884),h=i(89411),p=i(78554),v=i(33271),f=i(22710),g=i(56539),m=i(74693),y=i(52702),b=i(78830).enforce,E=i(54530),S=i(81568),w=i(23660),A=i(41276),C=S("match"),I=n.RegExp,T=I.prototype,L=n.SyntaxError,_=a(T.exec),P=a("".charAt),k=a("".replace),x=a("".indexOf),R=a("".slice),O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,D=/a/g,M=/a/g,N=new I(D)!==D,V=v.MISSED_STICKY,U=v.UNSUPPORTED_Y,B=r&&(!N||V||w||A||m((function(){return M[C]=!1,I(D)!=D||I(M)==M||"/a/i"!=I(D,"i")})));if(s("RegExp",B)){for(var F=function(e,t){var i,r,n,a,s,d,v=u(T,this),f=c(e),g=void 0===t,m=[],E=e;if(!v&&f&&g&&e.constructor===F)return e;if((f||u(T,e))&&(e=e.source,g&&(t=p(E))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),E=e,w&&"dotAll"in D&&(r=!!t&&x(t,"s")>-1)&&(t=k(t,/s/g,"")),i=t,V&&"sticky"in D&&(n=!!t&&x(t,"y")>-1)&&U&&(t=k(t,/y/g,"")),A&&(a=function(e){for(var t,i=e.length,r=0,n="",a=[],s={},o=!1,l=!1,d=0,u="";r<=i;r++){if("\\"===(t=P(e,r)))t+=P(e,++r);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:_(O,R(e,r+1))&&(r+=2,l=!0),n+=t,d++;continue;case">"===t&&l:if(""===u||y(s,u))throw new L("Invalid capture group name");s[u]=!0,a[a.length]=[u,d],l=!1,u="";continue}l?u+=t:n+=t}return[n,a]}(e),e=a[0],m=a[1]),s=o(I(e,t),v?this:T,F),(r||n||m.length)&&(d=b(s),r&&(d.dotAll=!0,d.raw=F(function(e){for(var t,i=e.length,r=0,n="",a=!1;r<=i;r++)"\\"!==(t=P(e,r))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),n+=t):n+="[\\s\\S]":n+=t+P(e,++r);return n}(e),i)),n&&(d.sticky=!0),m.length&&(d.groups=m)),e!==E)try{l(s,"source",""===E?"(?:)":E)}catch(e){}return s},H=d(I),j=0;H.length>j;)f(F,I,H[j++]);T.constructor=F,F.prototype=T,g(n,"RegExp",F,{constructor:!0})}E("RegExp")},70373:(e,t,i)=>{var r=i(11314),n=i(23660),a=i(52093),s=i(39183),o=i(78830).get,l=RegExp.prototype,d=TypeError;r&&n&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!o(this).dotAll;throw d("Incompatible receiver, RegExp required")}}})},5042:(e,t,i)=>{"use strict";var r=i(30498),n=i(8060);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},37450:(e,t,i)=>{var r=i(37368),n=i(11314),a=i(39183),s=i(78628),o=i(74693),l=r.RegExp,d=l.prototype;n&&o((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},i="",r=e?"dgimsy":"gimsy",n=function(e,r){Object.defineProperty(t,e,{get:function(){return i+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)n(s,a[s]);return Object.getOwnPropertyDescriptor(d,"flags").get.call(t)!==r||i!==r}))&&a(d,"flags",{configurable:!0,get:s})},56924:(e,t,i)=>{var r=i(11314),n=i(33271).MISSED_STICKY,a=i(52093),s=i(39183),o=i(78830).get,l=RegExp.prototype,d=TypeError;r&&n&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===a(this))return!!o(this).sticky;throw d("Incompatible receiver, RegExp required")}}})},48263:(e,t,i)=>{"use strict";i(5042);var r,n,a=i(30498),s=i(89780),o=i(29298),l=i(69143),d=i(89411),u=(r=!1,(n=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===n.test("abc")&&r),c=/./.test;a({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=l(this),i=d(e),r=t.exec;if(!o(r))return s(c,t,i);var n=s(r,t,i);return null!==n&&(l(n),!0)}})},52927:(e,t,i)=>{"use strict";var r=i(99122).PROPER,n=i(56539),a=i(69143),s=i(89411),o=i(74693),l=i(78554),d="toString",u=RegExp.prototype[d],c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=r&&u.name!=d;(c||h)&&n(RegExp.prototype,d,(function(){var e=a(this);return"/"+s(e.source)+"/"+s(l(e))}),{unsafe:!0})},64668:(e,t,i)=>{"use strict";i(87646)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i(52873))},68591:(e,t,i)=>{i(64668)},28436:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("anchor")},{anchor:function(e){return n(this,"a","name",e)}})},32257:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(47853),s=i(23840),o=i(89411),l=i(74693),d=n("".charAt);r({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=o(a(this)),i=t.length,r=s(e),n=r>=0?r:i+r;return n<0||n>=i?void 0:d(t,n)}})},41558:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("big")},{big:function(){return n(this,"big","","")}})},89795:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("blink")},{blink:function(){return n(this,"blink","","")}})},51643:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("bold")},{bold:function(){return n(this,"b","","")}})},86081:(e,t,i)=>{"use strict";var r=i(30498),n=i(25602).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return n(this,e)}})},4613:(e,t,i)=>{"use strict";var r,n=i(30498),a=i(19160),s=i(88865).f,o=i(99286),l=i(89411),d=i(29225),u=i(47853),c=i(70962),h=i(5354),p=a("".endsWith),v=a("".slice),f=Math.min,g=c("endsWith");n({target:"String",proto:!0,forced:!!(h||g||(r=s(String.prototype,"endsWith"),!r||r.writable))&&!g},{endsWith:function(e){var t=l(u(this));d(e);var i=arguments.length>1?arguments[1]:void 0,r=t.length,n=void 0===i?r:f(o(i),r),a=l(e);return p?p(t,a,n):v(t,n-a.length,n)===a}})},47934:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("fixed")},{fixed:function(){return n(this,"tt","","")}})},36728:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("fontcolor")},{fontcolor:function(e){return n(this,"font","color",e)}})},85125:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("fontsize")},{fontsize:function(e){return n(this,"font","size",e)}})},31731:(e,t,i)=>{var r=i(30498),n=i(19160),a=i(54226),s=RangeError,o=String.fromCharCode,l=String.fromCodePoint,d=n([].join);r({target:"String",stat:!0,arity:1,forced:!!l&&1!=l.length},{fromCodePoint:function(e){for(var t,i=[],r=arguments.length,n=0;r>n;){if(t=+arguments[n++],a(t,1114111)!==t)throw s(t+" is not a valid code point");i[n]=t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320)}return d(i,"")}})},54428:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(29225),s=i(47853),o=i(89411),l=i(70962),d=n("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~d(o(s(this)),o(a(e)),arguments.length>1?arguments[1]:void 0)}})},14261:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("italics")},{italics:function(){return n(this,"i","","")}})},24793:(e,t,i)=>{"use strict";var r=i(25602).charAt,n=i(89411),a=i(78830),s=i(82976),o=i(77910),l="String Iterator",d=a.set,u=a.getterFor(l);s(String,"String",(function(e){d(this,{type:l,string:n(e),index:0})}),(function(){var e,t=u(this),i=t.string,n=t.index;return n>=i.length?o(void 0,!0):(e=r(i,n),t.index+=e.length,o(e,!1))}))},86697:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("link")},{link:function(e){return n(this,"a","href",e)}})},47966:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(19160),s=i(69788),o=i(77910),l=i(47853),d=i(99286),u=i(89411),c=i(69143),h=i(31637),p=i(52093),v=i(88884),f=i(78554),g=i(18392),m=i(56539),y=i(74693),b=i(81568),E=i(13039),S=i(67488),w=i(91463),A=i(78830),C=i(5354),I=b("matchAll"),T="RegExp String",L=T+" Iterator",_=A.set,P=A.getterFor(L),k=RegExp.prototype,x=TypeError,R=a("".indexOf),O=a("".matchAll),D=!!O&&!y((function(){O("a",/./)})),M=s((function(e,t,i,r){_(this,{type:L,regexp:e,string:t,global:i,unicode:r,done:!1})}),T,(function(){var e=P(this);if(e.done)return o(void 0,!0);var t=e.regexp,i=e.string,r=w(t,i);return null===r?(e.done=!0,o(void 0,!0)):e.global?(""===u(r[0])&&(t.lastIndex=S(i,d(t.lastIndex),e.unicode)),o(r,!1)):(e.done=!0,o(r,!1))})),N=function(e){var t,i,r,n=c(this),a=u(e),s=E(n,RegExp),o=u(f(n));return t=new s(s===RegExp?n.source:n,o),i=!!~R(o,"g"),r=!!~R(o,"u"),t.lastIndex=d(n.lastIndex),new M(t,a,i,r)};r({target:"String",proto:!0,forced:D},{matchAll:function(e){var t,i,r,a,s=l(this);if(h(e)){if(D)return O(s,e)}else{if(v(e)&&(t=u(l(f(e))),!~R(t,"g")))throw x("`.matchAll` does not allow non-global regexes");if(D)return O(s,e);if(void 0===(r=g(e,I))&&C&&"RegExp"==p(e)&&(r=N),r)return n(r,e,s)}return i=u(s),a=new RegExp(e,"g"),C?n(N,a,i):a[I](i)}}),C||I in k||m(k,I,N)},66393:(e,t,i)=>{"use strict";var r=i(89780),n=i(88497),a=i(69143),s=i(31637),o=i(99286),l=i(89411),d=i(47853),u=i(18392),c=i(67488),h=i(91463);n("match",(function(e,t,i){return[function(t){var i=d(this),n=s(t)?void 0:u(t,e);return n?r(n,t,i):new RegExp(t)[e](l(i))},function(e){var r=a(this),n=l(e),s=i(t,r,n);if(s.done)return s.value;if(!r.global)return h(r,n);var d=r.unicode;r.lastIndex=0;for(var u,p=[],v=0;null!==(u=h(r,n));){var f=l(u[0]);p[v]=f,""===f&&(r.lastIndex=c(n,o(r.lastIndex),d)),v++}return 0===v?null:p}]}))},70131:(e,t,i)=>{"use strict";var r=i(30498),n=i(23538).end;r({target:"String",proto:!0,forced:i(47549)},{padEnd:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},48423:(e,t,i)=>{"use strict";var r=i(30498),n=i(23538).start;r({target:"String",proto:!0,forced:i(47549)},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},69154:(e,t,i)=>{var r=i(30498),n=i(19160),a=i(2659),s=i(37204),o=i(89411),l=i(62864),d=n([].push),u=n([].join);r({target:"String",stat:!0},{raw:function(e){for(var t=a(s(e).raw),i=l(t),r=arguments.length,n=[],c=0;i>c;){if(d(n,o(t[c++])),c===i)return u(n,"");c<r&&d(n,o(arguments[c]))}}})},15258:(e,t,i)=>{i(30498)({target:"String",proto:!0},{repeat:i(77927)})},89302:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780),a=i(19160),s=i(47853),o=i(29298),l=i(31637),d=i(88884),u=i(89411),c=i(18392),h=i(78554),p=i(43397),v=i(81568),f=i(5354),g=v("replace"),m=TypeError,y=a("".indexOf),b=a("".replace),E=a("".slice),S=Math.max,w=function(e,t,i){return i>e.length?-1:""===t?i:y(e,t,i)};r({target:"String",proto:!0},{replaceAll:function(e,t){var i,r,a,v,A,C,I,T,L,_=s(this),P=0,k=0,x="";if(!l(e)){if((i=d(e))&&(r=u(s(h(e))),!~y(r,"g")))throw m("`.replaceAll` does not allow non-global regexes");if(a=c(e,g))return n(a,e,_,t);if(f&&i)return b(u(_),e,t)}for(v=u(_),A=u(e),(C=o(t))||(t=u(t)),I=A.length,T=S(1,I),P=w(v,A,0);-1!==P;)L=C?u(t(A,P,v)):p(A,v,P,[],void 0,t),x+=E(v,k,P)+L,k=P+I,P=w(v,A,P+T);return k<v.length&&(x+=E(v,k)),x}})},16565:(e,t,i)=>{"use strict";var r=i(65972),n=i(89780),a=i(19160),s=i(88497),o=i(74693),l=i(69143),d=i(29298),u=i(31637),c=i(23840),h=i(99286),p=i(89411),v=i(47853),f=i(67488),g=i(18392),m=i(43397),y=i(91463),b=i(81568)("replace"),E=Math.max,S=Math.min,w=a([].concat),A=a([].push),C=a("".indexOf),I=a("".slice),T="$0"==="a".replace(/./,"$0"),L=!!/./[b]&&""===/./[b]("a","$0");s("replace",(function(e,t,i){var a=L?"$":"$0";return[function(e,i){var r=v(this),a=u(e)?void 0:g(e,b);return a?n(a,e,r,i):n(t,p(r),e,i)},function(e,n){var s=l(this),o=p(e);if("string"==typeof n&&-1===C(n,a)&&-1===C(n,"$<")){var u=i(t,s,o,n);if(u.done)return u.value}var v=d(n);v||(n=p(n));var g=s.global;if(g){var b=s.unicode;s.lastIndex=0}for(var T=[];;){var L=y(s,o);if(null===L)break;if(A(T,L),!g)break;""===p(L[0])&&(s.lastIndex=f(o,h(s.lastIndex),b))}for(var _,P="",k=0,x=0;x<T.length;x++){for(var R=p((L=T[x])[0]),O=E(S(c(L.index),o.length),0),D=[],M=1;M<L.length;M++)A(D,void 0===(_=L[M])?_:String(_));var N=L.groups;if(v){var V=w([R],D,O,o);void 0!==N&&A(V,N);var U=p(r(n,void 0,V))}else U=m(R,o,O,D,N,n);O>=k&&(P+=I(o,k,O)+U,k=O+R.length)}return P+I(o,k)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||L)},26831:(e,t,i)=>{"use strict";var r=i(89780),n=i(88497),a=i(69143),s=i(31637),o=i(47853),l=i(24751),d=i(89411),u=i(18392),c=i(91463);n("search",(function(e,t,i){return[function(t){var i=o(this),n=s(t)?void 0:u(t,e);return n?r(n,t,i):new RegExp(t)[e](d(i))},function(e){var r=a(this),n=d(e),s=i(t,r,n);if(s.done)return s.value;var o=r.lastIndex;l(o,0)||(r.lastIndex=0);var u=c(r,n);return l(r.lastIndex,o)||(r.lastIndex=o),null===u?-1:u.index}]}))},72713:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("small")},{small:function(){return n(this,"small","","")}})},9222:(e,t,i)=>{"use strict";var r=i(65972),n=i(89780),a=i(19160),s=i(88497),o=i(69143),l=i(31637),d=i(88884),u=i(47853),c=i(13039),h=i(67488),p=i(99286),v=i(89411),f=i(18392),g=i(63432),m=i(91463),y=i(8060),b=i(33271),E=i(74693),S=b.UNSUPPORTED_Y,w=4294967295,A=Math.min,C=[].push,I=a(/./.exec),T=a(C),L=a("".slice);s("split",(function(e,t,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var a=v(u(this)),s=void 0===i?w:i>>>0;if(0===s)return[];if(void 0===e)return[a];if(!d(e))return n(t,a,e,s);for(var o,l,c,h=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,p+"g");(o=n(y,m,a))&&!((l=m.lastIndex)>f&&(T(h,L(a,f,o.index)),o.length>1&&o.index<a.length&&r(C,h,g(o,1)),c=o[0].length,f=l,h.length>=s));)m.lastIndex===o.index&&m.lastIndex++;return f===a.length?!c&&I(m,"")||T(h,""):T(h,L(a,f)),h.length>s?g(h,0,s):h}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:n(t,this,e,i)}:t,[function(t,i){var r=u(this),s=l(t)?void 0:f(t,e);return s?n(s,t,r,i):n(a,v(r),t,i)},function(e,r){var n=o(this),s=v(e),l=i(a,n,s,r,a!==t);if(l.done)return l.value;var d=c(n,RegExp),u=n.unicode,f=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(S?"g":"y"),g=new d(S?"^(?:"+n.source+")":n,f),y=void 0===r?w:r>>>0;if(0===y)return[];if(0===s.length)return null===m(g,s)?[s]:[];for(var b=0,E=0,C=[];E<s.length;){g.lastIndex=S?0:E;var I,_=m(g,S?L(s,E):s);if(null===_||(I=A(p(g.lastIndex+(S?E:0)),s.length))===b)E=h(s,E,u);else{if(T(C,L(s,b,E)),C.length===y)return C;for(var P=1;P<=_.length-1;P++)if(T(C,_[P]),C.length===y)return C;E=b=I}}return T(C,L(s,b)),C}]}),!!E((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),S)},8559:(e,t,i)=>{"use strict";var r,n=i(30498),a=i(19160),s=i(88865).f,o=i(99286),l=i(89411),d=i(29225),u=i(47853),c=i(70962),h=i(5354),p=a("".startsWith),v=a("".slice),f=Math.min,g=c("startsWith");n({target:"String",proto:!0,forced:!!(h||g||(r=s(String.prototype,"startsWith"),!r||r.writable))&&!g},{startsWith:function(e){var t=l(u(this));d(e);var i=o(f(arguments.length>1?arguments[1]:void 0,t.length)),r=l(e);return p?p(t,r,i):v(t,i,i+r.length)===r}})},11274:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("strike")},{strike:function(){return n(this,"strike","","")}})},95581:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("sub")},{sub:function(){return n(this,"sub","","")}})},52773:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(47853),s=i(23840),o=i(89411),l=n("".slice),d=Math.max,u=Math.min;r({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var i,r,n=o(a(this)),c=n.length,h=s(e);return h===1/0&&(h=0),h<0&&(h=d(c+h,0)),(i=void 0===t?c:s(t))<=0||i===1/0||h>=(r=u(h+i,c))?"":l(n,h,r)}})},19064:(e,t,i)=>{"use strict";var r=i(30498),n=i(85819);r({target:"String",proto:!0,forced:i(37627)("sup")},{sup:function(){return n(this,"sup","","")}})},14939:(e,t,i)=>{i(91653);var r=i(30498),n=i(69633);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==n},{trimEnd:n})},70681:(e,t,i)=>{var r=i(30498),n=i(54719);r({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==n},{trimLeft:n})},91653:(e,t,i)=>{var r=i(30498),n=i(69633);r({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==n},{trimRight:n})},18940:(e,t,i)=>{i(70681);var r=i(30498),n=i(54719);r({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==n},{trimStart:n})},14288:(e,t,i)=>{"use strict";var r=i(30498),n=i(53268).trim;r({target:"String",proto:!0,forced:i(63830)("trim")},{trim:function(){return n(this)}})},75426:(e,t,i)=>{i(62134)("asyncIterator")},92625:(e,t,i)=>{"use strict";var r=i(30498),n=i(37368),a=i(89780),s=i(19160),o=i(5354),l=i(11314),d=i(51845),u=i(74693),c=i(52702),h=i(10025),p=i(69143),v=i(2659),f=i(69042),g=i(89411),m=i(1685),y=i(33550),b=i(61947),E=i(28011),S=i(69061),w=i(42454),A=i(88865),C=i(3290),I=i(60351),T=i(69917),L=i(56539),_=i(66523),P=i(38225),k=i(97735),x=i(63989),R=i(81568),O=i(56492),D=i(62134),M=i(69198),N=i(41479),V=i(78830),U=i(27736).forEach,B=P("hidden"),F="Symbol",H="prototype",j=V.set,G=V.getterFor(F),W=Object[H],q=n.Symbol,K=q&&q[H],z=n.TypeError,J=n.QObject,Y=A.f,$=C.f,Q=S.f,X=T.f,Z=s([].push),ee=_("symbols"),te=_("op-symbols"),ie=_("wks"),re=!J||!J[H]||!J[H].findChild,ne=l&&u((function(){return 7!=y($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,i){var r=Y(W,t);r&&delete W[t],$(e,t,i),r&&e!==W&&$(W,t,r)}:$,ae=function(e,t){var i=ee[e]=y(K);return j(i,{type:F,tag:e,description:t}),l||(i.description=t),i},se=function(e,t,i){e===W&&se(te,t,i),p(e);var r=f(t);return p(i),c(ee,r)?(i.enumerable?(c(e,B)&&e[B][r]&&(e[B][r]=!1),i=y(i,{enumerable:m(0,!1)})):(c(e,B)||$(e,B,m(1,{})),e[B][r]=!0),ne(e,r,i)):$(e,r,i)},oe=function(e,t){p(e);var i=v(t),r=b(i).concat(ce(i));return U(r,(function(t){l&&!a(le,i,t)||se(e,t,i[t])})),e},le=function(e){var t=f(e),i=a(X,this,t);return!(this===W&&c(ee,t)&&!c(te,t))&&(!(i||!c(this,t)||!c(ee,t)||c(this,B)&&this[B][t])||i)},de=function(e,t){var i=v(e),r=f(t);if(i!==W||!c(ee,r)||c(te,r)){var n=Y(i,r);return!n||!c(ee,r)||c(i,B)&&i[B][r]||(n.enumerable=!0),n}},ue=function(e){var t=Q(v(e)),i=[];return U(t,(function(e){c(ee,e)||c(k,e)||Z(i,e)})),i},ce=function(e){var t=e===W,i=Q(t?te:v(e)),r=[];return U(i,(function(e){!c(ee,e)||t&&!c(W,e)||Z(r,ee[e])})),r};d||(L(K=(q=function(){if(h(K,this))throw z("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=x(e),i=function(e){this===W&&a(i,te,e),c(this,B)&&c(this[B],t)&&(this[B][t]=!1),ne(this,t,m(1,e))};return l&&re&&ne(W,t,{configurable:!0,set:i}),ae(t,e)})[H],"toString",(function(){return G(this).tag})),L(q,"withoutSetter",(function(e){return ae(x(e),e)})),T.f=le,C.f=se,I.f=oe,A.f=de,E.f=S.f=ue,w.f=ce,O.f=function(e){return ae(R(e),e)},l&&($(K,"description",{configurable:!0,get:function(){return G(this).description}}),o||L(W,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:q}),U(b(ie),(function(e){D(e)})),r({target:F,stat:!0,forced:!d},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!d,sham:!l},{create:function(e,t){return void 0===t?y(e):oe(y(e),t)},defineProperty:se,defineProperties:oe,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:ue}),M(),N(q,F),k[B]=!0},61379:(e,t,i)=>{"use strict";var r=i(30498),n=i(11314),a=i(37368),s=i(19160),o=i(52702),l=i(29298),d=i(10025),u=i(89411),c=i(3290).f,h=i(36116),p=a.Symbol,v=p&&p.prototype;if(n&&l(p)&&(!("description"in v)||void 0!==p().description)){var f={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=d(v,this)?new p(e):void 0===e?p():p(e);return""===e&&(f[t]=!0),t};h(g,p),g.prototype=v,v.constructor=g;var m="Symbol(test)"==String(p("test")),y=s(v.valueOf),b=s(v.toString),E=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),w=s("".slice);c(v,"description",{configurable:!0,get:function(){var e=y(this);if(o(f,e))return"";var t=b(e),i=m?w(t,7,-1):S(t,E,"$1");return""===i?void 0:i}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},45205:(e,t,i)=>{var r=i(30498),n=i(54274),a=i(52702),s=i(89411),o=i(66523),l=i(88065),d=o("string-to-symbol-registry"),u=o("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=s(e);if(a(d,t))return d[t];var i=n("Symbol")(t);return d[t]=i,u[i]=t,i}})},84416:(e,t,i)=>{i(62134)("hasInstance")},61240:(e,t,i)=>{i(62134)("isConcatSpreadable")},19576:(e,t,i)=>{i(62134)("iterator")},9511:(e,t,i)=>{i(92625),i(45205),i(31788),i(1470),i(12229)},31788:(e,t,i)=>{var r=i(30498),n=i(52702),a=i(46447),s=i(47078),o=i(66523),l=i(88065),d=o("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!a(e))throw TypeError(s(e)+" is not a symbol");if(n(d,e))return d[e]}})},9610:(e,t,i)=>{i(62134)("matchAll")},84300:(e,t,i)=>{i(62134)("match")},45293:(e,t,i)=>{i(62134)("replace")},2913:(e,t,i)=>{i(62134)("search")},15379:(e,t,i)=>{i(62134)("species")},76511:(e,t,i)=>{i(62134)("split")},76062:(e,t,i)=>{var r=i(62134),n=i(69198);r("toPrimitive"),n()},62690:(e,t,i)=>{var r=i(54274),n=i(62134),a=i(41479);n("toStringTag"),a(r("Symbol"),"Symbol")},77301:(e,t,i)=>{i(62134)("unscopables")},58957:(e,t,i)=>{"use strict";var r=i(10483),n=i(62864),a=i(23840),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=s(this),i=n(t),r=a(e),o=r>=0?r:i+r;return o<0||o>=i?void 0:t[o]}))},7286:(e,t,i)=>{"use strict";var r=i(19160),n=i(10483),a=r(i(24630)),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(s(this),e,t,arguments.length>2?arguments[2]:void 0)}))},95841:(e,t,i)=>{"use strict";var r=i(10483),n=i(27736).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},62092:(e,t,i)=>{"use strict";var r=i(10483),n=i(67800),a=i(96992),s=i(12956),o=i(89780),l=i(19160),d=i(74693),u=r.aTypedArray,c=r.exportTypedArrayMethod,h=l("".slice);c("fill",(function(e){var t=arguments.length;u(this);var i="Big"===h(s(this),0,3)?a(e):+e;return o(n,this,i,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),d((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},73330:(e,t,i)=>{"use strict";var r=i(10483),n=i(27736).filter,a=i(46142),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=n(s(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},90145:(e,t,i)=>{"use strict";var r=i(10483),n=i(27736).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},8537:(e,t,i)=>{"use strict";var r=i(10483),n=i(16452).findLastIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},22194:(e,t,i)=>{"use strict";var r=i(10483),n=i(16452).findLast,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},83896:(e,t,i)=>{"use strict";var r=i(10483),n=i(27736).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},56056:(e,t,i)=>{i(78693)("Float32",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},86842:(e,t,i)=>{i(78693)("Float64",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},61256:(e,t,i)=>{"use strict";var r=i(10483),n=i(27736).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},79063:(e,t,i)=>{"use strict";var r=i(52705);(0,i(10483).exportTypedArrayStaticMethod)("from",i(91973),r)},86802:(e,t,i)=>{"use strict";var r=i(10483),n=i(67677).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},35718:(e,t,i)=>{"use strict";var r=i(10483),n=i(67677).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},27587:(e,t,i)=>{i(78693)("Int16",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},27586:(e,t,i)=>{i(78693)("Int32",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},43119:(e,t,i)=>{i(78693)("Int8",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},32186:(e,t,i)=>{"use strict";var r=i(37368),n=i(74693),a=i(19160),s=i(10483),o=i(51657),l=i(81568)("iterator"),d=r.Uint8Array,u=a(o.values),c=a(o.keys),h=a(o.entries),p=s.aTypedArray,v=s.exportTypedArrayMethod,f=d&&d.prototype,g=!n((function(){f[l].call([1])})),m=!!f&&f.values&&f[l]===f.values&&"values"===f.values.name,y=function(){return u(p(this))};v("entries",(function(){return h(p(this))}),g),v("keys",(function(){return c(p(this))}),g),v("values",y,g||!m,{name:"values"}),v(l,y,g||!m,{name:"values"})},57560:(e,t,i)=>{"use strict";var r=i(10483),n=i(19160),a=r.aTypedArray,s=r.exportTypedArrayMethod,o=n([].join);s("join",(function(e){return o(a(this),e)}))},75632:(e,t,i)=>{"use strict";var r=i(10483),n=i(65972),a=i(7548),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return n(a,s(this),t>1?[e,arguments[1]]:[e])}))},50838:(e,t,i)=>{"use strict";var r=i(10483),n=i(27736).map,a=i(38728),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return n(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},94423:(e,t,i)=>{"use strict";var r=i(10483),n=i(52705),a=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,i=new(a(this))(t);t>e;)i[e]=arguments[e++];return i}),n)},36057:(e,t,i)=>{"use strict";var r=i(10483),n=i(50395).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return n(a(this),e,t,t>1?arguments[1]:void 0)}))},18083:(e,t,i)=>{"use strict";var r=i(10483),n=i(50395).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return n(a(this),e,t,t>1?arguments[1]:void 0)}))},58845:(e,t,i)=>{"use strict";var r=i(10483),n=r.aTypedArray,a=r.exportTypedArrayMethod,s=Math.floor;a("reverse",(function(){for(var e,t=this,i=n(t).length,r=s(i/2),a=0;a<r;)e=t[a],t[a++]=t[--i],t[i]=e;return t}))},34651:(e,t,i)=>{"use strict";var r=i(37368),n=i(89780),a=i(10483),s=i(62864),o=i(22485),l=i(37204),d=i(74693),u=r.RangeError,c=r.Int8Array,h=c&&c.prototype,p=h&&h.set,v=a.aTypedArray,f=a.exportTypedArrayMethod,g=!d((function(){var e=new Uint8ClampedArray(2);return n(p,e,{length:1,0:3},1),3!==e[1]})),m=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var e=new c(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));f("set",(function(e){v(this);var t=o(arguments.length>1?arguments[1]:void 0,1),i=l(e);if(g)return n(p,this,i,t);var r=this.length,a=s(i),d=0;if(a+t>r)throw u("Wrong length");for(;d<a;)this[t+d]=i[d++]}),!g||m)},87388:(e,t,i)=>{"use strict";var r=i(10483),n=i(38728),a=i(74693),s=i(32222),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var i=s(o(this),e,t),r=n(this),a=0,l=i.length,d=new r(l);l>a;)d[a]=i[a++];return d}),a((function(){new Int8Array(1).slice()})))},52856:(e,t,i)=>{"use strict";var r=i(10483),n=i(27736).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return n(a(this),e,arguments.length>1?arguments[1]:void 0)}))},94702:(e,t,i)=>{"use strict";var r=i(37368),n=i(19160),a=i(74693),s=i(33978),o=i(21210),l=i(10483),d=i(72004),u=i(11456),c=i(33480),h=i(89556),p=l.aTypedArray,v=l.exportTypedArrayMethod,f=r.Uint16Array,g=f&&n(f.prototype.sort),m=!(!g||a((function(){g(new f(2),null)}))&&a((function(){g(new f(2),{})}))),y=!!g&&!a((function(){if(c)return c<74;if(d)return d<67;if(u)return!0;if(h)return h<602;var e,t,i=new f(516),r=Array(516);for(e=0;e<516;e++)t=e%4,i[e]=515-e,r[e]=e-2*t+3;for(g(i,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(i[e]!==r[e])return!0}));v("sort",(function(e){return void 0!==e&&s(e),y?g(this,e):o(p(this),function(e){return function(t,i){return void 0!==e?+e(t,i)||0:i!=i?-1:t!=t?1:0===t&&0===i?1/t>0&&1/i<0?1:-1:t>i}}(e))}),!y||m)},373:(e,t,i)=>{"use strict";var r=i(10483),n=i(99286),a=i(54226),s=i(38728),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var i=o(this),r=i.length,l=a(e,r);return new(s(i))(i.buffer,i.byteOffset+l*i.BYTES_PER_ELEMENT,n((void 0===t?r:a(t,r))-l))}))},23298:(e,t,i)=>{"use strict";var r=i(37368),n=i(65972),a=i(10483),s=i(74693),o=i(32222),l=r.Int8Array,d=a.aTypedArray,u=a.exportTypedArrayMethod,c=[].toLocaleString,h=!!l&&s((function(){c.call(new l(1))}));u("toLocaleString",(function(){return n(c,h?o(d(this)):d(this),o(arguments))}),s((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!s((function(){l.prototype.toLocaleString.call([1,2])})))},57840:(e,t,i)=>{"use strict";var r=i(10483).exportTypedArrayMethod,n=i(74693),a=i(37368),s=i(19160),o=a.Uint8Array,l=o&&o.prototype||{},d=[].toString,u=s([].join);n((function(){d.call({})}))&&(d=function(){return u(this)});var c=l.toString!=d;r("toString",d,c)},90470:(e,t,i)=>{i(78693)("Uint16",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},53764:(e,t,i)=>{i(78693)("Uint32",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},37273:(e,t,i)=>{i(78693)("Uint8",(function(e){return function(t,i,r){return e(this,t,i,r)}}))},80206:(e,t,i)=>{i(78693)("Uint8",(function(e){return function(t,i,r){return e(this,t,i,r)}}),!0)},79254:(e,t,i)=>{"use strict";var r=i(30498),n=i(19160),a=i(89411),s=String.fromCharCode,o=n("".charAt),l=n(/./.exec),d=n("".slice),u=/^[\da-f]{2}$/i,c=/^[\da-f]{4}$/i;r({global:!0},{unescape:function(e){for(var t,i,r=a(e),n="",h=r.length,p=0;p<h;){if("%"===(t=o(r,p++)))if("u"===o(r,p)){if(i=d(r,p+1,p+5),l(c,i)){n+=s(parseInt(i,16)),p+=5;continue}}else if(i=d(r,p,p+2),l(u,i)){n+=s(parseInt(i,16)),p+=2;continue}n+=t}return n}})},4480:(e,t,i)=>{"use strict";var r,n=i(37368),a=i(19160),s=i(42898),o=i(14050),l=i(87646),d=i(85645),u=i(25623),c=i(81998),h=i(78830).enforce,p=i(22257),v=!n.ActiveXObject&&"ActiveXObject"in n,f=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=l("WeakMap",f,d);if(p&&v){r=d.getConstructor(f,"WeakMap",!0),o.enable();var m=g.prototype,y=a(m.delete),b=a(m.has),E=a(m.get),S=a(m.set);s(m,{delete:function(e){if(u(e)&&!c(e)){var t=h(this);return t.frozen||(t.frozen=new r),y(this,e)||t.frozen.delete(e)}return y(this,e)},has:function(e){if(u(e)&&!c(e)){var t=h(this);return t.frozen||(t.frozen=new r),b(this,e)||t.frozen.has(e)}return b(this,e)},get:function(e){if(u(e)&&!c(e)){var t=h(this);return t.frozen||(t.frozen=new r),b(this,e)?E(this,e):t.frozen.get(e)}return E(this,e)},set:function(e,t){if(u(e)&&!c(e)){var i=h(this);i.frozen||(i.frozen=new r),b(this,e)?S(this,e,t):i.frozen.set(e,t)}else S(this,e,t);return this}})}},51113:(e,t,i)=>{i(4480)},40567:(e,t,i)=>{"use strict";i(87646)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i(85645))},77815:(e,t,i)=>{i(40567)},69328:(e,t,i)=>{var r=i(30498),n=i(54274),a=i(19160),s=i(74693),o=i(89411),l=i(52702),d=i(73020),u=i(82435).ctoi,c=/[^\d+/a-z]/i,h=/[\t\n\f\r ]+/g,p=/[=]+$/,v=n("atob"),f=String.fromCharCode,g=a("".charAt),m=a("".replace),y=a(c.exec),b=s((function(){return""!==v(" ")})),E=!s((function(){v("a")})),S=!b&&!E&&!s((function(){v()})),w=!b&&!E&&1!==v.length;r({global:!0,enumerable:!0,forced:b||E||S||w},{atob:function(e){if(d(arguments.length,1),S||w)return v(e);var t,i,r=m(o(e),h,""),a="",s=0,b=0;if(r.length%4==0&&(r=m(r,p,"")),r.length%4==1||y(c,r))throw new(n("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;t=g(r,s++);)l(u,t)&&(i=b%4?64*i+u[t]:u[t],b++%4&&(a+=f(255&i>>(-2*b&6))));return a}})},11266:(e,t,i)=>{var r=i(30498),n=i(54274),a=i(19160),s=i(74693),o=i(89411),l=i(73020),d=i(82435).itoc,u=n("btoa"),c=a("".charAt),h=a("".charCodeAt),p=!!u&&!s((function(){u()})),v=!!u&&s((function(){return"bnVsbA=="!==u(null)})),f=!!u&&1!==u.length;r({global:!0,enumerable:!0,forced:p||v||f},{btoa:function(e){if(l(arguments.length,1),p||v||f)return u(o(e));for(var t,i,r=o(e),a="",s=0,g=d;c(r,s)||(g="=",s%1);){if((i=h(r,s+=3/4))>255)throw new(n("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");a+=c(g,63&(t=t<<8|i)>>8-s%1*8)}return a}})},49104:(e,t,i)=>{var r=i(30498),n=i(37368),a=i(28758).clear;r({global:!0,bind:!0,enumerable:!0,forced:n.clearImmediate!==a},{clearImmediate:a})},26849:(e,t,i)=>{var r=i(37368),n=i(87691),a=i(6023),s=i(47775),o=i(30459),l=function(e){if(e&&e.forEach!==s)try{o(e,"forEach",s)}catch(t){e.forEach=s}};for(var d in n)n[d]&&l(r[d]&&r[d].prototype);l(a)},81113:(e,t,i)=>{var r=i(37368),n=i(87691),a=i(6023),s=i(51657),o=i(30459),l=i(81568),d=l("iterator"),u=l("toStringTag"),c=s.values,h=function(e,t){if(e){if(e[d]!==c)try{o(e,d,c)}catch(t){e[d]=c}if(e[u]||o(e,u,t),n[t])for(var i in s)if(e[i]!==s[i])try{o(e,i,s[i])}catch(t){e[i]=s[i]}}};for(var p in n)h(r[p]&&r[p].prototype,p);h(a,"DOMTokenList")},31997:(e,t,i)=>{"use strict";var r=i(30498),n=i(49620),a=i(54274),s=i(74693),o=i(33550),l=i(1685),d=i(3290).f,u=i(56539),c=i(39183),h=i(52702),p=i(48860),v=i(69143),f=i(39281),g=i(45359),m=i(86440),y=i(71951),b=i(78830),E=i(11314),S=i(5354),w="DOMException",A="DATA_CLONE_ERR",C=a("Error"),I=a(w)||function(){try{(new(a("MessageChannel")||n("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if(e.name==A&&25==e.code)return e.constructor}}(),T=I&&I.prototype,L=C.prototype,_=b.set,P=b.getterFor(w),k="stack"in C(w),x=function(e){return h(m,e)&&m[e].m?m[e].c:0},R=function(){p(this,O);var e=arguments.length,t=g(e<1?void 0:arguments[0]),i=g(e<2?void 0:arguments[1],"Error"),r=x(i);if(_(this,{type:w,name:i,message:t,code:r}),E||(this.name=i,this.message=t,this.code=r),k){var n=C(t);n.name=w,d(this,"stack",l(1,y(n.stack,1)))}},O=R.prototype=o(L),D=function(e){return{enumerable:!0,configurable:!0,get:e}},M=function(e){return D((function(){return P(this)[e]}))};E&&(c(O,"code",M("code")),c(O,"message",M("message")),c(O,"name",M("name"))),d(O,"constructor",l(1,R));var N=s((function(){return!(new I instanceof C)})),V=N||s((function(){return L.toString!==f||"2: 1"!==String(new I(1,2))})),U=N||s((function(){return 25!==new I(1,"DataCloneError").code})),B=N||25!==I[A]||25!==T[A],F=S?V||U||B:N;r({global:!0,constructor:!0,forced:F},{DOMException:F?R:I});var H=a(w),j=H.prototype;for(var G in V&&(S||I===H)&&u(j,"toString",f),U&&E&&I===H&&c(j,"code",D((function(){return x(v(this).name)}))),m)if(h(m,G)){var W=m[G],q=W.s,K=l(6,W.c);h(H,q)||d(H,q,K),h(j,q)||d(j,q,K)}},74044:(e,t,i)=>{"use strict";var r=i(30498),n=i(37368),a=i(54274),s=i(1685),o=i(3290).f,l=i(52702),d=i(48860),u=i(48590),c=i(45359),h=i(86440),p=i(71951),v=i(11314),f=i(5354),g="DOMException",m=a("Error"),y=a(g),b=function(){d(this,E);var e=arguments.length,t=c(e<1?void 0:arguments[0]),i=c(e<2?void 0:arguments[1],"Error"),r=new y(t,i),n=m(t);return n.name=g,o(r,"stack",s(1,p(n.stack,1))),u(r,this,b),r},E=b.prototype=y.prototype,S="stack"in m(g),w="stack"in new y(1,2),A=y&&v&&Object.getOwnPropertyDescriptor(n,g),C=!(!A||A.writable&&A.configurable),I=S&&!C&&!w;r({global:!0,constructor:!0,forced:f||I},{DOMException:I?b:y});var T=a(g),L=T.prototype;if(L.constructor!==T)for(var _ in f||o(L,"constructor",s(1,T)),h)if(l(h,_)){var P=h[_],k=P.s;l(T,k)||o(T,k,s(6,P.c))}},24300:(e,t,i)=>{var r=i(54274),n="DOMException";i(41479)(r(n),n)},977:(e,t,i)=>{i(49104),i(68083)},74495:(e,t,i)=>{var r=i(30498),n=i(37368),a=i(77309),s=i(33978),o=i(73020),l=i(47018),d=n.process;r({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){o(arguments.length,1),s(e);var t=l&&d.domain;a(t?t.bind(e):e)}})},68083:(e,t,i)=>{var r=i(30498),n=i(37368),a=i(28758).set;r({global:!0,bind:!0,enumerable:!0,forced:n.setImmediate!==a},{setImmediate:a})},43482:(e,t,i)=>{var r=i(30498),n=i(37368),a=i(25064).setInterval;r({global:!0,bind:!0,forced:n.setInterval!==a},{setInterval:a})},14284:(e,t,i)=>{var r=i(30498),n=i(37368),a=i(25064).setTimeout;r({global:!0,bind:!0,forced:n.setTimeout!==a},{setTimeout:a})},19336:(e,t,i)=>{var r,n=i(5354),a=i(30498),s=i(37368),o=i(54274),l=i(19160),d=i(74693),u=i(63989),c=i(29298),h=i(90187),p=i(31637),v=i(25623),f=i(46447),g=i(66423),m=i(69143),y=i(12956),b=i(52702),E=i(15493),S=i(30459),w=i(62864),A=i(73020),C=i(78554),I=i(58723),T=i(33480),L=i(57204),_=i(24013),P=i(47018),k=s.Object,x=s.Date,R=s.Error,O=s.EvalError,D=s.RangeError,M=s.ReferenceError,N=s.SyntaxError,V=s.TypeError,U=s.URIError,B=s.PerformanceMark,F=s.WebAssembly,H=F&&F.CompileError||R,j=F&&F.LinkError||R,G=F&&F.RuntimeError||R,W=o("DOMException"),q=o("Set"),K=o("Map"),z=K.prototype,J=l(z.has),Y=l(z.get),$=l(z.set),Q=l(q.prototype.add),X=o("Object","keys"),Z=l([].push),ee=l((!0).valueOf),te=l(1..valueOf),ie=l("".valueOf),re=l(x.prototype.getTime),ne=u("structuredClone"),ae="DataCloneError",se="Transferring",oe=function(e){return!d((function(){var t=new s.Set([7]),i=e(t),r=e(k(7));return i==t||!i.has(7)||"object"!=typeof r||7!=r}))&&e},le=function(e,t){return!d((function(){var i=new t,r=e({a:i,b:i});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===i.stack)}))},de=s.structuredClone,ue=n||!le(de,R)||!le(de,W)||(r=de,!!d((function(){var e=r(new s.AggregateError([1],ne,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=ne||3!=e.cause}))),ce=!de&&oe((function(e){return new B(ne,{detail:e}).detail})),he=oe(de)||ce,pe=function(e){throw new W("Uncloneable type: "+e,ae)},ve=function(e,t){throw new W((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ae)},fe=function(e,t){if(f(e)&&pe("Symbol"),!v(e))return e;if(t){if(J(t,e))return Y(t,e)}else t=new K;var i,r,n,a,l,d,u,h,p,g,m=y(e),A=!1;switch(m){case"Array":n=[],A=!0;break;case"Object":n={},A=!0;break;case"Map":n=new K,A=!0;break;case"Set":n=new q,A=!0;break;case"RegExp":n=new RegExp(e.source,C(e));break;case"Error":switch(r=e.name){case"AggregateError":n=o("AggregateError")([]);break;case"EvalError":n=O();break;case"RangeError":n=D();break;case"ReferenceError":n=M();break;case"SyntaxError":n=N();break;case"TypeError":n=V();break;case"URIError":n=U();break;case"CompileError":n=H();break;case"LinkError":n=j();break;case"RuntimeError":n=G();break;default:n=R()}A=!0;break;case"DOMException":n=new W(e.message,e.name),A=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=s[m],v(i)||ve(m),n=new i(fe(e.buffer,t),e.byteOffset,"DataView"===m?e.byteLength:e.length);break;case"DOMQuad":try{n=new DOMQuad(fe(e.p1,t),fe(e.p2,t),fe(e.p3,t),fe(e.p4,t))}catch(t){he?n=he(e):ve(m)}break;case"FileList":if(a=function(){var e;try{e=new s.DataTransfer}catch(t){try{e=new s.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null}()){for(l=0,d=w(e);l<d;l++)a.items.add(fe(e[l],t));n=a.files}else he?n=he(e):ve(m);break;case"ImageData":try{n=new ImageData(fe(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){he?n=he(e):ve(m)}break;default:if(he)n=he(e);else switch(m){case"BigInt":n=k(e.valueOf());break;case"Boolean":n=k(ee(e));break;case"Number":n=k(te(e));break;case"String":n=k(ie(e));break;case"Date":n=new x(re(e));break;case"ArrayBuffer":(i=s.DataView)||"function"==typeof e.slice||ve(m);try{if("function"==typeof e.slice)n=e.slice(0);else for(d=e.byteLength,n=new ArrayBuffer(d),p=new i(e),g=new i(n),l=0;l<d;l++)g.setUint8(l,p.getUint8(l))}catch(e){throw new W("ArrayBuffer is detached",ae)}break;case"SharedArrayBuffer":n=e;break;case"Blob":try{n=e.slice(0,e.size,e.type)}catch(e){ve(m)}break;case"DOMPoint":case"DOMPointReadOnly":i=s[m];try{n=i.fromPoint?i.fromPoint(e):new i(e.x,e.y,e.z,e.w)}catch(e){ve(m)}break;case"DOMRect":case"DOMRectReadOnly":i=s[m];try{n=i.fromRect?i.fromRect(e):new i(e.x,e.y,e.width,e.height)}catch(e){ve(m)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=s[m];try{n=i.fromMatrix?i.fromMatrix(e):new i(e)}catch(e){ve(m)}break;case"AudioData":case"VideoFrame":c(e.clone)||ve(m);try{n=e.clone()}catch(e){pe(m)}break;case"File":try{n=new File([e],e.name,e)}catch(e){ve(m)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ve(m);default:pe(m)}}if($(t,e,n),A)switch(m){case"Array":case"Object":for(u=X(e),l=0,d=w(u);l<d;l++)h=u[l],E(n,h,fe(e[h],t));break;case"Map":e.forEach((function(e,i){$(n,fe(i,t),fe(e,t))}));break;case"Set":e.forEach((function(e){Q(n,fe(e,t))}));break;case"Error":S(n,"message",fe(e.message,t)),b(e,"cause")&&S(n,"cause",fe(e.cause,t)),"AggregateError"==r&&(n.errors=fe(e.errors,t));case"DOMException":I&&S(n,"stack",fe(e.stack,t))}return n},ge=de&&!d((function(){if(_&&T>92||P&&T>94||L&&T>97)return!1;var e=new ArrayBuffer(8),t=de(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength})),me=function(e,t){if(!v(e))throw V("Transfer option cannot be converted to a sequence");var i=[];g(e,(function(e){Z(i,m(e))}));var r,n,a,o,l,d,u=0,p=w(i);if(ge)for(o=de(i,{transfer:i});u<p;)$(t,i[u],o[u++]);else for(;u<p;){if(r=i[u++],J(t,r))throw new W("Duplicate transferable",ae);switch(n=y(r)){case"ImageBitmap":a=s.OffscreenCanvas,h(a)||ve(n,se);try{(d=new a(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),l=d.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":c(r.clone)&&c(r.close)||ve(n,se);try{l=r.clone(),r.close()}catch(e){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ve(n,se)}if(void 0===l)throw new W("This object cannot be transferred: "+n,ae);$(t,r,l)}};a({global:!0,enumerable:!0,sham:!ge,forced:ue},{structuredClone:function(e){var t,i=A(arguments.length,1)>1&&!p(arguments[1])?m(arguments[1]):void 0,r=i?i.transfer:void 0;return void 0!==r&&(t=new K,me(r,t)),fe(e,t)}})},15449:(e,t,i)=>{i(43482),i(14284)},98698:(e,t,i)=>{"use strict";i(51657);var r=i(30498),n=i(37368),a=i(89780),s=i(19160),o=i(11314),l=i(38095),d=i(56539),u=i(42898),c=i(41479),h=i(69788),p=i(78830),v=i(48860),f=i(29298),g=i(52702),m=i(1639),y=i(12956),b=i(69143),E=i(25623),S=i(89411),w=i(33550),A=i(1685),C=i(18580),I=i(39155),T=i(73020),L=i(81568),_=i(21210),P=L("iterator"),k="URLSearchParams",x=k+"Iterator",R=p.set,O=p.getterFor(k),D=p.getterFor(x),M=Object.getOwnPropertyDescriptor,N=function(e){if(!o)return n[e];var t=M(n,e);return t&&t.value},V=N("fetch"),U=N("Request"),B=N("Headers"),F=U&&U.prototype,H=B&&B.prototype,j=n.RegExp,G=n.TypeError,W=n.decodeURIComponent,q=n.encodeURIComponent,K=s("".charAt),z=s([].join),J=s([].push),Y=s("".replace),$=s([].shift),Q=s([].splice),X=s("".split),Z=s("".slice),ee=/\+/g,te=Array(4),ie=function(e){return te[e-1]||(te[e-1]=j("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return W(e)}catch(t){return e}},ne=function(e){var t=Y(e,ee," "),i=4;try{return W(t)}catch(e){for(;i;)t=Y(t,ie(i--),re);return t}},ae=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(e){return se[e]},le=function(e){return Y(q(e),ae,oe)},de=h((function(e,t){R(this,{type:x,iterator:C(O(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,i=e.iterator.next(),r=i.value;return i.done||(i.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),i}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?Z(e,1):e:S(e)))};ue.prototype={type:k,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,i,r,n,s,o,l,d=I(e);if(d)for(i=(t=C(e,d)).next;!(r=a(i,t)).done;){if(s=(n=C(b(r.value))).next,(o=a(s,n)).done||(l=a(s,n)).done||!a(s,n).done)throw G("Expected sequence with length 2");J(this.entries,{key:S(o.value),value:S(l.value)})}else for(var u in e)g(e,u)&&J(this.entries,{key:u,value:S(e[u])})},parseQuery:function(e){if(e)for(var t,i,r=X(e,"&"),n=0;n<r.length;)(t=r[n++]).length&&(i=X(t,"="),J(this.entries,{key:ne($(i)),value:ne(z(i,"="))}))},serialize:function(){for(var e,t=this.entries,i=[],r=0;r<t.length;)e=t[r++],J(i,le(e.key)+"="+le(e.value));return z(i,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){v(this,he);var e=arguments.length>0?arguments[0]:void 0;R(this,new ue(e))},he=ce.prototype;if(u(he,{append:function(e,t){T(arguments.length,2);var i=O(this);J(i.entries,{key:S(e),value:S(t)}),i.updateURL()},delete:function(e){T(arguments.length,1);for(var t=O(this),i=t.entries,r=S(e),n=0;n<i.length;)i[n].key===r?Q(i,n,1):n++;t.updateURL()},get:function(e){T(arguments.length,1);for(var t=O(this).entries,i=S(e),r=0;r<t.length;r++)if(t[r].key===i)return t[r].value;return null},getAll:function(e){T(arguments.length,1);for(var t=O(this).entries,i=S(e),r=[],n=0;n<t.length;n++)t[n].key===i&&J(r,t[n].value);return r},has:function(e){T(arguments.length,1);for(var t=O(this).entries,i=S(e),r=0;r<t.length;)if(t[r++].key===i)return!0;return!1},set:function(e,t){T(arguments.length,1);for(var i,r=O(this),n=r.entries,a=!1,s=S(e),o=S(t),l=0;l<n.length;l++)(i=n[l]).key===s&&(a?Q(n,l--,1):(a=!0,i.value=o));a||J(n,{key:s,value:o}),r.updateURL()},sort:function(){var e=O(this);_(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,i=O(this).entries,r=m(e,arguments.length>1?arguments[1]:void 0),n=0;n<i.length;)r((t=i[n++]).value,t.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),d(he,P,he.entries,{name:"entries"}),d(he,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),c(ce,k),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:ce}),!l&&f(B)){var pe=s(H.has),ve=s(H.set),fe=function(e){if(E(e)){var t,i=e.body;if(y(i)===k)return t=e.headers?new B(e.headers):new B,pe(t,"content-type")||ve(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:A(0,S(i)),headers:A(0,t)})}return e};if(f(V)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return V(e,arguments.length>1?fe(arguments[1]):{})}}),f(U)){var ge=function(e){return v(this,F),new U(e,arguments.length>1?fe(arguments[1]):{})};F.constructor=ge,ge.prototype=F,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:ce,getState:O}},93253:(e,t,i)=>{i(98698)},706:(e,t,i)=>{"use strict";i(24793);var r,n=i(30498),a=i(11314),s=i(38095),o=i(37368),l=i(1639),d=i(19160),u=i(56539),c=i(39183),h=i(48860),p=i(52702),v=i(14231),f=i(93368),g=i(63432),m=i(25602).codeAt,y=i(56575),b=i(89411),E=i(41479),S=i(73020),w=i(98698),A=i(78830),C=A.set,I=A.getterFor("URL"),T=w.URLSearchParams,L=w.getState,_=o.URL,P=o.TypeError,k=o.parseInt,x=Math.floor,R=Math.pow,O=d("".charAt),D=d(/./.exec),M=d([].join),N=d(1..toString),V=d([].pop),U=d([].push),B=d("".replace),F=d([].shift),H=d("".split),j=d("".slice),G=d("".toLowerCase),W=d([].unshift),q="Invalid scheme",K="Invalid host",z="Invalid port",J=/[a-z]/i,Y=/[\d+-.a-z]/i,$=/\d/,Q=/^0x/i,X=/^[0-7]+$/,Z=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ie=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ne=/[\t\n\r]/g,ae=function(e){var t,i,r,n;if("number"==typeof e){for(t=[],i=0;i<4;i++)W(t,e%256),e=x(e/256);return M(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,i=1,r=null,n=0,a=0;a<8;a++)0!==e[a]?(n>i&&(t=r,i=n),r=null,n=0):(null===r&&(r=a),++n);return n>i&&(t=r,i=n),t}(e),i=0;i<8;i++)n&&0===e[i]||(n&&(n=!1),r===i?(t+=i?":":"::",n=!0):(t+=N(e[i],16),i<7&&(t+=":")));return"["+t+"]"}return e},se={},oe=v({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),le=v({},oe,{"#":1,"?":1,"{":1,"}":1}),de=v({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var i=m(e,0);return i>32&&i<127&&!p(t,e)?e:encodeURIComponent(e)},ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=function(e,t){var i;return 2==e.length&&D(J,O(e,0))&&(":"==(i=O(e,1))||!t&&"|"==i)},pe=function(e){var t;return e.length>1&&he(j(e,0,2))&&(2==e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},ve=function(e){return"."===e||"%2e"===G(e)},fe={},ge={},me={},ye={},be={},Ee={},Se={},we={},Ae={},Ce={},Ie={},Te={},Le={},_e={},Pe={},ke={},xe={},Re={},Oe={},De={},Me={},Ne=function(e,t,i){var r,n,a,s=b(e);if(t){if(n=this.parse(s))throw P(n);this.searchParams=null}else{if(void 0!==i&&(r=new Ne(i,!0)),n=this.parse(s,null,r))throw P(n);(a=L(new T)).bindURL(this),this.searchParams=a}};Ne.prototype={type:"URL",parse:function(e,t,i){var n,a,s,o,l,d=this,u=t||fe,c=0,h="",v=!1,m=!1,y=!1;for(e=b(e),t||(d.scheme="",d.username="",d.password="",d.host=null,d.port=null,d.path=[],d.query=null,d.fragment=null,d.cannotBeABaseURL=!1,e=B(e,re,"")),e=B(e,ne,""),n=f(e);c<=n.length;){switch(a=n[c],u){case fe:if(!a||!D(J,a)){if(t)return q;u=me;continue}h+=G(a),u=ge;break;case ge:if(a&&(D(Y,a)||"+"==a||"-"==a||"."==a))h+=G(a);else{if(":"!=a){if(t)return q;h="",u=me,c=0;continue}if(t&&(d.isSpecial()!=p(ce,h)||"file"==h&&(d.includesCredentials()||null!==d.port)||"file"==d.scheme&&!d.host))return;if(d.scheme=h,t)return void(d.isSpecial()&&ce[d.scheme]==d.port&&(d.port=null));h="","file"==d.scheme?u=_e:d.isSpecial()&&i&&i.scheme==d.scheme?u=ye:d.isSpecial()?u=we:"/"==n[c+1]?(u=be,c++):(d.cannotBeABaseURL=!0,U(d.path,""),u=Oe)}break;case me:if(!i||i.cannotBeABaseURL&&"#"!=a)return q;if(i.cannotBeABaseURL&&"#"==a){d.scheme=i.scheme,d.path=g(i.path),d.query=i.query,d.fragment="",d.cannotBeABaseURL=!0,u=Me;break}u="file"==i.scheme?_e:Ee;continue;case ye:if("/"!=a||"/"!=n[c+1]){u=Ee;continue}u=Ae,c++;break;case be:if("/"==a){u=Ce;break}u=Re;continue;case Ee:if(d.scheme=i.scheme,a==r)d.username=i.username,d.password=i.password,d.host=i.host,d.port=i.port,d.path=g(i.path),d.query=i.query;else if("/"==a||"\\"==a&&d.isSpecial())u=Se;else if("?"==a)d.username=i.username,d.password=i.password,d.host=i.host,d.port=i.port,d.path=g(i.path),d.query="",u=De;else{if("#"!=a){d.username=i.username,d.password=i.password,d.host=i.host,d.port=i.port,d.path=g(i.path),d.path.length--,u=Re;continue}d.username=i.username,d.password=i.password,d.host=i.host,d.port=i.port,d.path=g(i.path),d.query=i.query,d.fragment="",u=Me}break;case Se:if(!d.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){d.username=i.username,d.password=i.password,d.host=i.host,d.port=i.port,u=Re;continue}u=Ce}else u=Ae;break;case we:if(u=Ae,"/"!=a||"/"!=O(h,c+1))continue;c++;break;case Ae:if("/"!=a&&"\\"!=a){u=Ce;continue}break;case Ce:if("@"==a){v&&(h="%40"+h),v=!0,s=f(h);for(var E=0;E<s.length;E++){var S=s[E];if(":"!=S||y){var w=ue(S,de);y?d.password+=w:d.username+=w}else y=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&d.isSpecial()){if(v&&""==h)return"Invalid authority";c-=f(h).length+1,h="",u=Ie}else h+=a;break;case Ie:case Te:if(t&&"file"==d.scheme){u=ke;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&d.isSpecial()){if(d.isSpecial()&&""==h)return K;if(t&&""==h&&(d.includesCredentials()||null!==d.port))return;if(o=d.parseHost(h))return o;if(h="",u=xe,t)return;continue}"["==a?m=!0:"]"==a&&(m=!1),h+=a}else{if(""==h)return K;if(o=d.parseHost(h))return o;if(h="",u=Le,t==Te)return}break;case Le:if(!D($,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&d.isSpecial()||t){if(""!=h){var A=k(h,10);if(A>65535)return z;d.port=d.isSpecial()&&A===ce[d.scheme]?null:A,h=""}if(t)return;u=xe;continue}return z}h+=a;break;case _e:if(d.scheme="file","/"==a||"\\"==a)u=Pe;else{if(!i||"file"!=i.scheme){u=Re;continue}if(a==r)d.host=i.host,d.path=g(i.path),d.query=i.query;else if("?"==a)d.host=i.host,d.path=g(i.path),d.query="",u=De;else{if("#"!=a){pe(M(g(n,c),""))||(d.host=i.host,d.path=g(i.path),d.shortenPath()),u=Re;continue}d.host=i.host,d.path=g(i.path),d.query=i.query,d.fragment="",u=Me}}break;case Pe:if("/"==a||"\\"==a){u=ke;break}i&&"file"==i.scheme&&!pe(M(g(n,c),""))&&(he(i.path[0],!0)?U(d.path,i.path[0]):d.host=i.host),u=Re;continue;case ke:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&he(h))u=Re;else if(""==h){if(d.host="",t)return;u=xe}else{if(o=d.parseHost(h))return o;if("localhost"==d.host&&(d.host=""),t)return;h="",u=xe}continue}h+=a;break;case xe:if(d.isSpecial()){if(u=Re,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(u=Re,"/"!=a))continue}else d.fragment="",u=Me;else d.query="",u=De;break;case Re:if(a==r||"/"==a||"\\"==a&&d.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(l=G(l=h))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(d.shortenPath(),"/"==a||"\\"==a&&d.isSpecial()||U(d.path,"")):ve(h)?"/"==a||"\\"==a&&d.isSpecial()||U(d.path,""):("file"==d.scheme&&!d.path.length&&he(h)&&(d.host&&(d.host=""),h=O(h,0)+":"),U(d.path,h)),h="","file"==d.scheme&&(a==r||"?"==a||"#"==a))for(;d.path.length>1&&""===d.path[0];)F(d.path);"?"==a?(d.query="",u=De):"#"==a&&(d.fragment="",u=Me)}else h+=ue(a,le);break;case Oe:"?"==a?(d.query="",u=De):"#"==a?(d.fragment="",u=Me):a!=r&&(d.path[0]+=ue(a,se));break;case De:t||"#"!=a?a!=r&&("'"==a&&d.isSpecial()?d.query+="%27":d.query+="#"==a?"%23":ue(a,se)):(d.fragment="",u=Me);break;case Me:a!=r&&(d.fragment+=ue(a,oe))}c++}},parseHost:function(e){var t,i,r;if("["==O(e,0)){if("]"!=O(e,e.length-1))return K;if(t=function(e){var t,i,r,n,a,s,o,l=[0,0,0,0,0,0,0,0],d=0,u=null,c=0,h=function(){return O(e,c)};if(":"==h()){if(":"!=O(e,1))return;c+=2,u=++d}for(;h();){if(8==d)return;if(":"!=h()){for(t=i=0;i<4&&D(ee,h());)t=16*t+k(h(),16),c++,i++;if("."==h()){if(0==i)return;if(c-=i,d>6)return;for(r=0;h();){if(n=null,r>0){if(!("."==h()&&r<4))return;c++}if(!D($,h()))return;for(;D($,h());){if(a=k(h(),10),null===n)n=a;else{if(0==n)return;n=10*n+a}if(n>255)return;c++}l[d]=256*l[d]+n,2!=++r&&4!=r||d++}if(4!=r)return;break}if(":"==h()){if(c++,!h())return}else if(h())return;l[d++]=t}else{if(null!==u)return;c++,u=++d}}if(null!==u)for(s=d-u,d=7;0!=d&&s>0;)o=l[d],l[d--]=l[u+s-1],l[u+--s]=o;else if(8!=d)return;return l}(j(e,1,-1)),!t)return K;this.host=t}else if(this.isSpecial()){if(e=y(e),D(te,e))return K;if(t=function(e){var t,i,r,n,a,s,o,l=H(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(i=[],r=0;r<t;r++){if(""==(n=l[r]))return e;if(a=10,n.length>1&&"0"==O(n,0)&&(a=D(Q,n)?16:8,n=j(n,8==a?1:2)),""===n)s=0;else{if(!D(10==a?Z:8==a?X:ee,n))return e;s=k(n,a)}U(i,s)}for(r=0;r<t;r++)if(s=i[r],r==t-1){if(s>=R(256,5-t))return null}else if(s>255)return null;for(o=V(i),r=0;r<i.length;r++)o+=i[r]*R(256,3-r);return o}(e),null===t)return K;this.host=t}else{if(D(ie,e))return K;for(t="",i=f(e),r=0;r<i.length;r++)t+=ue(i[r],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(ce,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&he(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,i=e.username,r=e.password,n=e.host,a=e.port,s=e.path,o=e.query,l=e.fragment,d=t+":";return null!==n?(d+="//",e.includesCredentials()&&(d+=i+(r?":"+r:"")+"@"),d+=ae(n),null!==a&&(d+=":"+a)):"file"==t&&(d+="//"),d+=e.cannotBeABaseURL?s[0]:s.length?"/"+M(s,"/"):"",null!==o&&(d+="?"+o),null!==l&&(d+="#"+l),d},setHref:function(e){var t=this.parse(e);if(t)throw P(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ve(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",fe)},getUsername:function(){return this.username},setUsername:function(e){var t=f(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<t.length;i++)this.username+=ue(t[i],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=f(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<t.length;i++)this.password+=ue(t[i],de)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ie)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Le))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,xe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==O(e,0)&&(e=j(e,1)),this.query="",this.parse(e,De)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==O(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Me)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ve=function(e){var t=h(this,Ue),i=S(arguments.length,1)>1?arguments[1]:void 0,r=C(t,new Ne(e,!1,i));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ue=Ve.prototype,Be=function(e,t){return{get:function(){return I(this)[e]()},set:t&&function(e){return I(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(c(Ue,"href",Be("serialize","setHref")),c(Ue,"origin",Be("getOrigin")),c(Ue,"protocol",Be("getProtocol","setProtocol")),c(Ue,"username",Be("getUsername","setUsername")),c(Ue,"password",Be("getPassword","setPassword")),c(Ue,"host",Be("getHost","setHost")),c(Ue,"hostname",Be("getHostname","setHostname")),c(Ue,"port",Be("getPort","setPort")),c(Ue,"pathname",Be("getPathname","setPathname")),c(Ue,"search",Be("getSearch","setSearch")),c(Ue,"searchParams",Be("getSearchParams")),c(Ue,"hash",Be("getHash","setHash"))),u(Ue,"toJSON",(function(){return I(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return I(this).serialize()}),{enumerable:!0}),_){var Fe=_.createObjectURL,He=_.revokeObjectURL;Fe&&u(Ve,"createObjectURL",l(Fe,_)),He&&u(Ve,"revokeObjectURL",l(He,_))}E(Ve,"URL"),n({global:!0,constructor:!0,forced:!s,sham:!a},{URL:Ve})},91661:(e,t,i)=>{i(706)},36686:(e,t,i)=>{"use strict";var r=i(30498),n=i(89780);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return n(URL.prototype.toString,this)}})},31022:(e,t,i)=>{var r=i(60947);e.exports=r},20310:(e,t,i)=>{i(9511),i(61379),i(75426),i(84416),i(61240),i(19576),i(84300),i(9610),i(45293),i(2913),i(15379),i(76511),i(76062),i(62690),i(77301),i(13078),i(44755),i(49855),i(20347),i(42674),i(60423),i(43738),i(87949),i(72421),i(56800),i(28767),i(23024),i(88028),i(24274),i(17388),i(30285),i(81979),i(4283),i(30995),i(92271),i(63582),i(51657),i(21431),i(24923),i(55299),i(45047),i(68175),i(76983),i(64693),i(35773),i(41416),i(28790),i(20740),i(59054),i(23827),i(71193),i(27839),i(30090),i(49370),i(77970),i(57572),i(29339),i(12752),i(69654),i(28738),i(4160),i(96749),i(75295),i(35394),i(52673),i(92922),i(75371),i(17830),i(14864),i(47496),i(1470),i(42708),i(12809),i(16339),i(29081),i(27188),i(27950),i(97901),i(72410),i(30663),i(58203),i(18052),i(70395),i(6018),i(86879),i(7602),i(73914),i(53745),i(43963),i(55310),i(50041),i(36969),i(22087),i(72422),i(28112),i(17910),i(41182),i(67594),i(41044),i(87669),i(42535),i(98933),i(44944),i(60723),i(31631),i(26611),i(12677),i(58518),i(35400),i(23728),i(10286),i(4326),i(41083),i(50823),i(93729),i(84995),i(4021),i(72e3),i(25267),i(51395),i(25851),i(1727),i(90158),i(50067),i(49780),i(67194),i(12177),i(91918),i(83837),i(28241),i(22533),i(51989),i(7605),i(85149),i(43438),i(66843),i(41711),i(41108),i(95668),i(78734),i(74560),i(18991),i(60364),i(44310),i(46248),i(83893),i(48735),i(57285),i(99826),i(56804),i(45807),i(24697),i(70373),i(5042),i(37450),i(56924),i(48263),i(52927),i(68591),i(32257),i(86081),i(4613),i(31731),i(54428),i(24793),i(66393),i(47966),i(70131),i(48423),i(69154),i(15258),i(16565),i(89302),i(26831),i(9222),i(8559),i(52773),i(14288),i(14939),i(18940),i(28436),i(41558),i(89795),i(51643),i(47934),i(36728),i(85125),i(14261),i(86697),i(72713),i(11274),i(95581),i(19064),i(56056),i(86842),i(43119),i(27587),i(27586),i(37273),i(80206),i(90470),i(53764),i(58957),i(7286),i(95841),i(62092),i(73330),i(83896),i(90145),i(22194),i(8537),i(61256),i(79063),i(86802),i(35718),i(32186),i(57560),i(75632),i(50838),i(94423),i(18083),i(36057),i(58845),i(34651),i(87388),i(52856),i(94702),i(373),i(23298),i(57840),i(79254),i(51113),i(77815),i(69328),i(11266),i(26849),i(81113),i(31997),i(74044),i(24300),i(977),i(74495),i(19336),i(15449),i(91661),i(36686),i(93253),i(44608)},13675:function(e,t,i){(function(){var t,r,n=[].slice;t=i(14729),r=function(){function e(){this.dispatcherMap=new t}return e.prototype.map=function(e,t,i,r,a){var s,o,l,d,u,c,h,p,v,f;for(null==a&&(a=!1),f=null,d=0,u=(h=null!=(v=(c=null!=(p=this.dispatcherMap.get(e))?p:this.dispatcherMap.map(e,{}))[t])?v:c[t]=[]).length;d<u;d++)if((l=h[d]).h===i&&l.o===r&&l.u===a)return null;return o=r?s=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],i.apply(r,e),null}:i,e.addEventListener?e.addEventListener(t,o,a):e.addListener?e.addListener(t,o,a):e.on?e.on(t,o,a):e.$on?f=e.$on(t,o,a):e.add&&e.add(t,i,r),h.push({d:e,o:r,h:i,u:a,c:s,unregister:f}),null},e.prototype.unmap=function(e,i,r,n,a){var s,o,l,d,u;if(null==a&&(a=!1),!(d=this.dispatcherMap.get(e)))return null;if(!(u=d[i]))return null;for(o=u.length;--o>=0;)(l=u[o]).h===r&&l.o===n&&l.u===a&&(u.splice(o,1),s=n?l.c:r,l.unregister?l.unregister():e.removeEventListener?e.removeEventListener(i,s,a):e.removeListener?e.removeListener(i,s,a):e.off?e.off(i,s,a):e.remove&&e.remove(i,r,n));return u.length||delete d[i],t.hasKeys(d)||this.dispatcherMap.unmap(e),null},e.prototype.all=function(){var e;return this.dispatcherMap.forEach((e=this,function(t,i){var r,n,a,s;for(s in i)for(a=i[s];n=a.shift();)r=n.o?n.c:n.h,n.unregister?n.unregister():t.removeEventListener?t.removeEventListener(s,r,n.u):t.removeListener?t.removeListener(s,r,n.u):t.off?t.off(s,r,n.u):t.remove&&t.remove(s,n.h,n.o);return e.dispatcherMap.unmap(t)})),null},e}(),e.exports=r.default=r}).call(this)},14729:function(e){(function(){var t;t=function(){function e(){this.datas={}}return e.uid=0,e.key="__dict_uid__",e.hasKeys=function(e){var t;for(t in e)return!0;return!1},e.getUID=function(t){var i,r;if(null==t)return"null";if(null!=(r=t[i=e.key]))return r;switch(typeof t){case"string":return"s::";case"number":return"n::";case"boolean":return"b::"}return r=++e.uid+"_"+Math.random(),e.uid===Number.MAX_VALUE&&(e.uid=0),null!=Object.defineProperty?Object.defineProperty(t,i,{value:r}):t[i]=r,r},e.prototype.map=function(t,i){return this.datas[e.getUID(t)]={key:t,value:i},i},e.prototype.unmap=function(t){return delete this.datas[e.getUID(t)],null},e.prototype.get=function(t){var i;return null!=(i=this.datas[e.getUID(t)])?i.value:void 0},e.prototype.has=function(t){return null!==this.datas[e.getUID(t)]},e.prototype.clear=function(){return this.datas={}},e.prototype.isEmpty=function(){var e;for(e in this.datas)return!0;return!1},e.prototype.length=function(){var e,t;for(t in e=0,this.datas)++e;return e},e.prototype.forEach=function(e){var t,i,r;for(r in i=this.datas)e((t=i[r]).key,t.value);return null},e}(),e.exports=t.default=t}).call(this)},71027:function(e,t){!function(e){"use strict";function t(e){return i(e)&&"function"==typeof e.from}function i(e){return"object"==typeof e&&"function"==typeof e.to}function r(e){e.parentElement.removeChild(e)}function n(e){return null!=e}function a(e){e.preventDefault()}function s(e){return e.filter((function(e){return!this[e]&&(this[e]=!0)}),{})}function o(e,t){return Math.round(e/t)*t}function l(e,t){var i=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,a=m(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),t?i.top+a.y-n.clientTop:i.left+a.x-n.clientLeft}function d(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function u(e,t,i){i>0&&(v(e,t),setTimeout((function(){f(e,t)}),i))}function c(e){return Math.max(Math.min(e,100),0)}function h(e){return Array.isArray(e)?e:[e]}function p(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function v(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function f(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function g(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function m(e){var t=void 0!==window.pageXOffset,i="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:i?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:i?e.documentElement.scrollTop:e.body.scrollTop}}function y(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function b(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}function E(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function S(e,t){return 100/(t-e)}function w(e,t,i){return 100*t/(e[i+1]-e[i])}function A(e,t){return w(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function C(e,t){return t*(e[1]-e[0])/100+e[0]}function I(e,t){for(var i=1;e>=t[i];)i+=1;return i}function T(e,t,i){if(i>=e.slice(-1)[0])return 100;var r=I(i,e),n=e[r-1],a=e[r],s=t[r-1],o=t[r];return s+A([n,a],i)/S(s,o)}function L(e,t,i){if(i>=100)return e.slice(-1)[0];var r=I(i,t),n=e[r-1],a=e[r],s=t[r-1];return C([n,a],(i-s)*S(s,t[r]))}function _(e,t,i,r){if(100===r)return r;var n=I(r,e),a=e[n-1],s=e[n];return i?r-a>(s-a)/2?s:a:t[n-1]?e[n-1]+o(r-e[n-1],t[n-1]):r}var P,k;e.PipsMode=void 0,(k=e.PipsMode||(e.PipsMode={})).Range="range",k.Steps="steps",k.Positions="positions",k.Count="count",k.Values="values",e.PipsType=void 0,(P=e.PipsType||(e.PipsType={}))[P.None=-1]="None",P[P.NoValue=0]="NoValue",P[P.LargeValue=1]="LargeValue",P[P.SmallValue=2]="SmallValue";var x=function(){function e(e,t,i){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t;var n=[];for(Object.keys(e).forEach((function(t){n.push([h(e[t]),t])})),n.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<n.length;r++)this.handleEntryPoint(n[r][1],n[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return e.prototype.getDistance=function(e){for(var t=[],i=0;i<this.xNumSteps.length-1;i++)t[i]=w(this.xVal,e,i);return t},e.prototype.getAbsoluteDistance=function(e,t,i){var r,n=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[n+1];)n++;else e===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||e!==this.xPct[n+1]||n++,null===t&&(t=[]);var a=1,s=t[n],o=0,l=0,d=0,u=0;for(r=i?(e-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-e)/(this.xPct[n+1]-this.xPct[n]);s>0;)o=this.xPct[n+1+u]-this.xPct[n+u],t[n+u]*a+100-100*r>100?(l=o*r,a=(s-100*r)/t[n+u],r=1):(l=t[n+u]*o/100*a,a=0),i?(d-=l,this.xPct.length+u>=1&&u--):(d+=l,this.xPct.length-u>=1&&u++),s=t[n+u]*a;return e+d},e.prototype.toStepping=function(e){return e=T(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return L(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return e=_(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,i){var r=I(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/i},e.prototype.getNearbySteps=function(e){var t=I(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(p);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var i;if(!d(i="min"===e?0:"max"===e?100:parseFloat(e))||!d(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(t[0]);var r=Number(t[1]);i?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=w([this.xVal[e],this.xVal[e+1]],t,0)/S(this.xPct[e],this.xPct[e+1]);var i=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),n=this.xVal[e]+this.xNumSteps[e]*r;this.xHighestCompleteStep[e]=n}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),R={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},O={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},D={tooltips:".__tooltips",aria:".__aria"};function M(e,t){if(!d(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function N(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function V(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function U(e,t){if(!d(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function B(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new x(t,e.snap||!1,e.singleStep)}function F(e,t){if(t=h(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function H(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function j(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function G(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function W(e,t){var i,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(i=1;i<e.handles;i++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function q(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function K(e,t){if(!d(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function z(e,t){if(!d(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function J(e,t){var i;if(!d(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!d(t[0])&&!d(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],i=0;i<e.spectrum.xNumSteps.length-1;i++)if(e.padding[0][i]<0||e.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],n=e.spectrum.xVal[0];if(r/(e.spectrum.xVal[e.spectrum.xVal.length-1]-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Y(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function $(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,n=t.indexOf("fixed")>=0,a=t.indexOf("snap")>=0,s=t.indexOf("hover")>=0,o=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0,d=t.indexOf("smooth-steps")>=0;if(n){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");K(e,e.start[1]-e.start[0])}if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:i||a,drag:r,dragAll:l,smoothSteps:d,fixed:n,snap:a,hover:s,unconstrained:o}}function Q(e,t){if(!1!==t)if(!0===t||i(t)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(t)}else{if((t=h(t)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!=typeof e&&!i(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function X(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function Z(e,t){if(!i(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function ee(e,i){if(!t(i))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=i}function te(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function ie(e,t){e.documentElement=t}function re(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function ne(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(i){e.cssClasses[i]=e.cssPrefix+t[i]}))):e.cssClasses=t}function ae(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:R,format:R},i={step:{r:!1,t:M},keyboardPageMultiplier:{r:!1,t:N},keyboardMultiplier:{r:!1,t:V},keyboardDefaultStep:{r:!1,t:U},start:{r:!0,t:F},connect:{r:!0,t:W},direction:{r:!0,t:Y},snap:{r:!1,t:H},animate:{r:!1,t:j},animationDuration:{r:!1,t:G},range:{r:!0,t:B},orientation:{r:!1,t:q},margin:{r:!1,t:K},limit:{r:!1,t:z},padding:{r:!1,t:J},behaviour:{r:!0,t:$},ariaFormat:{r:!1,t:Z},format:{r:!1,t:ee},tooltips:{r:!1,t:Q},keyboardSupport:{r:!0,t:te},documentElement:{r:!1,t:ie},cssPrefix:{r:!0,t:re},cssClasses:{r:!0,t:ne},handleAttributes:{r:!1,t:X}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:O,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(i).forEach((function(a){if(n(e[a])||void 0!==r[a])i[a].t(t,n(e[a])?e[a]:r[a]);else if(i[a].r)throw new Error("noUiSlider: '"+a+"' is required.")})),t.pips=e.pips;var a=document.createElement("div"),s=void 0!==a.style.msTransform,o=void 0!==a.style.transform;t.transformRule=o?"transform":s?"msTransform":"webkitTransform";var l=[["left","top"],["right","bottom"]];return t.style=l[t.dir][t.ort],t}function se(t,i,o){var d,p,S,w,A,C=y(),I=E()&&b(),T=t,L=i.spectrum,_=[],P=[],k=[],x=0,R={},O=t.ownerDocument,M=i.documentElement||O.documentElement,N=O.body,V="rtl"===O.dir||1===i.ort?0:100;function U(e,t){var i=O.createElement("div");return t&&v(i,t),e.appendChild(i),i}function B(e,t){var r=U(e,i.cssClasses.origin),n=U(r,i.cssClasses.handle);if(U(n,i.cssClasses.touchArea),n.setAttribute("data-handle",String(t)),i.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(e){return pe(e,t)}))),void 0!==i.handleAttributes){var a=i.handleAttributes[t];Object.keys(a).forEach((function(e){n.setAttribute(e,a[e])}))}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===t?v(n,i.cssClasses.handleLower):t===i.handles-1&&v(n,i.cssClasses.handleUpper),r}function F(e,t){return!!t&&U(e,i.cssClasses.connect)}function H(e,t){var r=U(t,i.cssClasses.connects);p=[],(S=[]).push(F(r,e[0]));for(var n=0;n<i.handles;n++)p.push(B(t,n)),k[n]=n,S.push(F(r,e[n+1]))}function j(e){return v(e,i.cssClasses.target),0===i.dir?v(e,i.cssClasses.ltr):v(e,i.cssClasses.rtl),0===i.ort?v(e,i.cssClasses.horizontal):v(e,i.cssClasses.vertical),v(e,"rtl"===getComputedStyle(e).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),U(e,i.cssClasses.base)}function G(e,t){return!(!i.tooltips||!i.tooltips[t])&&U(e.firstChild,i.cssClasses.tooltip)}function W(){return T.hasAttribute("disabled")}function q(e){return p[e].hasAttribute("disabled")}function K(){A&&(me("update"+D.tooltips),A.forEach((function(e){e&&r(e)})),A=null)}function z(){K(),A=p.map(G),fe("update"+D.tooltips,(function(e,t,r){if(A&&i.tooltips&&!1!==A[t]){var n=e[t];!0!==i.tooltips[t]&&(n=i.tooltips[t].to(r[t])),A[t].innerHTML=n}}))}function J(){me("update"+D.aria),fe("update"+D.aria,(function(e,t,r,n,a){k.forEach((function(e){var t=p[e],n=be(P,e,0,!0,!0,!0),s=be(P,e,100,!0,!0,!0),o=a[e],l=String(i.ariaFormat.to(r[e]));n=L.fromStepping(n).toFixed(1),s=L.fromStepping(s).toFixed(1),o=L.fromStepping(o).toFixed(1),t.children[0].setAttribute("aria-valuemin",n),t.children[0].setAttribute("aria-valuemax",s),t.children[0].setAttribute("aria-valuenow",o),t.children[0].setAttribute("aria-valuetext",l)}))}))}function Y(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return L.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=t.values-1,r=100/i,n=[];i--;)n[i]=i*r;return n.push(100),$(n,t.stepped)}return t.mode===e.PipsMode.Positions?$(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return L.fromStepping(L.getStep(L.toStepping(e)))})):t.values:[]}function $(e,t){return e.map((function(e){return L.fromStepping(t?L.getStep(e):e)}))}function Q(t){function i(e,t){return Number((e+t).toFixed(7))}var r=Y(t),n={},a=L.xVal[0],o=L.xVal[L.xVal.length-1],l=!1,d=!1,u=0;return(r=s(r.slice().sort((function(e,t){return e-t}))))[0]!==a&&(r.unshift(a),l=!0),r[r.length-1]!==o&&(r.push(o),d=!0),r.forEach((function(a,s){var o,c,h,p,v,f,g,m,y,b,E=a,S=r[s+1],w=t.mode===e.PipsMode.Steps;for(w&&(o=L.xNumSteps[s]),o||(o=S-E),void 0===S&&(S=E),o=Math.max(o,1e-7),c=E;c<=S;c=i(c,o)){for(m=(v=(p=L.toStepping(c))-u)/(t.density||1),b=v/(y=Math.round(m)),h=1;h<=y;h+=1)n[(f=u+h*b).toFixed(5)]=[L.fromStepping(f),0];g=r.indexOf(c)>-1?e.PipsType.LargeValue:w?e.PipsType.SmallValue:e.PipsType.NoValue,!s&&l&&c!==S&&(g=0),c===S&&d||(n[p.toFixed(5)]=[c,g]),u=p}})),n}function X(t,r,n){var a,s,o=O.createElement("div"),l=((a={})[e.PipsType.None]="",a[e.PipsType.NoValue]=i.cssClasses.valueNormal,a[e.PipsType.LargeValue]=i.cssClasses.valueLarge,a[e.PipsType.SmallValue]=i.cssClasses.valueSub,a),d=((s={})[e.PipsType.None]="",s[e.PipsType.NoValue]=i.cssClasses.markerNormal,s[e.PipsType.LargeValue]=i.cssClasses.markerLarge,s[e.PipsType.SmallValue]=i.cssClasses.markerSub,s),u=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],c=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function h(e,t){var r=t===i.cssClasses.value,n=r?l:d;return t+" "+(r?u:c)[i.ort]+" "+n[e]}function p(t,a,s){if((s=r?r(a,s):s)!==e.PipsType.None){var l=U(o,!1);l.className=h(s,i.cssClasses.marker),l.style[i.style]=t+"%",s>e.PipsType.NoValue&&((l=U(o,!1)).className=h(s,i.cssClasses.value),l.setAttribute("data-value",String(a)),l.style[i.style]=t+"%",l.innerHTML=String(n.to(a)))}}return v(o,i.cssClasses.pips),v(o,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach((function(e){p(e,t[e][0],t[e][1])})),o}function Z(){w&&(r(w),w=null)}function ee(e){Z();var t=Q(e),i=e.filter,r=e.format||{to:function(e){return String(Math.round(e))}};return w=T.appendChild(X(t,i,r))}function te(){var e=d.getBoundingClientRect(),t="offset"+["Width","Height"][i.ort];return 0===i.ort?e.width||d[t]:e.height||d[t]}function ie(e,t,r,n){var a=function(a){var s=re(a,n.pageOffset,n.target||t);return!!s&&!(W()&&!n.doNotReject)&&!(g(T,i.cssClasses.tap)&&!n.doNotReject)&&!(e===C.start&&void 0!==s.buttons&&s.buttons>1)&&(!n.hover||!s.buttons)&&(I||s.preventDefault(),s.calcPoint=s.points[i.ort],void r(s,n))},s=[];return e.split(" ").forEach((function(e){t.addEventListener(e,a,!!I&&{passive:!0}),s.push([e,a])})),s}function re(e,t,i){var r=0===e.type.indexOf("touch"),n=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),s=0,o=0;if(0===e.type.indexOf("MSPointer")&&(a=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var l=function(t){var r=t.target;return r===i||i.contains(r)||e.composed&&e.composedPath().shift()===i};if("touchstart"===e.type){var d=Array.prototype.filter.call(e.touches,l);if(d.length>1)return!1;s=d[0].pageX,o=d[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;s=u.pageX,o=u.pageY}}return t=t||m(O),(n||a)&&(s=e.clientX+t.x,o=e.clientY+t.y),e.pageOffset=t,e.points=[s,o],e.cursor=n||a,e}function ne(e){var t=100*(e-l(d,i.ort))/te();return t=c(t),i.dir?100-t:t}function se(e){var t=100,i=!1;return p.forEach((function(r,n){if(!q(n)){var a=P[n],s=Math.abs(a-e);(s<t||s<=t&&e>a||100===s&&100===t)&&(i=n,t=s)}})),i}function oe(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&de(e,t)}function le(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return de(e,t);var r=(i.dir?-1:1)*(e.calcPoint-t.startCalcPoint);Se(r>0,100*r/t.baseSize,t.locations,t.handleNumbers,t.connect)}function de(e,t){t.handle&&(f(t.handle,i.cssClasses.active),x-=1),t.listeners.forEach((function(e){M.removeEventListener(e[0],e[1])})),0===x&&(f(T,i.cssClasses.drag),Ce(),e.cursor&&(N.style.cursor="",N.removeEventListener("selectstart",a))),i.events.smoothSteps&&(t.handleNumbers.forEach((function(e){Ie(e,P[e],!0,!0,!1,!1)})),t.handleNumbers.forEach((function(e){ye("update",e)}))),t.handleNumbers.forEach((function(e){ye("change",e),ye("set",e),ye("end",e)}))}function ue(e,t){if(!t.handleNumbers.some(q)){var r;1===t.handleNumbers.length&&(r=p[t.handleNumbers[0]].children[0],x+=1,v(r,i.cssClasses.active)),e.stopPropagation();var n=[],s=ie(C.move,M,le,{target:e.target,handle:r,connect:t.connect,listeners:n,startCalcPoint:e.calcPoint,baseSize:te(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:P.slice()}),o=ie(C.end,M,de,{target:e.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers}),l=ie("mouseout",M,oe,{target:e.target,handle:r,listeners:n,doNotReject:!0,handleNumbers:t.handleNumbers});n.push.apply(n,s.concat(o,l)),e.cursor&&(N.style.cursor=getComputedStyle(e.target).cursor,p.length>1&&v(T,i.cssClasses.drag),N.addEventListener("selectstart",a,!1)),t.handleNumbers.forEach((function(e){ye("start",e)}))}}function ce(e){e.stopPropagation();var t=ne(e.calcPoint),r=se(t);!1!==r&&(i.events.snap||u(T,i.cssClasses.tap,i.animationDuration),Ie(r,t,!0,!0),Ce(),ye("slide",r,!0),ye("update",r,!0),i.events.snap?ue(e,{handleNumbers:[r]}):(ye("change",r,!0),ye("set",r,!0)))}function he(e){var t=ne(e.calcPoint),i=L.getStep(t),r=L.fromStepping(i);Object.keys(R).forEach((function(e){"hover"===e.split(".")[0]&&R[e].forEach((function(e){e.call(Ve,r)}))}))}function pe(e,t){if(W()||q(t))return!1;var r=["Left","Right"],n=["Down","Up"],a=["PageDown","PageUp"],s=["Home","End"];i.dir&&!i.ort?r.reverse():i.ort&&!i.dir&&(n.reverse(),a.reverse());var o,l=e.key.replace("Arrow",""),d=l===a[0],u=l===a[1],c=l===n[0]||l===r[0]||d,h=l===n[1]||l===r[1]||u,p=l===s[0],v=l===s[1];if(!(c||h||p||v))return!0;if(e.preventDefault(),h||c){var f=c?0:1,g=Oe(t)[f];if(null===g)return!1;!1===g&&(g=L.getDefaultStep(P[t],c,i.keyboardDefaultStep)),g*=u||d?i.keyboardPageMultiplier:i.keyboardMultiplier,g=Math.max(g,1e-7),g*=c?-1:1,o=_[t]+g}else o=v?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return Ie(t,L.toStepping(o),!0,!0),ye("slide",t),ye("update",t),ye("change",t),ye("set",t),!1}function ve(e){e.fixed||p.forEach((function(e,t){ie(C.start,e.children[0],ue,{handleNumbers:[t]})})),e.tap&&ie(C.start,d,ce,{}),e.hover&&ie(C.move,d,he,{hover:!0}),e.drag&&S.forEach((function(t,r){if(!1!==t&&0!==r&&r!==S.length-1){var n=p[r-1],a=p[r],s=[t],o=[n,a],l=[r-1,r];v(t,i.cssClasses.draggable),e.fixed&&(s.push(n.children[0]),s.push(a.children[0])),e.dragAll&&(o=p,l=k),s.forEach((function(e){ie(C.start,e,ue,{handles:o,handleNumbers:l,connect:t})}))}}))}function fe(e,t){R[e]=R[e]||[],R[e].push(t),"update"===e.split(".")[0]&&p.forEach((function(e,t){ye("update",t)}))}function ge(e){return e===D.aria||e===D.tooltips}function me(e){var t=e&&e.split(".")[0],i=t?e.substring(t.length):e;Object.keys(R).forEach((function(e){var r=e.split(".")[0],n=e.substring(r.length);t&&t!==r||i&&i!==n||ge(n)&&i!==n||delete R[e]}))}function ye(e,t,r){Object.keys(R).forEach((function(n){var a=n.split(".")[0];e===a&&R[n].forEach((function(e){e.call(Ve,_.map(i.format.to),t,_.slice(),r||!1,P.slice(),Ve)}))}))}function be(e,t,r,n,a,s,o){var l;return p.length>1&&!i.events.unconstrained&&(n&&t>0&&(l=L.getAbsoluteDistance(e[t-1],i.margin,!1),r=Math.max(r,l)),a&&t<p.length-1&&(l=L.getAbsoluteDistance(e[t+1],i.margin,!0),r=Math.min(r,l))),p.length>1&&i.limit&&(n&&t>0&&(l=L.getAbsoluteDistance(e[t-1],i.limit,!1),r=Math.min(r,l)),a&&t<p.length-1&&(l=L.getAbsoluteDistance(e[t+1],i.limit,!0),r=Math.max(r,l))),i.padding&&(0===t&&(l=L.getAbsoluteDistance(0,i.padding[0],!1),r=Math.max(r,l)),t===p.length-1&&(l=L.getAbsoluteDistance(100,i.padding[1],!0),r=Math.min(r,l))),o||(r=L.getStep(r)),!((r=c(r))===e[t]&&!s)&&r}function Ee(e,t){var r=i.ort;return(r?t:e)+", "+(r?e:t)}function Se(e,t,r,n,a){var s=r.slice(),o=n[0],l=i.events.smoothSteps,d=[!e,e],u=[e,!e];n=n.slice(),e&&n.reverse(),n.length>1?n.forEach((function(e,i){var r=be(s,e,s[e]+t,d[i],u[i],!1,l);!1===r?t=0:(t=r-s[e],s[e]=r)})):d=u=[!0];var c=!1;n.forEach((function(e,i){c=Ie(e,r[e]+t,d[i],u[i],!1,l)||c})),c&&(n.forEach((function(e){ye("update",e),ye("slide",e)})),null!=a&&ye("drag",o))}function we(e,t){return i.dir?100-e-t:e}function Ae(e,t){P[e]=t,_[e]=L.fromStepping(t);var r="translate("+Ee(we(t,0)-V+"%","0")+")";p[e].style[i.transformRule]=r,Te(e),Te(e+1)}function Ce(){k.forEach((function(e){var t=P[e]>50?-1:1,i=3+(p.length+t*e);p[e].style.zIndex=String(i)}))}function Ie(e,t,i,r,n,a){return n||(t=be(P,e,t,i,r,!1,a)),!1!==t&&(Ae(e,t),!0)}function Te(e){if(S[e]){var t=0,r=100;0!==e&&(t=P[e-1]),e!==S.length-1&&(r=P[e]);var n=r-t,a="translate("+Ee(we(t,n)+"%","0")+")",s="scale("+Ee(n/100,"1")+")";S[e].style[i.transformRule]=a+" "+s}}function Le(e,t){return null===e||!1===e||void 0===e?P[t]:("number"==typeof e&&(e=String(e)),!1!==(e=i.format.from(e))&&(e=L.toStepping(e)),!1===e||isNaN(e)?P[t]:e)}function _e(e,t,r){var n=h(e),a=void 0===P[0];t=void 0===t||t,i.animate&&!a&&u(T,i.cssClasses.tap,i.animationDuration),k.forEach((function(e){Ie(e,Le(n[e],e),!0,!1,r)}));var s=1===k.length?0:1;if(a&&L.hasNoSize()&&(r=!0,P[0]=0,k.length>1)){var o=100/(k.length-1);k.forEach((function(e){P[e]=e*o}))}for(;s<k.length;++s)k.forEach((function(e){Ie(e,P[e],!0,!0,r)}));Ce(),k.forEach((function(e){ye("update",e),null!==n[e]&&t&&ye("set",e)}))}function Pe(e){_e(i.start,e)}function ke(e,t,i,r){if(!((e=Number(e))>=0&&e<k.length))throw new Error("noUiSlider: invalid handle number, got: "+e);Ie(e,Le(t,e),!0,!0,r),ye("update",e),i&&ye("set",e)}function xe(e){if(void 0===e&&(e=!1),e)return 1===_.length?_[0]:_.slice(0);var t=_.map(i.format.to);return 1===t.length?t[0]:t}function Re(){for(me(D.aria),me(D.tooltips),Object.keys(i.cssClasses).forEach((function(e){f(T,i.cssClasses[e])}));T.firstChild;)T.removeChild(T.firstChild);delete T.noUiSlider}function Oe(e){var t=P[e],r=L.getNearbySteps(t),n=_[e],a=r.thisStep.step,s=null;if(i.snap)return[n-r.stepBefore.startValue||null,r.stepAfter.startValue-n||null];!1!==a&&n+a>r.stepAfter.startValue&&(a=r.stepAfter.startValue-n),s=n>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&n-r.stepBefore.highestStep,100===t?a=null:0===t&&(s=null);var o=L.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(o))),null!==s&&!1!==s&&(s=Number(s.toFixed(o))),[s,a]}function De(){return k.map(Oe)}function Me(e,t){var r=xe(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(t){void 0!==e[t]&&(o[t]=e[t])}));var s=ae(o);a.forEach((function(t){void 0!==e[t]&&(i[t]=s[t])})),L=s.spectrum,i.margin=s.margin,i.limit=s.limit,i.padding=s.padding,i.pips?ee(i.pips):Z(),i.tooltips?z():K(),P=[],_e(n(e.start)?e.start:r,t)}function Ne(){d=j(T),H(i.connect,d),ve(i.events),_e(i.start),i.pips&&ee(i.pips),i.tooltips&&z(),J()}Ne();var Ve={destroy:Re,steps:De,on:fe,off:me,get:xe,set:_e,setHandle:ke,reset:Pe,__moveHandles:function(e,t,i){Se(e,t,P,i)},options:o,updateOptions:Me,target:T,removePips:Z,removeTooltips:K,getPositions:function(){return P.slice()},getTooltips:function(){return A},getOrigins:function(){return p},pips:ee};return Ve}function oe(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=se(e,ae(t),t);return e.noUiSlider=i,i}var le={__spectrum:x,cssClasses:O,create:oe};e.create=oe,e.cssClasses=O,e.default=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},82361:e=>{!function(t){"use strict";var i,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",d=t.regeneratorRuntime;if(d)e.exports=d;else{(d=t.regeneratorRuntime=e.exports).wrap=b;var u="suspendedStart",c="suspendedYield",h="executing",p="completed",v={},f={};f[s]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==r&&n.call(m,s)&&(f=m);var y=A.prototype=S.prototype=Object.create(f);w.prototype=y.constructor=A,A.constructor=w,A[l]=w.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},d.awrap=function(e){return{__await:e}},C(I.prototype),I.prototype[o]=function(){return this},d.AsyncIterator=I,d.async=function(e,t,i,r){var n=new I(b(e,t,i,r));return d.isGeneratorFunction(t)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},C(y),y[l]="Generator",y[s]=function(){return this},y.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},d.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=i),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),d=n.call(s,"finallyLoc");if(l&&d){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),_(i),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;_(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=i),v}}}function b(e,t,i,r){var n=t&&t.prototype instanceof S?t:S,a=Object.create(n.prototype),s=new P(r||[]);return a._invoke=function(e,t,i){var r=u;return function(n,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===n)throw a;return x()}for(i.method=n,i.arg=a;;){var s=i.delegate;if(s){var o=T(s,i);if(o){if(o===v)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var l=E(e,t,i);if("normal"===l.type){if(r=i.done?p:c,l.arg===v)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=p,i.method="throw",i.arg=l.arg)}}}(e,i,s),a}function E(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function S(){}function w(){}function A(){}function C(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function I(e){function t(i,r,a,s){var o=E(e[i],e,r);if("throw"!==o.type){var l=o.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?Promise.resolve(d.__await).then((function(e){t("next",e,a,s)}),(function(e){t("throw",e,a,s)})):Promise.resolve(d).then((function(e){l.value=e,a(l)}),s)}s(o.arg)}var i;this._invoke=function(e,r){function n(){return new Promise((function(i,n){t(e,r,i,n)}))}return i=i?i.then(n,n):n()}}function T(e,t){var r=e.iterator[t.method];if(r===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,T(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=E(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,v;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function k(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=i,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}};return n[e].call(i.exports,i,i.exports,s),i.exports}return s.m=n,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var n=Object.create(null);s.r(n);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,s.d(n,a),n},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,i)=>(s.f[i](e,t),t)),[])),s.u=e=>"ardplayer-"+{98:"plugindash",377:"pluginhls",663:"pluginhtmla",738:"pluginhtmlv",907:"sandlibrary",984:"libimsc",988:"pluginchromecast"}[e]+"."+{98:"a7275c59",377:"f615d5a2",663:"d04cedbb",738:"866c1fbf",907:"a58cd041",984:"304b8154",988:"68c280ed"}[e]+".chunk.js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},r="ardplayer:",s.l=(e,t,n,a)=>{if(i[e])i[e].push(t);else{var o,l;if(void 0!==n)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==r+n){o=c;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",r+n),o.src=e),i[e]=[t];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(p);var n=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="../dist/",(()=>{var e={179:0};s.f.j=(t,i)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var n=new Promise(((i,n)=>r=e[t]=[i,n]));i.push(r[2]=n);var a=s.p+s.u(t),o=new Error;s.l(a,(i=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var n=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",o.name="ChunkLoadError",o.type=n,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,n,[a,o,l]=i,d=0;if(a.some((t=>0!==e[t]))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)l(s)}for(t&&t(i);d<a.length;d++)n=a[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0},i=self.webpackChunkardplayer=self.webpackChunkardplayer||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),s(93317),s(20310),s(82361),s(67058)})()));