(globalThis.webpackChunkardplayer=globalThis.webpackChunkardplayer||[]).push([[402],{85013:function(module){
/*!
 * Copyright (c) 2022, Fraunhofer-Gesellschaft zur FÃ¶rderung der angewandten Forschung e.V.
 * All rights reserved.
 *
 * For more information please contact:
 * Fraunhofer FOKUS
 * Kaiserin-Augusta-Allee 31
 * 10589 Berlin, Germany
 * https://www.fokus.fraunhofer.de/go/fame
 * famecontact@fokus.fraunhofer.de
 */
var e;e=function(){return function(){var e={"./node_modules/sandlib-core/lib/externals/js.cookie.js":
/*!**************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/externals/js.cookie.js ***!
  \**************************************************************/function(module,e,t){var n,r;
/*!
 * JavaScript Cookie v2.1.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){void 0===(r="function"==typeof(n=i)?n.call(e,t,e,module):n)||(module.exports=r),module.exports=i()}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,!0!==o[c]&&(l+="="+o[c]));return document.cookie=t+"="+i+l}t||(s={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),f=h.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var m=h[0].replace(d,decodeURIComponent);if(f=n.read?n.read(f,m):n(f,m)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===m){s=f;break}t||(s[m]=f)}catch(e){}}return s}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/externals/js.cookie.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/externals/js.cookie.js ***!
  \*****************************************************************************************************************/function(module,e,t){var n,r;
/*!
 * JavaScript Cookie v2.1.4
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){void 0===(r="function"==typeof(n=i)?n.call(e,t,e,module):n)||(module.exports=r),module.exports=i()}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,!0!==o[c]&&(l+="="+o[c]));return document.cookie=t+"="+i+l}t||(s={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),f=h.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var m=h[0].replace(d,decodeURIComponent);if(f=n.read?n.read(f,m):n(f,m)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===m){s=f;break}t||(s[m]=f)}catch(e){}}return s}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))},"./node_modules/sandlib-core/lib/channels/Channel.ts":
/*!***********************************************************!*\
  !*** ./node_modules/sandlib-core/lib/channels/Channel.ts ***!
  \***********************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Channel:function(){return s}});var r=n(/*! ../core/events */"./node_modules/sandlib-core/lib/core/events.ts"),i=n(/*! ../core/Constants */"./node_modules/sandlib-core/lib/core/Constants.ts"),o=n(/*! ../index */"./node_modules/sandlib-core/lib/index.ts"),s=function(){function e(e,t,n,o,s,a,l,c,u,d,p){var h,f,m=this;this.messageBus=e,this.clientModel=t,this._metricMgmtController=n,this._schemeIdUri=o||null,this._id=s||null,this._endpoint=l||null,this._isReportingChannel=c||!1,this._reportMetricTypes=u||[],this._limiter=d;var y=p;this._configuration=y,this._messageData={},this._sendCallback=null,this._intervalHandler=null,this._timeoutHandler=null;var b=(null==y?void 0:y.defaults)&&(null===(h=null==y?void 0:y.defaults)||void 0===h?void 0:h.reportingInterval);this._reportingInterval=isNaN(b)?2e3:b,this._initTime=this.clientModel.now()+(isNaN(y.adaptiveInterval&&y.adaptiveInterval.init)?6e4:y.adaptiveInterval.init),this._adaptiveReportingInterval=isNaN(y.adaptiveInterval&&y.adaptiveInterval.reportingInterval)?4e3:y.adaptiveInterval.reportingInterval,this._errorTimeout=isNaN(y.defaults&&y.defaults.errorTimeout)?6e4:y.defaults.errorTimeout,this.disposed=!1,this._onDestroy=[],this.processMessages=null,this.messageBus.on(r.default.FLUSH,(function(){try{m.processMessages&&m.processMessages()}catch(e){}})),a?(this.syncDateWithUTCTimingEndpoint(),this.token=a,this.processMessages=this.send,this.runReportingLoop()):(this.clientModel.setSenderId(),this.requestLimitedReportingSession()),this.expires_in=-1,this.clientModel.setDefaultThreshold(null!==(f=y.defaults.syncedDateThreshold)&&void 0!==f?f:i.default.SYNCEDDATE.THRESHOLD)}return e.prototype.syncDateWithResponseHeaders=function(e){var t,n,r=null,i=(null!==(t=null==e?void 0:e.getAllResponseHeaders())&&void 0!==t?t:"").toLowerCase();0!==i.indexOf("date:")&&-1===i.indexOf("\r\ndate:")||(r=null!==(n=null==e?void 0:e.getResponseHeader("date"))&&void 0!==n?n:null),this.clientModel.getInitTS()<=0&&(r&&"Invalid Date"!==new Date(r).toString()?(this.clientModel.syncClock(r),this.clientModel.setInitTSViaWallClock(r),this.clientModel.setInitTS()):this.syncDateWithUTCTimingEndpoint())},e.prototype.syncDateWithUTCTimingEndpoint=function(){var e,t=this,n=new XMLHttpRequest,r=null!==(e=this._configuration.utcTiming)&&void 0!==e?e:i.default.UTC_TIMING.ENDPOINT;n.open("GET",r,!0),n.onload=function(){try{if(t.clientModel._initTS<=0)if(n.responseText&&"Invalid Date"!==new Date(n.responseText).toString())t.clientModel.syncClock(n.responseText),t.clientModel.setInitTSViaWallClock(n.responseText),t.clientModel.setInitTS();else{var e=Date.now();t.clientModel.syncClock(e),t.clientModel.setInitTSViaWallClock(e),t.clientModel.setInitTS()}}catch(e){}},n.onerror=function(){},n.send(null)},e.prototype.runReportingLoop=function(e){var t=this;void 0===e&&(e=0);var n=e||(this.clientModel.now()>this._initTime?this._adaptiveReportingInterval:this._reportingInterval);this._intervalHandler&&o.SANDLibraryCore.globalTimer.clearInterval(this._intervalHandler),this._intervalHandler=null,this.disposed||(this._intervalHandler=o.SANDLibraryCore.globalTimer.setInterval((function(){try{t.processMessages&&t.processMessages()}catch(e){}}),n))},e.prototype.stopReportingLoop=function(){o.SANDLibraryCore.globalTimer.clearInterval(this._intervalHandler),this._intervalHandler=null},e.prototype.setTokenRefreshTimer=function(){var e=this;this._timeoutHandler&&o.SANDLibraryCore.globalTimer.clearTimeout(this._timeoutHandler),this._timeoutHandler=null,this.disposed||this.expires_in<0||(this.expires_in>-1&&this.expires_in-6e4<6e4?this.requestLimitedReportingSession():this._timeoutHandler=o.SANDLibraryCore.globalTimer.setTimeout((function(){try{e.requestLimitedReportingSession()}catch(e){}}),this.expires_in-6e4))},e.prototype.requestLimitedReportingSession=function(){var e=this;if(this._limiter&&this._limiter.endpoint){var t=this.clientModel.getStreamingSessionId(),n=new XMLHttpRequest,i=this._limiter.endpoint.indexOf("?")>-1?"&sid=":"?sid=";n.overrideMimeType("application/json"),n.open("GET",this._limiter.endpoint+i+t,!0),n.onload=function(){try{e.clientModel.getInitTS()<=0&&e.syncDateWithResponseHeaders(n);var t=JSON.parse(n.responseText);t.token?(e.token=t.token,t.expires_in&&(e.expires_in=t.expires_in,e.setTokenRefreshTimer()),e.processMessages=e.send,t.renewUrl&&t.maxRenewIntervalSecs&&e.renewLimitedReportingSession(t.renewUrl,1e3*t.maxRenewIntervalSecs),e.messageBus.emit(r.default.FLUSH,null),e.runReportingLoop()):e.processMessages=e.drop}catch(e){}},n.onerror=function(){e.processMessages=e.drop},n.send(null)}},e.prototype.renewLimitedReportingSession=function(e,t){try{var n=new XMLHttpRequest,r=o.SANDLibraryCore.globalTimer.setInterval((function(){n.open("GET",e,!0),n.send(null)}),t);this._onDestroy.push((function(){o.SANDLibraryCore.globalTimer.clearInterval(r)}))}catch(e){}},e.prototype.setReportingChannel=function(e){this._isReportingChannel=e},e.prototype.getReportingChannel=function(){return this._isReportingChannel},e.prototype.addReportMetricTypes=function(e){for(var t=0;t<e.length;t++)-1===this._reportMetricTypes.indexOf(e[t])&&this._reportMetricTypes.push(e[t])},e.prototype.getSchemeIdUri=function(){return this._schemeIdUri},e.prototype.setSchemeIdUri=function(e){this._schemeIdUri=e},e.prototype.getEndpoint=function(){return this._endpoint},e.prototype.setEndpoint=function(e){this._endpoint=e},e.prototype.getId=function(){return this._id},e.prototype.setId=function(e){this._id=e},e.prototype.getReportMetricTypes=function(){return this._reportMetricTypes},e.prototype.setMessageInterval=function(e){this._reportingInterval=e},e.prototype.addMessageDataAsJson=function(e,t){var n=this;if(-1!==this._reportMetricTypes.indexOf(e)){var i=this.clientModel.getInitTS(),o=this.clientModel.getOptionalParamsObject(),s=Array.isArray(t)?t:[t];this._messageData[e]=(this._messageData[e]||[]).concat(s.map((function(t){return n._metricMgmtController.create(e,t,i,o)}))),"Playback"===e&&this.messageBus.emit(r.default.FLUSH,null)}},e.prototype.registerSendCallback=function(e){if("function"!=typeof e)throw new Error("callback should be a function");this._sendCallback=e},e.prototype.removeSendCallback=function(){this._sendCallback=null},e.prototype.remove=function(){this.disposed=!0,this.stopReportingLoop();for(var e=void 0;e=this._onDestroy.shift();)try{e()}catch(e){}},e.prototype.send=function(){throw new Error("Your Channel should implement its own send method!")},e.prototype.drop=function(){this._messageData={}},e}()},"./node_modules/sandlib-core/lib/channels/XHRChannel.ts":
/*!**************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/channels/XHRChannel.ts ***!
  \**************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{XHRChannel:function(){return u}});var r,i=n(/*! ../core/events */"./node_modules/sandlib-core/lib/core/events.ts"),o=n(/*! ./Channel */"./node_modules/sandlib-core/lib/channels/Channel.ts"),s=n(/*! ../utils/SANDMetricsExtractor */"./node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts"),a=n(/*! ../utils/utils */"./node_modules/sandlib-core/lib/utils/utils.ts"),l=n(/*! ../index */"./node_modules/sandlib-core/lib/index.ts"),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(t,n,r,i,o,s,a,l,c,u,d){var p=e.call(this,t,n,r,i,o,s,a,l,c,u,d)||this;return p._maxMetricsCache=d&&d.defaults&&!isNaN(d.defaults.maxMetricsCache)?d.defaults.maxMetricsCache:1e3,p.initXHR(),p}return c(t,e),t.prototype.initXHR=function(){var e=new XMLHttpRequest;e.onreadystatechange=this.onreadystatechange.bind(this,e),e.onerror=this.oncomplete.bind(this,e,null,null),this._req=e},t.prototype.onreadystatechange=function(e){try{if(4===e.readyState){var t=e.getAllResponseHeaders();null!==t&&this.messageBus.emit(i.default.RESPONSE_HEADER,{headers:(0,a.responseHeaderToKeyValue)(t)})}}catch(e){}this.oncomplete(e)},t.prototype.onsent=function(){try{this._sendCallback&&this._sendCallback(this.getId(),{})}catch(e){}},t.prototype.oncomplete=function(e){try{this.messageBus.emit(i.default.RESPONSE_HEADER,{headers:[{key:"key",value:"val"}]}),this.syncDateWithResponseHeaders(e),e.status>=200&&e.status<300?(this.metrics=[],this.runReportingLoop()):401===e.status?l.SANDLibraryCore.globalTimer.setTimeout(this.requestLimitedReportingSession.bind(this),this._errorTimeout/2):this.runReportingLoop(this._errorTimeout)}catch(e){}},t.prototype.formatMetrics=function(e){return s.SANDMetricsExtractor.extract(e,this.clientModel.getClientId(),this.clientModel.getStreamingSessionId(),this.clientModel.getOptionalMetricParamsObject(),!1)},t.prototype.formatXhr=function(e){var t,n=null!==(t=e.length)&&void 0!==t?t:0;throw new Error("XHRChannel::formatXhr must be overwritten - dropped metrics: "+n)},t.prototype.send=function(){try{if(0===Object.keys(this._messageData).length)return;var e=this.formatMetrics(this._messageData);this.metrics=(this.metrics||[]).concat(e).slice(-1*this._maxMetricsCache),this._messageData={};try{this.stopReportingLoop();var t=this.formatXhr(this.metrics);if(!this._endpoint)throw new Error("endpoint is null");this._req.open(t.method,this._endpoint,!0);for(var n=0;n<t.headers.length;n++){var r=t.headers[n];this._req.setRequestHeader(r.name,r.value)}this._req.send(t.body),this.onsent()}catch(e){this.oncomplete(this._req)}}catch(e){this._messageData={}}},t.prototype.remove=function(){var t=this;this._req.onloadend=null,this._req.onerror=null,this._req.onreadystatechange=null,4===this._req.readyState?this._req.abort():setTimeout((function(){t._req&&t._req.abort&&t._req.abort()}),2e3),e.prototype.remove.call(this)},t}(o.Channel)},"./node_modules/sandlib-core/lib/controllers/ChannelController.ts":
/*!************************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/controllers/ChannelController.ts ***!
  \************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ChannelController:function(){return r}});var r=function(){function e(e){this._metricMgmtController=e,this._registeredChannelTypes={},this._channels=[]}return e.prototype.getChannels=function(){return this._channels},e.prototype.getChannelByIdAndEndpoint=function(e,t){for(var n=0;n<this._channels.length;n++){var r=this._channels[n];if(e&&r.getId()===e||r.getEndpoint()===t)return r}return null},e.prototype.getReportingChannels=function(){for(var e=[],t=0;t<this._channels.length;t++){var n=this._channels[t];n.getReportingChannel()&&e.push(n)}return e},e.prototype.updateChannels=function(e,t,n,r,i){r=r||[];for(var o=0;o<r.length;o++){var s=r[o];if(!s.hasOwnProperty("schemeIdUri"))throw new Error("schemeIdUri is expected on a channel element");var a=s.getId()||null,l=s.getEndpoint()||null,c=this.getChannelByIdAndEndpoint(a,l);c&&c.setId(a)}n=n||[];for(var u=0;u<n.length;u++){var d=n[u];if(!d.hasOwnProperty("schemeIdUri"))throw new Error("schemeIdUri is expected on a reporting element for sand reporting");if("urn:mpeg:dash:sand:channel:2016"===d.schemeIdUri){var p=this.getChannelByIdAndEndpoint(d.value,null);if(!p)throw new Error("No matching Channel found for reporting element");p.setReportingChannel(!0),p.addReportMetricTypes(d.metrics)}else{if(!d.hasOwnProperty("endpoints"))throw new Error("urn:mpeg:dash:sand:channel:http:2016 reporting element expects a valid url as value");l=d.endpoints[0],this.getChannelByIdAndEndpoint(null,l)||this._channels.push(this.createChannel(e,t,d,this._metricMgmtController,i))}}return this._channels},e.prototype.removeAllChannels=function(){for(var e in this._channels)this._channels[e].remove(),delete this._channels[e];this._channels=[]},e.prototype.setMessageIntervalForChannel=function(e,t,n){var r=this.getChannelByIdAndEndpoint(t,n);r&&r.setMessageInterval(e)},e.prototype.registerChannelType=function(e,t){this._registeredChannelTypes["".concat(e).replace(/[^a-zA-Z0-9 ]/g,"")]=t},e.prototype.createChannel=function(e,t,n,r,i){var o=n.schemeIdUri,s=n.token,a=n.endpoints,l=n.metrics,c=n.limiter;if(!this._registeredChannelTypes["".concat(o).replace(/[^a-zA-Z0-9 ]/g,"")])throw new Error("Unsupported schemeIdUri: ".concat(o));try{return new(this._registeredChannelTypes["".concat(o).replace(/[^a-zA-Z0-9 ]/g,"")])(e,t,r,o,null,s,a[0],!0,l,c,i)}catch(e){throw new Error("Could not create channel of schemeIdUri: ".concat(o,": ")+e)}},e}()},"./node_modules/sandlib-core/lib/controllers/MetricMgmtController.ts":
/*!***************************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/controllers/MetricMgmtController.ts ***!
  \***************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{MetricMgmtController:function(){return i}});var r=[],i=function(){function e(){this._optionalParams=r,this._metricTypeMap={}}return e.prototype.allowOptionalParams=function(e){this._optionalParams=this._optionalParams.concat(e)},e.prototype.getOptionalParams=function(){return this._optionalParams},e.prototype.registerMetricType=function(e,t,n){this._metricTypeMap[e]={metricContainerName:t,entityClass:n}},e.prototype.getMetricTypeMap=function(){return this._metricTypeMap},e.prototype.getMetricTypes=function(){return Object.keys(this._metricTypeMap)},e.prototype.create=function(e,t,n,r){return this._metricTypeMap[e]?new this._metricTypeMap[e].entityClass(t,n,r,this.getOptionalParams()):null},e}()},"./node_modules/sandlib-core/lib/controllers/ReportingController.ts":
/*!**************************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/controllers/ReportingController.ts ***!
  \**************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ReportingController:function(){return r}});var r=function(){function e(e){this.channelController=e}return e.prototype.addNewMetric=function(e,t){for(var n=this.channelController.getReportingChannels(),r=0;r<n.length;r++)n[r].addMessageDataAsJson(e,t)},e.prototype.send=function(e){for(var t=this.channelController.getReportingChannels(),n=0;n<t.length;n++)t[n].send();e&&e()},e}()},"./node_modules/sandlib-core/lib/controllers/WallClockSyncController.ts":
/*!******************************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/controllers/WallClockSyncController.ts ***!
  \******************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{WallClockSyncController:function(){return r}});var r=function(){function e(){this.initTS=0,this.clientTimeOffset=void 0,this.defaultThreshold=-1,this.clientTimeOffset=void 0}return e.prototype.setInitTS=function(e){void 0===e&&(e=null),this.initTS=e?new Date(e).getTime():Date.now()},e.prototype.getInitTS=function(){return this.initTS},e.prototype.alignWithExternalTime=function(e){void 0===e&&(e=null),e&&(this.clientTimeOffset=Date.now()-new Date(e).getTime())},e.prototype.setDefaultThreshold=function(e){void 0===e&&(e=-1),e&&(this.defaultThreshold=e)},e.prototype.now=function(e){return void 0===e&&(e=this.defaultThreshold),e>-1&&Math.abs(e)>Math.abs(this.clientTimeOffset)?Date.now():(e>-1&&(Math.abs(e),Math.abs(this.clientTimeOffset)),Date.now()-(this.clientTimeOffset||0))},e}()},"./node_modules/sandlib-core/lib/core/Constants.ts":
/*!*********************************************************!*\
  !*** ./node_modules/sandlib-core/lib/core/Constants.ts ***!
  \*********************************************************/function(e,t,n){"use strict";n.r(t),t.default={ENDPOINT_SCHEME:{SB:"sb",XHR:"xhr"},PAYLOAD_SCHEME:{MESSAGES:"messages",METRICS:"metrics"},PAYLOAD_TYPES:{JSON:"text/json",XML:"text/xml"},SAND_HEADERS:{CLIENT_ID:"X-SAND-ClientID",STREAMING_SESSION_ID:"X-SAND-StreamingSessionID",SESSION_START:"X-SAND-IsSessionStart"},SB_SEND_STATUS:{SUCCESS:"success",ERROR:"error"},SYNCEDDATE:{THRESHOLD:1e4},UTC_TIMING:{ENDPOINT:"https://sand.ard.de/time?iso"}}},"./node_modules/sandlib-core/lib/core/events.ts":
/*!******************************************************!*\
  !*** ./node_modules/sandlib-core/lib/core/events.ts ***!
  \******************************************************/function(e,t,n){"use strict";n.r(t),t.default={FLUSH:"flush",RESPONSE_HEADER:"newResponseHeader"}},"./node_modules/sandlib-core/lib/index.ts":
/*!************************************************!*\
  !*** ./node_modules/sandlib-core/lib/index.ts ***!
  \************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Channel:function(){return a.Channel},ChannelController:function(){return r.ChannelController},ClientModel:function(){return c.ClientModel},EntityBase:function(){return p.EntityBase},EventEmitter:function(){return m.EventEmitter},Metric:function(){return u.Metric},MetricMgmtController:function(){return o.MetricMgmtController},ReportingController:function(){return i.ReportingController},SANDLibraryCore:function(){return y},SANDMessage:function(){return d.SANDMessage},SANDMessageSerializer:function(){return f.SANDMessageSerializer},SANDMetricsExtractor:function(){return h.SANDMetricsExtractor},WallClockSyncController:function(){return s.WallClockSyncController},XHRChannel:function(){return l.XHRChannel},assign:function(){return m.assign},renameKeysWithPrefix:function(){return m.renameKeysWithPrefix},responseHeaderToKeyValue:function(){return m.responseHeaderToKeyValue},startsWithUpperCase:function(){return m.startsWithUpperCase}});var r=n(/*! ./controllers/ChannelController */"./node_modules/sandlib-core/lib/controllers/ChannelController.ts"),i=n(/*! ./controllers/ReportingController */"./node_modules/sandlib-core/lib/controllers/ReportingController.ts"),o=n(/*! ./controllers/MetricMgmtController */"./node_modules/sandlib-core/lib/controllers/MetricMgmtController.ts"),s=n(/*! ./controllers/WallClockSyncController */"./node_modules/sandlib-core/lib/controllers/WallClockSyncController.ts"),a=n(/*! ./channels/Channel */"./node_modules/sandlib-core/lib/channels/Channel.ts"),l=n(/*! ./channels/XHRChannel */"./node_modules/sandlib-core/lib/channels/XHRChannel.ts"),c=n(/*! ./models/ClientModel */"./node_modules/sandlib-core/lib/models/ClientModel.ts"),u=n(/*! ./models/Metric */"./node_modules/sandlib-core/lib/models/Metric.ts"),d=n(/*! ./models/SANDMessage */"./node_modules/sandlib-core/lib/models/SANDMessage.ts"),p=n(/*! ./models/metrics/EntityBase */"./node_modules/sandlib-core/lib/models/metrics/EntityBase.ts"),h=n(/*! ./utils/SANDMetricsExtractor */"./node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts"),f=n(/*! ./utils/SANDMessageSerializer */"./node_modules/sandlib-core/lib/utils/SANDMessageSerializer.ts"),m=n(/*! ./utils/utils */"./node_modules/sandlib-core/lib/utils/utils.ts"),y=function(){function e(){this.globalTimer={setInterval:window.setInterval.bind(window),setTimeout:window.setTimeout.bind(window),clearInterval:window.clearInterval.bind(window),clearTimeout:window.clearTimeout.bind(window)},this.wallClockSyncController=new s.WallClockSyncController,this.metricMgmtController=new o.MetricMgmtController,this.channelController=new r.ChannelController(this.metricMgmtController),this.reportingController=new i.ReportingController(this.channelController),this.clientModel=new c.ClientModel(this.reportingController,this.wallClockSyncController),this.messageBus=new m.EventEmitter}return e.prototype.setGlobalTimer=function(t){e.globalTimer=t},e.prototype.now=function(){return this.getSyncedT()},e.prototype.getOptionalParams=function(){return this.metricMgmtController.getOptionalParams()},e.prototype.setOptionalParams=function(e){return this.metricMgmtController.allowOptionalParams(e)},e.prototype.getMetricTypeMap=function(){return this.metricMgmtController.getMetricTypeMap()},e.prototype.registerMetricType=function(e,t,n){return this.metricMgmtController.registerMetricType(e,t,n)},e.prototype.registerChannelType=function(e,t){return this.channelController.registerChannelType(e,t)},e.prototype.updateSANDChannelConfiguration=function(e,t,n){if(e&&Array.isArray(e)){var r=e.filter((function(e){return e.hasOwnProperty("endpoints")&&Array.isArray(e.endpoints)&&e.endpoints.length>0}));n&&n.context&&n.context.group&&this.clientModel.setContextGroup(n.context.group),n&&n.context&&n.context.id&&this.clientModel.setContextId(n.context.id),n&&n.context&&n.context.key&&this.clientModel.setContextKey(n.context.key);for(var i=0;i<r.length;i++)r[i].hasOwnProperty("metrics")||(r[i].metrics=this.metricMgmtController.getMetricTypes());this.channelController.updateChannels(this.messageBus,this.clientModel,r,t,n)}},e.prototype.removeAllChannels=function(){return this.channelController.removeAllChannels()},e.prototype.setMessageInterval=function(e,t,n){this.channelController.setMessageIntervalForChannel(e,t,n)},e.prototype.setSenderId=function(e){void 0===e&&(e=""),this.clientModel.setSenderId(e),this.prepareReporting()},e.prototype.getSenderId=function(){try{return this.clientModel.getSenderId()}catch(e){throw e}},e.prototype.getClientId=function(){try{return this.clientModel.getClientId()}catch(e){throw e}},e.prototype.getStreamingSessionId=function(){try{return this.clientModel.getStreamingSessionId()}catch(e){throw e}},e.prototype.getInitTS=function(){try{return this.clientModel.getInitTS()}catch(e){throw e}},e.prototype.getSyncedT=function(e){return void 0===e&&(e=null),this.clientModel.now(e)},e.prototype.setOptionalParamsObjectEntry=function(e,t){this.clientModel.setOptionalParamsObjectEntry(e,t)},e.prototype.getOptionalParamsObject=function(){return this.clientModel.getOptionalParamsObject()},e.prototype.setOptionalMetricParamsObjectEntry=function(e,t){this.clientModel.setOptionalMetricParamsObjectEntry(e,t)},e.prototype.getOptionalMetricParamsObject=function(){return this.clientModel.getOptionalMetricParamsObject()},e.prototype.setPlayer=function(e){this.clientModel.setPlayer(e)},e.prototype.setReferrer=function(e){this.clientModel.setReferrer(e)},e.prototype.getReferrer=function(){return this.clientModel.getReferrer()},e.prototype.setManifestType=function(e){this.clientModel.setManifestType(e)},e.prototype.setSANDAdapterVersion=function(e){this.clientModel.setSANDAdapterVersion(e)},e.prototype.addNewMetric=function(e,t){if("PlayList"===e&&(e="Playback"),!(this.getInitTS()<=0))return this.reportingController.addNewMetric(e,t);this.clientModel.cacheNewMetric(e,t)},e.prototype.send=function(e){return this.reportingController.send(e)},e.prototype.getChannelController=function(){return this.channelController},e.prototype.prepareReporting=function(){this.clientModel.setInitTS(),this.clientModel.flushInitialMetricsCache()},e.prototype.stopReporting=function(){var e=this;this.clientModel.setInitTSViaWallClock(0),this.reportingController.send((function(){return setTimeout((function(){return e.removeAllChannels()}),1e3)}))},e}();y.globalTimer=window,y.setGlobalTimer=function(e){y.globalTimer=e}},"./node_modules/sandlib-core/lib/models/ClientModel.ts":
/*!*************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/models/ClientModel.ts ***!
  \*************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ClientModel:function(){return s}});var r=n(/*! ../externals/js.cookie */"./node_modules/sandlib-core/lib/externals/js.cookie.js"),i=n.n(r),o="clientID",s=function(){function e(e,t){this._reportingController=e,this._wallClockSyncController=t,this._SANDAdapterVersion=void 0,this._SANDLibraryVersion="1.8.4",this._clientId=void 0,this._streamingSessionId=void 0,this._contextKey=void 0,this._contextToken=void 0,this._contextId=void 0,this._contextGroup=void 0,this._player=void 0,this._referrer=void 0,this._manifestType=void 0,this._initTS=-1,this._optionalParamsObject={},this._optionalMetricParamsObject={},this._initialMetricsCache=[]}return e.genUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.prototype.getSANDLibraryVersion=function(){return this._SANDLibraryVersion},e.prototype.setSANDAdapterVersion=function(e){this._SANDAdapterVersion=e},e.prototype.getSANDAdapterVersion=function(){return this._SANDAdapterVersion},e.prototype.setSenderId=function(e){var t=(e||"").split("--");this.setClientId(t[0]),this.setStreamingSessionId(t[1])},e.prototype.getSenderId=function(){return[this._clientId,this._streamingSessionId].join("--")},e.prototype.setClientId=function(t){this._clientId=t||i().get(o)||e.genUUID(),i().set(o,this._clientId,{expires:365})},e.prototype.getClientId=function(){return this._clientId||i().get(o)},e.prototype.setStreamingSessionId=function(t){this._streamingSessionId=t||e.genUUID()},e.prototype.getStreamingSessionId=function(){return this._streamingSessionId},e.prototype.setContextKey=function(e){this._contextKey=e},e.prototype.getContextKey=function(){return this._contextKey},e.prototype.setContextToken=function(e){this._contextToken=e},e.prototype.getContextToken=function(){return this._contextToken},e.prototype.setContextId=function(e){this._contextId=e},e.prototype.getContextId=function(){return this._contextId},e.prototype.setContextGroup=function(e){this._contextGroup=e},e.prototype.getContextGroup=function(){return this._contextGroup},e.prototype.setPlayer=function(e){this._player=e},e.prototype.getPlayer=function(){return this._player},e.prototype.setReferrer=function(e){this._referrer=e},e.prototype.getReferrer=function(){return this._referrer},e.prototype.setManifestType=function(e){this._manifestType=e},e.prototype.getManifestType=function(){return this._manifestType},e.prototype.setInitTS=function(){this._initTS=this._wallClockSyncController.getInitTS()},e.prototype.getInitTS=function(){return this._wallClockSyncController.getInitTS()},e.prototype.setOptionalParamsObjectEntry=function(e,t){this._optionalParamsObject[e]=t},e.prototype.getOptionalParamsObject=function(){return this._optionalParamsObject},e.prototype.setOptionalMetricParamsObjectEntry=function(e,t){this._optionalMetricParamsObject[e]=t},e.prototype.getOptionalMetricParamsObject=function(){return this._optionalMetricParamsObject},e.prototype.cacheNewMetric=function(e,t){this._initialMetricsCache.push({metricType:e,value:t})},e.prototype.flushInitialMetricsCache=function(){if(this._initialMetricsCache.length){for(var e=0;e<this._initialMetricsCache.length;e++){var t=this._initialMetricsCache[e];this._reportingController.addNewMetric(t.metricType,t.value)}this._initialMetricsCache=[]}},e.prototype.setInitTSViaWallClock=function(e){this._wallClockSyncController.setInitTS(e)},e.prototype.syncClock=function(e){this._wallClockSyncController.alignWithExternalTime(e)},e.prototype.setDefaultThreshold=function(e){this._wallClockSyncController.setDefaultThreshold(e)},e.prototype.now=function(e){return this._wallClockSyncController.now(e)},e}()},"./node_modules/sandlib-core/lib/models/Metric.ts":
/*!********************************************************!*\
  !*** ./node_modules/sandlib-core/lib/models/Metric.ts ***!
  \********************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Metric:function(){return i}});var r=n(/*! ../utils/utils */"./node_modules/sandlib-core/lib/utils/utils.ts"),i=function e(t,n,i,o,s,a){if((0,r.assign)(a?this:this.data={},o),this.clientID=t,this.streamingSessionID=n,this.metricType=i,s)for(var l=0;l<e._optionalMetricParams.length;l++){var c=e._optionalMetricParams[l];s.hasOwnProperty(c)&&s[c]&&(this[c]=s[c])}};i._optionalMetricParams=["customerID","browser","browserversion","ip","os","platform","userAgent","deviceType"],i.allowOptionalMetricParams=function(e){i._optionalMetricParams=i._optionalMetricParams.concat(e)}},"./node_modules/sandlib-core/lib/models/SANDMessage.ts":
/*!*************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/models/SANDMessage.ts ***!
  \*************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{SANDMessage:function(){return r}});var r=function(e,t){this.senderID=e,this.generationTime=new Date(t).toISOString()}},"./node_modules/sandlib-core/lib/models/metrics/EntityBase.ts":
/*!********************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/models/metrics/EntityBase.ts ***!
  \********************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{EntityBase:function(){return r}});var r=function(e,t,n,r){if(void 0===r&&(r=null),this.t=t+e.t,this.ts=t,n)for(var i=r,o=0;o<i.length;o++){var s=i[o];n.hasOwnProperty(s)&&n[s]&&(this[s]=n[s])}}},"./node_modules/sandlib-core/lib/utils/SANDMessageSerializer.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/utils/SANDMessageSerializer.ts ***!
  \**********************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{SANDMessageSerializer:function(){return i}});var r=n(/*! ../models/SANDMessage */"./node_modules/sandlib-core/lib/models/SANDMessage.ts"),i=function(){function e(){}return e.serialize=function(e,t,n,i){var o=i,s=new r.SANDMessage(t,n);return Object.keys(e).forEach((function(t){var n;try{var r=e[t],i=o[t];i&&r&&r.length>0&&(s[i.metricContainerName]=((n={})[t]="Misc"===t||"StartupTime"===t?r[0]:r,n))}catch(e){console.log(e)}})),s},e}()},"./node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts":
/*!*********************************************************************!*\
  !*** ./node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts ***!
  \*********************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{SANDMetricsExtractor:function(){return i}});var r=n(/*! ../models/Metric */"./node_modules/sandlib-core/lib/models/Metric.ts"),i=function(){function e(){}return e.extract=function(e,t,n,i,o){return Object.keys(e).reduce((function(s,a){return s.concat(e[a].reduce((function(e,s){try{e.push(new r.Metric(t,n,a,s,i,o))}catch(e){console.log(e)}return e}),[]))}),[])},e}()},"./node_modules/sandlib-core/lib/utils/utils.ts":
/*!******************************************************!*\
  !*** ./node_modules/sandlib-core/lib/utils/utils.ts ***!
  \******************************************************/function(e,t,n){"use strict";function r(e){var t=e.split("\n");t=t.splice(0,t.length-1);for(var n=[],r=0;r<t.length;r++){var i=t[r].split(": ");n.push({key:i[0],value:i[1]})}return n}function i(e){try{return e.charAt(0)===e.charAt(0).toUpperCase()}catch(e){return!1}}function o(e,t){var n=t.hasOwnProperty("exceptionList")&&t.exceptionList.length>0?t.exceptionList:[];try{var r={};return Object.keys(e).map((function(s){return i(s)&&n.indexOf(s)<0&&Array.isArray(e[s])?void(r[s]=e[s].map((function(e){return o(e,t)}))):"[object Object]"===Object.prototype.toString.call(e[s])?void(r[s]=e[s]):void(r[t.prefix+s]=e[s])})),r}catch(e){return{}}}function s(e,t){if("object"==typeof t)for(var n=Object.keys(t),r=0;r<n.length;r++)t.propertyIsEnumerable(n[r])&&t.hasOwnProperty(n[r])&&(e[n[r]]=t[n[r]]);return e}n.r(t),n.d(t,{EventEmitter:function(){return a},assign:function(){return s},renameKeysWithPrefix:function(){return o},responseHeaderToKeyValue:function(){return r},startsWithUpperCase:function(){return i}});var a=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.emit=function(e,t){if(this.listeners[e]&&this.listeners[e].length)for(var n=0;n<this.listeners[e].length;n++)(0,this.listeners[e][n])(t)},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/lib/channels/GooglePubSubXHRChannel.ts":
/*!***************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/lib/channels/GooglePubSubXHRChannel.ts ***!
  \***************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{GooglePubSubXHRChannel:function(){return a}});var r,i=n(/*! sandlib-core */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/index.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=3e4,a=function(e){function t(t,n,r,i,o,a,l,c,u,d,p){var h,f;h=e.call(this,t,n,r,i,o,a,l,c,u,d,p)||this;var m=p,y=(null==m?void 0:m.defaults)&&(null===(f=null==m?void 0:m.defaults)||void 0===f?void 0:f.beaconInterval);return s=!y||isNaN(y)?3e4:y,h}return o(t,e),t.prototype.formatMetrics=function(e){var t,n;return i.SANDMetricsExtractor.extract(e,null!==(t=this.clientModel.getClientId())&&void 0!==t?t:"",null!==(n=this.clientModel.getStreamingSessionId())&&void 0!==n?n:"",this.clientModel.getOptionalMetricParamsObject(),!0)},t.prototype.formatXhr=function(e){return{method:"POST",headers:[{name:"Authorization",value:"Bearer "+this.token},{name:"Content-Type",value:"application/json"}],body:JSON.stringify({messages:e.map((function(e){return{data:btoa(unescape(encodeURIComponent(JSON.stringify(e))))}}))})}},t.prototype.runReportingLoop=function(e){void 0===e&&(e=0);var t=this,n=e||(this.clientModel.now()>this._initTime?this._adaptiveReportingInterval:this._reportingInterval);this.getReportMetricTypes().indexOf("Beacon")>-1&&(n=s),this._intervalHandler&&i.SANDLibraryCore.globalTimer.clearInterval(this._intervalHandler),this._intervalHandler=null,this.disposed||(this._intervalHandler=i.SANDLibraryCore.globalTimer.setInterval((function(){try{t.processMessages&&t.processMessages()}catch(e){}}),n))},t.SchemeIdUri="urn:mpeg:dash:sand:channel:gcp:xhr:2021",t}(i.XHRChannel)},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/lib/index.ts":
/*!*************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/lib/index.ts ***!
  \*************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{GooglePubSubXHRChannel:function(){return r.GooglePubSubXHRChannel}});var r=n(/*! ./channels/GooglePubSubXHRChannel */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/lib/channels/GooglePubSubXHRChannel.ts")},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/channels/Channel.ts":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/channels/Channel.ts ***!
  \**************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Channel:function(){return s}});var r=n(/*! ../core/events */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/core/events.ts"),i=n(/*! ../core/Constants */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/core/Constants.ts"),o=n(/*! ../index */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/index.ts"),s=function(){function e(e,t,n,o,s,a,l,c,u,d,p){var h,f,m=this;this.messageBus=e,this.clientModel=t,this._metricMgmtController=n,this._schemeIdUri=o||null,this._id=s||null,this._endpoint=l||null,this._isReportingChannel=c||!1,this._reportMetricTypes=u||[],this._limiter=d;var y=p;this._configuration=y,this._messageData={},this._sendCallback=null,this._intervalHandler=null,this._timeoutHandler=null;var b=(null==y?void 0:y.defaults)&&(null===(h=null==y?void 0:y.defaults)||void 0===h?void 0:h.reportingInterval);this._reportingInterval=isNaN(b)?2e3:b,this._initTime=this.clientModel.now()+(isNaN(y.adaptiveInterval&&y.adaptiveInterval.init)?6e4:y.adaptiveInterval.init),this._adaptiveReportingInterval=isNaN(y.adaptiveInterval&&y.adaptiveInterval.reportingInterval)?4e3:y.adaptiveInterval.reportingInterval,this._errorTimeout=isNaN(y.defaults&&y.defaults.errorTimeout)?6e4:y.defaults.errorTimeout,this.disposed=!1,this._onDestroy=[],this.processMessages=null,this.messageBus.on(r.default.FLUSH,(function(){try{m.processMessages&&m.processMessages()}catch(e){}})),a?(this.syncDateWithUTCTimingEndpoint(),this.token=a,this.processMessages=this.send,this.runReportingLoop()):(this.clientModel.setSenderId(),this.requestLimitedReportingSession()),this.expires_in=-1,this.clientModel.setDefaultThreshold(null!==(f=y.defaults.syncedDateThreshold)&&void 0!==f?f:i.default.SYNCEDDATE.THRESHOLD)}return e.prototype.syncDateWithResponseHeaders=function(e){var t,n,r=null,i=(null!==(t=null==e?void 0:e.getAllResponseHeaders())&&void 0!==t?t:"").toLowerCase();0!==i.indexOf("date:")&&-1===i.indexOf("\r\ndate:")||(r=null!==(n=null==e?void 0:e.getResponseHeader("date"))&&void 0!==n?n:null),this.clientModel.getInitTS()<=0&&(r&&"Invalid Date"!==new Date(r).toString()?(this.clientModel.syncClock(r),this.clientModel.setInitTSViaWallClock(r),this.clientModel.setInitTS()):this.syncDateWithUTCTimingEndpoint())},e.prototype.syncDateWithUTCTimingEndpoint=function(){var e,t=this,n=new XMLHttpRequest,r=null!==(e=this._configuration.utcTiming)&&void 0!==e?e:i.default.UTC_TIMING.ENDPOINT;n.open("GET",r,!0),n.onload=function(){try{if(t.clientModel._initTS<=0)if(n.responseText&&"Invalid Date"!==new Date(n.responseText).toString())t.clientModel.syncClock(n.responseText),t.clientModel.setInitTSViaWallClock(n.responseText),t.clientModel.setInitTS();else{var e=Date.now();t.clientModel.syncClock(e),t.clientModel.setInitTSViaWallClock(e),t.clientModel.setInitTS()}}catch(e){}},n.onerror=function(){},n.send(null)},e.prototype.runReportingLoop=function(e){var t=this;void 0===e&&(e=0);var n=e||(this.clientModel.now()>this._initTime?this._adaptiveReportingInterval:this._reportingInterval);this._intervalHandler&&o.SANDLibraryCore.globalTimer.clearInterval(this._intervalHandler),this._intervalHandler=null,this.disposed||(this._intervalHandler=o.SANDLibraryCore.globalTimer.setInterval((function(){try{t.processMessages&&t.processMessages()}catch(e){}}),n))},e.prototype.stopReportingLoop=function(){o.SANDLibraryCore.globalTimer.clearInterval(this._intervalHandler),this._intervalHandler=null},e.prototype.setTokenRefreshTimer=function(){var e=this;this._timeoutHandler&&o.SANDLibraryCore.globalTimer.clearTimeout(this._timeoutHandler),this._timeoutHandler=null,this.disposed||this.expires_in<0||(this.expires_in>-1&&this.expires_in-6e4<6e4?this.requestLimitedReportingSession():this._timeoutHandler=o.SANDLibraryCore.globalTimer.setTimeout((function(){try{e.requestLimitedReportingSession()}catch(e){}}),this.expires_in-6e4))},e.prototype.requestLimitedReportingSession=function(){var e=this;if(this._limiter&&this._limiter.endpoint){var t=this.clientModel.getStreamingSessionId(),n=new XMLHttpRequest,i=this._limiter.endpoint.indexOf("?")>-1?"&sid=":"?sid=";n.overrideMimeType("application/json"),n.open("GET",this._limiter.endpoint+i+t,!0),n.onload=function(){try{e.clientModel.getInitTS()<=0&&e.syncDateWithResponseHeaders(n);var t=JSON.parse(n.responseText);t.token?(e.token=t.token,t.expires_in&&(e.expires_in=t.expires_in,e.setTokenRefreshTimer()),e.processMessages=e.send,t.renewUrl&&t.maxRenewIntervalSecs&&e.renewLimitedReportingSession(t.renewUrl,1e3*t.maxRenewIntervalSecs),e.messageBus.emit(r.default.FLUSH,null),e.runReportingLoop()):e.processMessages=e.drop}catch(e){}},n.onerror=function(){e.processMessages=e.drop},n.send(null)}},e.prototype.renewLimitedReportingSession=function(e,t){try{var n=new XMLHttpRequest,r=o.SANDLibraryCore.globalTimer.setInterval((function(){n.open("GET",e,!0),n.send(null)}),t);this._onDestroy.push((function(){o.SANDLibraryCore.globalTimer.clearInterval(r)}))}catch(e){}},e.prototype.setReportingChannel=function(e){this._isReportingChannel=e},e.prototype.getReportingChannel=function(){return this._isReportingChannel},e.prototype.addReportMetricTypes=function(e){for(var t=0;t<e.length;t++)-1===this._reportMetricTypes.indexOf(e[t])&&this._reportMetricTypes.push(e[t])},e.prototype.getSchemeIdUri=function(){return this._schemeIdUri},e.prototype.setSchemeIdUri=function(e){this._schemeIdUri=e},e.prototype.getEndpoint=function(){return this._endpoint},e.prototype.setEndpoint=function(e){this._endpoint=e},e.prototype.getId=function(){return this._id},e.prototype.setId=function(e){this._id=e},e.prototype.getReportMetricTypes=function(){return this._reportMetricTypes},e.prototype.setMessageInterval=function(e){this._reportingInterval=e},e.prototype.addMessageDataAsJson=function(e,t){var n=this;if(-1!==this._reportMetricTypes.indexOf(e)){var i=this.clientModel.getInitTS(),o=this.clientModel.getOptionalParamsObject(),s=Array.isArray(t)?t:[t];this._messageData[e]=(this._messageData[e]||[]).concat(s.map((function(t){return n._metricMgmtController.create(e,t,i,o)}))),"Playback"===e&&this.messageBus.emit(r.default.FLUSH,null)}},e.prototype.registerSendCallback=function(e){if("function"!=typeof e)throw new Error("callback should be a function");this._sendCallback=e},e.prototype.removeSendCallback=function(){this._sendCallback=null},e.prototype.remove=function(){this.disposed=!0,this.stopReportingLoop();for(var e=void 0;e=this._onDestroy.shift();)try{e()}catch(e){}},e.prototype.send=function(){throw new Error("Your Channel should implement its own send method!")},e.prototype.drop=function(){this._messageData={}},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/channels/XHRChannel.ts":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/channels/XHRChannel.ts ***!
  \*****************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{XHRChannel:function(){return u}});var r,i=n(/*! ../core/events */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/core/events.ts"),o=n(/*! ./Channel */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/channels/Channel.ts"),s=n(/*! ../utils/SANDMetricsExtractor */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts"),a=n(/*! ../utils/utils */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/utils.ts"),l=n(/*! ../index */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/index.ts"),c=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(t,n,r,i,o,s,a,l,c,u,d){var p=e.call(this,t,n,r,i,o,s,a,l,c,u,d)||this;return p._maxMetricsCache=d&&d.defaults&&!isNaN(d.defaults.maxMetricsCache)?d.defaults.maxMetricsCache:1e3,p.initXHR(),p}return c(t,e),t.prototype.initXHR=function(){var e=new XMLHttpRequest;e.onreadystatechange=this.onreadystatechange.bind(this,e),e.onerror=this.oncomplete.bind(this,e,null,null),this._req=e},t.prototype.onreadystatechange=function(e){try{if(4===e.readyState){var t=e.getAllResponseHeaders();null!==t&&this.messageBus.emit(i.default.RESPONSE_HEADER,{headers:(0,a.responseHeaderToKeyValue)(t)})}}catch(e){}this.oncomplete(e)},t.prototype.onsent=function(){try{this._sendCallback&&this._sendCallback(this.getId(),{})}catch(e){}},t.prototype.oncomplete=function(e){try{this.messageBus.emit(i.default.RESPONSE_HEADER,{headers:[{key:"key",value:"val"}]}),this.syncDateWithResponseHeaders(e),e.status>=200&&e.status<300?(this.metrics=[],this.runReportingLoop()):401===e.status?l.SANDLibraryCore.globalTimer.setTimeout(this.requestLimitedReportingSession.bind(this),this._errorTimeout/2):this.runReportingLoop(this._errorTimeout)}catch(e){}},t.prototype.formatMetrics=function(e){return s.SANDMetricsExtractor.extract(e,this.clientModel.getClientId(),this.clientModel.getStreamingSessionId(),this.clientModel.getOptionalMetricParamsObject(),!1)},t.prototype.formatXhr=function(e){var t,n=null!==(t=e.length)&&void 0!==t?t:0;throw new Error("XHRChannel::formatXhr must be overwritten - dropped metrics: "+n)},t.prototype.send=function(){try{if(0===Object.keys(this._messageData).length)return;var e=this.formatMetrics(this._messageData);this.metrics=(this.metrics||[]).concat(e).slice(-1*this._maxMetricsCache),this._messageData={};try{this.stopReportingLoop();var t=this.formatXhr(this.metrics);if(!this._endpoint)throw new Error("endpoint is null");this._req.open(t.method,this._endpoint,!0);for(var n=0;n<t.headers.length;n++){var r=t.headers[n];this._req.setRequestHeader(r.name,r.value)}this._req.send(t.body),this.onsent()}catch(e){this.oncomplete(this._req)}}catch(e){this._messageData={}}},t.prototype.remove=function(){var t=this;this._req.onloadend=null,this._req.onerror=null,this._req.onreadystatechange=null,4===this._req.readyState?this._req.abort():setTimeout((function(){t._req&&t._req.abort&&t._req.abort()}),2e3),e.prototype.remove.call(this)},t}(o.Channel)},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/ChannelController.ts":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/ChannelController.ts ***!
  \***************************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ChannelController:function(){return r}});var r=function(){function e(e){this._metricMgmtController=e,this._registeredChannelTypes={},this._channels=[]}return e.prototype.getChannels=function(){return this._channels},e.prototype.getChannelByIdAndEndpoint=function(e,t){for(var n=0;n<this._channels.length;n++){var r=this._channels[n];if(e&&r.getId()===e||r.getEndpoint()===t)return r}return null},e.prototype.getReportingChannels=function(){for(var e=[],t=0;t<this._channels.length;t++){var n=this._channels[t];n.getReportingChannel()&&e.push(n)}return e},e.prototype.updateChannels=function(e,t,n,r,i){r=r||[];for(var o=0;o<r.length;o++){var s=r[o];if(!s.hasOwnProperty("schemeIdUri"))throw new Error("schemeIdUri is expected on a channel element");var a=s.getId()||null,l=s.getEndpoint()||null,c=this.getChannelByIdAndEndpoint(a,l);c&&c.setId(a)}n=n||[];for(var u=0;u<n.length;u++){var d=n[u];if(!d.hasOwnProperty("schemeIdUri"))throw new Error("schemeIdUri is expected on a reporting element for sand reporting");if("urn:mpeg:dash:sand:channel:2016"===d.schemeIdUri){var p=this.getChannelByIdAndEndpoint(d.value,null);if(!p)throw new Error("No matching Channel found for reporting element");p.setReportingChannel(!0),p.addReportMetricTypes(d.metrics)}else{if(!d.hasOwnProperty("endpoints"))throw new Error("urn:mpeg:dash:sand:channel:http:2016 reporting element expects a valid url as value");l=d.endpoints[0],this.getChannelByIdAndEndpoint(null,l)||this._channels.push(this.createChannel(e,t,d,this._metricMgmtController,i))}}return this._channels},e.prototype.removeAllChannels=function(){for(var e in this._channels)this._channels[e].remove(),delete this._channels[e];this._channels=[]},e.prototype.setMessageIntervalForChannel=function(e,t,n){var r=this.getChannelByIdAndEndpoint(t,n);r&&r.setMessageInterval(e)},e.prototype.registerChannelType=function(e,t){this._registeredChannelTypes["".concat(e).replace(/[^a-zA-Z0-9 ]/g,"")]=t},e.prototype.createChannel=function(e,t,n,r,i){var o=n.schemeIdUri,s=n.token,a=n.endpoints,l=n.metrics,c=n.limiter;if(!this._registeredChannelTypes["".concat(o).replace(/[^a-zA-Z0-9 ]/g,"")])throw new Error("Unsupported schemeIdUri: ".concat(o));try{return new(this._registeredChannelTypes["".concat(o).replace(/[^a-zA-Z0-9 ]/g,"")])(e,t,r,o,null,s,a[0],!0,l,c,i)}catch(e){throw new Error("Could not create channel of schemeIdUri: ".concat(o,": ")+e)}},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/MetricMgmtController.ts":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/MetricMgmtController.ts ***!
  \******************************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{MetricMgmtController:function(){return i}});var r=[],i=function(){function e(){this._optionalParams=r,this._metricTypeMap={}}return e.prototype.allowOptionalParams=function(e){this._optionalParams=this._optionalParams.concat(e)},e.prototype.getOptionalParams=function(){return this._optionalParams},e.prototype.registerMetricType=function(e,t,n){this._metricTypeMap[e]={metricContainerName:t,entityClass:n}},e.prototype.getMetricTypeMap=function(){return this._metricTypeMap},e.prototype.getMetricTypes=function(){return Object.keys(this._metricTypeMap)},e.prototype.create=function(e,t,n,r){return this._metricTypeMap[e]?new this._metricTypeMap[e].entityClass(t,n,r,this.getOptionalParams()):null},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/ReportingController.ts":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/ReportingController.ts ***!
  \*****************************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ReportingController:function(){return r}});var r=function(){function e(e){this.channelController=e}return e.prototype.addNewMetric=function(e,t){for(var n=this.channelController.getReportingChannels(),r=0;r<n.length;r++)n[r].addMessageDataAsJson(e,t)},e.prototype.send=function(e){for(var t=this.channelController.getReportingChannels(),n=0;n<t.length;n++)t[n].send();e&&e()},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/WallClockSyncController.ts":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/WallClockSyncController.ts ***!
  \*********************************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{WallClockSyncController:function(){return r}});var r=function(){function e(){this.initTS=0,this.clientTimeOffset=void 0,this.defaultThreshold=-1,this.clientTimeOffset=void 0}return e.prototype.setInitTS=function(e){void 0===e&&(e=null),this.initTS=e?new Date(e).getTime():Date.now()},e.prototype.getInitTS=function(){return this.initTS},e.prototype.alignWithExternalTime=function(e){void 0===e&&(e=null),e&&(this.clientTimeOffset=Date.now()-new Date(e).getTime())},e.prototype.setDefaultThreshold=function(e){void 0===e&&(e=-1),e&&(this.defaultThreshold=e)},e.prototype.now=function(e){return void 0===e&&(e=this.defaultThreshold),e>-1&&Math.abs(e)>Math.abs(this.clientTimeOffset)?Date.now():(e>-1&&(Math.abs(e),Math.abs(this.clientTimeOffset)),Date.now()-(this.clientTimeOffset||0))},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/core/Constants.ts":
/*!************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/core/Constants.ts ***!
  \************************************************************************************************************/function(e,t,n){"use strict";n.r(t),t.default={ENDPOINT_SCHEME:{SB:"sb",XHR:"xhr"},PAYLOAD_SCHEME:{MESSAGES:"messages",METRICS:"metrics"},PAYLOAD_TYPES:{JSON:"text/json",XML:"text/xml"},SAND_HEADERS:{CLIENT_ID:"X-SAND-ClientID",STREAMING_SESSION_ID:"X-SAND-StreamingSessionID",SESSION_START:"X-SAND-IsSessionStart"},SB_SEND_STATUS:{SUCCESS:"success",ERROR:"error"},SYNCEDDATE:{THRESHOLD:1e4},UTC_TIMING:{ENDPOINT:"https://sand.ard.de/time?iso"}}},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/core/events.ts":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/core/events.ts ***!
  \*********************************************************************************************************/function(e,t,n){"use strict";n.r(t),t.default={FLUSH:"flush",RESPONSE_HEADER:"newResponseHeader"}},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/index.ts":
/*!***************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/index.ts ***!
  \***************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Channel:function(){return a.Channel},ChannelController:function(){return r.ChannelController},ClientModel:function(){return c.ClientModel},EntityBase:function(){return p.EntityBase},EventEmitter:function(){return m.EventEmitter},Metric:function(){return u.Metric},MetricMgmtController:function(){return o.MetricMgmtController},ReportingController:function(){return i.ReportingController},SANDLibraryCore:function(){return y},SANDMessage:function(){return d.SANDMessage},SANDMessageSerializer:function(){return f.SANDMessageSerializer},SANDMetricsExtractor:function(){return h.SANDMetricsExtractor},WallClockSyncController:function(){return s.WallClockSyncController},XHRChannel:function(){return l.XHRChannel},assign:function(){return m.assign},renameKeysWithPrefix:function(){return m.renameKeysWithPrefix},responseHeaderToKeyValue:function(){return m.responseHeaderToKeyValue},startsWithUpperCase:function(){return m.startsWithUpperCase}});var r=n(/*! ./controllers/ChannelController */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/ChannelController.ts"),i=n(/*! ./controllers/ReportingController */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/ReportingController.ts"),o=n(/*! ./controllers/MetricMgmtController */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/MetricMgmtController.ts"),s=n(/*! ./controllers/WallClockSyncController */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/controllers/WallClockSyncController.ts"),a=n(/*! ./channels/Channel */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/channels/Channel.ts"),l=n(/*! ./channels/XHRChannel */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/channels/XHRChannel.ts"),c=n(/*! ./models/ClientModel */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/ClientModel.ts"),u=n(/*! ./models/Metric */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/Metric.ts"),d=n(/*! ./models/SANDMessage */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/SANDMessage.ts"),p=n(/*! ./models/metrics/EntityBase */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/metrics/EntityBase.ts"),h=n(/*! ./utils/SANDMetricsExtractor */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts"),f=n(/*! ./utils/SANDMessageSerializer */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/SANDMessageSerializer.ts"),m=n(/*! ./utils/utils */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/utils.ts"),y=function(){function e(){this.globalTimer={setInterval:window.setInterval.bind(window),setTimeout:window.setTimeout.bind(window),clearInterval:window.clearInterval.bind(window),clearTimeout:window.clearTimeout.bind(window)},this.wallClockSyncController=new s.WallClockSyncController,this.metricMgmtController=new o.MetricMgmtController,this.channelController=new r.ChannelController(this.metricMgmtController),this.reportingController=new i.ReportingController(this.channelController),this.clientModel=new c.ClientModel(this.reportingController,this.wallClockSyncController),this.messageBus=new m.EventEmitter}return e.prototype.setGlobalTimer=function(t){e.globalTimer=t},e.prototype.now=function(){return this.getSyncedT()},e.prototype.getOptionalParams=function(){return this.metricMgmtController.getOptionalParams()},e.prototype.setOptionalParams=function(e){return this.metricMgmtController.allowOptionalParams(e)},e.prototype.getMetricTypeMap=function(){return this.metricMgmtController.getMetricTypeMap()},e.prototype.registerMetricType=function(e,t,n){return this.metricMgmtController.registerMetricType(e,t,n)},e.prototype.registerChannelType=function(e,t){return this.channelController.registerChannelType(e,t)},e.prototype.updateSANDChannelConfiguration=function(e,t,n){if(e&&Array.isArray(e)){var r=e.filter((function(e){return e.hasOwnProperty("endpoints")&&Array.isArray(e.endpoints)&&e.endpoints.length>0}));n&&n.context&&n.context.group&&this.clientModel.setContextGroup(n.context.group),n&&n.context&&n.context.id&&this.clientModel.setContextId(n.context.id),n&&n.context&&n.context.key&&this.clientModel.setContextKey(n.context.key);for(var i=0;i<r.length;i++)r[i].hasOwnProperty("metrics")||(r[i].metrics=this.metricMgmtController.getMetricTypes());this.channelController.updateChannels(this.messageBus,this.clientModel,r,t,n)}},e.prototype.removeAllChannels=function(){return this.channelController.removeAllChannels()},e.prototype.setMessageInterval=function(e,t,n){this.channelController.setMessageIntervalForChannel(e,t,n)},e.prototype.setSenderId=function(e){void 0===e&&(e=""),this.clientModel.setSenderId(e),this.prepareReporting()},e.prototype.getSenderId=function(){try{return this.clientModel.getSenderId()}catch(e){throw e}},e.prototype.getClientId=function(){try{return this.clientModel.getClientId()}catch(e){throw e}},e.prototype.getStreamingSessionId=function(){try{return this.clientModel.getStreamingSessionId()}catch(e){throw e}},e.prototype.getInitTS=function(){try{return this.clientModel.getInitTS()}catch(e){throw e}},e.prototype.getSyncedT=function(e){return void 0===e&&(e=null),this.clientModel.now(e)},e.prototype.setOptionalParamsObjectEntry=function(e,t){this.clientModel.setOptionalParamsObjectEntry(e,t)},e.prototype.getOptionalParamsObject=function(){return this.clientModel.getOptionalParamsObject()},e.prototype.setOptionalMetricParamsObjectEntry=function(e,t){this.clientModel.setOptionalMetricParamsObjectEntry(e,t)},e.prototype.getOptionalMetricParamsObject=function(){return this.clientModel.getOptionalMetricParamsObject()},e.prototype.setPlayer=function(e){this.clientModel.setPlayer(e)},e.prototype.setReferrer=function(e){this.clientModel.setReferrer(e)},e.prototype.getReferrer=function(){return this.clientModel.getReferrer()},e.prototype.setManifestType=function(e){this.clientModel.setManifestType(e)},e.prototype.setSANDAdapterVersion=function(e){this.clientModel.setSANDAdapterVersion(e)},e.prototype.addNewMetric=function(e,t){if("PlayList"===e&&(e="Playback"),!(this.getInitTS()<=0))return this.reportingController.addNewMetric(e,t);this.clientModel.cacheNewMetric(e,t)},e.prototype.send=function(e){return this.reportingController.send(e)},e.prototype.getChannelController=function(){return this.channelController},e.prototype.prepareReporting=function(){this.clientModel.setInitTS(),this.clientModel.flushInitialMetricsCache()},e.prototype.stopReporting=function(){var e=this;this.clientModel.setInitTSViaWallClock(0),this.reportingController.send((function(){return setTimeout((function(){return e.removeAllChannels()}),1e3)}))},e}();y.globalTimer=window,y.setGlobalTimer=function(e){y.globalTimer=e}},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/ClientModel.ts":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/ClientModel.ts ***!
  \****************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ClientModel:function(){return s}});var r=n(/*! ../externals/js.cookie */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/externals/js.cookie.js"),i=n.n(r),o="clientID",s=function(){function e(e,t){this._reportingController=e,this._wallClockSyncController=t,this._SANDAdapterVersion=void 0,this._SANDLibraryVersion="1.8.4",this._clientId=void 0,this._streamingSessionId=void 0,this._contextKey=void 0,this._contextToken=void 0,this._contextId=void 0,this._contextGroup=void 0,this._player=void 0,this._referrer=void 0,this._manifestType=void 0,this._initTS=-1,this._optionalParamsObject={},this._optionalMetricParamsObject={},this._initialMetricsCache=[]}return e.genUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.prototype.getSANDLibraryVersion=function(){return this._SANDLibraryVersion},e.prototype.setSANDAdapterVersion=function(e){this._SANDAdapterVersion=e},e.prototype.getSANDAdapterVersion=function(){return this._SANDAdapterVersion},e.prototype.setSenderId=function(e){var t=(e||"").split("--");this.setClientId(t[0]),this.setStreamingSessionId(t[1])},e.prototype.getSenderId=function(){return[this._clientId,this._streamingSessionId].join("--")},e.prototype.setClientId=function(t){this._clientId=t||i().get(o)||e.genUUID(),i().set(o,this._clientId,{expires:365})},e.prototype.getClientId=function(){return this._clientId||i().get(o)},e.prototype.setStreamingSessionId=function(t){this._streamingSessionId=t||e.genUUID()},e.prototype.getStreamingSessionId=function(){return this._streamingSessionId},e.prototype.setContextKey=function(e){this._contextKey=e},e.prototype.getContextKey=function(){return this._contextKey},e.prototype.setContextToken=function(e){this._contextToken=e},e.prototype.getContextToken=function(){return this._contextToken},e.prototype.setContextId=function(e){this._contextId=e},e.prototype.getContextId=function(){return this._contextId},e.prototype.setContextGroup=function(e){this._contextGroup=e},e.prototype.getContextGroup=function(){return this._contextGroup},e.prototype.setPlayer=function(e){this._player=e},e.prototype.getPlayer=function(){return this._player},e.prototype.setReferrer=function(e){this._referrer=e},e.prototype.getReferrer=function(){return this._referrer},e.prototype.setManifestType=function(e){this._manifestType=e},e.prototype.getManifestType=function(){return this._manifestType},e.prototype.setInitTS=function(){this._initTS=this._wallClockSyncController.getInitTS()},e.prototype.getInitTS=function(){return this._wallClockSyncController.getInitTS()},e.prototype.setOptionalParamsObjectEntry=function(e,t){this._optionalParamsObject[e]=t},e.prototype.getOptionalParamsObject=function(){return this._optionalParamsObject},e.prototype.setOptionalMetricParamsObjectEntry=function(e,t){this._optionalMetricParamsObject[e]=t},e.prototype.getOptionalMetricParamsObject=function(){return this._optionalMetricParamsObject},e.prototype.cacheNewMetric=function(e,t){this._initialMetricsCache.push({metricType:e,value:t})},e.prototype.flushInitialMetricsCache=function(){if(this._initialMetricsCache.length){for(var e=0;e<this._initialMetricsCache.length;e++){var t=this._initialMetricsCache[e];this._reportingController.addNewMetric(t.metricType,t.value)}this._initialMetricsCache=[]}},e.prototype.setInitTSViaWallClock=function(e){this._wallClockSyncController.setInitTS(e)},e.prototype.syncClock=function(e){this._wallClockSyncController.alignWithExternalTime(e)},e.prototype.setDefaultThreshold=function(e){this._wallClockSyncController.setDefaultThreshold(e)},e.prototype.now=function(e){return this._wallClockSyncController.now(e)},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/Metric.ts":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/Metric.ts ***!
  \***********************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Metric:function(){return i}});var r=n(/*! ../utils/utils */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/utils.ts"),i=function e(t,n,i,o,s,a){if((0,r.assign)(a?this:this.data={},o),this.clientID=t,this.streamingSessionID=n,this.metricType=i,s)for(var l=0;l<e._optionalMetricParams.length;l++){var c=e._optionalMetricParams[l];s.hasOwnProperty(c)&&s[c]&&(this[c]=s[c])}};i._optionalMetricParams=["customerID","browser","browserversion","ip","os","platform","userAgent","deviceType"],i.allowOptionalMetricParams=function(e){i._optionalMetricParams=i._optionalMetricParams.concat(e)}},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/SANDMessage.ts":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/SANDMessage.ts ***!
  \****************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{SANDMessage:function(){return r}});var r=function(e,t){this.senderID=e,this.generationTime=new Date(t).toISOString()}},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/metrics/EntityBase.ts":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/metrics/EntityBase.ts ***!
  \***********************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{EntityBase:function(){return r}});var r=function(e,t,n,r){if(void 0===r&&(r=null),this.t=t+e.t,this.ts=t,n)for(var i=r,o=0;o<i.length;o++){var s=i[o];n.hasOwnProperty(s)&&n[s]&&(this[s]=n[s])}}},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/SANDMessageSerializer.ts":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/SANDMessageSerializer.ts ***!
  \*************************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{SANDMessageSerializer:function(){return i}});var r=n(/*! ../models/SANDMessage */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/SANDMessage.ts"),i=function(){function e(){}return e.serialize=function(e,t,n,i){var o=i,s=new r.SANDMessage(t,n);return Object.keys(e).forEach((function(t){var n;try{var r=e[t],i=o[t];i&&r&&r.length>0&&(s[i.metricContainerName]=((n={})[t]="Misc"===t||"StartupTime"===t?r[0]:r,n))}catch(e){console.log(e)}})),s},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/SANDMetricsExtractor.ts ***!
  \************************************************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{SANDMetricsExtractor:function(){return i}});var r=n(/*! ../models/Metric */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/models/Metric.ts"),i=function(){function e(){}return e.extract=function(e,t,n,i,o){return Object.keys(e).reduce((function(s,a){return s.concat(e[a].reduce((function(e,s){try{e.push(new r.Metric(t,n,a,s,i,o))}catch(e){console.log(e)}return e}),[]))}),[])},e}()},"./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/utils.ts":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-channel-google-pubsub-xhr/node_modules/sandlib-core/lib/utils/utils.ts ***!
  \*********************************************************************************************************/function(e,t,n){"use strict";function r(e){var t=e.split("\n");t=t.splice(0,t.length-1);for(var n=[],r=0;r<t.length;r++){var i=t[r].split(": ");n.push({key:i[0],value:i[1]})}return n}function i(e){try{return e.charAt(0)===e.charAt(0).toUpperCase()}catch(e){return!1}}function o(e,t){var n=t.hasOwnProperty("exceptionList")&&t.exceptionList.length>0?t.exceptionList:[];try{var r={};return Object.keys(e).map((function(s){return i(s)&&n.indexOf(s)<0&&Array.isArray(e[s])?void(r[s]=e[s].map((function(e){return o(e,t)}))):"[object Object]"===Object.prototype.toString.call(e[s])?void(r[s]=e[s]):void(r[t.prefix+s]=e[s])})),r}catch(e){return{}}}function s(e,t){if("object"==typeof t)for(var n=Object.keys(t),r=0;r<n.length;r++)t.propertyIsEnumerable(n[r])&&t.hasOwnProperty(n[r])&&(e[n[r]]=t[n[r]]);return e}n.r(t),n.d(t,{EventEmitter:function(){return a},assign:function(){return s},renameKeysWithPrefix:function(){return o},responseHeaderToKeyValue:function(){return r},startsWithUpperCase:function(){return i}});var a=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.emit=function(e,t){if(this.listeners[e]&&this.listeners[e].length)for(var n=0;n<this.listeners[e].length;n++)(0,this.listeners[e][n])(t)},e}()},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/index.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/index.ts ***!
  \*******************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Beacon:function(){return r.Beacon},BrowserWindow:function(){return i.BrowserWindow},BufferLevel:function(){return o.BufferLevel},DRM:function(){return s.DRM},ErrorMetric:function(){return a.ErrorMetric},HttpTransaction:function(){return l.HttpTransaction},ISOTimeEntityBase:function(){return c.ISOTimeEntityBase},LiveEdgeDelay:function(){return u.LiveEdgeDelay},Memory:function(){return d.Memory},Misc:function(){return p.Misc},Network:function(){return h.Network},Playback:function(){return f.Playback},RepSwitch:function(){return m.RepSwitch},Screen:function(){return y.Screen},StartupTime:function(){return b.StartupTime},Video:function(){return g.Video}});var r=n(/*! ./models/metrics/Beacon */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Beacon.ts"),i=n(/*! ./models/metrics/BrowserWindow */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/BrowserWindow.ts"),o=n(/*! ./models/metrics/BufferLevel */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/BufferLevel.ts"),s=n(/*! ./models/metrics/DRM */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/DRM.ts"),a=n(/*! ./models/metrics/ErrorMetric */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ErrorMetric.ts"),l=n(/*! ./models/metrics/HttpTransaction */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/HttpTransaction.ts"),c=n(/*! ./models/metrics/ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),u=n(/*! ./models/metrics/LiveEdgeDelay */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/LiveEdgeDelay.ts"),d=n(/*! ./models/metrics/Memory */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Memory.ts"),p=n(/*! ./models/metrics/Misc */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Misc.ts"),h=n(/*! ./models/metrics/Network */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Network.ts"),f=n(/*! ./models/metrics/Playback */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Playback.ts"),m=n(/*! ./models/metrics/RepSwitch */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/RepSwitch.ts"),y=n(/*! ./models/metrics/Screen */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Screen.ts"),b=n(/*! ./models/metrics/StartupTime */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/StartupTime.ts"),g=n(/*! ./models/metrics/Video */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Video.ts")},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Beacon.ts":
/*!***********************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Beacon.ts ***!
  \***********************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Beacon:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(n,r,i,o){var s=e.call(this,n,r,i,t._optionalParams.concat(null!=o?o:[]).filter((function(e){return!/^hbb_/.test(e)})))||this;return s.playerType=n.playerType,s.fragmentLoadIndicator=n.fragmentLoadIndicator||0,s.currentLevel=n.currentLevel||0,s.manifestCount=n.manifestCount||0,s.segmentCount=n.segmentCount||0,s.fatals=n.fatals||0,s.warnings=n.warnings||0,s.it="AUTO",s}return o(t,e),t}(i.ISOTimeEntityBase);s._optionalParams=["cdn","mcdnType"]},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/BrowserWindow.ts":
/*!******************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/BrowserWindow.ts ***!
  \******************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserWindow:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.innerheight=t.innerheight,o.innerwidth=t.innerwidth,o.clientheight=t.clientheight,o.clientwidth=t.clientwidth,o.background=!(!t.hasOwnProperty("background")||!("boolean"==typeof t.background&&t.background||"number"==typeof t.background&&t.background>0)),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/BufferLevel.ts":
/*!****************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/BufferLevel.ts ***!
  \****************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{BufferLevel:function(){return a}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=["audio","video","synced","muxed","textTrack"],a=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.level=t.level,o.bufferType=-1!==s.indexOf(t.bufferType)?t.bufferType:"video",o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/DRM.ts":
/*!********************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/DRM.ts ***!
  \********************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{DRM:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return t.hasOwnProperty("keyID")&&(o.keyID=t.keyID),t.hasOwnProperty("needKey")&&(o.needKey=t.needKey),t.hasOwnProperty("keySystemSelected")&&(o.keySystemSelected=t.keySystemSelected),t.hasOwnProperty("keySystem")&&(o.keySystem=t.keySystem),t.hasOwnProperty("licenseURL")&&(o.licenseURL=t.licenseURL),t.hasOwnProperty("licenseHeaders")&&(o.licenseHeaders=t.licenseHeaders),t.hasOwnProperty("licenseMessage")&&(o.licenseMessage=t.licenseMessage),t.hasOwnProperty("licenseRequestComplete")&&(o.licenseRequestComplete=t.licenseRequestComplete),t.hasOwnProperty("keyAdded")&&(o.keyAdded=t.keyAdded),t.hasOwnProperty("keyError")&&(o.keyError=t.keyError),t.hasOwnProperty("message")&&(o.message=t.message),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ErrorMetric.ts":
/*!****************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ErrorMetric.ts ***!
  \****************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ErrorMetric:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.message=t.message,o.type="object"==typeof t.type?JSON.stringify(t.type):t.type,o.url=t.url,o.code=t.code,o.fatal=!(!t.hasOwnProperty("fatal")||!("boolean"==typeof t.fatal&&t.fatal||"number"==typeof t.fatal&&t.fatal>0)),t.name&&(o.name=t.name),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/HttpTransaction.ts":
/*!********************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/HttpTransaction.ts ***!
  \********************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{HttpTransaction:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.tcpid=-1,o.type="",o.range="-1",o.trequest=new Date(t.trequest||o.t).getTime(),o.tresponse=new Date(t.tresponse||o.t).getTime(),o.responsecode=t.responsecode,o.interval=t.hasOwnProperty("interval")?t.interval:-1,"InitializationSegment"===t.type&&(o.type="Initialization Segment"),"MediaSegment"===t.type&&(o.type="Media Segment"),"Manifest"===t.type&&(o.type="Manifest"),t.hasOwnProperty("url")&&(o.url=t.url),t.hasOwnProperty("actualurl")&&(o.actualurl=t.actualurl),t.hasOwnProperty("requestID")&&(o.requestID=t.requestID),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts":
/*!**********************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts ***!
  \**********************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{ISOTimeEntityBase:function(){return s}});var r,i=n(/*! sandlib-core */"./node_modules/sandlib-core/lib/index.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.dt=new Date(o.t).toISOString(),o.dts=new Date(o.ts).toISOString(),o}return o(t,e),t}(i.EntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/LiveEdgeDelay.ts":
/*!******************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/LiveEdgeDelay.ts ***!
  \******************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{LiveEdgeDelay:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.delay=t.delay,o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Memory.ts":
/*!***********************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Memory.ts ***!
  \***********************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Memory:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.used=t.used,o.total=t.total,o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Misc.ts":
/*!*********************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Misc.ts ***!
  \*********************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Misc:function(){return a}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=n(/*! ../../utils/userAgentHelpers */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/utils/userAgentHelpers.ts"),s=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(n,r,i,s){var a,l,c,u,d=this;if((d=e.call(this,n,r,i,t._optionalParams.concat(null!=s?s:[]))||this).version=n.version,d.oscpu=n.oscpu,d.timezone=n.timezone,d.locale=n.locale,d.referrer=n.referrer,d.type=n.type,d.manifest=n.manifest,d.mpdurl=n.mpdurl,d.player=n.player,d.userAgent=navigator&&navigator.userAgent?navigator.userAgent:"",d.isLive=!!(i&&i.hasOwnProperty("isLive")&&("boolean"==typeof i.isLive&&i.isLive||"number"==typeof i.isLive&&i.isLive>0)),n.streamtype&&(d.streamtype=n.streamtype),d.userAgent&&d.userAgent.length>1){var p=o.parseUAString(d.userAgent);p&&(d.deviceType=o.isSTB(p.getUA())?"stb":o.isTV(p.getUA())?"tv":p.getDevice()&&p.getDevice().type&&null!==(l=null===(a=p.getDevice().type)||void 0===a?void 0:a.toLowerCase())&&void 0!==l?l:"computer",d.platform=o.getPlatform(p),d.os=o.getOS(p.getOS()),d.browser=null!==(c=p.getBrowser().name)&&void 0!==c?c:"unknown",d.browserVersion=null!==(u=p.getBrowser().version)&&void 0!==u?u:"unknown")}return d}return s(t,e),t}(i.ISOTimeEntityBase);a._optionalParams=["bandwidthEstimate","currentLevel","mcdnType","mediaID","userAgent","CodecCapabilities","HbbCapabilities","HbbPodduration","PlayerConfiguration"]},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Network.ts":
/*!************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Network.ts ***!
  \************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Network:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o,s=this;return(s=e.call(this,t,n,r,i)||this).downlink=t.downlink,s.effectivetype=t.effectivetype,s.rtt=null!==(o=t.rtt)&&void 0!==o?o:-1,s.connectiontype=t.connectiontype,s}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Playback.ts":
/*!*************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Playback.ts ***!
  \*************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Playback:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.start=new Date(t.start||o.t).getTime(),t.hasOwnProperty("mstart")&&(o.mstart=new Date(t.mstart||o.t).getTime()),t.hasOwnProperty("starttype")&&(o.starttype=t.starttype),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/RepSwitch.ts":
/*!**************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/RepSwitch.ts ***!
  \**************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{RepSwitch:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.mt=t.mt,o.to=t.to,t.hasOwnProperty("width")&&(o.width=t.width),t.hasOwnProperty("height")&&(o.height=t.height),t.hasOwnProperty("tobandwidth")&&(o.tobandwidth=t.tobandwidth),t.hasOwnProperty("mediatype")&&(o.mediatype=t.mediatype),t.hasOwnProperty("lto")&&(o.lto=t.lto),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Screen.ts":
/*!***********************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Screen.ts ***!
  \***********************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Screen:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.height=t.height,o.width=t.width,o.pixelratio=t.pixelratio,o.orientation=t.orientation,o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/StartupTime.ts":
/*!****************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/StartupTime.ts ***!
  \****************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{StartupTime:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.manifestLoadingInitialized=t.manifestLoadingInitialized,o.manifestLoaded=t.manifestLoaded,o.canPlay=t.canPlay,t.startupTime&&(o.startupTime=t.startupTime),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Video.ts":
/*!**********************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/Video.ts ***!
  \**********************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{Video:function(){return s}});var r,i=n(/*! ./ISOTimeEntityBase */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/models/metrics/ISOTimeEntityBase.ts"),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.elementheigt=t.elementheigt,o.elementwidth=t.elementwidth,o.videoheight=t.videoheight,o.videowidth=t.videowidth,o.droppedframes=t.droppedframes,o.fullscreen=!(!t.hasOwnProperty("fullscreen")||!("boolean"==typeof t.fullscreen&&t.fullscreen||"number"==typeof t.fullscreen&&t.fullscreen>0)),t.hasOwnProperty("seekTime")&&(o.seekTime=t.seekTime),t.hasOwnProperty("duration")&&(o.duration=t.duration),t.hasOwnProperty("eventType")&&(o.eventType=t.eventType),o}return o(t,e),t}(i.ISOTimeEntityBase)},"./node_modules/sandlib-ext-metric-ard-uaparser/lib/utils/userAgentHelpers.ts":
/*!************************************************************************************!*\
  !*** ./node_modules/sandlib-ext-metric-ard-uaparser/lib/utils/userAgentHelpers.ts ***!
  \************************************************************************************/function(e,t,n){"use strict";n.r(t),n.d(t,{checkUAString:function(){return f},getOS:function(){return b},getPlatform:function(){return g},isSTB:function(){return m},isTV:function(){return y},parseUAString:function(){return h}});var r=n(/*! ua-parser-js */"./node_modules/ua-parser-js/src/ua-parser.js"),i=["DT_STB","MR201","MR401","MR601","MRG5"],o=["faraday","OTT-G1"],s=["AFTB","AFTS","AFTN","AFTM","AFTT","AFTSSS","AFTSS","AFTMM","AFTA","AFTR","AFTRS","AFTJMST12","AFTEU011","AFTSO001","AFTEU014","AFTEUFF014","AFTLE","AFTKMST12","AFTEAMR311","AFTBAMR311","AFTDCT31","AFTDCT31","AFTWI001","AFTTIFF55"],a=["google_atv","POV_TV-HDMI","BRAVIA","Philips"],l=["Apple TV","AppleTV","tvOS"],c=["CrKey"],u=["HbbTV"],d=["WebOS"],p=["Tizen"];function h(e){try{return new r.UAParser(e)}catch(e){return null}}function f(e,t){try{var n=e.toLowerCase();return(t||[]).reduce((function(e,t){return e||n.indexOf(t)>-1}),!1)}catch(e){return!1}}function m(e){try{return f(e,i)}catch(e){return!1}}function y(e){try{return f(e,o.concat(s,a,l,u,d,p,c))}catch(e){return!1}}function b(e){try{var t=[];return e&&e.name&&(t.push(e.name),e.version&&t.push(e.version)),t.length>0?t.join(" "):"unknown"}catch(e){return"unknown"}}function g(e){var t,n;try{var r="unknown",h=e&&e.getUA().toLowerCase();return e&&(f(h,s)?r="FireTV":f(h,i)?r="Telekom STB":f(h,o)?r="Telekom ATV":f(h,a)?r="Android TV":f(h,u)?r="HbbTV":e.getDevice()&&e.getDevice().type&&("mobile"===(null===(t=e.getDevice().type)||void 0===t?void 0:t.toLowerCase())||"tablet"===(null===(n=e.getDevice().type)||void 0===n?void 0:n.toLowerCase()))&&h.indexOf("dalvik")>-1||h.indexOf("dalvik")>-1&&h.indexOf("linux")>-1&&h.indexOf("android")>-1?r="Android Mobile":e.getBrowser()&&e.getBrowser().name?r="Web Browser":f(h,l)?r="Apple TV":h.indexOf("iphone")>-1||h.indexOf("ipad")>-1?r="Apple iOS":f(h,c)?r="Chromecast":f(h,d)?r="WebOS":f(h,p)?r="Tizen":e.getOS()&&e.getOS().name&&(r="Desktop")),r}catch(e){return"Unknown"}}},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
  \****************************************************/function(module,e,t){var n;!function(r,i){"use strict";var o="function",s="undefined",a="object",l="string",c="major",u="model",d="name",p="type",h="vendor",f="version",m="architecture",y="console",b="mobile",g="tablet",_="smarttv",v="wearable",w="embedded",S="Amazon",x="Apple",T="ASUS",C="BlackBerry",M="Browser",O="Chrome",I="Firefox",E="Google",A="Huawei",D="LG",k="Microsoft",P="Motorola",R="Opera",N="Samsung",j="Sharp",L="Sony",H="Xiaomi",B="Zebra",U="Facebook",q="Chromium OS",V="Mac OS",W=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},X=function(e,t){return typeof e===l&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},F=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},G=function(e,t){for(var n,r,s,l,c,u,d=0;d<t.length&&!c;){var p=t[d],h=t[d+1];for(n=r=0;n<p.length&&!c&&p[n];)if(c=p[n++].exec(e))for(s=0;s<h.length;s++)u=c[++r],typeof(l=h[s])===a&&l.length>0?2===l.length?typeof l[1]==o?this[l[0]]=l[1].call(this,u):this[l[0]]=l[1]:3===l.length?typeof l[1]!==o||l[1].exec&&l[1].test?this[l[0]]=u?u.replace(l[1],l[2]):i:this[l[0]]=u?l[1].call(this,u,l[2]):i:4===l.length&&(this[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):i):this[l]=u||i;d+=2}},K=function(e,t){for(var n in t)if(typeof t[n]===a&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(X(t[n][r],e))return"?"===n?i:n}else if(X(t[n],e))return"?"===n?i:n;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,R+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[d,R+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[d,R]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/\bddg\/([\w\.]+)/i],[f,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UC"+M]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[d,"Smart Lenovo "+M]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+M],f],[/\bfocus\/([\w\.]+)/i],[f,[d,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI "+M]],[/fxios\/([-\w\.]+)/i],[f,[d,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+M]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+M],f],[/samsungbrowser\/([\w\.]+)/i],[f,[d,N+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/metasr[\/ ]?([\d\.]+)/i],[f,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,O+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,f],[/(cobalt)\/([\w\.]+)/i],[d,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,z]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[h,N],[p,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[h,N],[p,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[h,x],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[h,x],[p,g]],[/(macintosh);/i],[u,[h,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[h,j],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[h,A],[p,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[h,A],[p,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[h,H],[p,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[h,H],[p,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[h,"OPPO"],[p,b]],[/\b(opd2\d{3}a?) bui/i],[u,[h,"OPPO"],[p,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[h,"Vivo"],[p,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[h,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[h,P],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[h,P],[p,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[h,D],[p,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[h,D],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[h,"Lenovo"],[p,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[h,"Nokia"],[p,b]],[/(pixel c)\b/i],[u,[h,E],[p,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[h,E],[p,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[h,L],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[h,L],[p,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[h,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[h,S],[p,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[h,S],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[u,h,[p,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[h,C],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[h,T],[p,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[h,T],[p,b]],[/(nexus 9)/i],[u,[h,"HTC"],[p,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[u,/_/g," "],[p,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[h,"Acer"],[p,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[h,"Meizu"],[p,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[h,"Ulefone"],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,u,[p,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,u,[p,g]],[/(surface duo)/i],[u,[h,k],[p,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[h,"Fairphone"],[p,b]],[/(u304aa)/i],[u,[h,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[u,[h,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[u,[h,"RCA"],[p,g]],[/\b(venue[\d ]{2,7}) b/i],[u,[h,"Dell"],[p,g]],[/\b(q(?:mv|ta)\w+) b/i],[u,[h,"Verizon"],[p,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[h,"Barnes & Noble"],[p,g]],[/\b(tm\d{3}\w+) b/i],[u,[h,"NuVision"],[p,g]],[/\b(k88) b/i],[u,[h,"ZTE"],[p,g]],[/\b(nx\d{3}j) b/i],[u,[h,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[u,[h,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[u,[h,"Swiss"],[p,g]],[/\b((zeki)?tb.*\b) b/i],[u,[h,"Zeki"],[p,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],u,[p,g]],[/\b(ns-?\w{0,9}) b/i],[u,[h,"Insignia"],[p,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[h,"NextBook"],[p,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],u,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],u,[p,b]],[/\b(ph-1) /i],[u,[h,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[h,"Envizen"],[p,g]],[/\b(trio[-\w\. ]+) b/i],[u,[h,"MachSpeed"],[p,g]],[/\btu_(1491) b/i],[u,[h,"Rotor"],[p,g]],[/(shield[\w ]+) b/i],[u,[h,"Nvidia"],[p,g]],[/(sprint) (\w+)/i],[h,u,[p,b]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[h,k],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[h,B],[p,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[h,B],[p,b]],[/smart-tv.+(samsung)/i],[h,[p,_]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[h,N],[p,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,D],[p,_]],[/(apple) ?tv/i],[h,[u,x+" TV"],[p,_]],[/crkey/i],[[u,O+"cast"],[h,E],[p,_]],[/droid.+aft(\w+)( bui|\))/i],[u,[h,S],[p,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[h,j],[p,_]],[/(bravia[\w ]+)( bui|\))/i],[u,[h,L],[p,_]],[/(mitv-\w{5}) bui/i],[u,[h,H],[p,_]],[/Hbbtv.*(technisat) (.*);/i],[h,u,[p,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,F],[u,F],[p,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,u,[p,y]],[/droid.+; (shield) bui/i],[u,[h,"Nvidia"],[p,y]],[/(playstation [345portablevi]+)/i],[u,[h,L],[p,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[h,k],[p,y]],[/((pebble))app/i],[h,u,[p,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[h,x],[p,v]],[/droid.+; (glass) \d/i],[u,[h,E],[p,v]],[/droid.+; (wt63?0{2,3})\)/i],[u,[h,B],[p,v]],[/(quest( \d| pro)?)/i],[u,[h,U],[p,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,w]],[/(aeobc)\b/i],[u,[h,S],[p,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[p,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[f,K,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,K,J],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,V],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[d,O+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,q],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,f]]},Z=function(e,t){if(typeof e===a&&(t=e,e=i),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof r!==s&&r.navigator?r.navigator:i,y=e||(n&&n.userAgent?n.userAgent:""),_=n&&n.userAgentData?n.userAgentData:i,v=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Y,t):Y,w=n&&n.userAgent==y;return this.getBrowser=function(){var e,t={};return t[d]=i,t[f]=i,G.call(t,y,v.browser),t[c]=typeof(e=t[f])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[m]=i,G.call(e,y,v.cpu),e},this.getDevice=function(){var e={};return e[h]=i,e[u]=i,e[p]=i,G.call(e,y,v.device),w&&!e[p]&&_&&_.mobile&&(e[p]=b),w&&"Macintosh"==e[u]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[u]="iPad",e[p]=g),e},this.getEngine=function(){var e={};return e[d]=i,e[f]=i,G.call(e,y,v.engine),e},this.getOS=function(){var e={};return e[d]=i,e[f]=i,G.call(e,y,v.os),w&&!e[d]&&_&&_.platform&&"Unknown"!=_.platform&&(e[d]=_.platform.replace(/chrome os/i,q).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(e){return y=typeof e===l&&e.length>500?F(e,500):e,this},this.setUA(y),this};Z.VERSION="1.0.38",Z.BROWSER=W([d,f,c]),Z.CPU=W([m]),Z.DEVICE=W([u,h,p,y,b,_,g,v,w]),Z.ENGINE=Z.OS=W([d,f]),typeof e!==s?(module.exports&&(e=module.exports=Z),e.UAParser=Z):t.amdO?(n=function(){return Z}.call(e,t,e,module))===i||(module.exports=n):typeof r!==s&&(r.UAParser=Z);var $=typeof r!==s&&(r.jQuery||r.Zepto);if($&&!$.ua){var Q=new Z;$.ua=Q.getResult(),$.ua.get=function(){return Q.getUA()},$.ua.set=function(e){Q.setUA(e);var t=Q.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var module=t[r]={exports:{}};return e[r].call(module.exports,module,module.exports,n),module.exports}n.amdO={},n.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return n.d(e,{a:e}),e},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";
/*!*****************************!*\
  !*** ./lib/SAND-Library.ts ***!
  \*****************************/n.r(r),n.d(r,{SANDLibrary:function(){return a}});var e,t=n(/*! sandlib-core */"./node_modules/sandlib-core/lib/index.ts"),i=n(/*! sandlib-ext-channel-google-pubsub-xhr */"./node_modules/sandlib-ext-channel-google-pubsub-xhr/lib/index.ts"),o=n(/*! sandlib-ext-metric-ard-uaparser */"./node_modules/sandlib-ext-metric-ard-uaparser/lib/index.ts"),s=(e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),a=function(e){function t(){var t=e.call(this)||this;return t.registerChannels(),t.registerMetrics(),t.registerOptionalParams(),t}return s(t,e),t.prototype.registerChannels=function(){this.registerChannelType(i.GooglePubSubXHRChannel.SchemeIdUri,i.GooglePubSubXHRChannel)},t.prototype.registerMetrics=function(){this.registerMetricType("Beacon","Beacon",o.Beacon),this.registerMetricType("BrowserWindow","BrowserWindowList",o.BrowserWindow),this.registerMetricType("BufferLevel","BufferLevelList",o.BufferLevel),this.registerMetricType("DRM","DRMList",o.DRM),this.registerMetricType("ErrorMetric","ErrorList",o.ErrorMetric),this.registerMetricType("HttpTransaction","HttpList",o.HttpTransaction),this.registerMetricType("LiveEdgeDelay","LiveEdgeDelayList",o.LiveEdgeDelay),this.registerMetricType("Memory","MemoryList",o.Memory),this.registerMetricType("Misc","Misc",o.Misc),this.registerMetricType("Network","NetworkList",o.Network),this.registerMetricType("Playback","PlayList",o.Playback),this.registerMetricType("RepSwitch","RepSwitchList",o.RepSwitch),this.registerMetricType("Screen","ScreenList",o.Screen),this.registerMetricType("StartupTime","StartupTime",o.StartupTime),this.registerMetricType("Video","VideoList",o.Video)},t.prototype.registerOptionalParams=function(){this.setOptionalParams(["customerID","streamID"])},t.BUILDNAME="sand_library",t.VERSION="1.8.4",t}(t.SANDLibraryCore)}(),r}()},module.exports=e()}}]);